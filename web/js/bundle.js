(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.News = undefined;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _firebase = require('firebase');

var _firebase2 = _interopRequireDefault(_firebase);

var _NewsItem = require('./NewsItem.jsx');

var _config = require('./config');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Created by youssef on 10/12/16.
 */
var News = exports.News = _react2.default.createClass({
    displayName: 'News',

    getInitialState: function getInitialState() {
        return {
            isLoading: true,
            items: []
        };
    },
    componentDidMount: function componentDidMount() {
        var _this = this;

        _firebase2.default.initializeApp(_config.config.firebase);

        _firebase2.default.database().ref('itemss').on('value', function (data) {
            var oItems = data.val();
            var items = [];
            for (var key in oItems) {
                var item = oItems[key];
                item.key = key;
                items.push(item);
            }

            _this.setState({ items: items, isLoading: false });
        });
    },
    handleNewItemKeyPress: function handleNewItemKeyPress(e) {
        if (e.key === 'Enter') {
            this.handleNewItemClick();
        }
    },
    handleNewItemClick: function handleNewItemClick() {
        _firebase2.default.database().ref('itemss').push({
            title: document.getElementById('newItem').value,
            votes: 0
        });
        document.getElementById('newItem').value = "";
    },
    voteUp: function voteUp(item) {
        item.votes++;
        _firebase2.default.database().ref('itemss/' + item.key).set({ title: item.title, votes: item.votes });
    },
    voteDown: function voteDown(item) {
        item.votes--;
        _firebase2.default.database().ref('itemss/' + item.key).set({ title: item.title, votes: item.votes });
    },
    render: function render() {
        var _this2 = this;

        //sort items by votes
        var items = this.state.items;
        items = items.sort(function (a, b) {
            return a.votes < b.votes ? 1 : a.votes > b.votes ? -1 : 0;
        });

        var cItems = items.map(function (item, index) {
            return _react2.default.createElement(_NewsItem.NewsItem, {
                title: item.title,
                votes: item.votes,
                key: index,
                onVoteUp: _this2.voteUp.bind(_this2, item),
                onVoteDown: _this2.voteDown.bind(_this2, item)
            });
        });

        return _react2.default.createElement(
            'div',
            { className: 'col-md-10 col-md-offset-1' },
            _react2.default.createElement(
                'h1',
                null,
                'News Voting'
            ),
            _react2.default.createElement(
                'h2',
                null,
                '(with React and Firebase)'
            ),
            _react2.default.createElement(
                'div',
                { className: 'row' },
                _react2.default.createElement(
                    'div',
                    { className: 'col-md-12 box' },
                    _react2.default.createElement(
                        'div',
                        { className: 'row' },
                        _react2.default.createElement(
                            'div',
                            { className: 'box-header' },
                            _react2.default.createElement(
                                'div',
                                { className: 'col-md-11' },
                                _react2.default.createElement('input', {
                                    type: 'text',
                                    className: 'form-control',
                                    id: 'newItem',
                                    placeholder: 'What do you need to do?',
                                    onKeyPress: this.handleNewItemKeyPress
                                })
                            ),
                            _react2.default.createElement(
                                'button',
                                { id: 'btn', className: 'btn btn-info col-md-1', onClick: this.handleNewItemClick },
                                _react2.default.createElement('span', { className: 'glyphicon glyphicon-plus' })
                            )
                        )
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row' },
                        _react2.default.createElement(
                            'table',
                            { className: 'table' },
                            _react2.default.createElement(
                                'tbody',
                                null,
                                this.state.isLoading ? _react2.default.createElement(
                                    'tr',
                                    null,
                                    _react2.default.createElement(
                                        'td',
                                        { colSpan: '3', className: 'text-center' },
                                        _react2.default.createElement(
                                            'svg',
                                            { width: '40px', height: '40px', xmlns: 'http://www.w3.org/2000/svg',
                                                viewBox: '0 0 100 100', preserveAspectRatio: 'xMidYMid',
                                                className: 'uil-default' },
                                            _react2.default.createElement('rect', { x: '0', y: '0', width: '100', height: '100', fill: 'none',
                                                className: 'bk' }),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(0 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0s',
                                                    repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(30 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s',
                                                    begin: '0.08333333333333333s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(60 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s',
                                                    begin: '0.16666666666666666s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(90 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.25s',
                                                    repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(120 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s',
                                                    begin: '0.3333333333333333s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(150 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s',
                                                    begin: '0.4166666666666667s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(180 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.5s',
                                                    repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(210 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s',
                                                    begin: '0.5833333333333334s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(240 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s',
                                                    begin: '0.6666666666666666s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(270 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.75s',
                                                    repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(300 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s',
                                                    begin: '0.8333333333333334s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b',
                                                    transform: 'rotate(330 50 50) translate(0 -30)' },
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s',
                                                    begin: '0.9166666666666666s', repeatCount: 'indefinite' })
                                            )
                                        )
                                    )
                                ) : _react2.default.createElement(
                                    'tr',
                                    null,
                                    _react2.default.createElement('td', { colSpan: '3' })
                                ),
                                cItems
                            )
                        )
                    )
                )
            )
        );
    }
});

},{"./NewsItem.jsx":2,"./config":4,"firebase":8,"react":"react"}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.NewsItem = undefined;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var NewsItem = exports.NewsItem = _react2.default.createClass({
    displayName: 'NewsItem',

    getInitialState: function getInitialState() {
        return { title: '', votes: 0 };
    },
    render: function render() {
        return _react2.default.createElement(
            'tr',
            { className: 'margin-5' },
            _react2.default.createElement(
                'td',
                { className: 'col-md-9' },
                this.props.title
            ),
            _react2.default.createElement(
                'td',
                { className: 'col-md-1 ' + (this.props.votes > 0 ? 'text-green' : this.props.votes == 0 ? 'text-gray' : 'text-red') },
                this.props.votes
            ),
            _react2.default.createElement(
                'td',
                { className: 'col-md-2' },
                _react2.default.createElement(
                    'div',
                    { className: 'btn-group pull-right', role: 'group', 'aria-label': '...' },
                    _react2.default.createElement(
                        'button',
                        { href: '#', className: 'btn btn-success', onClick: this.props.onVoteUp },
                        _react2.default.createElement('span', { className: 'glyphicon glyphicon-arrow-up' })
                    ),
                    _react2.default.createElement(
                        'button',
                        { href: '#', className: 'btn btn-danger', onClick: this.props.onVoteDown },
                        _react2.default.createElement('span', { className: 'glyphicon glyphicon-arrow-down' })
                    )
                )
            )
        );
    }
});

},{"react":"react"}],3:[function(require,module,exports){
'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _News = require('./News.jsx');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var newsComponent = _reactDom2.default.render(_react2.default.createElement(_News.News, null), document.getElementById('app')); /**
                                                                                                                                 * Created by youssef on 10/10/16.
                                                                                                                                 */

},{"./News.jsx":1,"react":"react","react-dom":"react-dom"}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
/**
 * Created by youssef on 10/13/16.
 */
var config = exports.config = {
    firebase: {
        apiKey: "YOUR_KEY",
        authDomain: "YOUR_DOMAIN",
        databaseURL: "YOUR_DB_URL",
        storageBucket: "BUCKET",
        messagingSenderId: "SENDER_ID"
    }
};

},{}],5:[function(require,module,exports){
(function (global){
/*! @license Firebase v3.4.1
    Build: 3.4.1-rc.2
    Terms: https://developers.google.com/terms */
var firebase = null; (function() { var aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},h="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,l=function(){l=function(){};h.Symbol||(h.Symbol=ba)},ca=0,ba=function(a){return"jscomp_symbol_"+(a||"")+ca++},n=function(){l();var a=h.Symbol.iterator;a||(a=h.Symbol.iterator=
h.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return m(this)}});n=function(){}},m=function(a){var b=0;return da(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},da=function(a){n();a={next:a};a[h.Symbol.iterator]=function(){return this};return a},q=this,r=function(){},t=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);
if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},v=function(a){return"function"==t(a)},ea=function(a,
b,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},w=function(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa;return w.apply(null,arguments)},x=function(a,b){var c=Array.prototype.slice.call(arguments,
1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},y=function(a,b){function c(){}c.prototype=b.prototype;a.ga=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.fa=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var z;z="undefined"!==typeof window?window:"undefined"!==typeof self?self:global;function __extends(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}
function __decorate(a,b,c,d){var e=arguments.length,f=3>e?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,g;g=z.Reflect;if("object"===typeof g&&"function"===typeof g.decorate)f=g.decorate(a,b,c,d);else for(var k=a.length-1;0<=k;k--)if(g=a[k])f=(3>e?g(f):3<e?g(b,c,f):g(b,c))||f;return 3<e&&f&&Object.defineProperty(b,c,f),f}function __metadata(a,b){var c=z.Reflect;if("object"===typeof c&&"function"===typeof c.metadata)return c.metadata(a,b)}
var __param=function(a,b){return function(c,d){b(c,d,a)}},__awaiter=function(a,b,c,d){return new (c||(c=Promise))(function(e,f){function g(a){try{p(d.next(a))}catch(u){f(u)}}function k(a){try{p(d.throw(a))}catch(u){f(u)}}function p(a){a.done?e(a.value):(new c(function(b){b(a.value)})).then(g,k)}p((d=d.apply(a,b)).next())})};"undefined"!==typeof z.L&&z.L||(z.ca=__extends,z.ba=__decorate,z.da=__metadata,z.ea=__param,z.aa=__awaiter);var A=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};y(A,Error);A.prototype.name="CustomError";var ga=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")};var B=function(a,b){b.unshift(a);A.call(this,ga.apply(null,b));b.shift()};y(B,A);B.prototype.name="AssertionError";var ha=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new B(""+e,f||[]);},C=function(a,b,c){a||ha("",null,b,Array.prototype.slice.call(arguments,2))},D=function(a,b,c){v(a)||ha("Expected function but got %s: %s.",[t(a),a],b,Array.prototype.slice.call(arguments,2))};var E=function(a,b,c){this.S=c;this.M=a;this.U=b;this.s=0;this.o=null};E.prototype.get=function(){var a;0<this.s?(this.s--,a=this.o,this.o=a.next,a.next=null):a=this.M();return a};E.prototype.put=function(a){this.U(a);this.s<this.S&&(this.s++,a.next=this.o,this.o=a)};var F;a:{var ia=q.navigator;if(ia){var ja=ia.userAgent;if(ja){F=ja;break a}}F=""};var ka=function(a){q.setTimeout(function(){throw a;},0)},G,la=function(){var a=q.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==F.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+
"//"+b.location.host,a=w(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==F.indexOf("Trident")&&-1==F.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.F;c.F=null;a()}};return function(a){d.next={F:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in
document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};var H=function(){this.v=this.f=null},ma=new E(function(){return new I},function(a){a.reset()},100);H.prototype.add=function(a,b){var c=ma.get();c.set(a,b);this.v?this.v.next=c:(C(!this.f),this.f=c);this.v=c};H.prototype.remove=function(){var a=null;this.f&&(a=this.f,this.f=this.f.next,this.f||(this.v=null),a.next=null);return a};var I=function(){this.next=this.scope=this.B=null};I.prototype.set=function(a,b){this.B=a;this.scope=b;this.next=null};
I.prototype.reset=function(){this.next=this.scope=this.B=null};var M=function(a,b){J||na();L||(J(),L=!0);oa.add(a,b)},J,na=function(){var a=q.Promise;if(-1!=String(a).indexOf("[native code]")){var b=a.resolve(void 0);J=function(){b.then(pa)}}else J=function(){var a=pa;!v(q.setImmediate)||q.Window&&q.Window.prototype&&-1==F.indexOf("Edge")&&q.Window.prototype.setImmediate==q.setImmediate?(G||(G=la()),G(a)):q.setImmediate(a)}},L=!1,oa=new H,pa=function(){for(var a;a=oa.remove();){try{a.B.call(a.scope)}catch(b){ka(b)}ma.put(a)}L=!1};var O=function(a,b){this.b=0;this.K=void 0;this.j=this.g=this.u=null;this.m=this.A=!1;if(a!=r)try{var c=this;a.call(b,function(a){N(c,2,a)},function(a){try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(e){}N(c,3,a)})}catch(d){N(this,3,d)}},qa=function(){this.next=this.context=this.h=this.c=this.child=null;this.w=!1};qa.prototype.reset=function(){this.context=this.h=this.c=this.child=null;this.w=!1};
var ra=new E(function(){return new qa},function(a){a.reset()},100),sa=function(a,b,c){var d=ra.get();d.c=a;d.h=b;d.context=c;return d},ua=function(a,b,c){ta(a,b,c,null)||M(x(b,a))};O.prototype.then=function(a,b,c){null!=a&&D(a,"opt_onFulfilled should be a function.");null!=b&&D(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return va(this,v(a)?a:null,v(b)?b:null,c)};O.prototype.then=O.prototype.then;O.prototype.$goog_Thenable=!0;
O.prototype.X=function(a,b){return va(this,null,a,b)};var xa=function(a,b){a.g||2!=a.b&&3!=a.b||wa(a);C(null!=b.c);a.j?a.j.next=b:a.g=b;a.j=b},va=function(a,b,c,d){var e=sa(null,null,null);e.child=new O(function(a,g){e.c=b?function(c){try{var e=b.call(d,c);a(e)}catch(K){g(K)}}:a;e.h=c?function(b){try{var e=c.call(d,b);a(e)}catch(K){g(K)}}:g});e.child.u=a;xa(a,e);return e.child};O.prototype.Y=function(a){C(1==this.b);this.b=0;N(this,2,a)};O.prototype.Z=function(a){C(1==this.b);this.b=0;N(this,3,a)};
var N=function(a,b,c){0==a.b&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.b=1,ta(c,a.Y,a.Z,a)||(a.K=c,a.b=b,a.u=null,wa(a),3!=b||ya(a,c)))},ta=function(a,b,c,d){if(a instanceof O)return null!=b&&D(b,"opt_onFulfilled should be a function."),null!=c&&D(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),xa(a,sa(b||r,c||null,d)),!0;var e;if(a)try{e=!!a.$goog_Thenable}catch(g){e=!1}else e=!1;if(e)return a.then(b,c,d),
!0;e=typeof a;if("object"==e&&null!=a||"function"==e)try{var f=a.then;if(v(f))return za(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1},za=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(p){k(p)}},wa=function(a){a.A||(a.A=!0,M(a.O,a))},Aa=function(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.j=null);null!=b&&C(null!=b.c);return b};
O.prototype.O=function(){for(var a;a=Aa(this);){var b=this.b,c=this.K;if(3==b&&a.h&&!a.w){var d;for(d=this;d&&d.m;d=d.u)d.m=!1}if(a.child)a.child.u=null,Ba(a,b,c);else try{a.w?a.c.call(a.context):Ba(a,b,c)}catch(e){Ca.call(null,e)}ra.put(a)}this.A=!1};var Ba=function(a,b,c){2==b?a.c.call(a.context,c):a.h&&a.h.call(a.context,c)},ya=function(a,b){a.m=!0;M(function(){a.m&&Ca.call(null,b)})},Ca=ka;function P(a,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:return new Date(b.getTime());case Object:void 0===a&&(a={});break;case Array:a=[];break;default:return b}for(var c in b)b.hasOwnProperty(c)&&(a[c]=P(a[c],b[c]));return a};O.all=function(a){return new O(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},k=0,p;k<a.length;k++)p=a[k],ua(p,x(f,k),g);else b(e)})};O.resolve=function(a){if(a instanceof O)return a;var b=new O(r);N(b,2,a);return b};O.reject=function(a){return new O(function(b,c){c(a)})};O.prototype["catch"]=O.prototype.X;var Q=O;"undefined"!==typeof Promise&&(Q=Promise);var Da=Q;function Ea(a,b){a=new R(a,b);return a.subscribe.bind(a)}var R=function(a,b){var c=this;this.a=[];this.J=0;this.task=Da.resolve();this.l=!1;this.D=b;this.task.then(function(){a(c)}).catch(function(a){c.error(a)})};R.prototype.next=function(a){S(this,function(b){b.next(a)})};R.prototype.error=function(a){S(this,function(b){b.error(a)});this.close(a)};R.prototype.complete=function(){S(this,function(a){a.complete()});this.close()};
R.prototype.subscribe=function(a,b,c){var d=this,e;if(void 0===a&&void 0===b&&void 0===c)throw Error("Missing Observer.");e=Fa(a)?a:{next:a,error:b,complete:c};void 0===e.next&&(e.next=T);void 0===e.error&&(e.error=T);void 0===e.complete&&(e.complete=T);a=this.$.bind(this,this.a.length);this.l&&this.task.then(function(){try{d.G?e.error(d.G):e.complete()}catch(f){}});this.a.push(e);return a};
R.prototype.$=function(a){void 0!==this.a&&void 0!==this.a[a]&&(delete this.a[a],--this.J,0===this.J&&void 0!==this.D&&this.D(this))};var S=function(a,b){if(!a.l)for(var c=0;c<a.a.length;c++)Ga(a,c,b)},Ga=function(a,b,c){a.task.then(function(){if(void 0!==a.a&&void 0!==a.a[b])try{c(a.a[b])}catch(d){}})};R.prototype.close=function(a){var b=this;this.l||(this.l=!0,void 0!==a&&(this.G=a),this.task.then(function(){b.a=void 0;b.D=void 0}))};
function Fa(a){if("object"!==typeof a||null===a)return!1;var b;b=["next","error","complete"];n();var c=b[Symbol.iterator];b=c?c.call(b):m(b);for(c=b.next();!c.done;c=b.next())if(c=c.value,c in a&&"function"===typeof a[c])return!0;return!1}function T(){};var Ha=Error.captureStackTrace,V=function(a,b){this.code=a;this.message=b;if(Ha)Ha(this,U.prototype.create);else{var c=Error.apply(this,arguments);this.name="FirebaseError";Object.defineProperty(this,"stack",{get:function(){return c.stack}})}};V.prototype=Object.create(Error.prototype);V.prototype.constructor=V;V.prototype.name="FirebaseError";var U=function(a,b,c){this.V=a;this.W=b;this.N=c;this.pattern=/\{\$([^}]+)}/g};
U.prototype.create=function(a,b){void 0===b&&(b={});var c=this.N[a];a=this.V+"/"+a;var c=void 0===c?"Error":c.replace(this.pattern,function(a,c){a=b[c];return void 0!==a?a.toString():"<"+c+"?>"}),c=this.W+": "+c+" ("+a+").",c=new V(a,c),d;for(d in b)b.hasOwnProperty(d)&&"_"!==d.slice(-1)&&(c[d]=b[d]);return c};var W=Q,X=function(a,b,c){var d=this;this.H=c;this.I=!1;this.i={};this.C=b;this.T=P(void 0,a);Object.keys(c.INTERNAL.factories).forEach(function(a){var b=c.INTERNAL.useAsService(d,a);null!==b&&(b=d.R.bind(d,b),d[a]=b)})};X.prototype.delete=function(){var a=this;return(new W(function(b){Y(a);b()})).then(function(){a.H.INTERNAL.removeApp(a.C);return W.all(Object.keys(a.i).map(function(b){return a.i[b].INTERNAL.delete()}))}).then(function(){a.I=!0;a.i={}})};
X.prototype.R=function(a){Y(this);void 0===this.i[a]&&(this.i[a]=this.H.INTERNAL.factories[a](this,this.P.bind(this)));return this.i[a]};X.prototype.P=function(a){P(this,a)};var Y=function(a){a.I&&Z(Ia("deleted",{name:a.C}))};h.Object.defineProperties(X.prototype,{name:{configurable:!0,enumerable:!0,get:function(){Y(this);return this.C}},options:{configurable:!0,enumerable:!0,get:function(){Y(this);return this.T}}});X.prototype.name&&X.prototype.options||X.prototype.delete||console.log("dc");
function Ja(){function a(a){a=a||"[DEFAULT]";var b=d[a];void 0===b&&Z("noApp",{name:a});return b}function b(a,b){Object.keys(e).forEach(function(d){d=c(a,d);if(null!==d&&f[d])f[d](b,a)})}function c(a,b){if("serverAuth"===b)return null;var c=b;a=a.options;"auth"===b&&(a.serviceAccount||a.credential)&&(c="serverAuth","serverAuth"in e||Z("serverAuthMissing"));return c}var d={},e={},f={},g={__esModule:!0,initializeApp:function(a,c){void 0===c?c="[DEFAULT]":"string"===typeof c&&""!==c||Z("bad-app-name",
{name:c+""});void 0!==d[c]&&Z("dupApp",{name:c});a=new X(a,c,g);d[c]=a;b(a,"create");void 0!=a.INTERNAL&&void 0!=a.INTERNAL.getToken||P(a,{INTERNAL:{getToken:function(){return W.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}});return a},app:a,apps:null,Promise:W,SDK_VERSION:"0.0.0",INTERNAL:{registerService:function(b,c,d,u){e[b]&&Z("dupService",{name:b});e[b]=c;u&&(f[b]=u);c=function(c){void 0===c&&(c=a());return c[b]()};void 0!==d&&P(c,d);return g[b]=c},createFirebaseNamespace:Ja,
extendNamespace:function(a){P(g,a)},createSubscribe:Ea,ErrorFactory:U,removeApp:function(a){b(d[a],"delete");delete d[a]},factories:e,useAsService:c,Promise:O,deepExtend:P}};g["default"]=g;Object.defineProperty(g,"apps",{get:function(){return Object.keys(d).map(function(a){return d[a]})}});a.App=X;return g}function Z(a,b){throw Error(Ia(a,b));}
function Ia(a,b){b=b||{};b={noApp:"No Firebase App '"+b.name+"' has been created - call Firebase App.initializeApp().","bad-app-name":"Illegal App name: '"+b.name+"'.",dupApp:"Firebase App named '"+b.name+"' already exists.",deleted:"Firebase App named '"+b.name+"' already deleted.",dupService:"Firebase Service named '"+b.name+"' already registered.",serverAuthMissing:"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain."}[a];
return void 0===b?"Application Error: ("+a+")":b};"undefined"!==typeof firebase&&(firebase=Ja()); })();
firebase.SDK_VERSION = "3.4.1";
module.exports = firebase;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],6:[function(require,module,exports){
var firebase = require('./app');
/*! @license Firebase v3.4.1
    Build: 3.4.1-rc.2
    Terms: https://developers.google.com/terms */
(function(){var h,aa=aa||{},l=this,ba=function(){},ca=function(){throw Error("unimplemented abstract method");},m=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=
typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},da=function(a){return null===a},ea=function(a){return"array"==m(a)},fa=function(a){var b=m(a);return"array"==b||"object"==b&&"number"==typeof a.length},n=function(a){return"string"==typeof a},ga=function(a){return"number"==typeof a},p=function(a){return"function"==m(a)},ha=function(a){var b=typeof a;
return"object"==b&&null!=a||"function"==b},ia=function(a,b,c){return a.call.apply(a.bind,arguments)},ja=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},q=function(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return q.apply(null,
arguments)},ka=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},la=Date.now||function(){return+new Date},t=function(a,b){function c(){}c.prototype=b.prototype;a.Rc=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.We=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var u=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};t(u,Error);u.prototype.name="CustomError";var ma=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},na=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oa=/&/g,pa=/</g,qa=/>/g,ra=/"/g,ta=/'/g,ua=/\x00/g,va=/[\x00&<>"']/,v=function(a,b){return-1!=a.indexOf(b)},wa=function(a,b){return a<b?-1:a>b?1:0};var xa=function(a,b){b.unshift(a);u.call(this,ma.apply(null,b));b.shift()};t(xa,u);xa.prototype.name="AssertionError";
var ya=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new xa(""+e,f||[]);},w=function(a,b,c){a||ya("",null,b,Array.prototype.slice.call(arguments,2))},za=function(a,b){throw new xa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},Aa=function(a,b,c){ga(a)||ya("Expected number but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,2));return a},Ba=function(a,b,c){n(a)||ya("Expected string but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,
2))},Ca=function(a,b,c){p(a)||ya("Expected function but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,2))};var Da=Array.prototype.indexOf?function(a,b,c){w(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=Array.prototype.forEach?function(a,b,c){w(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ea=function(a,b){for(var c=n(a)?
a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)},Fa=Array.prototype.map?function(a,b,c){w(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=n(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ga=Array.prototype.some?function(a,b,c){w(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},
Ia=function(a){var b;a:{b=Ha;for(var c=a.length,d=n(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:n(a)?a.charAt(b):a[b]},Ja=function(a,b){return 0<=Da(a,b)},La=function(a,b){b=Da(a,b);var c;(c=0<=b)&&Ka(a,b);return c},Ka=function(a,b){w(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length},Ma=function(a,b){var c=0;Ea(a,function(d,e){b.call(void 0,d,e,a)&&Ka(a,e)&&c++})},Na=function(a){return Array.prototype.concat.apply(Array.prototype,
arguments)},Oa=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Pa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Qa=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(fa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}};var Ra=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},Sa=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ta=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ua=function(a){for(var b in a)return!1;return!0},Va=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0},Wa=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),
Ya=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Xa.length;f++)c=Xa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Za;a:{var $a=l.navigator;if($a){var ab=$a.userAgent;if(ab){Za=ab;break a}}Za=""}var y=function(a){return v(Za,a)};var bb=function(a){bb[" "](a);return a};bb[" "]=ba;var db=function(a,b){var c=cb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var eb=y("Opera"),z=y("Trident")||y("MSIE"),fb=y("Edge"),gb=fb||z,hb=y("Gecko")&&!(v(Za.toLowerCase(),"webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),ib=v(Za.toLowerCase(),"webkit")&&!y("Edge"),jb=function(){var a=l.document;return a?a.documentMode:void 0},kb;
a:{var lb="",mb=function(){var a=Za;if(hb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(fb)return/Edge\/([\d\.]+)/.exec(a);if(z)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(ib)return/WebKit\/(\S+)/.exec(a);if(eb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();mb&&(lb=mb?mb[1]:"");if(z){var nb=jb();if(null!=nb&&nb>parseFloat(lb)){kb=String(nb);break a}}kb=lb}
var ob=kb,cb={},A=function(a){return db(a,function(){for(var b=0,c=na(String(ob)).split("."),d=na(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==g[0].length&&0==k[0].length)break;b=wa(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||wa(0==g[2].length,0==k[2].length)||wa(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})},pb;var qb=l.document;
pb=qb&&z?jb()||("CSS1Compat"==qb.compatMode?parseInt(ob,10):5):void 0;var rb=null,sb=null,ub=function(a){var b="";tb(a,function(a){b+=String.fromCharCode(a)});return b},tb=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=sb[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}vb();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=k&&b(g<<6&192|k))}},vb=function(){if(!rb){rb={};sb={};for(var a=0;65>a;a++)rb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),
sb[rb[a]]=a,62<=a&&(sb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var wb=!z||9<=Number(pb),xb=z&&!A("9");!ib||A("528");hb&&A("1.9b")||z&&A("8")||eb&&A("9.5")||ib&&A("528");hb&&!A("8")||z&&A("9");var yb=function(){this.za=this.za;this.Vb=this.Vb};yb.prototype.za=!1;yb.prototype.isDisposed=function(){return this.za};yb.prototype.Pa=function(){if(this.Vb)for(;this.Vb.length;)this.Vb.shift()()};var zb=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Wa=!1;this.wd=!0};zb.prototype.preventDefault=function(){this.defaultPrevented=!0;this.wd=!1};var Ab=function(a,b){zb.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.mb=this.state=null;a&&this.init(a,b)};t(Ab,zb);
Ab.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(hb){var e;a:{try{bb(b.nodeName);e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=ib||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=ib||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:
a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.mb=a;a.defaultPrevented&&
this.preventDefault()};Ab.prototype.preventDefault=function(){Ab.Rc.preventDefault.call(this);var a=this.mb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,xb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Ab.prototype.fe=function(){return this.mb};var Bb="closure_listenable_"+(1E6*Math.random()|0),Cb=0;var Db=function(a,b,c,d,e){this.listener=a;this.Zb=null;this.src=b;this.type=c;this.Eb=!!d;this.Mb=e;this.key=++Cb;this.ab=this.Db=!1},Eb=function(a){a.ab=!0;a.listener=null;a.Zb=null;a.src=null;a.Mb=null};var Fb=function(a){this.src=a;this.w={};this.Ab=0};Fb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.w[f];a||(a=this.w[f]=[],this.Ab++);var g=Gb(a,b,d,e);-1<g?(b=a[g],c||(b.Db=!1)):(b=new Db(b,this.src,f,!!d,e),b.Db=c,a.push(b));return b};Fb.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.w))return!1;var e=this.w[a];b=Gb(e,b,c,d);return-1<b?(Eb(e[b]),Ka(e,b),0==e.length&&(delete this.w[a],this.Ab--),!0):!1};
var Hb=function(a,b){var c=b.type;c in a.w&&La(a.w[c],b)&&(Eb(b),0==a.w[c].length&&(delete a.w[c],a.Ab--))};Fb.prototype.xc=function(a,b,c,d){a=this.w[a.toString()];var e=-1;a&&(e=Gb(a,b,c,d));return-1<e?a[e]:null};var Gb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ab&&f.listener==b&&f.Eb==!!c&&f.Mb==d)return e}return-1};var Ib="closure_lm_"+(1E6*Math.random()|0),Jb={},Kb=0,Lb=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)Lb(a,b[f],c,d,e);else c=Mb(c),a&&a[Bb]?a.listen(b,c,d,e):Nb(a,b,c,!1,d,e)},Nb=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,k=Ob(a);k||(a[Ib]=k=new Fb(a));c=k.add(b,c,d,e,f);if(!c.Zb){d=Pb();c.Zb=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Qb(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
Kb++}},Pb=function(){var a=Rb,b=wb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Sb=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)Sb(a,b[f],c,d,e);else c=Mb(c),a&&a[Bb]?Tb(a,b,c,d,e):Nb(a,b,c,!0,d,e)},Ub=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)Ub(a,b[f],c,d,e);else c=Mb(c),a&&a[Bb]?a.Y.remove(String(b),c,d,e):a&&(a=Ob(a))&&(b=a.xc(b,c,!!d,e))&&Vb(b)},Vb=function(a){if(!ga(a)&&a&&!a.ab){var b=a.src;if(b&&
b[Bb])Hb(b.Y,a);else{var c=a.type,d=a.Zb;b.removeEventListener?b.removeEventListener(c,d,a.Eb):b.detachEvent&&b.detachEvent(Qb(c),d);Kb--;(c=Ob(b))?(Hb(c,a),0==c.Ab&&(c.src=null,b[Ib]=null)):Eb(a)}}},Qb=function(a){return a in Jb?Jb[a]:Jb[a]="on"+a},Xb=function(a,b,c,d){var e=!0;if(a=Ob(a))if(b=a.w[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Eb==c&&!f.ab&&(f=Wb(f,d),e=e&&!1!==f)}return e},Wb=function(a,b){var c=a.listener,d=a.Mb||a.src;a.Db&&Vb(a);return c.call(d,b)},Rb=function(a,
b){if(a.ab)return!0;if(!wb){if(!b)a:{b=["window","event"];for(var c=l,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new Ab(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Wa&&0<=e;e--){b.currentTarget=d[e];var f=Xb(d[e],a,!0,b),c=c&&f}for(e=0;!b.Wa&&e<d.length;e++)b.currentTarget=
d[e],f=Xb(d[e],a,!1,b),c=c&&f}return c}return Wb(a,new Ab(b,this))},Ob=function(a){a=a[Ib];return a instanceof Fb?a:null},Yb="__closure_events_fn_"+(1E9*Math.random()>>>0),Mb=function(a){w(a,"Listener can not be null.");if(p(a))return a;w(a.handleEvent,"An object listener must have handleEvent method.");a[Yb]||(a[Yb]=function(b){return a.handleEvent(b)});return a[Yb]};var Zb=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;var ac=function(){this.hc="";this.Od=$b};ac.prototype.Pb=!0;ac.prototype.Kb=function(){return this.hc};ac.prototype.toString=function(){return"Const{"+this.hc+"}"};var bc=function(a){if(a instanceof ac&&a.constructor===ac&&a.Od===$b)return a.hc;za("expected object of type Const, got '"+a+"'");return"type_error:Const"},$b={};var B=function(){this.ja="";this.Nd=cc};B.prototype.Pb=!0;B.prototype.Kb=function(){return this.ja};B.prototype.toString=function(){return"SafeUrl{"+this.ja+"}"};
var dc=function(a){if(a instanceof B&&a.constructor===B&&a.Nd===cc)return a.ja;za("expected object of type SafeUrl, got '"+a+"' of type "+m(a));return"type_error:SafeUrl"},ec=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,gc=function(a){if(a instanceof B)return a;a=a.Pb?a.Kb():String(a);ec.test(a)||(a="about:invalid#zClosurez");return fc(a)},cc={},fc=function(a){var b=new B;b.ja=a;return b};fc("about:blank");var hc=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},ic=function(a){a=String(a);if(hc(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);},lc=function(a){var b=[];jc(new kc,a,b);return b.join("")},kc=function(){this.cc=void 0},
jc=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(ea(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],jc(a,a.cc?a.cc.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),mc(d,c),c.push(":"),jc(a,a.cc?a.cc.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":mc(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}},nc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},oc=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,mc=function(a,b){b.push('"',a.replace(oc,function(a){var b=nc[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),
nc[a]=b);return b}),'"')};var pc=function(){};pc.prototype.Vc=null;pc.prototype.lb=ca;var qc=function(a){return a.Vc||(a.Vc=a.Sb())};pc.prototype.Sb=ca;var rc,sc=function(){};t(sc,pc);sc.prototype.lb=function(){var a=tc(this);return a?new ActiveXObject(a):new XMLHttpRequest};sc.prototype.Sb=function(){var a={};tc(this)&&(a[0]=!0,a[1]=!0);return a};
var tc=function(a){if(!a.jd&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.jd=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.jd};rc=new sc;var uc=function(){};t(uc,pc);uc.prototype.lb=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new vc;throw Error("Unsupported browser");};uc.prototype.Sb=function(){return{}};
var vc=function(){this.oa=new XDomainRequest;this.readyState=0;this.onreadystatechange=null;this.responseText="";this.status=-1;this.statusText=this.responseXML=null;this.oa.onload=q(this.he,this);this.oa.onerror=q(this.gd,this);this.oa.onprogress=q(this.ie,this);this.oa.ontimeout=q(this.je,this)};h=vc.prototype;h.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.oa.open(a,b)};
h.send=function(a){if(a)if("string"==typeof a)this.oa.send(a);else throw Error("Only string data is supported");else this.oa.send()};h.abort=function(){this.oa.abort()};h.setRequestHeader=function(){};h.he=function(){this.status=200;this.responseText=this.oa.responseText;wc(this,4)};h.gd=function(){this.status=500;this.responseText="";wc(this,4)};h.je=function(){this.gd()};h.ie=function(){this.status=200;wc(this,1)};var wc=function(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()};var C=function(a,b){this.h=[];this.g=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.h[d]=e,c=!1)}},xc={},yc=function(a){if(-128<=a&&128>a){var b=xc[a];if(b)return b}b=new C([a|0],0>a?-1:0);-128<=a&&128>a&&(xc[a]=b);return b},F=function(a){if(isNaN(a)||!isFinite(a))return D;if(0>a)return E(F(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new C(b,0)},zc=function(a,b){if(0==a.length)throw Error("number format error: empty string");b=b||10;if(2>b||36<b)throw Error("radix out of range: "+
b);if("-"==a.charAt(0))return E(zc(a.substring(1),b));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character');for(var c=F(Math.pow(b,8)),d=D,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=F(Math.pow(b,f)),d=d.multiply(f).add(F(g))):(d=d.multiply(c),d=d.add(F(g)))}return d},D=yc(0),Ac=yc(1),Bc=yc(16777216),Cc=function(a){if(-1==a.g)return-Cc(E(a));for(var b=0,c=1,d=0;d<a.h.length;d++)b+=Dc(a,d)*c,c*=4294967296;return b};
C.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(G(this))return"0";if(-1==this.g)return"-"+E(this).toString(a);for(var b=F(Math.pow(a,6)),c=this,d="";;){var e=Ec(c,b),c=Fc(c,e.multiply(b)),f=((0<c.h.length?c.h[0]:c.g)>>>0).toString(a),c=e;if(G(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
var H=function(a,b){return 0>b?0:b<a.h.length?a.h[b]:a.g},Dc=function(a,b){a=H(a,b);return 0<=a?a:4294967296+a},G=function(a){if(0!=a.g)return!1;for(var b=0;b<a.h.length;b++)if(0!=a.h[b])return!1;return!0};C.prototype.Gb=function(a){if(this.g!=a.g)return!1;for(var b=Math.max(this.h.length,a.h.length),c=0;c<b;c++)if(H(this,c)!=H(a,c))return!1;return!0};C.prototype.compare=function(a){a=Fc(this,a);return-1==a.g?-1:G(a)?0:1};
var E=function(a){for(var b=a.h.length,c=[],d=0;d<b;d++)c[d]=~a.h[d];return(new C(c,~a.g)).add(Ac)};C.prototype.add=function(a){for(var b=Math.max(this.h.length,a.h.length),c=[],d=0,e=0;e<=b;e++){var f=d+(H(this,e)&65535)+(H(a,e)&65535),g=(f>>>16)+(H(this,e)>>>16)+(H(a,e)>>>16),d=g>>>16,f=f&65535,g=g&65535;c[e]=g<<16|f}return new C(c,c[c.length-1]&-2147483648?-1:0)};var Fc=function(a,b){return a.add(E(b))};
C.prototype.multiply=function(a){if(G(this)||G(a))return D;if(-1==this.g)return-1==a.g?E(this).multiply(E(a)):E(E(this).multiply(a));if(-1==a.g)return E(this.multiply(E(a)));if(0>this.compare(Bc)&&0>a.compare(Bc))return F(Cc(this)*Cc(a));for(var b=this.h.length+a.h.length,c=[],d=0;d<2*b;d++)c[d]=0;for(d=0;d<this.h.length;d++)for(var e=0;e<a.h.length;e++){var f=H(this,d)>>>16,g=H(this,d)&65535,k=H(a,e)>>>16,r=H(a,e)&65535;c[2*d+2*e]+=g*r;Gc(c,2*d+2*e);c[2*d+2*e+1]+=f*r;Gc(c,2*d+2*e+1);c[2*d+2*e+1]+=
g*k;Gc(c,2*d+2*e+1);c[2*d+2*e+2]+=f*k;Gc(c,2*d+2*e+2)}for(d=0;d<b;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;d<2*b;d++)c[d]=0;return new C(c,0)};
var Gc=function(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++},Ec=function(a,b){if(G(b))throw Error("division by zero");if(G(a))return D;if(-1==a.g)return-1==b.g?Ec(E(a),E(b)):E(Ec(E(a),b));if(-1==b.g)return E(Ec(a,E(b)));if(30<a.h.length){if(-1==a.g||-1==b.g)throw Error("slowDivide_ only works with positive integers.");for(var c=Ac;0>=b.compare(a);)c=c.shiftLeft(1),b=b.shiftLeft(1);var d=Hc(c,1),e=Hc(b,1),f;b=Hc(b,2);for(c=Hc(c,2);!G(b);)f=e.add(b),0>=f.compare(a)&&(d=d.add(c),
e=f),b=Hc(b,1),c=Hc(c,1);return d}for(c=D;0<=a.compare(b);){d=Math.max(1,Math.floor(Cc(a)/Cc(b)));e=Math.ceil(Math.log(d)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=F(d);for(var g=f.multiply(b);-1==g.g||0<g.compare(a);)d-=e,f=F(d),g=f.multiply(b);G(f)&&(f=Ac);c=c.add(f);a=Fc(a,g)}return c},Ic=function(a,b){for(var c=Math.max(a.h.length,b.h.length),d=[],e=0;e<c;e++)d[e]=H(a,e)|H(b,e);return new C(d,a.g|b.g)};
C.prototype.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.h.length+b+(0<a?1:0),d=[],e=0;e<c;e++)d[e]=0<a?H(this,e-b)<<a|H(this,e-b-1)>>>32-a:H(this,e-b);return new C(d,this.g)};var Hc=function(a,b){var c=b>>5;b%=32;for(var d=a.h.length-c,e=[],f=0;f<d;f++)e[f]=0<b?H(a,f+c)>>>b|H(a,f+c+1)<<32-b:H(a,f+c);return new C(e,a.g)};var Jc=function(a,b){this.qb=a;this.na=b};Jc.prototype.Gb=function(a){return this.na==a.na&&this.qb.Gb(Wa(a.qb))};Jc.prototype.toString=ca;
var Mc=function(a){try{var b;if(b=0==a.lastIndexOf("[",0)){var c=a.length-1;b=0<=c&&a.indexOf("]",c)==c}return b?new Kc(a.substring(1,a.length-1)):new Lc(a)}catch(d){return null}},Lc=function(a){var b=D;if(a instanceof C){if(0!=a.g||0>a.compare(D)||0<a.compare(Nc))throw Error("The address does not look like an IPv4.");b=Wa(a)}else{if(!Oc.test(a))throw Error(a+" does not look like an IPv4 address.");var c=a.split(".");if(4!=c.length)throw Error(a+" does not look like an IPv4 address.");for(var d=0;d<
c.length;d++){var e;e=c[d];var f=Number(e);e=0==f&&/^[\s\xa0]*$/.test(e)?NaN:f;if(isNaN(e)||0>e||255<e||1!=c[d].length&&0==c[d].lastIndexOf("0",0))throw Error("In "+a+", octet "+d+" is not valid");e=F(e);b=Ic(b.shiftLeft(8),e)}}Jc.call(this,b,4)};t(Lc,Jc);var Oc=/^[0-9.]*$/,Nc=Fc(Ac.shiftLeft(32),Ac);Lc.prototype.toString=function(){if(this.Da)return this.Da;for(var a=Dc(this.qb,0),b=[],c=3;0<=c;c--)b[c]=String(a&255),a>>>=8;return this.Da=b.join(".")};
var Kc=function(a){var b=D;if(a instanceof C){if(0!=a.g||0>a.compare(D)||0<a.compare(Pc))throw Error("The address does not look like a valid IPv6.");b=Wa(a)}else{if(!Qc.test(a))throw Error(a+" is not a valid IPv6 address.");var c=a.split(":");if(-1!=c[c.length-1].indexOf(".")){a=Dc(Wa((new Lc(c[c.length-1])).qb),0);var d=[];d.push((a>>>16&65535).toString(16));d.push((a&65535).toString(16));Ka(c,c.length-1);Qa(c,d);a=c.join(":")}d=a.split("::");if(2<d.length||1==d.length&&8!=c.length)throw Error(a+
" is not a valid IPv6 address.");if(1<d.length){c=d[0].split(":");d=d[1].split(":");1==c.length&&""==c[0]&&(c=[]);1==d.length&&""==d[0]&&(d=[]);var e=8-(c.length+d.length);if(1>e)c=[];else{for(var f=[],g=0;g<e;g++)f[g]="0";c=Oa(c,f,d)}}if(8!=c.length)throw Error(a+" is not a valid IPv6 address");for(d=0;d<c.length;d++){e=zc(c[d],16);if(0>e.compare(D)||0<e.compare(Rc))throw Error(c[d]+" in "+a+" is not a valid hextet.");b=Ic(b.shiftLeft(16),e)}}Jc.call(this,b,6)};t(Kc,Jc);
var Qc=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,Rc=yc(65535),Pc=Fc(Ac.shiftLeft(128),Ac);Kc.prototype.toString=function(){if(this.Da)return this.Da;for(var a=[],b=3;0<=b;b--){var c=Dc(this.qb,b),d=c&65535;a.push((c>>>16).toString(16));a.push(d.toString(16))}for(var c=b=-1,e=d=0,f=0;f<a.length;f++)"0"==a[f]?(e++,-1==c&&(c=f),e>d&&(d=e,b=c)):(c=-1,e=0);0<d&&(b+d==a.length&&a.push(""),a.splice(b,d,""),0==b&&(a=[""].concat(a)));return this.Da=a.join(":")};var Tc=function(){this.Yb="";this.Pd=Sc};Tc.prototype.Pb=!0;Tc.prototype.Kb=function(){return this.Yb};Tc.prototype.toString=function(){return"TrustedResourceUrl{"+this.Yb+"}"};var Sc={};var Vc=function(){this.ja="";this.Md=Uc};Vc.prototype.Pb=!0;Vc.prototype.Kb=function(){return this.ja};Vc.prototype.toString=function(){return"SafeHtml{"+this.ja+"}"};var Wc=function(a){if(a instanceof Vc&&a.constructor===Vc&&a.Md===Uc)return a.ja;za("expected object of type SafeHtml, got '"+a+"' of type "+m(a));return"type_error:SafeHtml"},Uc={};Vc.prototype.qe=function(a){this.ja=a;return this};!hb&&!z||z&&9<=Number(pb)||hb&&A("1.9.1");z&&A("9");var Yc=function(a,b){Ra(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Xc.hasOwnProperty(d)?a.setAttribute(Xc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},Xc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};var Zc=function(a,b,c){this.se=c;this.Vd=a;this.De=b;this.Ub=0;this.Nb=null};Zc.prototype.get=function(){var a;0<this.Ub?(this.Ub--,a=this.Nb,this.Nb=a.next,a.next=null):a=this.Vd();return a};Zc.prototype.put=function(a){this.De(a);this.Ub<this.se&&(this.Ub++,a.next=this.Nb,this.Nb=a)};var $c=function(a){l.setTimeout(function(){throw a;},0)},ad,bd=function(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,
a=q(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!y("Trident")&&!y("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.Zc;c.Zc=null;a()}};return function(a){d.next={Zc:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};var cd=function(){this.mc=this.Ka=null},ed=new Zc(function(){return new dd},function(a){a.reset()},100);cd.prototype.add=function(a,b){var c=ed.get();c.set(a,b);this.mc?this.mc.next=c:(w(!this.Ka),this.Ka=c);this.mc=c};cd.prototype.remove=function(){var a=null;this.Ka&&(a=this.Ka,this.Ka=this.Ka.next,this.Ka||(this.mc=null),a.next=null);return a};var dd=function(){this.next=this.scope=this.wc=null};dd.prototype.set=function(a,b){this.wc=a;this.scope=b;this.next=null};
dd.prototype.reset=function(){this.next=this.scope=this.wc=null};var jd=function(a,b){fd||gd();hd||(fd(),hd=!0);id.add(a,b)},fd,gd=function(){var a=l.Promise;if(-1!=String(a).indexOf("[native code]")){var b=a.resolve(void 0);fd=function(){b.then(kd)}}else fd=function(){var a=kd;!p(l.setImmediate)||l.Window&&l.Window.prototype&&!y("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(ad||(ad=bd()),ad(a)):l.setImmediate(a)}},hd=!1,id=new cd,kd=function(){for(var a;a=id.remove();){try{a.wc.call(a.scope)}catch(b){$c(b)}ed.put(a)}hd=!1};var ld=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},md=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var I=function(a,b){this.F=0;this.ka=void 0;this.Na=this.fa=this.o=null;this.Lb=this.vc=!1;if(a!=ba)try{var c=this;a.call(b,function(a){nd(c,2,a)},function(a){if(!(a instanceof od))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(e){}nd(c,3,a)})}catch(d){nd(this,3,d)}},pd=function(){this.next=this.context=this.Ta=this.Fa=this.child=null;this.jb=!1};pd.prototype.reset=function(){this.context=this.Ta=this.Fa=this.child=null;this.jb=!1};
var qd=new Zc(function(){return new pd},function(a){a.reset()},100),rd=function(a,b,c){var d=qd.get();d.Fa=a;d.Ta=b;d.context=c;return d},J=function(a){if(a instanceof I)return a;var b=new I(ba);nd(b,2,a);return b},K=function(a){return new I(function(b,c){c(a)})},td=function(a,b,c){sd(a,b,c,null)||jd(ka(b,a))},ud=function(a){return new I(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{ee:!0,value:f}:{ee:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],td(g,ka(e,f,!0),
ka(e,f,!1));else b(d)})};I.prototype.then=function(a,b,c){null!=a&&Ca(a,"opt_onFulfilled should be a function.");null!=b&&Ca(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return vd(this,p(a)?a:null,p(b)?b:null,c)};ld(I);var xd=function(a,b){b=rd(b,b,void 0);b.jb=!0;wd(a,b);return a};I.prototype.l=function(a,b){return vd(this,null,a,b)};I.prototype.cancel=function(a){0==this.F&&jd(function(){var b=new od(a);yd(this,b)},this)};
var yd=function(a,b){if(0==a.F)if(a.o){var c=a.o;if(c.fa){for(var d=0,e=null,f=null,g=c.fa;g&&(g.jb||(d++,g.child==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.F&&1==d?yd(c,b):(f?(d=f,w(c.fa),w(null!=d),d.next==c.Na&&(c.Na=d),d.next=d.next.next):zd(c),Ad(c,e,3,b)))}a.o=null}else nd(a,3,b)},wd=function(a,b){a.fa||2!=a.F&&3!=a.F||Bd(a);w(null!=b.Fa);a.Na?a.Na.next=b:a.fa=b;a.Na=b},vd=function(a,b,c,d){var e=rd(null,null,null);e.child=new I(function(a,g){e.Fa=b?function(c){try{var e=b.call(d,c);a(e)}catch(sa){g(sa)}}:
a;e.Ta=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof od?g(b):a(e)}catch(sa){g(sa)}}:g});e.child.o=a;wd(a,e);return e.child};I.prototype.Me=function(a){w(1==this.F);this.F=0;nd(this,2,a)};I.prototype.Ne=function(a){w(1==this.F);this.F=0;nd(this,3,a)};
var nd=function(a,b,c){0==a.F&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.F=1,sd(c,a.Me,a.Ne,a)||(a.ka=c,a.F=b,a.o=null,Bd(a),3!=b||c instanceof od||Cd(a,c)))},sd=function(a,b,c,d){if(a instanceof I)return null!=b&&Ca(b,"opt_onFulfilled should be a function."),null!=c&&Ca(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),wd(a,rd(b||ba,c||null,d)),!0;if(md(a))return a.then(b,c,d),!0;if(ha(a))try{var e=a.then;if(p(e))return Dd(a,
e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1},Dd=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(r){k(r)}},Bd=function(a){a.vc||(a.vc=!0,jd(a.$d,a))},zd=function(a){var b=null;a.fa&&(b=a.fa,a.fa=b.next,b.next=null);a.fa||(a.Na=null);null!=b&&w(null!=b.Fa);return b};I.prototype.$d=function(){for(var a;a=zd(this);)Ad(this,a,this.F,this.ka);this.vc=!1};
var Ad=function(a,b,c,d){if(3==c&&b.Ta&&!b.jb)for(;a&&a.Lb;a=a.o)a.Lb=!1;if(b.child)b.child.o=null,Ed(b,c,d);else try{b.jb?b.Fa.call(b.context):Ed(b,c,d)}catch(e){Fd.call(null,e)}qd.put(b)},Ed=function(a,b,c){2==b?a.Fa.call(a.context,c):a.Ta&&a.Ta.call(a.context,c)},Cd=function(a,b){a.Lb=!0;jd(function(){a.Lb&&Fd.call(null,b)})},Fd=$c,od=function(a){u.call(this,a)};t(od,u);od.prototype.name="cancel";/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var Gd=function(a,b){this.dc=[];this.pd=a;this.ad=b||null;this.ob=this.Ra=!1;this.ka=void 0;this.Pc=this.Uc=this.qc=!1;this.kc=0;this.o=null;this.rc=0};Gd.prototype.cancel=function(a){if(this.Ra)this.ka instanceof Gd&&this.ka.cancel();else{if(this.o){var b=this.o;delete this.o;a?b.cancel(a):(b.rc--,0>=b.rc&&b.cancel())}this.pd?this.pd.call(this.ad,this):this.Pc=!0;this.Ra||Hd(this,new Id)}};Gd.prototype.$c=function(a,b){this.qc=!1;Jd(this,a,b)};
var Jd=function(a,b,c){a.Ra=!0;a.ka=c;a.ob=!b;Kd(a)},Md=function(a){if(a.Ra){if(!a.Pc)throw new Ld;a.Pc=!1}};Gd.prototype.callback=function(a){Md(this);Nd(a);Jd(this,!0,a)};
var Hd=function(a,b){Md(a);Nd(b);Jd(a,!1,b)},Nd=function(a){w(!(a instanceof Gd),"An execution sequence may not be initiated with a blocking Deferred.")},Rd=function(a){var b=Od("https://apis.google.com/js/client.js?onload="+Pd);Qd(b,null,a,void 0)},Qd=function(a,b,c,d){w(!a.Uc,"Blocking Deferreds can not be re-used");a.dc.push([b,c,d]);a.Ra&&Kd(a)};Gd.prototype.then=function(a,b,c){var d,e,f=new I(function(a,b){d=a;e=b});Qd(this,d,function(a){a instanceof Id?f.cancel():e(a)});return f.then(a,b,c)};
ld(Gd);
var Sd=function(a){return Ga(a.dc,function(a){return p(a[1])})},Kd=function(a){if(a.kc&&a.Ra&&Sd(a)){var b=a.kc,c=Td[b];c&&(l.clearTimeout(c.pb),delete Td[b]);a.kc=0}a.o&&(a.o.rc--,delete a.o);for(var b=a.ka,d=c=!1;a.dc.length&&!a.qc;){var e=a.dc.shift(),f=e[0],g=e[1],e=e[2];if(f=a.ob?g:f)try{var k=f.call(e||a.ad,b);void 0!==k&&(a.ob=a.ob&&(k==b||k instanceof Error),a.ka=b=k);if(md(b)||"function"===typeof l.Promise&&b instanceof l.Promise)d=!0,a.qc=!0}catch(r){b=r,a.ob=!0,Sd(a)||(c=!0)}}a.ka=b;d&&
(k=q(a.$c,a,!0),d=q(a.$c,a,!1),b instanceof Gd?(Qd(b,k,d),b.Uc=!0):b.then(k,d));c&&(b=new Ud(b),Td[b.pb]=b,a.kc=b.pb)},Ld=function(){u.call(this)};t(Ld,u);Ld.prototype.message="Deferred has already fired";Ld.prototype.name="AlreadyCalledError";var Id=function(){u.call(this)};t(Id,u);Id.prototype.message="Deferred was canceled";Id.prototype.name="CanceledError";var Ud=function(a){this.pb=l.setTimeout(q(this.Le,this),0);this.J=a};
Ud.prototype.Le=function(){w(Td[this.pb],"Cannot throw an error that is not scheduled.");delete Td[this.pb];throw this.J;};var Td={};var Od=function(a){var b=new Tc;b.Yb=a;return Vd(b)},Vd=function(a){var b={},c=b.document||document,d;a instanceof Tc&&a.constructor===Tc&&a.Pd===Sc?d=a.Yb:(za("expected object of type TrustedResourceUrl, got '"+a+"' of type "+m(a)),d="type_error:TrustedResourceUrl");var e=document.createElement("SCRIPT");a={xd:e,zb:void 0};var f=new Gd(Wd,a),g=null,k=null!=b.timeout?b.timeout:5E3;0<k&&(g=window.setTimeout(function(){Xd(e,!0);Hd(f,new Yd(1,"Timeout reached for loading script "+d))},k),a.zb=g);e.onload=
e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(Xd(e,b.Xe||!1,g),f.callback(null))};e.onerror=function(){Xd(e,!0,g);Hd(f,new Yd(0,"Error while loading script "+d))};a=b.attributes||{};Ya(a,{type:"text/javascript",charset:"UTF-8",src:d});Yc(e,a);Zd(c).appendChild(e);return f},Zd=function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement},Wd=function(){if(this&&this.xd){var a=this.xd;a&&"SCRIPT"==a.tagName&&
Xd(a,!0,this.zb)}},Xd=function(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ba;a.onerror=ba;a.onreadystatechange=ba;b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)},Yd=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);u.call(this,c);this.code=a};t(Yd,u);var $d=function(){yb.call(this);this.Y=new Fb(this);this.Sd=this;this.Fc=null};t($d,yb);$d.prototype[Bb]=!0;h=$d.prototype;h.addEventListener=function(a,b,c,d){Lb(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){Ub(this,a,b,c,d)};
h.dispatchEvent=function(a){ae(this);var b,c=this.Fc;if(c){b=[];for(var d=1;c;c=c.Fc)b.push(c),w(1E3>++d,"infinite loop")}c=this.Sd;d=a.type||a;if(n(a))a=new zb(a,c);else if(a instanceof zb)a.target=a.target||c;else{var e=a;a=new zb(d,c);Ya(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Wa&&0<=g;g--)f=a.currentTarget=b[g],e=be(f,d,!0,a)&&e;a.Wa||(f=a.currentTarget=c,e=be(f,d,!0,a)&&e,a.Wa||(e=be(f,d,!1,a)&&e));if(b)for(g=0;!a.Wa&&g<b.length;g++)f=a.currentTarget=b[g],e=be(f,d,!1,a)&&e;return e};
h.Pa=function(){$d.Rc.Pa.call(this);if(this.Y){var a=this.Y,b=0,c;for(c in a.w){for(var d=a.w[c],e=0;e<d.length;e++)++b,Eb(d[e]);delete a.w[c];a.Ab--}}this.Fc=null};h.listen=function(a,b,c,d){ae(this);return this.Y.add(String(a),b,!1,c,d)};
var Tb=function(a,b,c,d,e){a.Y.add(String(b),c,!0,d,e)},be=function(a,b,c,d){b=a.Y.w[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.ab&&g.Eb==c){var k=g.listener,r=g.Mb||g.src;g.Db&&Hb(a.Y,g);e=!1!==k.call(r,d)&&e}}return e&&0!=d.wd};$d.prototype.xc=function(a,b,c,d){return this.Y.xc(String(a),b,c,d)};var ae=function(a){w(a.Y,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var ce="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},de=function(){};de.prototype.next=function(){throw ce;};de.prototype.Rd=function(){return this};var ee=function(a,b){this.Z={};this.s=[];this.na=this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};h=ee.prototype;h.fd=function(){return this.i};h.T=function(){fe(this);for(var a=[],b=0;b<this.s.length;b++)a.push(this.Z[this.s[b]]);return a};h.ha=function(){fe(this);return this.s.concat()};h.kb=function(a){return ge(this.Z,a)};
h.Gb=function(a,b){if(this===a)return!0;if(this.i!=a.fd())return!1;b=b||he;fe(this);for(var c,d=0;c=this.s[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var he=function(a,b){return a===b};ee.prototype.remove=function(a){return ge(this.Z,a)?(delete this.Z[a],this.i--,this.na++,this.s.length>2*this.i&&fe(this),!0):!1};
var fe=function(a){if(a.i!=a.s.length){for(var b=0,c=0;b<a.s.length;){var d=a.s[b];ge(a.Z,d)&&(a.s[c++]=d);b++}a.s.length=c}if(a.i!=a.s.length){for(var e={},c=b=0;b<a.s.length;)d=a.s[b],ge(e,d)||(a.s[c++]=d,e[d]=1),b++;a.s.length=c}};h=ee.prototype;h.get=function(a,b){return ge(this.Z,a)?this.Z[a]:b};h.set=function(a,b){ge(this.Z,a)||(this.i++,this.s.push(a),this.na++);this.Z[a]=b};
h.addAll=function(a){var b;a instanceof ee?(b=a.ha(),a=a.T()):(b=Ta(a),a=Sa(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};h.forEach=function(a,b){for(var c=this.ha(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new ee(this)};h.Rd=function(a){fe(this);var b=0,c=this.na,d=this,e=new de;e.next=function(){if(c!=d.na)throw Error("The map has changed since the iterator was created");if(b>=d.s.length)throw ce;var e=d.s[b++];return a?e:d.Z[e]};return e};
var ge=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ie=function(a){if(a.T&&"function"==typeof a.T)return a.T();if(n(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Sa(a)},je=function(a){if(a.ha&&"function"==typeof a.ha)return a.ha();if(!a.T||"function"!=typeof a.T){if(fa(a)||n(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Ta(a)}},ke=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(fa(a)||n(a))x(a,b,void 0);else for(var c=je(a),d=ie(a),e=
d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)};var le=function(a,b,c,d,e){this.reset(a,b,c,d,e)};le.prototype.cd=null;var me=0;le.prototype.reset=function(a,b,c,d,e){"number"==typeof e||me++;d||la();this.sb=a;this.we=b;delete this.cd};le.prototype.Ad=function(a){this.sb=a};var ne=function(a){this.xe=a;this.hd=this.sc=this.sb=this.o=null},oe=function(a,b){this.name=a;this.value=b};oe.prototype.toString=function(){return this.name};var pe=new oe("SEVERE",1E3),qe=new oe("CONFIG",700),re=new oe("FINE",500);ne.prototype.getParent=function(){return this.o};ne.prototype.Ad=function(a){this.sb=a};var se=function(a){if(a.sb)return a.sb;if(a.o)return se(a.o);za("Root logger has no level set.");return null};
ne.prototype.log=function(a,b,c){if(a.value>=se(this).value)for(p(b)&&(b=b()),a=new le(a,String(b),this.xe),c&&(a.cd=c),c="log:"+a.we,l.console&&(l.console.timeStamp?l.console.timeStamp(c):l.console.markTimeline&&l.console.markTimeline(c)),l.msWriteProfilerMark&&l.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.hd)for(var e=0,f;f=b.hd[e];e++)f(d);c=c.getParent()}};
var te={},ue=null,ve=function(a){ue||(ue=new ne(""),te[""]=ue,ue.Ad(qe));var b;if(!(b=te[a])){b=new ne(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=ve(a.substr(0,c));c.sc||(c.sc={});c.sc[d]=b;b.o=c;te[a]=b}return b};var L=function(a,b){a&&a.log(re,b,void 0)};var we=function(a,b,c){if(p(a))c&&(a=q(a,c));else if(a&&"function"==typeof a.handleEvent)a=q(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)},xe=function(a){var b=null;return(new I(function(c,d){b=we(function(){c(void 0)},a);-1==b&&d(Error("Failed to schedule timer."))})).l(function(a){l.clearTimeout(b);throw a;})};var ye=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,ze=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}};var M=function(a){$d.call(this);this.headers=new ee;this.oc=a||null;this.pa=!1;this.nc=this.a=null;this.rb=this.nd=this.Tb="";this.Ca=this.Ac=this.Qb=this.uc=!1;this.gb=0;this.jc=null;this.vd="";this.lc=this.Ce=this.Id=!1};t(M,$d);var Ae=M.prototype,Be=ve("goog.net.XhrIo");Ae.P=Be;var Ce=/^https?$/i,De=["POST","PUT"];
M.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Tb+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Tb=a;this.rb="";this.nd=b;this.uc=!1;this.pa=!0;this.a=this.oc?this.oc.lb():rc.lb();this.nc=this.oc?qc(this.oc):qc(rc);this.a.onreadystatechange=q(this.sd,this);this.Ce&&"onprogress"in this.a&&(this.a.onprogress=q(function(a){this.rd(a,!0)},this),this.a.upload&&(this.a.upload.onprogress=q(this.rd,this)));try{L(this.P,Ee(this,"Opening Xhr")),
this.Ac=!0,this.a.open(b,String(a),!0),this.Ac=!1}catch(f){L(this.P,Ee(this,"Error opening Xhr: "+f.message));this.J(5,f);return}a=c||"";var e=this.headers.clone();d&&ke(d,function(a,b){e.set(b,a)});d=Ia(e.ha());c=l.FormData&&a instanceof l.FormData;!Ja(De,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.a.setRequestHeader(b,a)},this);this.vd&&(this.a.responseType=this.vd);"withCredentials"in this.a&&this.a.withCredentials!==this.Id&&(this.a.withCredentials=
this.Id);try{Fe(this),0<this.gb&&(this.lc=Ge(this.a),L(this.P,Ee(this,"Will abort after "+this.gb+"ms if incomplete, xhr2 "+this.lc)),this.lc?(this.a.timeout=this.gb,this.a.ontimeout=q(this.zb,this)):this.jc=we(this.zb,this.gb,this)),L(this.P,Ee(this,"Sending request")),this.Qb=!0,this.a.send(a),this.Qb=!1}catch(f){L(this.P,Ee(this,"Send error: "+f.message)),this.J(5,f)}};var Ge=function(a){return z&&A(9)&&ga(a.timeout)&&void 0!==a.ontimeout},Ha=function(a){return"content-type"==a.toLowerCase()};
M.prototype.zb=function(){"undefined"!=typeof aa&&this.a&&(this.rb="Timed out after "+this.gb+"ms, aborting",L(this.P,Ee(this,this.rb)),this.dispatchEvent("timeout"),this.abort(8))};M.prototype.J=function(a,b){this.pa=!1;this.a&&(this.Ca=!0,this.a.abort(),this.Ca=!1);this.rb=b;He(this);Ie(this)};var He=function(a){a.uc||(a.uc=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
M.prototype.abort=function(){this.a&&this.pa&&(L(this.P,Ee(this,"Aborting")),this.pa=!1,this.Ca=!0,this.a.abort(),this.Ca=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ie(this))};M.prototype.Pa=function(){this.a&&(this.pa&&(this.pa=!1,this.Ca=!0,this.a.abort(),this.Ca=!1),Ie(this,!0));M.Rc.Pa.call(this)};M.prototype.sd=function(){this.isDisposed()||(this.Ac||this.Qb||this.Ca?Je(this):this.Ae())};M.prototype.Ae=function(){Je(this)};
var Je=function(a){if(a.pa&&"undefined"!=typeof aa)if(a.nc[1]&&4==Ke(a)&&2==Le(a))L(a.P,Ee(a,"Local request error detected and ignored"));else if(a.Qb&&4==Ke(a))we(a.sd,0,a);else if(a.dispatchEvent("readystatechange"),4==Ke(a)){L(a.P,Ee(a,"Request complete"));a.pa=!1;try{var b=Le(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.Tb).match(ye)[1]||null;if(!f&&l.self&&l.self.location)var g=l.self.location.protocol,
f=g.substr(0,g.length-1);e=!Ce.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var k;try{k=2<Ke(a)?a.a.statusText:""}catch(r){L(a.P,"Can not get status: "+r.message),k=""}a.rb=k+" ["+Le(a)+"]";He(a)}}finally{Ie(a)}}};M.prototype.rd=function(a,b){w("progress"===a.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");this.dispatchEvent(Me(a,"progress"));this.dispatchEvent(Me(a,b?"downloadprogress":"uploadprogress"))};
var Me=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},Ie=function(a,b){if(a.a){Fe(a);var c=a.a,d=a.nc[0]?ba:null;a.a=null;a.nc=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(a=a.P)&&a.log(pe,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},Fe=function(a){a.a&&a.lc&&(a.a.ontimeout=null);ga(a.jc)&&(l.clearTimeout(a.jc),a.jc=null)},Ke=function(a){return a.a?a.a.readyState:0},Le=function(a){try{return 2<Ke(a)?
a.a.status:-1}catch(b){return-1}},Ne=function(a){try{return a.a?a.a.responseText:""}catch(b){return L(a.P,"Can not get responseText: "+b.message),""}},Ee=function(a,b){return b+" ["+a.nd+" "+a.Tb+" "+Le(a)+"]"};var Oe=function(a,b){this.ga=this.Ja=this.la="";this.Va=null;this.Ba=this.ra="";this.M=this.re=!1;var c;a instanceof Oe?(this.M=void 0!==b?b:a.M,Pe(this,a.la),c=a.Ja,N(this),this.Ja=c,Qe(this,a.ga),Re(this,a.Va),Se(this,a.ra),Te(this,a.aa.clone()),a=a.Ba,N(this),this.Ba=a):a&&(c=String(a).match(ye))?(this.M=!!b,Pe(this,c[1]||"",!0),a=c[2]||"",N(this),this.Ja=Ue(a),Qe(this,c[3]||"",!0),Re(this,c[4]),Se(this,c[5]||"",!0),Te(this,c[6]||"",!0),a=c[7]||"",N(this),this.Ba=Ue(a)):(this.M=!!b,this.aa=new O(null,
0,this.M))};Oe.prototype.toString=function(){var a=[],b=this.la;b&&a.push(Ve(b,We,!0),":");var c=this.ga;if(c||"file"==b)a.push("//"),(b=this.Ja)&&a.push(Ve(b,We,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.Va,null!=c&&a.push(":",String(c));if(c=this.ra)this.ga&&"/"!=c.charAt(0)&&a.push("/"),a.push(Ve(c,"/"==c.charAt(0)?Xe:Ye,!0));(c=this.aa.toString())&&a.push("?",c);(c=this.Ba)&&a.push("#",Ve(c,Ze));return a.join("")};
Oe.prototype.resolve=function(a){var b=this.clone(),c=!!a.la;c?Pe(b,a.la):c=!!a.Ja;if(c){var d=a.Ja;N(b);b.Ja=d}else c=!!a.ga;c?Qe(b,a.ga):c=null!=a.Va;d=a.ra;if(c)Re(b,a.Va);else if(c=!!a.ra){if("/"!=d.charAt(0))if(this.ga&&!this.ra)d="/"+d;else{var e=b.ra.lastIndexOf("/");-1!=e&&(d=b.ra.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(v(e,"./")||v(e,"/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var k=e[g++];"."==k?d&&g==e.length&&f.push(""):".."==k?((1<f.length||
1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?Se(b,d):c=""!==a.aa.toString();c?Te(b,Ue(a.aa.toString())):c=!!a.Ba;c&&(a=a.Ba,N(b),b.Ba=a);return b};Oe.prototype.clone=function(){return new Oe(this)};
var Pe=function(a,b,c){N(a);a.la=c?Ue(b,!0):b;a.la&&(a.la=a.la.replace(/:$/,""))},Qe=function(a,b,c){N(a);a.ga=c?Ue(b,!0):b},Re=function(a,b){N(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Va=b}else a.Va=null},Se=function(a,b,c){N(a);a.ra=c?Ue(b,!0):b},Te=function(a,b,c){N(a);b instanceof O?(a.aa=b,a.aa.Oc(a.M)):(c||(b=Ve(b,$e)),a.aa=new O(b,0,a.M))},P=function(a,b,c){N(a);a.aa.set(b,c)},N=function(a){if(a.re)throw Error("Tried to modify a read-only Uri");};
Oe.prototype.Oc=function(a){this.M=a;this.aa&&this.aa.Oc(a);return this};
var af=function(a){return a instanceof Oe?a.clone():new Oe(a,void 0)},bf=function(a,b){var c=new Oe(null,void 0);Pe(c,"https");a&&Qe(c,a);b&&Se(c,b);return c},Ue=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Ve=function(a,b,c){return n(a)?(a=encodeURI(a).replace(b,cf),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},cf=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},We=/[#\/\?@]/g,Ye=/[\#\?:]/g,Xe=/[\#\?]/g,$e=/[\#\?@]/g,
Ze=/#/g,O=function(a,b,c){this.i=this.j=null;this.I=a||null;this.M=!!c},df=function(a){a.j||(a.j=new ee,a.i=0,a.I&&ze(a.I,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))},ff=function(a){var b=je(a);if("undefined"==typeof b)throw Error("Keys are undefined");var c=new O(null,0,void 0);a=ie(a);for(var d=0;d<b.length;d++){var e=b[d],f=a[d];ea(f)?ef(c,e,f):c.add(e,f)}return c};h=O.prototype;h.fd=function(){df(this);return this.i};
h.add=function(a,b){df(this);this.I=null;a=this.K(a);var c=this.j.get(a);c||this.j.set(a,c=[]);c.push(b);this.i=Aa(this.i)+1;return this};h.remove=function(a){df(this);a=this.K(a);return this.j.kb(a)?(this.I=null,this.i=Aa(this.i)-this.j.get(a).length,this.j.remove(a)):!1};h.kb=function(a){df(this);a=this.K(a);return this.j.kb(a)};h.ha=function(){df(this);for(var a=this.j.T(),b=this.j.ha(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
h.T=function(a){df(this);var b=[];if(n(a))this.kb(a)&&(b=Na(b,this.j.get(this.K(a))));else{a=this.j.T();for(var c=0;c<a.length;c++)b=Na(b,a[c])}return b};h.set=function(a,b){df(this);this.I=null;a=this.K(a);this.kb(a)&&(this.i=Aa(this.i)-this.j.get(a).length);this.j.set(a,[b]);this.i=Aa(this.i)+1;return this};h.get=function(a,b){a=a?this.T(a):[];return 0<a.length?String(a[0]):b};var ef=function(a,b,c){a.remove(b);0<c.length&&(a.I=null,a.j.set(a.K(b),Pa(c)),a.i=Aa(a.i)+c.length)};
O.prototype.toString=function(){if(this.I)return this.I;if(!this.j)return"";for(var a=[],b=this.j.ha(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.T(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.I=a.join("&")};O.prototype.clone=function(){var a=new O;a.I=this.I;this.j&&(a.j=this.j.clone(),a.i=this.i);return a};O.prototype.K=function(a){a=String(a);this.M&&(a=a.toLowerCase());return a};
O.prototype.Oc=function(a){a&&!this.M&&(df(this),this.I=null,this.j.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),ef(this,b,a))},this));this.M=a};var hf=function(){var a=gf();return z&&!!pb&&11==pb||/Edge\/\d+/.test(a)},jf=function(){return l.window&&l.window.location.href||""},kf=function(a,b){var c=[],d;for(d in a)d in b?typeof a[d]!=typeof b[d]?c.push(d):ea(a[d])?Va(a[d],b[d])||c.push(d):"object"==typeof a[d]&&null!=a[d]&&null!=b[d]?0<kf(a[d],b[d]).length&&c.push(d):a[d]!==b[d]&&c.push(d):c.push(d);for(d in b)d in a||c.push(d);return c},mf=function(){var a;a=gf();a="Chrome"!=lf(a)?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],
10):null;return a&&30>a?!1:!z||!pb||9<pb},nf=function(a){a=a||l.window;try{a.close()}catch(b){}},of=function(a,b,c){var d=Math.floor(1E9*Math.random()).toString();b=b||500;c=c||600;var e=(window.screen.availHeight-c)/2,f=(window.screen.availWidth-b)/2;b={width:b,height:c,top:0<e?e:0,left:0<f?f:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1};d&&(b.target=d);"Firefox"==lf(gf())&&(a=a||"http://localhost",b.scrollbars=!0);var g;c=a||"about:blank";(d=b)||(d={});a=window;b=c instanceof B?c:gc("undefined"!=
typeof c.href?c.href:String(c));c=d.target||c.target;e=[];for(g in d)switch(g){case "width":case "height":case "top":case "left":e.push(g+"="+d[g]);break;case "target":case "noreferrer":break;default:e.push(g+"="+(d[g]?1:0))}g=e.join(",");(y("iPhone")&&!y("iPod")&&!y("iPad")||y("iPad")||y("iPod"))&&a.navigator&&a.navigator.standalone&&c&&"_self"!=c?(g=a.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&(e=g&&(g instanceof
HTMLAnchorElement||!(g instanceof Location||g instanceof Element)),f=ha(g)?g.constructor.displayName||g.constructor.name||Object.prototype.toString.call(g):void 0===g?"undefined":null===g?"null":typeof g,w(e,"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",f)),b=b instanceof B?b:gc(b),g.href=dc(b),g.setAttribute("target",c),d.noreferrer&&g.setAttribute("rel","noreferrer"),d=document.createEvent("MouseEvent"),d.initMouseEvent("click",!0,!0,a,1),g.dispatchEvent(d),g={}):d.noreferrer?
(g=a.open("",c,g),d=dc(b),g&&(gb&&v(d,";")&&(d="'"+d.replace(/'/g,"%27")+"'"),g.opener=null,a=new ac,a.hc="b/12014412, meta tag with sanitized URL",va.test(d)&&(-1!=d.indexOf("&")&&(d=d.replace(oa,"&amp;")),-1!=d.indexOf("<")&&(d=d.replace(pa,"&lt;")),-1!=d.indexOf(">")&&(d=d.replace(qa,"&gt;")),-1!=d.indexOf('"')&&(d=d.replace(ra,"&quot;")),-1!=d.indexOf("'")&&(d=d.replace(ta,"&#39;")),-1!=d.indexOf("\x00")&&(d=d.replace(ua,"&#0;"))),d='<META HTTP-EQUIV="refresh" content="0; url='+d+'">',Ba(bc(a),
"must provide justification"),w(!/^[\s\xa0]*$/.test(bc(a)),"must provide non-empty justification"),g.document.write(Wc((new Vc).qe(d))),g.document.close())):g=a.open(dc(b),c,g);if(g)try{g.focus()}catch(k){}return g},pf=function(a){return new I(function(b){var c=function(){xe(2E3).then(function(){if(!a||a.closed)b();else return c()})};return c()})},qf=function(){var a=null;return(new I(function(b){"complete"==l.document.readyState?b():(a=function(){b()},Sb(window,"load",a))})).l(function(b){Ub(window,
"load",a);throw b;})},rf=function(a){switch(a||l.navigator&&l.navigator.product||""){case "ReactNative":return"ReactNative";default:return"undefined"!==typeof l.process?"Node":"Browser"}},sf=function(){var a=rf();return"ReactNative"===a||"Node"===a},lf=function(a){var b=a.toLowerCase();if(v(b,"opera/")||v(b,"opr/")||v(b,"opios/"))return"Opera";if(v(b,"iemobile"))return"IEMobile";if(v(b,"msie")||v(b,"trident/"))return"IE";if(v(b,"edge/"))return"Edge";if(v(b,"firefox/"))return"Firefox";if(v(b,"silk/"))return"Silk";
if(v(b,"blackberry"))return"Blackberry";if(v(b,"webos"))return"Webos";if(!v(b,"safari/")||v(b,"chrome/")||v(b,"crios/")||v(b,"android"))if(!v(b,"chrome/")&&!v(b,"crios/")||v(b,"edge/")){if(v(b,"android"))return"Android";if((a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length)return a[1]}else return"Chrome";else return"Safari";return"Other"},tf=function(a){var b=rf(void 0);return("Browser"===b?lf(gf()):b)+"/JsCore/"+a},gf=function(){return l.navigator&&l.navigator.userAgent||""},uf=function(a){a=
a.split(".");for(var b=l,c=0;c<a.length&&"object"==typeof b&&null!=b;c++)b=b[a[c]];c!=a.length&&(b=void 0);return b},wf=function(){var a;if(!(a=!l.location||!l.location.protocol||"http:"!=l.location.protocol&&"https:"!=l.location.protocol||sf())){var b;a:{try{var c=l.localStorage,d=vf();if(c){c.setItem(d,"1");c.removeItem(d);b=hf()?!!l.indexedDB:!0;break a}}catch(e){}b=!1}a=!b}return!a},xf=function(a){a=a||gf();var b=(a||gf()).toLowerCase();return b.match(/android/)||b.match(/webos/)||b.match(/iphone|ipad|ipod/)||
b.match(/blackberry/)||b.match(/windows phone/)||b.match(/iemobile/)||"Firefox"==lf(a)?!1:!0},yf=function(a){return"undefined"===typeof a?null:lc(a)},zf=function(a){if(null!==a){var b;try{b=ic(a)}catch(c){try{b=JSON.parse(a)}catch(d){throw c;}}return b}},vf=function(a){return a?a:""+Math.floor(1E9*Math.random()).toString()},Af=function(a){a=a||gf();return"Safari"==lf(a)||a.toLowerCase().match(/iphone|ipad|ipod/)?!1:!0},Bf=function(){var a=l.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||
[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var c=0;c<a.CP.length;c++)a.CP[c]=null};var Cf;try{var Df={};Object.defineProperty(Df,"abcd",{configurable:!0,enumerable:!0,value:1});Object.defineProperty(Df,"abcd",{configurable:!0,enumerable:!0,value:2});Cf=2==Df.abcd}catch(a){Cf=!1}
var Q=function(a,b,c){Cf?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:c}):a[b]=c},Ef=function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&Q(a,c,b[c])},Ff=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},Gf=function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var c=0;c<b.length;c++){var d=a[b[c]];if(void 0===d||null===d||""===d)return!1}return!0};var Hf={Jd:{vb:500,ub:600,providerId:"facebook.com"},Kd:{vb:500,ub:620,providerId:"github.com"},Ld:{vb:515,ub:680,providerId:"google.com"},Qd:{vb:485,ub:705,providerId:"twitter.com"}},If=function(a){for(var b in Hf)if(Hf[b].providerId==a)return Hf[b];return null};var R=function(a,b){this.code="auth/"+a;this.message=b||Jf[a]||""};t(R,Error);R.prototype.G=function(){return{name:this.code,code:this.code,message:this.message}};
var Jf={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",
"email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.",
"invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",
"invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",
"network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http or https and web storage must be enabled.',
"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.",
"user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported."};var Kf=function(a,b,c,d,e){this.wa=a;this.Aa=b||null;this.ib=c||null;this.ec=d||null;this.J=e||null;if(this.ib||this.J){if(this.ib&&this.J)throw new R("invalid-auth-event");if(this.ib&&!this.ec)throw new R("invalid-auth-event");}else throw new R("invalid-auth-event");};Kf.prototype.getError=function(){return this.J};Kf.prototype.G=function(){return{type:this.wa,eventId:this.Aa,urlResponse:this.ib,sessionId:this.ec,error:this.J&&this.J.G()}};var Lf=function(a){var b="unauthorized-domain",c=void 0,d=af(a);a=d.ga;d=d.la;"http"!=d&&"https"!=d?b="operation-not-supported-in-this-environment":c=ma("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a);R.call(this,b,c)};t(Lf,R);var Mf=function(a){this.ve=a.sub;la();this.Fb=a.email||null};var Nf=function(a,b,c,d){var e={};ha(c)?e=c:b&&n(c)&&n(d)?e={oauthToken:c,oauthTokenSecret:d}:!b&&n(c)&&(e={accessToken:c});if(b||!e.idToken&&!e.accessToken)if(b&&e.oauthToken&&e.oauthTokenSecret)Q(this,"accessToken",e.oauthToken),Q(this,"secret",e.oauthTokenSecret);else{if(b)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");}else e.idToken&&Q(this,
"idToken",e.idToken),e.accessToken&&Q(this,"accessToken",e.accessToken);Q(this,"provider",a)};Nf.prototype.Ib=function(a){return Of(a,Pf(this))};Nf.prototype.od=function(a,b){var c=Pf(this);c.idToken=b;return Qf(a,c)};var Pf=function(a){var b={};a.idToken&&(b.id_token=a.idToken);a.accessToken&&(b.access_token=a.accessToken);a.secret&&(b.oauth_token_secret=a.secret);b.providerId=a.provider;return{postBody:ff(b).toString(),requestUri:wf()?jf():"http://localhost"}};
Nf.prototype.G=function(){var a={provider:this.provider};this.idToken&&(a.oauthIdToken=this.idToken);this.accessToken&&(a.oauthAccessToken=this.accessToken);this.secret&&(a.oauthTokenSecret=this.secret);return a};
var Rf=function(a,b){var c=!!b;b=function(){Ef(this,{providerId:a,isOAuthProvider:!0});this.Nc=[];"google.com"==a&&this.addScope("profile")};c||(b.prototype.addScope=function(a){Ja(this.Nc,a)||this.Nc.push(a)});b.prototype.Jb=function(){return Pa(this.Nc)};b.credential=function(b,e){return new Nf(a,c,b,e)};Ef(b,{PROVIDER_ID:a});return b},Sf=Rf("facebook.com");Sf.prototype.addScope=Sf.prototype.addScope||void 0;var Tf=Rf("github.com");Tf.prototype.addScope=Tf.prototype.addScope||void 0;var Uf=Rf("google.com");
Uf.prototype.addScope=Uf.prototype.addScope||void 0;Uf.credential=function(a,b){if(!a&&!b)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new Nf("google.com",!1,ha(a)?a:{idToken:a||null,accessToken:b||null})};var Vf=Rf("twitter.com",!0),Wf=function(a,b){this.Fb=a;this.Gc=b;Q(this,"provider","password")};Wf.prototype.Ib=function(a){return S(a,Xf,{email:this.Fb,password:this.Gc})};
Wf.prototype.od=function(a,b){return S(a,Yf,{idToken:b,email:this.Fb,password:this.Gc})};Wf.prototype.G=function(){return{email:this.Fb,password:this.Gc}};var Zf=function(){Ef(this,{providerId:"password",isOAuthProvider:!1})};Ef(Zf,{PROVIDER_ID:"password"});
var $f={Ve:Zf,Jd:Sf,Ld:Uf,Kd:Tf,Qd:Vf},ag=function(a){var b=a&&a.providerId;if(!b)return null;var c=a&&a.oauthAccessToken,d=a&&a.oauthTokenSecret;a=a&&a.oauthIdToken;for(var e in $f)if($f[e].PROVIDER_ID==b)try{return $f[e].credential({accessToken:c,idToken:a,oauthToken:c,oauthTokenSecret:d})}catch(f){break}return null};var bg=function(a,b,c,d){R.call(this,a,d);Q(this,"email",b);Q(this,"credential",c)};t(bg,R);bg.prototype.G=function(){var a={code:this.code,message:this.message,email:this.email},b=this.credential&&this.credential.G();b&&(Ya(a,b),a.providerId=b.provider,delete a.provider);return a};var cg=function(a){if(a.code){var b=a.code||"";0==b.indexOf("auth/")&&(b=b.substring(5));return a.email?new bg(b,a.email,ag(a),a.message):new R(b,a.message||void 0)}return null};var dg=function(a){this.Ue=a};t(dg,pc);dg.prototype.lb=function(){return new this.Ue};dg.prototype.Sb=function(){return{}};
var T=function(a,b,c){var d;d="Node"==rf();d=l.XMLHttpRequest||d&&firebase.INTERNAL.node&&firebase.INTERNAL.node.XMLHttpRequest;if(!d)throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.v=a;a=b||{};this.Fe=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token";this.Ge=a.secureTokenTimeout||1E4;this.yd=Wa(a.secureTokenHeaders||eg);this.ce=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/";this.de=a.firebaseTimeout||
1E4;this.ed=Wa(a.firebaseHeaders||fg);c&&(this.ed["X-Client-Version"]=c,this.yd["X-Client-Version"]=c);this.Ud=new uc;this.Te=new dg(d)},gg,eg={"Content-Type":"application/x-www-form-urlencoded"},fg={"Content-Type":"application/json"},ig=function(a,b,c,d,e,f,g){mf()?a=q(a.Ie,a):(gg||(gg=new I(function(a,b){hg(a,b)})),a=q(a.He,a));a(b,c,d,e,f,g)};
T.prototype.Ie=function(a,b,c,d,e,f){var g="Node"==rf(),k=sf()?g?new M(this.Te):new M:new M(this.Ud),r;f&&(k.gb=Math.max(0,f),r=setTimeout(function(){k.dispatchEvent("timeout")},f));k.listen("complete",function(){r&&clearTimeout(r);var a=null;try{var c;c=this.a?ic(this.a.responseText):void 0;a=c||null}catch(Ri){try{a=JSON.parse(Ne(this))||null}catch(Si){a=null}}b&&b(a)});Tb(k,"ready",function(){r&&clearTimeout(r);this.za||(this.za=!0,this.Pa())});Tb(k,"timeout",function(){r&&clearTimeout(r);this.za||
(this.za=!0,this.Pa());b&&b(null)});k.send(a,c,d,e)};var Pd="__fcb"+Math.floor(1E6*Math.random()).toString(),hg=function(a,b){((window.gapi||{}).client||{}).request?a():(l[Pd]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},Rd(function(){b(Error("CORS_UNSUPPORTED"))}))};
T.prototype.He=function(a,b,c,d,e){var f=this;gg.then(function(){window.gapi.client.setApiKey(f.v);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null);window.gapi.client.request({path:a,method:c,body:d,headers:e,authType:"none",callback:function(a){window.gapi.auth.setToken(g);b&&b(a)}})}).l(function(a){b&&b({error:{message:a&&a.message||"CORS_UNSUPPORTED"}})})};
var kg=function(a,b){return new I(function(c,d){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?ig(a,a.Fe+"?key="+encodeURIComponent(a.v),function(a){a?a.error?d(jg(a)):a.access_token&&a.refresh_token?c(a):d(new R("internal-error")):d(new R("network-request-failed"))},"POST",ff(b).toString(),a.yd,a.Ge):d(new R("internal-error"))})},lg=function(a){var b={},c;for(c in a)null!==a[c]&&void 0!==a[c]&&(b[c]=a[c]);return lc(b)},mg=function(a,b,c,d,e){var f=a.ce+
b+"?key="+encodeURIComponent(a.v);e&&(f+="&cb="+la().toString());return new I(function(b,e){ig(a,f,function(a){a?a.error?e(jg(a)):b(a):e(new R("network-request-failed"))},c,lg(d),a.ed,a.de)})},ng=function(a){if(!Zb.test(a.email))throw new R("invalid-email");},og=function(a){"email"in a&&ng(a)},qg=function(a,b){var c=wf()?jf():"http://localhost";return S(a,pg,{identifier:b,continueUri:c}).then(function(a){return a.allProviders||[]})},sg=function(a){return S(a,rg,{}).then(function(a){return a.authorizedDomains||
[]})},tg=function(a){if(!a.idToken)throw new R("internal-error");};T.prototype.signInAnonymously=function(){return S(this,ug,{})};T.prototype.updateEmail=function(a,b){return S(this,vg,{idToken:a,email:b})};T.prototype.updatePassword=function(a,b){return S(this,Yf,{idToken:a,password:b})};var wg={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};
T.prototype.updateProfile=function(a,b){var c={idToken:a},d=[];Ra(wg,function(a,f){var e=b[f];null===e?d.push(a):f in b&&(c[f]=e)});d.length&&(c.deleteAttribute=d);return S(this,vg,c)};T.prototype.sendPasswordResetEmail=function(a){return S(this,xg,{requestType:"PASSWORD_RESET",email:a})};T.prototype.sendEmailVerification=function(a){return S(this,yg,{requestType:"VERIFY_EMAIL",idToken:a})};
var Ag=function(a,b,c){return S(a,zg,{idToken:b,deleteProvider:c})},Bg=function(a){if(!a.requestUri||!a.sessionId&&!a.postBody)throw new R("internal-error");},Cg=function(a){var b=null;a.needConfirmation?(a.code="account-exists-with-different-credential",b=cg(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=cg(a)):"EMAIL_EXISTS"==a.errorMessage&&(a.code="email-already-in-use",b=cg(a));if(b)throw b;if(!a.idToken)throw new R("internal-error");},Of=function(a,
b){b.returnIdpCredential=!0;return S(a,Dg,b)},Qf=function(a,b){b.returnIdpCredential=!0;return S(a,Eg,b)},Fg=function(a){if(!a.oobCode)throw new R("invalid-action-code");};T.prototype.confirmPasswordReset=function(a,b){return S(this,Gg,{oobCode:a,newPassword:b})};T.prototype.checkActionCode=function(a){return S(this,Hg,{oobCode:a})};T.prototype.applyActionCode=function(a){return S(this,Ig,{oobCode:a})};
var Ig={endpoint:"setAccountInfo",D:Fg,eb:"email"},Hg={endpoint:"resetPassword",D:Fg,ua:function(a){if(!Zb.test(a.email))throw new R("internal-error");}},Jg={endpoint:"signupNewUser",D:function(a){ng(a);if(!a.password)throw new R("weak-password");},ua:tg,va:!0},pg={endpoint:"createAuthUri"},Kg={endpoint:"deleteAccount",bb:["idToken"]},zg={endpoint:"setAccountInfo",bb:["idToken","deleteProvider"],D:function(a){if(!ea(a.deleteProvider))throw new R("internal-error");}},Lg={endpoint:"getAccountInfo"},
yg={endpoint:"getOobConfirmationCode",bb:["idToken","requestType"],D:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new R("internal-error");},eb:"email"},xg={endpoint:"getOobConfirmationCode",bb:["requestType"],D:function(a){if("PASSWORD_RESET"!=a.requestType)throw new R("internal-error");ng(a)},eb:"email"},rg={Td:!0,endpoint:"getProjectConfig",me:"GET"},Gg={endpoint:"resetPassword",D:Fg,eb:"email"},vg={endpoint:"setAccountInfo",bb:["idToken"],D:og,va:!0},Yf={endpoint:"setAccountInfo",bb:["idToken"],
D:function(a){og(a);if(!a.password)throw new R("weak-password");},ua:tg,va:!0},ug={endpoint:"signupNewUser",ua:tg,va:!0},Dg={endpoint:"verifyAssertion",D:Bg,ua:Cg,va:!0},Eg={endpoint:"verifyAssertion",D:function(a){Bg(a);if(!a.idToken)throw new R("internal-error");},ua:Cg,va:!0},Mg={endpoint:"verifyCustomToken",D:function(a){if(!a.token)throw new R("invalid-custom-token");},ua:tg,va:!0},Xf={endpoint:"verifyPassword",D:function(a){ng(a);if(!a.password)throw new R("wrong-password");},ua:tg,va:!0},S=
function(a,b,c){if(!Gf(c,b.bb))return K(new R("internal-error"));var d=b.me||"POST",e;return J(c).then(b.D).then(function(){b.va&&(c.returnSecureToken=!0);return mg(a,b.endpoint,d,c,b.Td||!1)}).then(function(a){return e=a}).then(b.ua).then(function(){if(!b.eb)return e;if(!(b.eb in e))throw new R("internal-error");return e[b.eb]})},jg=function(a){var b,c;c=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"";var d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?
new R(d[c]):null)return c;c=a.error&&a.error.message||"";d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",
FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",
USER_CANCELLED:"user-cancelled"};b=(b=c.match(/^[^\s]+\s*:\s*(.*)$/))&&1<b.length?b[1]:void 0;for(var e in d)if(0===c.indexOf(e))return new R(d[e],b);!b&&a&&(b=yf(a));return new R("internal-error",b)};var Ng=function(a){this.R=a};Ng.prototype.value=function(){return this.R};Ng.prototype.Bd=function(a){this.R.style=a;return this};var Og=function(a){this.R=a||{}};Og.prototype.value=function(){return this.R};Og.prototype.Bd=function(a){this.R.style=a;return this};var Qg=function(a){this.Se=a;this.zc=null;this.qd=Pg(this)};Qg.prototype.Ec=function(){return this.qd};
var Rg=function(a){var b=new Og;b.R.where=document.body;b.R.url=a.Se;b.R.messageHandlersFilter=uf("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER");b.R.attributes=b.R.attributes||{};(new Ng(b.R.attributes)).Bd({position:"absolute",top:"-100px",width:"1px",height:"1px"});b.R.dontclear=!0;return b},Pg=function(a){return Sg().then(function(){return new I(function(b,c){uf("gapi.iframes.getContext")().open(Rg(a).value(),function(d){a.zc=d;a.zc.restyle({setHideOnLeave:!1});var e=setTimeout(function(){c(Error("Network Error"))},
5E3),f=function(){clearTimeout(e);b()};d.ping(f).then(f,function(){c(Error("Network Error"))})})})})},Tg=function(a,b){a.qd.then(function(){a.zc.register("authEvent",b,uf("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},Ug="__iframefcb"+Math.floor(1E6*Math.random()).toString(),Sg=function(){return new I(function(a,b){var c=function(){Bf();uf("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){Bf();b(Error("Network Error"))},timeout:3E3})};uf("gapi.iframes.Iframe")?a():uf("gapi.load")?c():
(l[Ug]=function(){uf("gapi.load")?c():b(Error("Network Error"))},J(Od("https://apis.google.com/js/api.js?onload="+Ug)).l(function(){b(Error("Network Error"))}))})};var Wg=function(a,b,c,d){this.X=a;this.v=b;this.ea=c;d=this.ya=d||null;a=bf(a,"/__/auth/iframe");P(a,"apiKey",b);P(a,"appName",c);d&&P(a,"v",d);this.ne=a.toString();this.kd=new Qg(this.ne);this.Bb=[];Vg(this)};Wg.prototype.Ec=function(){return this.kd.Ec()};
var Xg=function(a,b,c,d,e,f,g,k,r){a=bf(a,"/__/auth/handler");P(a,"apiKey",b);P(a,"appName",c);P(a,"authType",d);P(a,"providerId",e);f&&f.length&&P(a,"scopes",f.join(","));g&&P(a,"redirectUrl",g);k&&P(a,"eventId",k);r&&P(a,"v",r);return a.toString()},Vg=function(a){Tg(a.kd,function(b){var c={};if(b&&b.authEvent){var d=!1;b=b.authEvent||{};if(b.type){if(c=b.error)var e=(c=b.error)&&(c.name||c.code),c=e?new R(e.substring(5),c.message):null;b=new Kf(b.type,b.eventId,b.urlResponse,b.sessionId,c)}else b=
null;for(c=0;c<a.Bb.length;c++)d=a.Bb[c](b)||d;c={};c.status=d?"ACK":"ERROR";return J(c)}c.status="ERROR";return J(c)})},Yg=function(a,b){Ma(a.Bb,function(a){return a==b})};var Zg=function(a){this.u=a||firebase.INTERNAL.reactNative&&firebase.INTERNAL.reactNative.AsyncStorage;if(!this.u)throw new R("internal-error","The React Native compatibility library was not found.");};h=Zg.prototype;h.get=function(a){return J(this.u.getItem(a)).then(function(a){return a&&zf(a)})};h.set=function(a,b){return J(this.u.setItem(a,yf(b)))};h.remove=function(a){return J(this.u.removeItem(a))};h.La=function(){};h.$a=function(){};var $g=function(){this.u={}};h=$g.prototype;h.get=function(a){return J(this.u[a])};h.set=function(a,b){this.u[a]=b;return J()};h.remove=function(a){delete this.u[a];return J()};h.La=function(){};h.$a=function(){};var bh=function(){if(!ah()){if("Node"==rf())throw new R("internal-error","The LocalStorage compatibility library was not found.");throw new R("web-storage-unsupported");}this.u=l.localStorage||firebase.INTERNAL.node.localStorage},ah=function(){var a="Node"==rf(),a=l.localStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.localStorage;if(!a)return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(b){return!1}};h=bh.prototype;
h.get=function(a){var b=this;return J().then(function(){var c=b.u.getItem(a);return zf(c)})};h.set=function(a,b){var c=this;return J().then(function(){var d=yf(b);null===d?c.remove(a):c.u.setItem(a,d)})};h.remove=function(a){var b=this;return J().then(function(){b.u.removeItem(a)})};h.La=function(a){l.window&&Lb(l.window,"storage",a)};h.$a=function(a){l.window&&Ub(l.window,"storage",a)};var ch=function(){this.u={}};h=ch.prototype;h.get=function(){return J(null)};h.set=function(){return J()};h.remove=function(){return J()};h.La=function(){};h.$a=function(){};var eh=function(){if(!dh()){if("Node"==rf())throw new R("internal-error","The SessionStorage compatibility library was not found.");throw new R("web-storage-unsupported");}this.u=l.sessionStorage||firebase.INTERNAL.node.sessionStorage},dh=function(){var a="Node"==rf(),a=l.sessionStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.sessionStorage;if(!a)return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(b){return!1}};h=eh.prototype;
h.get=function(a){var b=this;return J().then(function(){var c=b.u.getItem(a);return zf(c)})};h.set=function(a,b){var c=this;return J().then(function(){var d=yf(b);null===d?c.remove(a):c.u.setItem(a,d)})};h.remove=function(a){var b=this;return J().then(function(){b.u.removeItem(a)})};h.La=function(){};h.$a=function(){};var fh=function(a,b,c,d,e,f){if(!window.indexedDB)throw new R("web-storage-unsupported");this.Wd=a;this.Dc=b;this.tc=c;this.Hd=d;this.na=e;this.O={};this.xb=[];this.tb=0;this.oe=f||l.indexedDB},gh,hh=function(a){return new I(function(b,c){var d=a.oe.open(a.Wd,a.na);d.onerror=function(a){c(Error(a.target.errorCode))};d.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore(a.Dc,{keyPath:a.tc})}catch(f){c(f)}};d.onsuccess=function(a){b(a.target.result)}})},ih=function(a){a.ld||(a.ld=
hh(a));return a.ld},jh=function(a,b){return b.objectStore(a.Dc)},kh=function(a,b,c){return b.transaction([a.Dc],c?"readwrite":"readonly")},lh=function(a){return new I(function(b,c){a.onsuccess=function(a){a&&a.target?b(a.target.result):b()};a.onerror=function(a){c(Error(a.target.errorCode))}})};h=fh.prototype;
h.set=function(a,b){var c=!1,d,e=this;return xd(ih(this).then(function(b){d=b;b=jh(e,kh(e,d,!0));return lh(b.get(a))}).then(function(f){var g=jh(e,kh(e,d,!0));if(f)return f.value=b,lh(g.put(f));e.tb++;c=!0;f={};f[e.tc]=a;f[e.Hd]=b;return lh(g.add(f))}).then(function(){e.O[a]=b}),function(){c&&e.tb--})};h.get=function(a){var b=this;return ih(this).then(function(c){return lh(jh(b,kh(b,c,!1)).get(a))}).then(function(a){return a&&a.value})};
h.remove=function(a){var b=!1,c=this;return xd(ih(this).then(function(d){b=!0;c.tb++;return lh(jh(c,kh(c,d,!0))["delete"](a))}).then(function(){delete c.O[a]}),function(){b&&c.tb--})};
h.Ke=function(){var a=this;return ih(this).then(function(b){var c=jh(a,kh(a,b,!1));return c.getAll?lh(c.getAll()):new I(function(a,b){var d=[],e=c.openCursor();e.onsuccess=function(b){(b=b.target.result)?(d.push(b.value),b["continue"]()):a(d)};e.onerror=function(a){b(Error(a.target.errorCode))}})}).then(function(b){var c={},d=[];if(0==a.tb){for(d=0;d<b.length;d++)c[b[d][a.tc]]=b[d][a.Hd];d=kf(a.O,c);a.O=c}return d})};h.La=function(a){0==this.xb.length&&this.Qc();this.xb.push(a)};
h.$a=function(a){Ma(this.xb,function(b){return b==a});0==this.xb.length&&this.gc()};h.Qc=function(){var a=this;this.gc();var b=function(){a.Ic=xe(800).then(q(a.Ke,a)).then(function(b){0<b.length&&x(a.xb,function(a){a(b)})}).then(b).l(function(a){"STOP_EVENT"!=a.message&&b()});return a.Ic};b()};h.gc=function(){this.Ic&&this.Ic.cancel("STOP_EVENT")};var ph=function(){this.bd={Browser:mh,Node:nh,ReactNative:oh}[rf()]},qh,mh={V:bh,Sc:eh},nh={V:bh,Sc:eh},oh={V:Zg,Sc:ch};var rh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),U=function(a,b){return{name:a||"",ca:"a valid string",optional:!!b,da:n}},sh=function(a){return{name:a||"",ca:"a valid object",optional:!1,da:ha}},th=function(a,b){return{name:a||"",ca:"a function",optional:!!b,da:p}},uh=function(){return{name:"",ca:"null",optional:!1,da:da}},vh=function(){return{name:"credential",ca:"a valid credential",optional:!1,da:function(a){return!(!a||!a.Ib)}}},wh=function(){return{name:"authProvider",
ca:"a valid Auth provider",optional:!1,da:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}},xh=function(a,b,c,d){return{name:c||"",ca:a.ca+" or "+b.ca,optional:!!d,da:function(c){return a.da(c)||b.da(c)}}};var zh=function(a,b){for(var c in b){var d=b[c].name;a[d]=yh(d,a[c],b[c].b)}},V=function(a,b,c,d){a[b]=yh(b,c,d)},yh=function(a,b,c){if(!c)return b;var d=Ah(a);a=function(){var a=Array.prototype.slice.call(arguments),e;a:{e=Array.prototype.slice.call(a);var k;k=0;for(var r=!1,sa=0;sa<c.length;sa++)if(c[sa].optional)r=!0;else{if(r)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");k++}r=c.length;if(e.length<k||r<e.length)e="Expected "+(k==
r?1==k?"1 argument":k+" arguments":k+"-"+r+" arguments")+" but got "+e.length+".";else{for(k=0;k<e.length;k++)if(r=c[k].optional&&void 0===e[k],!c[k].da(e[k])&&!r){e=c[k];if(0>k||k>=rh.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");e=rh[k]+" argument "+(e.name?'"'+e.name+'" ':"")+"must be "+e.ca+".";break a}e=null}}if(e)throw new R("argument-error",d+" failed: "+e);return b.apply(this,a)};for(var e in b)a[e]=b[e];for(e in b.prototype)a.prototype[e]=
b.prototype[e];return a},Ah=function(a){a=a.split(".");return a[a.length-1]};var Bh=function(a,b,c,d){this.ye=a;this.zd=b;this.Ee=c;this.fb=d;this.N={};qh||(qh=new ph);a=qh;try{var e;hf()?(gh||(gh=new fh("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1)),e=gh):e=new a.bd.V;this.Ua=e}catch(f){this.Ua=new $g,this.fb=!0}try{this.ic=new a.bd.Sc}catch(f){this.ic=new $g}this.Cd=q(this.Dd,this);this.O={}},Ch,Dh=function(){Ch||(Ch=new Bh("firebase",":",!Af(gf())&&l.window&&l.window!=l.window.top?!0:!1,xf()));return Ch};h=Bh.prototype;
h.K=function(a,b){return this.ye+this.zd+a.name+(b?this.zd+b:"")};h.get=function(a,b){return(a.V?this.Ua:this.ic).get(this.K(a,b))};h.remove=function(a,b){b=this.K(a,b);a.V&&!this.fb&&(this.O[b]=null);return(a.V?this.Ua:this.ic).remove(b)};h.set=function(a,b,c){var d=this.K(a,c),e=this,f=a.V?this.Ua:this.ic;return f.set(d,b).then(function(){return f.get(d)}).then(function(b){a.V&&!this.fb&&(e.O[d]=b)})};
h.addListener=function(a,b,c){a=this.K(a,b);this.fb||(this.O[a]=l.localStorage.getItem(a));Ua(this.N)&&this.Qc();this.N[a]||(this.N[a]=[]);this.N[a].push(c)};h.removeListener=function(a,b,c){a=this.K(a,b);this.N[a]&&(Ma(this.N[a],function(a){return a==c}),0==this.N[a].length&&delete this.N[a]);Ua(this.N)&&this.gc()};h.Qc=function(){this.Ua.La(this.Cd);this.fb||Eh(this)};
var Eh=function(a){Fh(a);a.Cc=setInterval(function(){for(var b in a.N){var c=l.localStorage.getItem(b);c!=a.O[b]&&(a.O[b]=c,c=new Ab({type:"storage",key:b,target:window,oldValue:a.O[b],newValue:c}),a.Dd(c))}},1E3)},Fh=function(a){a.Cc&&(clearInterval(a.Cc),a.Cc=null)};Bh.prototype.gc=function(){this.Ua.$a(this.Cd);this.fb||Fh(this)};
Bh.prototype.Dd=function(a){if(a&&a.fe){var b=a.mb.key;if(this.Ee){var c=l.localStorage.getItem(b);a=a.mb.newValue;a!=c&&(a?l.localStorage.setItem(b,a):a||l.localStorage.removeItem(b))}this.O[b]=l.localStorage.getItem(b);this.Xc(b)}else x(a,q(this.Xc,this))};Bh.prototype.Xc=function(a){this.N[a]&&x(this.N[a],function(a){a()})};var Gh=function(a){this.B=a;this.A=Dh()},Hh={name:"pendingRedirect",V:!1},Ih=function(a){return a.A.set(Hh,"pending",a.B)},Jh=function(a){return a.A.remove(Hh,a.B)},Kh=function(a){return a.A.get(Hh,a.B).then(function(a){return"pending"==a})};var Nh=function(a,b,c){var d=this,e=(this.ya=firebase.SDK_VERSION||null)?tf(this.ya):null;this.f=new T(b,null,e);this.qa=null;this.X=a;this.v=b;this.ea=c;this.yb=[];this.Rb=!1;this.Tc=q(this.ge,this);this.Xa=new Lh(this);this.td=new Mh(this);this.Hc=new Gh(this.v+":"+this.ea);this.hb={};this.hb.unknown=this.Xa;this.hb.signInViaRedirect=this.Xa;this.hb.linkViaRedirect=this.Xa;this.hb.signInViaPopup=this.td;this.hb.linkViaPopup=this.td;this.bc=this.cb=null;this.Wb=new I(function(a,b){d.cb=a;d.bc=b})};
Nh.prototype.reset=function(){var a=this;this.qa=null;this.Wb.cancel();this.Rb=!1;this.bc=this.cb=null;this.Ob&&Yg(this.Ob,this.Tc);this.Wb=new I(function(b,c){a.cb=b;a.bc=c})};
var Oh=function(a){var b=jf();return sg(a).then(function(a){a:{for(var c=af(b).ga,e=0;e<a.length;e++){var f;var g=a[e];f=c;var k=Mc(g);k?f=(f=Mc(f))?k.Gb(f):!1:(k=g.split(".").join("\\."),f=(new RegExp("^(.+\\."+k+"|"+k+")$","i")).test(f));if(f){a=!0;break a}}a=!1}if(!a)throw new Lf(jf());})},Ph=function(a){a.Rb||(a.Rb=!0,qf().then(function(){a.Ob=new Wg(a.X,a.v,a.ea,a.ya);a.Ob.Ec().l(function(){a.bc(new R("network-request-failed"));a.reset()});a.Ob.Bb.push(a.Tc)}));return a.Wb};
Nh.prototype.subscribe=function(a){Ja(this.yb,a)||this.yb.push(a);if(!this.Rb){var b=this,c=function(){var a=gf();xf(a)||Af(a)?Qh(b.Xa):Ph(b)};Kh(this.Hc).then(function(a){a?Jh(b.Hc).then(function(){Ph(b)}):c()}).l(function(){c()})}};Nh.prototype.unsubscribe=function(a){Ma(this.yb,function(b){return b==a})};
Nh.prototype.ge=function(a){if(!a)throw new R("invalid-auth-event");this.cb&&(this.cb(),this.cb=null);for(var b=!1,c=0;c<this.yb.length;c++){var d=this.yb[c];if(d.Yc(a.wa,a.Aa)){(b=this.hb[a.wa])&&b.ud(a,d);b=!0;break}}Qh(this.Xa);return b};Nh.prototype.getRedirectResult=function(){return this.Xa.getRedirectResult()};
var Sh=function(a,b,c,d,e,f){if(!b)return K(new R("popup-blocked"));if(f)return Ph(a),J();a.qa||(a.qa=Oh(a.f));return a.qa.then(function(){return Ph(a)}).then(function(){Rh(d);var f=Xg(a.X,a.v,a.ea,c,d.providerId,d.Jb(),null,e,a.ya);(b||l.window).location.href=dc(gc(f))}).l(function(b){"auth/network-request-failed"==b.code&&(a.qa=null);throw b;})},Th=function(a,b,c,d){a.qa||(a.qa=Oh(a.f));return a.qa.then(function(){Rh(c);var e=Xg(a.X,a.v,a.ea,b,c.providerId,c.Jb(),jf(),d,a.ya);Ih(a.Hc).then(function(){l.window.location.href=
dc(gc(e))})})},Uh=function(a,b,c,d,e){var f=new R("popup-closed-by-user");return a.Wb.l(function(){}).then(function(){return pf(d)}).then(function(){return xe(2E3).then(function(){b.Ia(c,null,f,e)})})},Rh=function(a){if(!a.isOAuthProvider)throw new R("invalid-oauth-provider");},Vh={},Wh=function(a,b,c){var d=b+":"+c;Vh[d]||(Vh[d]=new Nh(a,b,c));return Vh[d]},Lh=function(a){this.A=a;this.wb=this.ac=this.Ya=this.W=null;this.Lc=!1};
Lh.prototype.ud=function(a,b){if(!a)return K(new R("invalid-auth-event"));this.Lc=!0;var c=a.wa,d=a.Aa;"unknown"==c?(this.W||Xh(this,!1,null,null),a=J()):a=a.J?this.Jc(a,b):b.nb(c,d)?this.Kc(a,b):K(new R("invalid-auth-event"));return a};var Qh=function(a){a.Lc||(a.Lc=!0,Xh(a,!1,null,null))};Lh.prototype.Jc=function(a){this.W||Xh(this,!0,null,a.getError());return J()};
Lh.prototype.Kc=function(a,b){var c=this,d=a.wa;b=b.nb(d,a.Aa);var e=a.ib;a=a.ec;var f="signInViaRedirect"==d||"linkViaRedirect"==d;if(this.W)return J();this.wb&&this.wb.cancel();return b(e,a).then(function(a){c.W||Xh(c,f,a,null)}).l(function(a){c.W||Xh(c,f,null,a)})};var Xh=function(a,b,c,d){b?d?(a.W=function(){return K(d)},a.ac&&a.ac(d)):(a.W=function(){return J(c)},a.Ya&&a.Ya(c)):(a.W=function(){return J({user:null})},a.Ya&&a.Ya({user:null}));a.Ya=null;a.ac=null};
Lh.prototype.getRedirectResult=function(){var a=this;this.Wc||(this.Wc=new I(function(b,c){a.W?a.W().then(b,c):(a.Ya=b,a.ac=c,Yh(a))}));return this.Wc};var Yh=function(a){var b=new R("timeout");a.wb&&a.wb.cancel();a.wb=xe(1E4).then(function(){a.W||Xh(a,!0,null,b)})},Mh=function(a){this.A=a};Mh.prototype.ud=function(a,b){if(!a)return K(new R("invalid-auth-event"));var c=a.wa,d=a.Aa;return a.J?this.Jc(a,b):b.nb(c,d)?this.Kc(a,b):K(new R("invalid-auth-event"))};
Mh.prototype.Jc=function(a,b){b.Ia(a.wa,null,a.getError(),a.Aa);return J()};Mh.prototype.Kc=function(a,b){var c=a.Aa,d=a.wa;return b.nb(d,c)(a.ib,a.ec).then(function(a){b.Ia(d,a,null,c)}).l(function(a){b.Ia(d,null,a,c)})};var Zh=function(a){this.f=a;this.xa=this.S=null;this.Qa=0};Zh.prototype.G=function(){return{apiKey:this.f.v,refreshToken:this.S,accessToken:this.xa,expirationTime:this.Qa}};
var ai=function(a,b){var c=b.idToken,d=b.refreshToken;b=$h(b.expiresIn);a.xa=c;a.Qa=b;a.S=d},$h=function(a){return la()+1E3*parseInt(a,10)},bi=function(a,b){return kg(a.f,b).then(function(b){a.xa=b.access_token;a.Qa=$h(b.expires_in);a.S=b.refresh_token;return{accessToken:a.xa,expirationTime:a.Qa,refreshToken:a.S}}).l(function(b){"auth/user-token-expired"==b.code&&(a.S=null);throw b;})},ci=function(a){return!(!a.xa||a.S)};
Zh.prototype.getToken=function(a){a=!!a;return ci(this)?K(new R("user-token-expired")):a||!this.xa||la()>this.Qa-3E4?this.S?bi(this,{grant_type:"refresh_token",refresh_token:this.S}):J(null):J({accessToken:this.xa,expirationTime:this.Qa,refreshToken:this.S})};var di=function(a,b,c,d,e){Ef(this,{uid:a,displayName:d||null,photoURL:e||null,email:c||null,providerId:b})},ei=function(a,b){zb.call(this,a);for(var c in b)this[c]=b[c]};t(ei,zb);
var W=function(a,b,c){this.U=[];this.v=a.apiKey;this.ea=a.appName;this.X=a.authDomain||null;a=firebase.SDK_VERSION?tf(firebase.SDK_VERSION):null;this.f=new T(this.v,null,a);this.ba=new Zh(this.f);fi(this,b.idToken);ai(this.ba,b);Q(this,"refreshToken",this.ba.S);gi(this,c||{});$d.call(this);this.Xb=!1;this.X&&wf()&&(this.m=Wh(this.X,this.v,this.ea));this.fc=[];this.pc=J()};t(W,$d);
W.prototype.sa=function(a,b){var c=Array.prototype.slice.call(arguments,1),d=this;return this.pc=this.pc.then(function(){return a.apply(d,c)},function(){return a.apply(d,c)})};
var fi=function(a,b){a.md=b;Q(a,"_lat",b)},hi=function(a,b){Ma(a.fc,function(a){return a==b})},ii=function(a){for(var b=[],c=0;c<a.fc.length;c++)b.push(a.fc[c](a));return ud(b).then(function(){return a})},ji=function(a){a.m&&!a.Xb&&(a.Xb=!0,a.m.subscribe(a))},gi=function(a,b){Ef(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,isAnonymous:b.isAnonymous||!1,providerData:[]})};Q(W.prototype,"providerId","firebase");
var ki=function(){},li=function(a){return J().then(function(){if(a.Yd)throw new R("app-deleted");})},mi=function(a){return Fa(a.providerData,function(a){return a.providerId})},oi=function(a,b){b&&(ni(a,b.providerId),a.providerData.push(b))},ni=function(a,b){Ma(a.providerData,function(a){return a.providerId==b})},pi=function(a,b,c){("uid"!=b||c)&&a.hasOwnProperty(b)&&Q(a,b,c)};
W.prototype.copy=function(a){var b=this;b!=a&&(Ef(this,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,isAnonymous:a.isAnonymous,providerData:[]}),x(a.providerData,function(a){oi(b,a)}),this.ba=a.ba,Q(this,"refreshToken",this.ba.S))};W.prototype.reload=function(){var a=this;return li(this).then(function(){return qi(a).then(function(){return ii(a)}).then(ki)})};
var qi=function(a){return a.getToken().then(function(b){var c=a.isAnonymous;return ri(a,b).then(function(){c||pi(a,"isAnonymous",!1);return b}).l(function(b){"auth/user-token-expired"==b.code&&(a.dispatchEvent(new ei("userDeleted")),si(a));throw b;})})};
W.prototype.getToken=function(a){var b=this,c=ci(this.ba);return li(this).then(function(){return b.ba.getToken(a)}).then(function(a){if(!a)throw new R("internal-error");a.accessToken!=b.md&&(fi(b,a.accessToken),b.Ea());pi(b,"refreshToken",a.refreshToken);return a.accessToken}).l(function(a){if("auth/user-token-expired"==a.code&&!c)return ii(b).then(function(){pi(b,"refreshToken",null);throw a;});throw a;})};
var ti=function(a,b){b.idToken&&a.md!=b.idToken&&(ai(a.ba,b),a.Ea(),fi(a,b.idToken),pi(a,"refreshToken",a.ba.S))};W.prototype.Ea=function(){this.dispatchEvent(new ei("tokenChanged"))};var ri=function(a,b){return S(a.f,Lg,{idToken:b}).then(q(a.Be,a))};
W.prototype.Be=function(a){a=a.users;if(!a||!a.length)throw new R("internal-error");a=a[0];gi(this,{uid:a.localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified});for(var b=ui(a),c=0;c<b.length;c++)oi(this,b[c]);pi(this,"isAnonymous",!(this.email&&a.passwordHash)&&!(this.providerData&&this.providerData.length))};
var ui=function(a){return(a=a.providerUserInfo)&&a.length?Fa(a,function(a){return new di(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl)}):[]};W.prototype.reauthenticate=function(a){var b=this;return this.c(a.Ib(this.f).then(function(a){var c;a:{var e=a.idToken.split(".");if(3==e.length){for(var e=e[1],f=(4-e.length%4)%4,g=0;g<f;g++)e+=".";try{var k=ic(ub(e));if(k.sub&&k.iss&&k.aud&&k.exp){c=new Mf(k);break a}}catch(r){}}c=null}if(!c||b.uid!=c.ve)throw new R("user-mismatch");ti(b,a);return b.reload()}))};
var vi=function(a,b){return qi(a).then(function(){if(Ja(mi(a),b))return ii(a).then(function(){throw new R("provider-already-linked");})})};h=W.prototype;h.te=function(a){var b=this;return this.c(vi(this,a.provider).then(function(){return b.getToken()}).then(function(c){return a.od(b.f,c)}).then(q(this.dd,this)))};h.link=function(a){return this.sa(this.te,a)};h.dd=function(a){ti(this,a);var b=this;return this.reload().then(function(){return b})};
h.Pe=function(a){var b=this;return this.c(this.getToken().then(function(c){return b.f.updateEmail(c,a)}).then(function(a){ti(b,a);return b.reload()}))};h.updateEmail=function(a){return this.sa(this.Pe,a)};h.Qe=function(a){var b=this;return this.c(this.getToken().then(function(c){return b.f.updatePassword(c,a)}).then(function(a){ti(b,a);return b.reload()}))};h.updatePassword=function(a){return this.sa(this.Qe,a)};
h.Re=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return li(this);var b=this;return this.c(this.getToken().then(function(c){return b.f.updateProfile(c,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){ti(b,a);pi(b,"displayName",a.displayName||null);pi(b,"photoURL",a.photoUrl||null);return ii(b)}).then(ki))};h.updateProfile=function(a){return this.sa(this.Re,a)};
h.Oe=function(a){var b=this;return this.c(qi(this).then(function(c){return Ja(mi(b),a)?Ag(b.f,c,[a]).then(function(a){var c={};x(a.providerUserInfo||[],function(a){c[a.providerId]=!0});x(mi(b),function(a){c[a]||ni(b,a)});return ii(b)}):ii(b).then(function(){throw new R("no-such-provider");})}))};h.unlink=function(a){return this.sa(this.Oe,a)};h.Xd=function(){var a=this;return this.c(this.getToken().then(function(b){return S(a.f,Kg,{idToken:b})}).then(function(){a.dispatchEvent(new ei("userDeleted"))})).then(function(){si(a)})};
h.delete=function(){return this.sa(this.Xd)};h.Yc=function(a,b){return"linkViaPopup"==a&&(this.ia||null)==b&&this.$||"linkViaRedirect"==a&&(this.$b||null)==b?!0:!1};h.Ia=function(a,b,c,d){"linkViaPopup"==a&&d==(this.ia||null)&&(c&&this.Ga?this.Ga(c):b&&!c&&this.$&&this.$(b),this.C&&(this.C.cancel(),this.C=null),delete this.$,delete this.Ga)};h.nb=function(a,b){return"linkViaPopup"==a&&b==(this.ia||null)||"linkViaRedirect"==a&&(this.$b||null)==b?q(this.ae,this):null};
h.Hb=function(){return vf(this.uid+":::")};
var xi=function(a,b){if(!wf())return K(new R("operation-not-supported-in-this-environment"));var c=If(b.providerId),d=a.Hb(),e=null;!xf()&&a.X&&b.isOAuthProvider&&(e=Xg(a.X,a.v,a.ea,"linkViaPopup",b.providerId,b.Jb(),null,d,firebase.SDK_VERSION||null));var f=of(e,c&&c.vb,c&&c.ub),c=vi(a,b.providerId).then(function(){return ii(a)}).then(function(){wi(a);return a.getToken()}).then(function(){return Sh(a.m,f,"linkViaPopup",b,d,!!e)}).then(function(){return new I(function(b,c){a.Ia("linkViaPopup",null,
new R("cancelled-popup-request"),a.ia||null);a.$=b;a.Ga=c;a.ia=d;a.C=Uh(a.m,a,"linkViaPopup",f,d)})}).then(function(a){f&&nf(f);return a}).l(function(a){f&&nf(f);throw a;});return a.c(c)};W.prototype.linkWithPopup=function(a){var b=xi(this,a);return this.sa(function(){return b})};
W.prototype.ue=function(a){if(!wf())return K(new R("operation-not-supported-in-this-environment"));var b=this,c=null,d=this.Hb(),e=vi(this,a.providerId).then(function(){wi(b);return b.getToken()}).then(function(){b.$b=d;return ii(b)}).then(function(a){b.Ha&&(a=b.Ha,a=a.A.set(yi,b.G(),a.B));return a}).then(function(){return Th(b.m,"linkViaRedirect",a,d)}).l(function(a){c=a;if(b.Ha)return zi(b.Ha);throw c;}).then(function(){if(c)throw c;});return this.c(e)};
W.prototype.linkWithRedirect=function(a){return this.sa(this.ue,a)};var wi=function(a){if(!a.m||!a.Xb){if(a.m&&!a.Xb)throw new R("internal-error");throw new R("auth-domain-config-required");}};W.prototype.ae=function(a,b){var c=this;this.C&&(this.C.cancel(),this.C=null);var d=null,e=this.getToken().then(function(d){return Qf(c.f,{requestUri:a,sessionId:b,idToken:d})}).then(function(a){d=ag(a);return c.dd(a)}).then(function(a){return{user:a,credential:d}});return this.c(e)};
W.prototype.sendEmailVerification=function(){var a=this;return this.c(this.getToken().then(function(b){return a.f.sendEmailVerification(b)}).then(function(b){if(a.email!=b)return a.reload()}).then(function(){}))};var si=function(a){for(var b=0;b<a.U.length;b++)a.U[b].cancel("app-deleted");a.U=[];a.Yd=!0;Q(a,"refreshToken",null);a.m&&a.m.unsubscribe(a)};W.prototype.c=function(a){var b=this;this.U.push(a);xd(a,function(){La(b.U,a)});return a};W.prototype.toJSON=function(){return this.G()};
W.prototype.G=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.v,appName:this.ea,authDomain:this.X,stsTokenManager:this.ba.G(),redirectEventId:this.$b||null};x(this.providerData,function(b){a.providerData.push(Ff(b))});return a};
var Ai=function(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},c={};if(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime)c.idToken=a.stsTokenManager.accessToken,c.refreshToken=a.stsTokenManager.refreshToken||null,c.expiresIn=(a.stsTokenManager.expirationTime-la())/1E3;else return null;var d=new W(b,c,a);a.providerData&&x(a.providerData,function(a){if(a){var b={};Ef(b,a);oi(d,b)}});a.redirectEventId&&(d.$b=a.redirectEventId);
return d},Bi=function(a,b,c){var d=new W(a,b);c&&(d.Ha=c);return d.reload().then(function(){return d})};var Ci=function(a){this.B=a;this.A=Dh()},yi={name:"redirectUser",V:!1},zi=function(a){return a.A.remove(yi,a.B)},Di=function(a,b){return a.A.get(yi,a.B).then(function(a){a&&b&&(a.authDomain=b);return Ai(a||{})})};var Ei=function(a){this.B=a;this.A=Dh()},Fi={name:"authUser",V:!0},Gi=function(a,b){return a.A.set(Fi,b.G(),a.B)},Hi=function(a){return a.A.remove(Fi,a.B)},Ii=function(a,b){return a.A.get(Fi,a.B).then(function(a){a&&b&&(a.authDomain=b);return Ai(a||{})})};var Y=function(a){this.Oa=!1;Q(this,"app",a);if(X(this).options&&X(this).options.apiKey)a=firebase.SDK_VERSION?tf(firebase.SDK_VERSION):null,this.f=new T(X(this).options&&X(this).options.apiKey,null,a);else throw new R("invalid-api-key");this.U=[];this.Ma=[];this.ze=firebase.INTERNAL.createSubscribe(q(this.pe,this));Ji(this,null);this.ma=new Ei(X(this).options.apiKey+":"+X(this).name);this.Za=new Ci(X(this).options.apiKey+":"+X(this).name);this.Cb=this.c(Ki(this));this.ta=this.c(Li(this));this.Bc=
!1;this.yc=q(this.Je,this);this.Fd=q(this.Sa,this);this.Gd=q(this.le,this);this.Ed=q(this.ke,this);Mi(this);this.INTERNAL={};this.INTERNAL.delete=q(this.delete,this)};Y.prototype.toJSON=function(){return{apiKey:X(this).options.apiKey,authDomain:X(this).options.authDomain,appName:X(this).name,currentUser:Z(this)&&Z(this).G()}};
var Ni=function(a){return a.Zd||K(new R("auth-domain-config-required"))},Mi=function(a){var b=X(a).options.authDomain,c=X(a).options.apiKey;b&&wf()&&(a.Zd=a.Cb.then(function(){if(!a.Oa)return a.m=Wh(b,c,X(a).name),a.m.subscribe(a),Z(a)&&ji(Z(a)),a.Mc&&(ji(a.Mc),a.Mc=null),a.m}))};h=Y.prototype;h.Yc=function(a,b){switch(a){case "unknown":case "signInViaRedirect":return!0;case "signInViaPopup":return this.ia==b&&!!this.$;default:return!1}};
h.Ia=function(a,b,c,d){"signInViaPopup"==a&&this.ia==d&&(c&&this.Ga?this.Ga(c):b&&!c&&this.$&&this.$(b),this.C&&(this.C.cancel(),this.C=null),delete this.$,delete this.Ga)};h.nb=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.ia==b&&this.$?q(this.be,this):null};
h.be=function(a,b){var c=this;a={requestUri:a,sessionId:b};this.C&&(this.C.cancel(),this.C=null);var d=null,e=Of(c.f,a).then(function(a){d=ag(a);return a});a=c.Cb.then(function(){return e}).then(function(a){return Oi(c,a)}).then(function(){return{user:Z(c),credential:d}});return this.c(a)};h.Hb=function(){return vf()};
h.signInWithPopup=function(a){if(!wf())return K(new R("operation-not-supported-in-this-environment"));var b=this,c=If(a.providerId),d=this.Hb(),e=null;!xf()&&X(this).options.authDomain&&a.isOAuthProvider&&(e=Xg(X(this).options.authDomain,X(this).options.apiKey,X(this).name,"signInViaPopup",a.providerId,a.Jb(),null,d,firebase.SDK_VERSION||null));var f=of(e,c&&c.vb,c&&c.ub),c=Ni(this).then(function(b){return Sh(b,f,"signInViaPopup",a,d,!!e)}).then(function(){return new I(function(a,c){b.Ia("signInViaPopup",
null,new R("cancelled-popup-request"),b.ia);b.$=a;b.Ga=c;b.ia=d;b.C=Uh(b.m,b,"signInViaPopup",f,d)})}).then(function(a){f&&nf(f);return a}).l(function(a){f&&nf(f);throw a;});return this.c(c)};h.signInWithRedirect=function(a){if(!wf())return K(new R("operation-not-supported-in-this-environment"));var b=this,c=Ni(this).then(function(){return Th(b.m,"signInViaRedirect",a)});return this.c(c)};
h.getRedirectResult=function(){if(!wf())return K(new R("operation-not-supported-in-this-environment"));var a=this,b=Ni(this).then(function(){return a.m.getRedirectResult()});return this.c(b)};
var Oi=function(a,b){var c={};c.apiKey=X(a).options.apiKey;c.authDomain=X(a).options.authDomain;c.appName=X(a).name;return a.Cb.then(function(){return Bi(c,b,a.Za)}).then(function(b){if(Z(a)&&b.uid==Z(a).uid)return Z(a).copy(b),a.Sa(b);Ji(a,b);ji(b);return a.Sa(b)}).then(function(){a.Ea()})},Ji=function(a,b){Z(a)&&(hi(Z(a),a.Fd),Ub(Z(a),"tokenChanged",a.Gd),Ub(Z(a),"userDeleted",a.Ed));b&&(b.fc.push(a.Fd),Lb(b,"tokenChanged",a.Gd),Lb(b,"userDeleted",a.Ed));Q(a,"currentUser",b)};
Y.prototype.signOut=function(){var a=this,b=this.ta.then(function(){if(!Z(a))return J();Ji(a,null);return Hi(a.ma).then(function(){a.Ea()})});return this.c(b)};
var Pi=function(a){var b=Di(a.Za,X(a).options.authDomain).then(function(b){if(a.Mc=b)b.Ha=a.Za;return zi(a.Za)});return a.c(b)},Ki=function(a){var b=X(a).options.authDomain,c=Pi(a).then(function(){return Ii(a.ma,b)}).then(function(b){return b?(b.Ha=a.Za,b.reload().then(function(){return Gi(a.ma,b).then(function(){return b})}).l(function(c){return"auth/network-request-failed"==c.code?b:Hi(a.ma)})):null}).then(function(b){Ji(a,b||null)});return a.c(c)},Li=function(a){return a.Cb.then(function(){return a.getRedirectResult()}).l(function(){}).then(function(){if(!a.Oa)return a.yc()}).l(function(){}).then(function(){if(!a.Oa){a.Bc=
!0;var b=a.ma;b.A.addListener(Fi,b.B,a.yc)}})};Y.prototype.Je=function(){var a=this;return Ii(this.ma,X(this).options.authDomain).then(function(b){if(!a.Oa){var c;if(c=Z(a)&&b){c=Z(a).uid;var d=b.uid;c=void 0===c||null===c||""===c||void 0===d||null===d||""===d?!1:c==d}if(c)return Z(a).copy(b),Z(a).getToken();if(Z(a)||b)Ji(a,b),b&&(ji(b),b.Ha=a.Za),a.m&&a.m.subscribe(a),a.Ea()}})};Y.prototype.Sa=function(a){return Gi(this.ma,a)};Y.prototype.le=function(){this.Ea();this.Sa(Z(this))};
Y.prototype.ke=function(){this.signOut()};var Qi=function(a,b){return a.c(b.then(function(b){return Oi(a,b)}).then(function(){return Z(a)}))};h=Y.prototype;h.pe=function(a){var b=this;this.addAuthTokenListener(function(){a.next(Z(b))})};h.onAuthStateChanged=function(a,b,c){var d=this;this.Bc&&firebase.Promise.resolve().then(function(){p(a)?a(Z(d)):p(a.next)&&a.next(Z(d))});return this.ze(a,b,c)};
h.getToken=function(a){var b=this,c=this.ta.then(function(){return Z(b)?Z(b).getToken(a).then(function(a){return{accessToken:a}}):null});return this.c(c)};h.signInWithCustomToken=function(a){var b=this;return this.ta.then(function(){return Qi(b,S(b.f,Mg,{token:a}))}).then(function(a){pi(a,"isAnonymous",!1);return b.Sa(a)}).then(function(){return Z(b)})};h.signInWithEmailAndPassword=function(a,b){var c=this;return this.ta.then(function(){return Qi(c,S(c.f,Xf,{email:a,password:b}))})};
h.createUserWithEmailAndPassword=function(a,b){var c=this;return this.ta.then(function(){return Qi(c,S(c.f,Jg,{email:a,password:b}))})};h.signInWithCredential=function(a){var b=this;return this.ta.then(function(){return Qi(b,a.Ib(b.f))})};h.signInAnonymously=function(){var a=Z(this),b=this;return a&&a.isAnonymous?J(a):this.ta.then(function(){return Qi(b,b.f.signInAnonymously())}).then(function(a){pi(a,"isAnonymous",!0);return b.Sa(a)}).then(function(){return Z(b)})};
var X=function(a){return a.app},Z=function(a){return a.currentUser};h=Y.prototype;h.Ea=function(){if(this.Bc)for(var a=0;a<this.Ma.length;a++)if(this.Ma[a])this.Ma[a](Z(this)&&Z(this)._lat||null)};h.addAuthTokenListener=function(a){var b=this;this.Ma.push(a);this.c(this.ta.then(function(){b.Oa||Ja(b.Ma,a)&&a(Z(b)&&Z(b)._lat||null)}))};h.removeAuthTokenListener=function(a){Ma(this.Ma,function(b){return b==a})};
h.delete=function(){this.Oa=!0;for(var a=0;a<this.U.length;a++)this.U[a].cancel("app-deleted");this.U=[];this.ma&&(a=this.ma,a.A.removeListener(Fi,a.B,this.yc));this.m&&this.m.unsubscribe(this);return firebase.Promise.resolve()};h.c=function(a){var b=this;this.U.push(a);xd(a,function(){La(b.U,a)});return a};h.fetchProvidersForEmail=function(a){return this.c(qg(this.f,a))};h.verifyPasswordResetCode=function(a){return this.checkActionCode(a).then(function(a){return a.data.email})};
h.confirmPasswordReset=function(a,b){return this.c(this.f.confirmPasswordReset(a,b).then(function(){}))};h.checkActionCode=function(a){return this.c(this.f.checkActionCode(a).then(function(a){return{data:{email:a.email}}}))};h.applyActionCode=function(a){return this.c(this.f.applyActionCode(a).then(function(){}))};h.sendPasswordResetEmail=function(a){return this.c(this.f.sendPasswordResetEmail(a).then(function(){}))};zh(Y.prototype,{applyActionCode:{name:"applyActionCode",b:[U("code")]},checkActionCode:{name:"checkActionCode",b:[U("code")]},confirmPasswordReset:{name:"confirmPasswordReset",b:[U("code"),U("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",b:[U("email"),U("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",b:[U("email")]},getRedirectResult:{name:"getRedirectResult",b:[]},onAuthStateChanged:{name:"onAuthStateChanged",b:[xh(sh(),th(),"nextOrObserver"),
th("opt_error",!0),th("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",b:[U("email")]},signInAnonymously:{name:"signInAnonymously",b:[]},signInWithCredential:{name:"signInWithCredential",b:[vh()]},signInWithCustomToken:{name:"signInWithCustomToken",b:[U("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",b:[U("email"),U("password")]},signInWithPopup:{name:"signInWithPopup",b:[wh()]},signInWithRedirect:{name:"signInWithRedirect",b:[wh()]},signOut:{name:"signOut",
b:[]},toJSON:{name:"toJSON",b:[U(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",b:[U("code")]}});
zh(W.prototype,{"delete":{name:"delete",b:[]},getToken:{name:"getToken",b:[{name:"opt_forceRefresh",ca:"a boolean",optional:!0,da:function(a){return"boolean"==typeof a}}]},link:{name:"link",b:[vh()]},linkWithPopup:{name:"linkWithPopup",b:[wh()]},linkWithRedirect:{name:"linkWithRedirect",b:[wh()]},reauthenticate:{name:"reauthenticate",b:[vh()]},reload:{name:"reload",b:[]},sendEmailVerification:{name:"sendEmailVerification",b:[]},toJSON:{name:"toJSON",b:[U(null,!0)]},unlink:{name:"unlink",b:[U("provider")]},
updateEmail:{name:"updateEmail",b:[U("email")]},updatePassword:{name:"updatePassword",b:[U("password")]},updateProfile:{name:"updateProfile",b:[sh("profile")]}});zh(I.prototype,{l:{name:"catch"},then:{name:"then"}});V(Zf,"credential",function(a,b){return new Wf(a,b)},[U("email"),U("password")]);zh(Sf.prototype,{addScope:{name:"addScope",b:[U("scope")]}});V(Sf,"credential",Sf.credential,[xh(U(),sh(),"token")]);zh(Tf.prototype,{addScope:{name:"addScope",b:[U("scope")]}});
V(Tf,"credential",Tf.credential,[xh(U(),sh(),"token")]);zh(Uf.prototype,{addScope:{name:"addScope",b:[U("scope")]}});V(Uf,"credential",Uf.credential,[xh(U(),xh(sh(),uh()),"idToken"),xh(U(),uh(),"accessToken",!0)]);V(Vf,"credential",Vf.credential,[xh(U(),sh(),"token"),U("secret",!0)]);
(function(){if("undefined"!==typeof firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService){var a={Auth:Y,Error:R};V(a,"EmailAuthProvider",Zf,[]);V(a,"FacebookAuthProvider",Sf,[]);V(a,"GithubAuthProvider",Tf,[]);V(a,"GoogleAuthProvider",Uf,[]);V(a,"TwitterAuthProvider",Vf,[]);firebase.INTERNAL.registerService("auth",function(a,c){a=new Y(a);c({INTERNAL:{getToken:q(a.getToken,a),addAuthTokenListener:q(a.addAuthTokenListener,a),removeAuthTokenListener:q(a.removeAuthTokenListener,a)}});return a},
a,function(a,c){if("create"===a)try{c.auth()}catch(d){}});firebase.INTERNAL.extendNamespace({User:W})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");})();})();
module.exports = firebase.auth;

},{"./app":5}],7:[function(require,module,exports){
var firebase = require('./app');
/*! @license Firebase v3.4.1
    Build: 3.4.1-rc.2
    Terms: https://developers.google.com/terms */
(function() {var g,n=this;function p(a){return void 0!==a}function aa(){}function ba(a){a.Wb=function(){return a.bf?a.bf:a.bf=new a}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"array"==ca(a)}function ea(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==ca(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a,b,c){return a.call.apply(a.bind,arguments)}
function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return r.apply(null,arguments)}
function ka(a,b){function c(){}c.prototype=b.prototype;a.Ig=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Eg=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};function la(){this.Ya=-1};function ma(){this.Ya=-1;this.Ya=64;this.N=[];this.Wd=[];this.Jf=[];this.zd=[];this.zd[0]=128;for(var a=1;a<this.Ya;++a)this.zd[a]=0;this.Pd=this.ac=0;this.reset()}ka(ma,la);ma.prototype.reset=function(){this.N[0]=1732584193;this.N[1]=4023233417;this.N[2]=2562383102;this.N[3]=271733878;this.N[4]=3285377520;this.Pd=this.ac=0};
function na(a,b,c){c||(c=0);var d=a.Jf;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.N[0];c=a.N[1];for(var h=a.N[2],k=a.N[3],m=a.N[4],l,e=0;80>e;e++)40>e?20>e?(f=k^c&(h^k),l=1518500249):(f=c^h^k,l=1859775393):60>e?(f=c&h|k&(c|h),l=2400959708):(f=c^h^k,l=3395469782),f=(b<<
5|b>>>27)+f+m+l+d[e]&4294967295,m=k,k=h,h=(c<<30|c>>>2)&4294967295,c=b,b=f;a.N[0]=a.N[0]+b&4294967295;a.N[1]=a.N[1]+c&4294967295;a.N[2]=a.N[2]+h&4294967295;a.N[3]=a.N[3]+k&4294967295;a.N[4]=a.N[4]+m&4294967295}
ma.prototype.update=function(a,b){if(null!=a){p(b)||(b=a.length);for(var c=b-this.Ya,d=0,e=this.Wd,f=this.ac;d<b;){if(0==f)for(;d<=c;)na(this,a,d),d+=this.Ya;if(q(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Ya){na(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Ya){na(this,e);f=0;break}}this.ac=f;this.Pd+=b}};function t(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function oa(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function pa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function qa(a){var b=0,c;for(c in a)b++;return b}function ra(a){for(var b in a)return b}function sa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ta(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ua(a,b){for(var c in a)if(a[c]==b)return!0;return!1}
function va(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function wa(a,b){var c=va(a,b,void 0);return c&&a[c]}function xa(a){for(var b in a)return!1;return!0}function ya(a){var b={},c;for(c in a)b[c]=a[c];return b};function za(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Aa(){this.Fd=void 0}
function Ba(a,b,c){switch(typeof b){case "string":Ca(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(da(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Ba(a,a.Fd?a.Fd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),Ca(f,c),
c.push(":"),Ba(a,a.Fd?a.Fd.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ea=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Ca(a,b){b.push('"',a.replace(Ea,function(a){if(a in Da)return Da[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return Da[a]=e+b.toString(16)}),'"')};var v;a:{var Fa=n.navigator;if(Fa){var Ga=Fa.userAgent;if(Ga){v=Ga;break a}}v=""};function Ha(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ha);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ka(Ha,Error);Ha.prototype.name="CustomError";var w=Array.prototype,Ia=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ja=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ka=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=q(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var m=h[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},La=w.map?function(a,b,c){return w.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ma=w.reduce?function(a,b,c,d){for(var e=[],f=1,h=arguments.length;f<h;f++)e.push(arguments[f]);d&&(e[0]=r(b,d));return w.reduce.apply(a,e)}:function(a,b,c,d){var e=c;Ja(a,function(c,h){e=b.call(d,e,c,h,a)});return e},Na=w.every?function(a,b,
c){return w.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Oa(a,b){var c=Pa(a,b,void 0);return 0>c?null:q(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Qa(a,b){var c=Ia(a,b);0<=c&&w.splice.call(a,c,1)}function Ra(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)}
function Sa(a,b){a.sort(b||Ta)}function Ta(a,b){return a>b?1:a<b?-1:0};var Ua=-1!=v.indexOf("Opera")||-1!=v.indexOf("OPR"),Va=-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE"),Wa=-1!=v.indexOf("Gecko")&&-1==v.toLowerCase().indexOf("webkit")&&!(-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE")),Xa=-1!=v.toLowerCase().indexOf("webkit");
(function(){var a="",b;if(Ua&&n.opera)return a=n.opera.version,ga(a)?a():a;Wa?b=/rv\:([^\);]+)(\)|;)/:Va?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(v))?a[1]:"");return Va&&(b=(b=n.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var Ya=null,Za=null,$a=null;function ab(a,b){if(!ea(a))throw Error("encodeByteArray takes an array as a parameter");bb();for(var c=b?Za:Ya,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,k=h?a[e+1]:0,m=e+2<a.length,l=m?a[e+2]:0,u=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|l>>6,l=l&63;m||(l=64,h||(k=64));d.push(c[u],c[f],c[k],c[l])}return d.join("")}
function bb(){if(!Ya){Ya={};Za={};$a={};for(var a=0;65>a;a++)Ya[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),Za[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),$a[Za[a]]=a,62<=a&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)]=a)}};function cb(a){n.setTimeout(function(){throw a;},0)}var db;
function eb(){var a=n.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==v.indexOf("Presto")&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=r(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==v.indexOf("Trident")&&-1==v.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.Le;c.Le=null;a()}};return function(a){d.next={Le:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=
document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}};function fb(a,b){gb||hb();ib||(gb(),ib=!0);jb.push(new kb(a,b))}var gb;function hb(){if(n.Promise&&n.Promise.resolve){var a=n.Promise.resolve();gb=function(){a.then(lb)}}else gb=function(){var a=lb;!ga(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(db||(db=eb()),db(a)):n.setImmediate(a)}}var ib=!1,jb=[];[].push(function(){ib=!1;jb=[]});
function lb(){for(;jb.length;){var a=jb;jb=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.Wf.call(c.scope)}catch(d){cb(d)}}}ib=!1}function kb(a,b){this.Wf=a;this.scope=b};function mb(a,b){this.L=nb;this.uf=void 0;this.Ca=this.Ha=null;this.jd=this.be=!1;if(a==ob)pb(this,qb,b);else try{var c=this;a.call(b,function(a){pb(c,qb,a)},function(a){if(!(a instanceof rb))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(b){}pb(c,sb,a)})}catch(d){pb(this,sb,d)}}var nb=0,qb=2,sb=3;function ob(){}mb.prototype.then=function(a,b,c){return tb(this,ga(a)?a:null,ga(b)?b:null,c)};mb.prototype.then=mb.prototype.then;mb.prototype.$goog_Thenable=!0;g=mb.prototype;
g.Ag=function(a,b){return tb(this,null,a,b)};g.cancel=function(a){this.L==nb&&fb(function(){var b=new rb(a);ub(this,b)},this)};function ub(a,b){if(a.L==nb)if(a.Ha){var c=a.Ha;if(c.Ca){for(var d=0,e=-1,f=0,h;h=c.Ca[f];f++)if(h=h.k)if(d++,h==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.L==nb&&1==d?ub(c,b):(d=c.Ca.splice(e,1)[0],vb(c,d,sb,b)))}a.Ha=null}else pb(a,sb,b)}function wb(a,b){a.Ca&&a.Ca.length||a.L!=qb&&a.L!=sb||xb(a);a.Ca||(a.Ca=[]);a.Ca.push(b)}
function tb(a,b,c,d){var e={k:null,hf:null,kf:null};e.k=new mb(function(a,h){e.hf=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){h(l)}}:a;e.kf=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof rb?h(b):a(e)}catch(l){h(l)}}:h});e.k.Ha=a;wb(a,e);return e.k}g.Cf=function(a){this.L=nb;pb(this,qb,a)};g.Df=function(a){this.L=nb;pb(this,sb,a)};
function pb(a,b,c){if(a.L==nb){if(a==c)b=sb,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.L=1;c.then(a.Cf,a.Df,a);return}if(ha(c))try{var f=c.then;if(ga(f)){yb(a,c,f);return}}catch(h){b=sb,c=h}}a.uf=c;a.L=b;a.Ha=null;xb(a);b!=sb||c instanceof rb||zb(a,c)}}function yb(a,b,c){function d(b){f||(f=!0,a.Df(b))}function e(b){f||(f=!0,a.Cf(b))}a.L=1;var f=!1;try{c.call(b,e,d)}catch(h){d(h)}}
function xb(a){a.be||(a.be=!0,fb(a.Uf,a))}g.Uf=function(){for(;this.Ca&&this.Ca.length;){var a=this.Ca;this.Ca=null;for(var b=0;b<a.length;b++)vb(this,a[b],this.L,this.uf)}this.be=!1};function vb(a,b,c,d){if(c==qb)b.hf(d);else{if(b.k)for(;a&&a.jd;a=a.Ha)a.jd=!1;b.kf(d)}}function zb(a,b){a.jd=!0;fb(function(){a.jd&&Ab.call(null,b)})}var Ab=cb;function rb(a){Ha.call(this,a)}ka(rb,Ha);rb.prototype.name="cancel";function Bb(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function x(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function Cb(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])};function y(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function Db(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function A(a,b,c,d){if((!d||p(c))&&!ga(c))throw Error(Db(a,b,d)+"must be a valid function.");}function Eb(a,b,c){if(p(c)&&(!ha(c)||null===c))throw Error(Db(a,b,!0)+"must be a valid context object.");};function Fb(a){var b=[];Cb(a,function(a,d){da(d)?Ja(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""};var Gb=n.Promise||mb;mb.prototype["catch"]=mb.prototype.Ag;function Hb(){var a=this;this.reject=this.resolve=null;this.sa=new Gb(function(b,c){a.resolve=b;a.reject=c})}function Ib(a,b){return function(c,d){c?a.reject(c):a.resolve(d);ga(b)&&(Jb(a.sa),1===b.length?b(c):b(c,d))}}function Jb(a){a.then(void 0,aa)};function Kb(a,b){if(!a)throw Lb(b);}function Lb(a){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};function Mb(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,Kb(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function Nb(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};function Ob(a){return"undefined"!==typeof JSON&&p(JSON.parse)?JSON.parse(a):za(a)}function B(a){if("undefined"!==typeof JSON&&p(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ba(new Aa,a,b);a=b.join("")}return a};function Pb(a,b){this.committed=a;this.snapshot=b};function Qb(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:"")};function Rb(a){this.te=a;this.Bd=[];this.Rb=0;this.Yd=-1;this.Gb=null}function Sb(a,b,c){a.Yd=b;a.Gb=c;a.Yd<a.Rb&&(a.Gb(),a.Gb=null)}function Tb(a,b,c){for(a.Bd[b]=c;a.Bd[a.Rb];){var d=a.Bd[a.Rb];delete a.Bd[a.Rb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Ub(function(){f.te(d[e])})}if(a.Rb===a.Yd){a.Gb&&(clearTimeout(a.Gb),a.Gb(),a.Gb=null);break}a.Rb++}};function Vb(){this.qc={}}Vb.prototype.set=function(a,b){null==b?delete this.qc[a]:this.qc[a]=b};Vb.prototype.get=function(a){return Bb(this.qc,a)?this.qc[a]:null};Vb.prototype.remove=function(a){delete this.qc[a]};Vb.prototype.cf=!0;function Wb(a){this.vc=a;this.Cd="firebase:"}g=Wb.prototype;g.set=function(a,b){null==b?this.vc.removeItem(this.Cd+a):this.vc.setItem(this.Cd+a,B(b))};g.get=function(a){a=this.vc.getItem(this.Cd+a);return null==a?null:Ob(a)};g.remove=function(a){this.vc.removeItem(this.Cd+a)};g.cf=!1;g.toString=function(){return this.vc.toString()};function Xb(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new Wb(b)}}catch(c){}return new Vb}var Yb=Xb("localStorage"),Zb=Xb("sessionStorage");function $b(a,b,c){this.type=ac;this.source=a;this.path=b;this.Ja=c}$b.prototype.Nc=function(a){return this.path.e()?new $b(this.source,C,this.Ja.R(a)):new $b(this.source,D(this.path),this.Ja)};$b.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"};function bc(a,b){this.type=cc;this.source=a;this.path=b}bc.prototype.Nc=function(){return this.path.e()?new bc(this.source,C):new bc(this.source,D(this.path))};bc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function dc(a){this.He=a}dc.prototype.getToken=function(a){return this.He.INTERNAL.getToken(a).then(null,function(a){return a&&"auth/token-not-initialized"===a.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)})};function ec(a,b){a.He.INTERNAL.addAuthTokenListener(b)};function fc(){this.Jd=F}fc.prototype.j=function(a){return this.Jd.Q(a)};fc.prototype.toString=function(){return this.Jd.toString()};function gc(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.Sc=b;this.pe=c;this.Cg=d;this.nf=e||"";this.bb=Yb.get("host:"+a)||this.host}function hc(a,b){b!==a.bb&&(a.bb=b,"s-"===a.bb.substr(0,2)&&Yb.set("host:"+a.host,a.bb))}
function ic(a,b,c){H("string"===typeof b,"typeof type must == string");H("object"===typeof c,"typeof params must == object");if("websocket"===b)b=(a.Sc?"wss://":"ws://")+a.bb+"/.ws?";else if("long_polling"===b)b=(a.Sc?"https://":"http://")+a.bb+"/.lp?";else throw Error("Unknown connection type: "+b);a.host!==a.bb&&(c.ns=a.pe);var d=[];t(c,function(a,b){d.push(b+"="+a)});return b+d.join("&")}
gc.prototype.toString=function(){var a=(this.Sc?"https://":"http://")+this.host;this.nf&&(a+="<"+this.nf+">");return a};function jc(){this.uc={}}function kc(a,b,c){p(c)||(c=1);Bb(a.uc,b)||(a.uc[b]=0);a.uc[b]+=c}jc.prototype.get=function(){return ya(this.uc)};function lc(a){this.Nf=a;this.rd=null}lc.prototype.get=function(){var a=this.Nf.get(),b=ya(a);if(this.rd)for(var c in this.rd)b[c]-=this.rd[c];this.rd=a;return b};function mc(){this.wb=[]}function nc(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Zb();null===c||f.$(c.Zb())||(a.wb.push(c),c=null);null===c&&(c=new oc(f));c.add(e)}c&&a.wb.push(c)}function pc(a,b,c){nc(a,c);qc(a,function(a){return a.$(b)})}function rc(a,b,c){nc(a,c);qc(a,function(a){return a.contains(b)||b.contains(a)})}
function qc(a,b){for(var c=!0,d=0;d<a.wb.length;d++){var e=a.wb[d];if(e)if(e=e.Zb(),b(e)){for(var e=a.wb[d],f=0;f<e.hd.length;f++){var h=e.hd[f];if(null!==h){e.hd[f]=null;var k=h.Ub();sc&&E("event: "+h.toString());Ub(k)}}a.wb[d]=null}else c=!1}c&&(a.wb=[])}function oc(a){this.ra=a;this.hd=[]}oc.prototype.add=function(a){this.hd.push(a)};oc.prototype.Zb=function(){return this.ra};function tc(a,b,c,d){this.ae=b;this.Md=c;this.Dd=d;this.gd=a}tc.prototype.Zb=function(){var a=this.Md.xb();return"value"===this.gd?a.path:a.getParent().path};tc.prototype.ge=function(){return this.gd};tc.prototype.Ub=function(){return this.ae.Ub(this)};tc.prototype.toString=function(){return this.Zb().toString()+":"+this.gd+":"+B(this.Md.Ue())};function uc(a,b,c){this.ae=a;this.error=b;this.path=c}uc.prototype.Zb=function(){return this.path};uc.prototype.ge=function(){return"cancel"};
uc.prototype.Ub=function(){return this.ae.Ub(this)};uc.prototype.toString=function(){return this.path.toString()+":cancel"};function vc(){}vc.prototype.Xe=function(){return null};vc.prototype.fe=function(){return null};var wc=new vc;function xc(a,b,c){this.Gf=a;this.Na=b;this.yd=c}xc.prototype.Xe=function(a){var b=this.Na.O;if(yc(b,a))return b.j().R(a);b=null!=this.yd?new zc(this.yd,!0,!1):this.Na.w();return this.Gf.rc(a,b)};xc.prototype.fe=function(a,b,c){var d=null!=this.yd?this.yd:Ac(this.Na);a=this.Gf.Xd(d,b,1,c,a);return 0===a.length?null:a[0]};function I(a,b,c,d){this.type=a;this.Ma=b;this.Za=c;this.qe=d;this.Dd=void 0}function Bc(a){return new I(Cc,a)}var Cc="value";function zc(a,b,c){this.A=a;this.ea=b;this.Tb=c}function Dc(a){return a.ea}function Ec(a){return a.Tb}function Fc(a,b){return b.e()?a.ea&&!a.Tb:yc(a,J(b))}function yc(a,b){return a.ea&&!a.Tb||a.A.Fa(b)}zc.prototype.j=function(){return this.A};function Gc(a,b){return Hc(a.name,b.name)}function Ic(a,b){return Hc(a,b)};function K(a,b){this.name=a;this.S=b}function Jc(a,b){return new K(a,b)};function Kc(a,b){return a&&"object"===typeof a?(H(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Lc(a,b){var c=new Mc;Nc(a,new L(""),function(a,e){Oc(c,a,Pc(e,b))});return c}function Pc(a,b){var c=a.C().H(),c=Kc(c,b),d;if(a.J()){var e=Kc(a.Ea(),b);return e!==a.Ea()||c!==a.C().H()?new Qc(e,M(c)):a}d=a;c!==a.C().H()&&(d=d.ga(new Qc(c)));a.P(N,function(a,c){var e=Pc(c,b);e!==c&&(d=d.U(a,e))});return d};var Rc=function(){var a=1;return function(){return a++}}(),H=Kb,Sc=Lb;
function Tc(a){try{var b;bb();for(var c=$a,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],h=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var m=e<a.length?c[a.charAt(e)]:64;++e;if(null==f||null==h||null==k||null==m)throw Error();d.push(f<<2|h>>4);64!=k&&(d.push(h<<4&240|k>>2),64!=m&&d.push(k<<6&192|m))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{a="";for(c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Ra(d,c,c+8192));b=a}return b}catch(l){E("base64Decode failed: ",
l)}return null}function Uc(a){var b=Mb(a);a=new ma;a.update(b);var b=[],c=8*a.Pd;56>a.ac?a.update(a.zd,56-a.ac):a.update(a.zd,a.Ya-(a.ac-56));for(var d=a.Ya-1;56<=d;d--)a.Wd[d]=c&255,c/=256;na(a,a.Wd);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.N[d]>>e&255,++c;return ab(b)}function Vc(a){for(var b="",c=0;c<arguments.length;c++)b=ea(arguments[c])?b+Vc.apply(null,arguments[c]):"object"===typeof arguments[c]?b+B(arguments[c]):b+arguments[c],b+=" ";return b}var sc=null,Wc=!0;
function Xc(a,b){Kb(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?sc=r(console.log,console):"object"===typeof console.log&&(sc=function(a){console.log(a)})),b&&Zb.set("logging_enabled",!0)):ga(a)?sc=a:(sc=null,Zb.remove("logging_enabled"))}function E(a){!0===Wc&&(Wc=!1,null===sc&&!0===Zb.get("logging_enabled")&&Xc(!0));if(sc){var b=Vc.apply(null,arguments);sc(b)}}
function Yc(a){return function(){E(a,arguments)}}function Zc(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+Vc.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function $c(a){var b=Vc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}function O(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+Vc.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function ad(a){var b,c,d,e,f,h=a;f=c=a=b="";d=!0;e="https";if(q(h)){var k=h.indexOf("//");0<=k&&(e=h.substring(0,k-1),h=h.substring(k+2));k=h.indexOf("/");-1===k&&(k=h.length);b=h.substring(0,k);f="";h=h.substring(k).split("/");for(k=0;k<h.length;k++)if(0<h[k].length){var m=h[k];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(l){}f+="/"+m}h=b.split(".");3===h.length?(a=h[1],c=h[0].toLowerCase()):2===h.length&&(a=h[0]);k=b.indexOf(":");0<=k&&(d="https"===e||"wss"===e)}"firebase"===a&&$c(b+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");
c&&"undefined"!=c||$c("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");return{kc:new gc(b,d,c,"ws"===e||"wss"===e),path:new L(f)}}function bd(a){return fa(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}
function cd(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}
function Hc(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=dd(a),d=dd(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function ed(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+B(b));}
function fd(a){if("object"!==typeof a||null===a)return B(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=B(b[d]),c+=":",c+=fd(a[b[d]]);return c+"}"}function gd(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function hd(a,b){if(da(a))for(var c=0;c<a.length;++c)b(c,a[c]);else t(a,b)}
function id(a){H(!bd(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var jd=/^-?\d{1,10}$/;function dd(a){return jd.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Ub(a){try{a()}catch(b){setTimeout(function(){O("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function kd(a,b,c){Object.defineProperty(a,b,{get:c})}function ld(a,b){var c=setTimeout(a,b);"object"===typeof c&&c.unref&&c.unref();return c};function md(a){var b={},c={},d={},e="";try{var f=a.split("."),b=Ob(Tc(f[0])||""),c=Ob(Tc(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(h){}return{Fg:b,Me:c,data:d,xg:e}}function nd(a){a=md(a);var b=a.Me;return!!a.xg&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")}function od(a){a=md(a).Me;return"object"===typeof a&&!0===x(a,"admin")};function pd(a,b,c){this.f=Yc("p:rest:");this.M=a;this.Hb=b;this.Vd=c;this.aa={}}function qd(a,b){if(p(b))return"tag$"+b;H(rd(a.n),"should have a tag if it's not a default query.");return a.path.toString()}g=pd.prototype;
g.df=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.ka());var f=qd(a,c),h={};this.aa[f]=h;a=sd(a.n);var k=this;td(this,e+".json",a,function(a,b){var u=b;404===a&&(a=u=null);null===a&&k.Hb(e,u,!1,c);x(k.aa,f)===h&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};g.Ef=function(a,b){var c=qd(a,b);delete this.aa[c]};g.qf=function(){};g.re=function(){};g.gf=function(){};g.xd=function(){};g.put=function(){};g.ef=function(){};g.ye=function(){};
function td(a,b,c,d){c=c||{};c.format="export";a.Vd.getToken(!1).then(function(e){(e=e&&e.accessToken)&&(c.auth=e);var f=(a.M.Sc?"https://":"http://")+a.M.host+b+"?"+Fb(c);a.f("Sending REST request for "+f);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(d&&4===h.readyState){a.f("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);var b=null;if(200<=h.status&&300>h.status){try{b=Ob(h.responseText)}catch(c){O("Failed to parse JSON response for "+f+": "+h.responseText)}d(null,
b)}else 401!==h.status&&404!==h.status&&O("Got unsuccessful REST response for "+f+" Status: "+h.status),d(h.status);d=null}};h.open("GET",f,!0);h.send()})};function vd(a,b,c){this.type=wd;this.source=a;this.path=b;this.children=c}vd.prototype.Nc=function(a){if(this.path.e())return a=this.children.subtree(new L(a)),a.e()?null:a.value?new $b(this.source,C,a.value):new vd(this.source,C,a);H(J(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new vd(this.source,D(this.path),this.children)};vd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};function xd(a,b){this.zf={};this.Vc=new lc(a);this.wa=b;var c=1E4+2E4*Math.random();ld(r(this.rf,this),Math.floor(c))}xd.prototype.rf=function(){var a=this.Vc.get(),b={},c=!1,d;for(d in a)0<a[d]&&Bb(this.zf,d)&&(b[d]=a[d],c=!0);c&&this.wa.ye(b);ld(r(this.rf,this),Math.floor(6E5*Math.random()))};var yd={},zd={};function Ad(a){a=a.toString();yd[a]||(yd[a]=new jc);return yd[a]}function Bd(a,b){var c=a.toString();zd[c]||(zd[c]=b());return zd[c]};var Cd=null;"undefined"!==typeof MozWebSocket?Cd=MozWebSocket:"undefined"!==typeof WebSocket&&(Cd=WebSocket);function Dd(a,b,c,d){this.Zd=a;this.f=Yc(this.Zd);this.frames=this.Ac=null;this.qb=this.rb=this.Fe=0;this.Xa=Ad(b);a={v:"5"};"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");c&&(a.s=c);d&&(a.ls=d);this.Ne=ic(b,"websocket",a)}var Ed;
Dd.prototype.open=function(a,b){this.kb=b;this.hg=a;this.f("Websocket connecting to "+this.Ne);this.xc=!1;Yb.set("previous_websocket_failure",!0);try{this.La=new Cd(this.Ne)}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.fb();return}var e=this;this.La.onopen=function(){e.f("Websocket connected.");e.xc=!0};this.La.onclose=function(){e.f("Websocket connection was disconnected.");e.La=null;e.fb()};this.La.onmessage=function(a){if(null!==e.La)if(a=a.data,e.qb+=
a.length,kc(e.Xa,"bytes_received",a.length),Fd(e),null!==e.frames)Gd(e,a);else{a:{H(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.Fe=b;e.frames=[];a=null;break a}}e.Fe=1;e.frames=[]}null!==a&&Gd(e,a)}};this.La.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.fb()}};Dd.prototype.start=function(){};
Dd.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==Cd&&!Ed};Dd.responsesRequiredToBeHealthy=2;Dd.healthyTimeout=3E4;g=Dd.prototype;g.sd=function(){Yb.remove("previous_websocket_failure")};function Gd(a,b){a.frames.push(b);if(a.frames.length==a.Fe){var c=a.frames.join("");a.frames=null;c=Ob(c);a.hg(c)}}
g.send=function(a){Fd(this);a=B(a);this.rb+=a.length;kc(this.Xa,"bytes_sent",a.length);a=gd(a,16384);1<a.length&&Hd(this,String(a.length));for(var b=0;b<a.length;b++)Hd(this,a[b])};g.Tc=function(){this.Bb=!0;this.Ac&&(clearInterval(this.Ac),this.Ac=null);this.La&&(this.La.close(),this.La=null)};g.fb=function(){this.Bb||(this.f("WebSocket is closing itself"),this.Tc(),this.kb&&(this.kb(this.xc),this.kb=null))};g.close=function(){this.Bb||(this.f("WebSocket is being closed"),this.Tc())};
function Fd(a){clearInterval(a.Ac);a.Ac=setInterval(function(){a.La&&Hd(a,"0");Fd(a)},Math.floor(45E3))}function Hd(a,b){try{a.La.send(b)}catch(c){a.f("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(r(a.fb,a),0)}};function Id(){this.hb={}}
function Jd(a,b){var c=b.type,d=b.Za;H("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");H(".priority"!==d,"Only non-priority child changes can be tracked.");var e=x(a.hb,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.hb[d]=new I("child_changed",b.Ma,d,e.Ma);else if("child_removed"==c&&"child_added"==f)delete a.hb[d];else if("child_removed"==c&&"child_changed"==f)a.hb[d]=new I("child_removed",e.qe,d);else if("child_changed"==c&&
"child_added"==f)a.hb[d]=new I("child_added",b.Ma,d);else if("child_changed"==c&&"child_changed"==f)a.hb[d]=new I("child_changed",b.Ma,d,e.qe);else throw Sc("Illegal combination of changes: "+b+" occurred after "+e);}else a.hb[d]=b};function Kd(a){this.W=a;this.g=a.n.g}function Ld(a,b,c,d){var e=[],f=[];Ja(b,function(b){"child_changed"===b.type&&a.g.nd(b.qe,b.Ma)&&f.push(new I("child_moved",b.Ma,b.Za))});Md(a,e,"child_removed",b,d,c);Md(a,e,"child_added",b,d,c);Md(a,e,"child_moved",f,d,c);Md(a,e,"child_changed",b,d,c);Md(a,e,Cc,b,d,c);return e}function Md(a,b,c,d,e,f){d=Ka(d,function(a){return a.type===c});Sa(d,r(a.Of,a));Ja(d,function(c){var d=Nd(a,c,f);Ja(e,function(e){e.tf(c.type)&&b.push(e.createEvent(d,a.W))})})}
function Nd(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Dd=c.Ze(b.Za,b.Ma,a.g));return b}Kd.prototype.Of=function(a,b){if(null==a.Za||null==b.Za)throw Sc("Should only compare child_ events.");return this.g.compare(new K(a.Za,a.Ma),new K(b.Za,b.Ma))};function Od(a,b){this.Sd=a;this.Mf=b}function Pd(a){this.V=a}
Pd.prototype.gb=function(a,b,c,d){var e=new Id,f;if(b.type===ac)b.source.ee?c=Qd(this,a,b.path,b.Ja,c,d,e):(H(b.source.We,"Unknown source."),f=b.source.Ee||Ec(a.w())&&!b.path.e(),c=Rd(this,a,b.path,b.Ja,c,d,f,e));else if(b.type===wd)b.source.ee?c=Sd(this,a,b.path,b.children,c,d,e):(H(b.source.We,"Unknown source."),f=b.source.Ee||Ec(a.w()),c=Td(this,a,b.path,b.children,c,d,f,e));else if(b.type===Ud)if(b.Id)if(b=b.path,null!=c.mc(b))c=a;else{f=new xc(c,a,d);d=a.O.j();if(b.e()||".priority"===J(b))Dc(a.w())?
b=c.Ba(Ac(a)):(b=a.w().j(),H(b instanceof P,"serverChildren would be complete if leaf node"),b=c.sc(b)),b=this.V.za(d,b,e);else{var h=J(b),k=c.rc(h,a.w());null==k&&yc(a.w(),h)&&(k=d.R(h));b=null!=k?this.V.F(d,h,k,D(b),f,e):a.O.j().Fa(h)?this.V.F(d,h,F,D(b),f,e):d;b.e()&&Dc(a.w())&&(d=c.Ba(Ac(a)),d.J()&&(b=this.V.za(b,d,e)))}d=Dc(a.w())||null!=c.mc(C);c=Vd(a,b,d,this.V.Qa())}else c=Wd(this,a,b.path,b.Pb,c,d,e);else if(b.type===cc)d=b.path,b=a.w(),f=b.j(),h=b.ea||d.e(),c=Xd(this,new Yd(a.O,new zc(f,
h,b.Tb)),d,c,wc,e);else throw Sc("Unknown operation type: "+b.type);e=sa(e.hb);d=c;b=d.O;b.ea&&(f=b.j().J()||b.j().e(),h=Zd(a),(0<e.length||!a.O.ea||f&&!b.j().$(h)||!b.j().C().$(h.C()))&&e.push(Bc(Zd(d))));return new Od(c,e)};
function Xd(a,b,c,d,e,f){var h=b.O;if(null!=d.mc(c))return b;var k;if(c.e())H(Dc(b.w()),"If change path is empty, we must have complete server data"),Ec(b.w())?(e=Ac(b),d=d.sc(e instanceof P?e:F)):d=d.Ba(Ac(b)),f=a.V.za(b.O.j(),d,f);else{var m=J(c);if(".priority"==m)H(1==$d(c),"Can't have a priority with additional path components"),f=h.j(),k=b.w().j(),d=d.$c(c,f,k),f=null!=d?a.V.ga(f,d):h.j();else{var l=D(c);yc(h,m)?(k=b.w().j(),d=d.$c(c,h.j(),k),d=null!=d?h.j().R(m).F(l,d):h.j().R(m)):d=d.rc(m,
b.w());f=null!=d?a.V.F(h.j(),m,d,l,e,f):h.j()}}return Vd(b,f,h.ea||c.e(),a.V.Qa())}function Rd(a,b,c,d,e,f,h,k){var m=b.w();h=h?a.V:a.V.Vb();if(c.e())d=h.za(m.j(),d,null);else if(h.Qa()&&!m.Tb)d=m.j().F(c,d),d=h.za(m.j(),d,null);else{var l=J(c);if(!Fc(m,c)&&1<$d(c))return b;var u=D(c);d=m.j().R(l).F(u,d);d=".priority"==l?h.ga(m.j(),d):h.F(m.j(),l,d,u,wc,null)}m=m.ea||c.e();b=new Yd(b.O,new zc(d,m,h.Qa()));return Xd(a,b,c,e,new xc(e,b,f),k)}
function Qd(a,b,c,d,e,f,h){var k=b.O;e=new xc(e,b,f);if(c.e())h=a.V.za(b.O.j(),d,h),a=Vd(b,h,!0,a.V.Qa());else if(f=J(c),".priority"===f)h=a.V.ga(b.O.j(),d),a=Vd(b,h,k.ea,k.Tb);else{c=D(c);var m=k.j().R(f);if(!c.e()){var l=e.Xe(f);d=null!=l?".priority"===ae(c)&&l.Q(c.parent()).e()?l:l.F(c,d):F}m.$(d)?a=b:(h=a.V.F(k.j(),f,d,c,e,h),a=Vd(b,h,k.ea,a.V.Qa()))}return a}
function Sd(a,b,c,d,e,f,h){var k=b;be(d,function(d,l){var u=c.k(d);yc(b.O,J(u))&&(k=Qd(a,k,u,l,e,f,h))});be(d,function(d,l){var u=c.k(d);yc(b.O,J(u))||(k=Qd(a,k,u,l,e,f,h))});return k}function ce(a,b){be(b,function(b,d){a=a.F(b,d)});return a}
function Td(a,b,c,d,e,f,h,k){if(b.w().j().e()&&!Dc(b.w()))return b;var m=b;c=c.e()?d:de(Q,c,d);var l=b.w().j();c.children.ia(function(c,d){if(l.Fa(c)){var G=b.w().j().R(c),G=ce(G,d);m=Rd(a,m,new L(c),G,e,f,h,k)}});c.children.ia(function(c,d){var G=!yc(b.w(),c)&&null==d.value;l.Fa(c)||G||(G=b.w().j().R(c),G=ce(G,d),m=Rd(a,m,new L(c),G,e,f,h,k))});return m}
function Wd(a,b,c,d,e,f,h){if(null!=e.mc(c))return b;var k=Ec(b.w()),m=b.w();if(null!=d.value){if(c.e()&&m.ea||Fc(m,c))return Rd(a,b,c,m.j().Q(c),e,f,k,h);if(c.e()){var l=Q;m.j().P(ee,function(a,b){l=l.set(new L(a),b)});return Td(a,b,c,l,e,f,k,h)}return b}l=Q;be(d,function(a){var b=c.k(a);Fc(m,b)&&(l=l.set(a,m.j().Q(b)))});return Td(a,b,c,l,e,f,k,h)};function fe(a){this.g=a}g=fe.prototype;g.F=function(a,b,c,d,e,f){H(a.zc(this.g),"A node must be indexed if only a child is updated");e=a.R(b);if(e.Q(d).$(c.Q(d))&&e.e()==c.e())return a;null!=f&&(c.e()?a.Fa(b)?Jd(f,new I("child_removed",e,b)):H(a.J(),"A child remove without an old child only makes sense on a leaf node"):e.e()?Jd(f,new I("child_added",c,b)):Jd(f,new I("child_changed",c,b,e)));return a.J()&&c.e()?a:a.U(b,c).ob(this.g)};
g.za=function(a,b,c){null!=c&&(a.J()||a.P(N,function(a,e){b.Fa(a)||Jd(c,new I("child_removed",e,a))}),b.J()||b.P(N,function(b,e){if(a.Fa(b)){var f=a.R(b);f.$(e)||Jd(c,new I("child_changed",e,b,f))}else Jd(c,new I("child_added",e,b))}));return b.ob(this.g)};g.ga=function(a,b){return a.e()?F:a.ga(b)};g.Qa=function(){return!1};g.Vb=function(){return this};function ge(a){this.he=new fe(a.g);this.g=a.g;var b;a.la?(b=he(a),b=a.g.Fc(ie(a),b)):b=a.g.Ic();this.Uc=b;a.oa?(b=je(a),a=a.g.Fc(ke(a),b)):a=a.g.Gc();this.wc=a}g=ge.prototype;g.matches=function(a){return 0>=this.g.compare(this.Uc,a)&&0>=this.g.compare(a,this.wc)};g.F=function(a,b,c,d,e,f){this.matches(new K(b,c))||(c=F);return this.he.F(a,b,c,d,e,f)};
g.za=function(a,b,c){b.J()&&(b=F);var d=b.ob(this.g),d=d.ga(F),e=this;b.P(N,function(a,b){e.matches(new K(a,b))||(d=d.U(a,F))});return this.he.za(a,d,c)};g.ga=function(a){return a};g.Qa=function(){return!0};g.Vb=function(){return this.he};function le(a){this.ta=new ge(a);this.g=a.g;H(a.ya,"Only valid if limit has been set");this.pa=a.pa;this.Jb=!me(a)}g=le.prototype;g.F=function(a,b,c,d,e,f){this.ta.matches(new K(b,c))||(c=F);return a.R(b).$(c)?a:a.Fb()<this.pa?this.ta.Vb().F(a,b,c,d,e,f):ne(this,a,b,c,e,f)};
g.za=function(a,b,c){var d;if(b.J()||b.e())d=F.ob(this.g);else if(2*this.pa<b.Fb()&&b.zc(this.g)){d=F.ob(this.g);b=this.Jb?b.$b(this.ta.wc,this.g):b.Yb(this.ta.Uc,this.g);for(var e=0;0<b.Sa.length&&e<this.pa;){var f=R(b),h;if(h=this.Jb?0>=this.g.compare(this.ta.Uc,f):0>=this.g.compare(f,this.ta.wc))d=d.U(f.name,f.S),e++;else break}}else{d=b.ob(this.g);d=d.ga(F);var k,m,l;if(this.Jb){b=d.$e(this.g);k=this.ta.wc;m=this.ta.Uc;var u=oe(this.g);l=function(a,b){return u(b,a)}}else b=d.Xb(this.g),k=this.ta.Uc,
m=this.ta.wc,l=oe(this.g);for(var e=0,z=!1;0<b.Sa.length;)f=R(b),!z&&0>=l(k,f)&&(z=!0),(h=z&&e<this.pa&&0>=l(f,m))?e++:d=d.U(f.name,F)}return this.ta.Vb().za(a,d,c)};g.ga=function(a){return a};g.Qa=function(){return!0};g.Vb=function(){return this.ta.Vb()};
function ne(a,b,c,d,e,f){var h;if(a.Jb){var k=oe(a.g);h=function(a,b){return k(b,a)}}else h=oe(a.g);H(b.Fb()==a.pa,"");var m=new K(c,d),l=a.Jb?pe(b,a.g):qe(b,a.g),u=a.ta.matches(m);if(b.Fa(c)){for(var z=b.R(c),l=e.fe(a.g,l,a.Jb);null!=l&&(l.name==c||b.Fa(l.name));)l=e.fe(a.g,l,a.Jb);e=null==l?1:h(l,m);if(u&&!d.e()&&0<=e)return null!=f&&Jd(f,new I("child_changed",d,c,z)),b.U(c,d);null!=f&&Jd(f,new I("child_removed",z,c));b=b.U(c,F);return null!=l&&a.ta.matches(l)?(null!=f&&Jd(f,new I("child_added",
l.S,l.name)),b.U(l.name,l.S)):b}return d.e()?b:u&&0<=h(l,m)?(null!=f&&(Jd(f,new I("child_removed",l.S,l.name)),Jd(f,new I("child_added",d,c))),b.U(c,d).U(l.name,F)):b};function Qc(a,b){this.B=a;H(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value.");this.ba=b||F;re(this.ba);this.Eb=null}var se=["object","boolean","number","string"];g=Qc.prototype;g.J=function(){return!0};g.C=function(){return this.ba};g.ga=function(a){return new Qc(this.B,a)};g.R=function(a){return".priority"===a?this.ba:F};g.Q=function(a){return a.e()?this:".priority"===J(a)?this.ba:F};g.Fa=function(){return!1};g.Ze=function(){return null};
g.U=function(a,b){return".priority"===a?this.ga(b):b.e()&&".priority"!==a?this:F.U(a,b).ga(this.ba)};g.F=function(a,b){var c=J(a);if(null===c)return b;if(b.e()&&".priority"!==c)return this;H(".priority"!==c||1===$d(a),".priority must be the last token in a path");return this.U(c,F.F(D(a),b))};g.e=function(){return!1};g.Fb=function(){return 0};g.P=function(){return!1};g.H=function(a){return a&&!this.C().e()?{".value":this.Ea(),".priority":this.C().H()}:this.Ea()};
g.hash=function(){if(null===this.Eb){var a="";this.ba.e()||(a+="priority:"+te(this.ba.H())+":");var b=typeof this.B,a=a+(b+":"),a="number"===b?a+id(this.B):a+this.B;this.Eb=Uc(a)}return this.Eb};g.Ea=function(){return this.B};g.tc=function(a){if(a===F)return 1;if(a instanceof P)return-1;H(a.J(),"Unknown node type");var b=typeof a.B,c=typeof this.B,d=Ia(se,b),e=Ia(se,c);H(0<=d,"Unknown leaf type: "+b);H(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.B<a.B?-1:this.B===a.B?0:1:e-d};
g.ob=function(){return this};g.zc=function(){return!0};g.$=function(a){return a===this?!0:a.J()?this.B===a.B&&this.ba.$(a.ba):!1};g.toString=function(){return B(this.H(!0))};function ue(){}var ve={};function oe(a){return r(a.compare,a)}ue.prototype.nd=function(a,b){return 0!==this.compare(new K("[MIN_NAME]",a),new K("[MIN_NAME]",b))};ue.prototype.Ic=function(){return we};function xe(a){H(!a.e()&&".priority"!==J(a),"Can't create PathIndex with empty path or .priority key");this.cc=a}ka(xe,ue);g=xe.prototype;g.yc=function(a){return!a.Q(this.cc).e()};g.compare=function(a,b){var c=a.S.Q(this.cc),d=b.S.Q(this.cc),c=c.tc(d);return 0===c?Hc(a.name,b.name):c};
g.Fc=function(a,b){var c=M(a),c=F.F(this.cc,c);return new K(b,c)};g.Gc=function(){var a=F.F(this.cc,ye);return new K("[MAX_NAME]",a)};g.toString=function(){return this.cc.slice().join("/")};function ze(){}ka(ze,ue);g=ze.prototype;g.compare=function(a,b){var c=a.S.C(),d=b.S.C(),c=c.tc(d);return 0===c?Hc(a.name,b.name):c};g.yc=function(a){return!a.C().e()};g.nd=function(a,b){return!a.C().$(b.C())};g.Ic=function(){return we};g.Gc=function(){return new K("[MAX_NAME]",new Qc("[PRIORITY-POST]",ye))};
g.Fc=function(a,b){var c=M(a);return new K(b,new Qc("[PRIORITY-POST]",c))};g.toString=function(){return".priority"};var N=new ze;function Ae(){}ka(Ae,ue);g=Ae.prototype;g.compare=function(a,b){return Hc(a.name,b.name)};g.yc=function(){throw Sc("KeyIndex.isDefinedOn not expected to be called.");};g.nd=function(){return!1};g.Ic=function(){return we};g.Gc=function(){return new K("[MAX_NAME]",F)};g.Fc=function(a){H(q(a),"KeyIndex indexValue must always be a string.");return new K(a,F)};g.toString=function(){return".key"};
var ee=new Ae;function Be(){}ka(Be,ue);g=Be.prototype;g.compare=function(a,b){var c=a.S.tc(b.S);return 0===c?Hc(a.name,b.name):c};g.yc=function(){return!0};g.nd=function(a,b){return!a.$(b)};g.Ic=function(){return we};g.Gc=function(){return Ce};g.Fc=function(a,b){var c=M(a);return new K(b,c)};g.toString=function(){return".value"};var De=new Be;function Ee(){this.Sb=this.oa=this.Lb=this.la=this.ya=!1;this.pa=0;this.oc="";this.ec=null;this.Ab="";this.bc=null;this.yb="";this.g=N}var Fe=new Ee;function me(a){return""===a.oc?a.la:"l"===a.oc}function ie(a){H(a.la,"Only valid if start has been set");return a.ec}function he(a){H(a.la,"Only valid if start has been set");return a.Lb?a.Ab:"[MIN_NAME]"}function ke(a){H(a.oa,"Only valid if end has been set");return a.bc}
function je(a){H(a.oa,"Only valid if end has been set");return a.Sb?a.yb:"[MAX_NAME]"}function Ge(a){var b=new Ee;b.ya=a.ya;b.pa=a.pa;b.la=a.la;b.ec=a.ec;b.Lb=a.Lb;b.Ab=a.Ab;b.oa=a.oa;b.bc=a.bc;b.Sb=a.Sb;b.yb=a.yb;b.g=a.g;return b}g=Ee.prototype;g.ne=function(a){var b=Ge(this);b.ya=!0;b.pa=a;b.oc="l";return b};g.oe=function(a){var b=Ge(this);b.ya=!0;b.pa=a;b.oc="r";return b};g.Nd=function(a,b){var c=Ge(this);c.la=!0;p(a)||(a=null);c.ec=a;null!=b?(c.Lb=!0,c.Ab=b):(c.Lb=!1,c.Ab="");return c};
g.fd=function(a,b){var c=Ge(this);c.oa=!0;p(a)||(a=null);c.bc=a;p(b)?(c.Sb=!0,c.yb=b):(c.Hg=!1,c.yb="");return c};function He(a,b){var c=Ge(a);c.g=b;return c}function Ie(a){var b={};a.la&&(b.sp=a.ec,a.Lb&&(b.sn=a.Ab));a.oa&&(b.ep=a.bc,a.Sb&&(b.en=a.yb));if(a.ya){b.l=a.pa;var c=a.oc;""===c&&(c=me(a)?"l":"r");b.vf=c}a.g!==N&&(b.i=a.g.toString());return b}function S(a){return!(a.la||a.oa||a.ya)}function rd(a){return S(a)&&a.g==N}
function sd(a){var b={};if(rd(a))return b;var c;a.g===N?c="$priority":a.g===De?c="$value":a.g===ee?c="$key":(H(a.g instanceof xe,"Unrecognized index type!"),c=a.g.toString());b.orderBy=B(c);a.la&&(b.startAt=B(a.ec),a.Lb&&(b.startAt+=","+B(a.Ab)));a.oa&&(b.endAt=B(a.bc),a.Sb&&(b.endAt+=","+B(a.yb)));a.ya&&(me(a)?b.limitToFirst=a.pa:b.limitToLast=a.pa);return b}g.toString=function(){return B(Ie(this))};function Je(a,b){this.od=a;this.dc=b}Je.prototype.get=function(a){var b=x(this.od,a);if(!b)throw Error("No index defined for "+a);return b===ve?null:b};function Ke(a,b,c){var d=oa(a.od,function(d,f){var h=x(a.dc,f);H(h,"Missing index implementation for "+f);if(d===ve){if(h.yc(b.S)){for(var k=[],m=c.Xb(Jc),l=R(m);l;)l.name!=b.name&&k.push(l),l=R(m);k.push(b);return Le(k,oe(h))}return ve}h=c.get(b.name);k=d;h&&(k=k.remove(new K(b.name,h)));return k.Ra(b,b.S)});return new Je(d,a.dc)}
function Me(a,b,c){var d=oa(a.od,function(a){if(a===ve)return a;var d=c.get(b.name);return d?a.remove(new K(b.name,d)):a});return new Je(d,a.dc)}var Ne=new Je({".priority":ve},{".priority":N});function Oe(){this.set={}}g=Oe.prototype;g.add=function(a,b){this.set[a]=null!==b?b:!0};g.contains=function(a){return Bb(this.set,a)};g.get=function(a){return this.contains(a)?this.set[a]:void 0};g.remove=function(a){delete this.set[a]};g.clear=function(){this.set={}};g.e=function(){return xa(this.set)};g.count=function(){return qa(this.set)};function Pe(a,b){t(a.set,function(a,d){b(d,a)})}g.keys=function(){var a=[];t(this.set,function(b,c){a.push(c)});return a};function Qe(a,b,c,d){this.Zd=a;this.f=Yc(a);this.kc=b;this.qb=this.rb=0;this.Xa=Ad(b);this.Bf=c;this.xc=!1;this.Db=d;this.Yc=function(a){return ic(b,"long_polling",a)}}var Re,Se;
Qe.prototype.open=function(a,b){this.Qe=0;this.ja=b;this.ff=new Rb(a);this.Bb=!1;var c=this;this.tb=setTimeout(function(){c.f("Timed out trying to connect.");c.fb();c.tb=null},Math.floor(3E4));cd(function(){if(!c.Bb){c.Wa=new Te(function(a,b,d,k,m){Ue(c,arguments);if(c.Wa)if(c.tb&&(clearTimeout(c.tb),c.tb=null),c.xc=!0,"start"==a)c.id=b,c.mf=d;else if("close"===a)b?(c.Wa.Kd=!1,Sb(c.ff,b,function(){c.fb()})):c.fb();else throw Error("Unrecognized command received: "+a);},function(a,b){Ue(c,arguments);
Tb(c.ff,a,b)},function(){c.fb()},c.Yc);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.Wa.Qd&&(a.cb=c.Wa.Qd);a.v="5";c.Bf&&(a.s=c.Bf);c.Db&&(a.ls=c.Db);"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");a=c.Yc(a);c.f("Connecting via long-poll to "+a);Ve(c.Wa,a,function(){})}})};
Qe.prototype.start=function(){var a=this.Wa,b=this.mf;a.fg=this.id;a.gg=b;for(a.Ud=!0;We(a););a=this.id;b=this.mf;this.gc=document.createElement("iframe");var c={dframe:"t"};c.id=a;c.pw=b;this.gc.src=this.Yc(c);this.gc.style.display="none";document.body.appendChild(this.gc)};
Qe.isAvailable=function(){return Re||!Se&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.Dg)&&!0};g=Qe.prototype;g.sd=function(){};g.Tc=function(){this.Bb=!0;this.Wa&&(this.Wa.close(),this.Wa=null);this.gc&&(document.body.removeChild(this.gc),this.gc=null);this.tb&&(clearTimeout(this.tb),this.tb=null)};
g.fb=function(){this.Bb||(this.f("Longpoll is closing itself"),this.Tc(),this.ja&&(this.ja(this.xc),this.ja=null))};g.close=function(){this.Bb||(this.f("Longpoll is being closed."),this.Tc())};g.send=function(a){a=B(a);this.rb+=a.length;kc(this.Xa,"bytes_sent",a.length);a=Mb(a);a=ab(a,!0);a=gd(a,1840);for(var b=0;b<a.length;b++){var c=this.Wa;c.Qc.push({ug:this.Qe,Bg:a.length,Se:a[b]});c.Ud&&We(c);this.Qe++}};function Ue(a,b){var c=B(b).length;a.qb+=c;kc(a.Xa,"bytes_received",c)}
function Te(a,b,c,d){this.Yc=d;this.kb=c;this.ve=new Oe;this.Qc=[];this.$d=Math.floor(1E8*Math.random());this.Kd=!0;this.Qd=Rc();window["pLPCommand"+this.Qd]=a;window["pRTLPCB"+this.Qd]=b;a=document.createElement("iframe");a.style.display="none";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||E("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
a.contentDocument?a.ib=a.contentDocument:a.contentWindow?a.ib=a.contentWindow.document:a.document&&(a.ib=a.document);this.Ga=a;a="";this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";\x3c/script>');a="<html><body>"+a+"</body></html>";try{this.Ga.ib.open(),this.Ga.ib.write(a),this.Ga.ib.close()}catch(f){E("frame writing exception"),f.stack&&E(f.stack),E(f)}}
Te.prototype.close=function(){this.Ud=!1;if(this.Ga){this.Ga.ib.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Ga&&(document.body.removeChild(a.Ga),a.Ga=null)},Math.floor(0))}var b=this.kb;b&&(this.kb=null,b())};
function We(a){if(a.Ud&&a.Kd&&a.ve.count()<(0<a.Qc.length?2:1)){a.$d++;var b={};b.id=a.fg;b.pw=a.gg;b.ser=a.$d;for(var b=a.Yc(b),c="",d=0;0<a.Qc.length;)if(1870>=a.Qc[0].Se.length+30+c.length){var e=a.Qc.shift(),c=c+"&seg"+d+"="+e.ug+"&ts"+d+"="+e.Bg+"&d"+d+"="+e.Se;d++}else break;Xe(a,b+c,a.$d);return!0}return!1}function Xe(a,b,c){function d(){a.ve.remove(c);We(a)}a.ve.add(c,1);var e=setTimeout(d,Math.floor(25E3));Ve(a,b,function(){clearTimeout(e);d()})}
function Ve(a,b,c){setTimeout(function(){try{if(a.Kd){var d=a.Ga.ib.createElement("script");d.type="text/javascript";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){E("Long-poll script failed to load: "+b);a.Kd=!1;a.close()};a.Ga.ib.body.appendChild(d)}}catch(e){}},Math.floor(1))};function Ye(a){Ze(this,a)}var $e=[Qe,Dd];function Ze(a,b){var c=Dd&&Dd.isAvailable(),d=c&&!(Yb.cf||!0===Yb.get("previous_websocket_failure"));b.Cg&&(c||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.Wc=[Dd];else{var e=a.Wc=[];hd($e,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function af(a){if(0<a.Wc.length)return a.Wc[0];throw Error("No transports available");};function bf(a,b,c,d,e,f,h){this.id=a;this.f=Yc("c:"+this.id+":");this.te=c;this.Mc=d;this.ja=e;this.se=f;this.M=b;this.Ad=[];this.Oe=0;this.Af=new Ye(b);this.L=0;this.Db=h;this.f("Connection created");cf(this)}
function cf(a){var b=af(a.Af);a.I=new b("c:"+a.id+":"+a.Oe++,a.M,void 0,a.Db);a.xe=b.responsesRequiredToBeHealthy||0;var c=df(a,a.I),d=ef(a,a.I);a.Xc=a.I;a.Rc=a.I;a.D=null;a.Cb=!1;setTimeout(function(){a.I&&a.I.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.md=ld(function(){a.md=null;a.Cb||(a.I&&102400<a.I.qb?(a.f("Connection exceeded healthy timeout but has received "+a.I.qb+" bytes.  Marking connection healthy."),a.Cb=!0,a.I.sd()):a.I&&10240<a.I.rb?a.f("Connection exceeded healthy timeout but has sent "+
a.I.rb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function ef(a,b){return function(c){b===a.I?(a.I=null,c||0!==a.L?1===a.L&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.M.bb.substr(0,2)&&(Yb.remove("host:"+a.M.host),a.M.bb=a.M.host)),a.close()):b===a.D?(a.f("Secondary connection lost."),c=a.D,a.D=null,a.Xc!==c&&a.Rc!==c||a.close()):a.f("closing an old connection")}}
function df(a,b){return function(c){if(2!=a.L)if(b===a.Rc){var d=ed("t",c);c=ed("d",c);if("c"==d){if(d=ed("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.yf=c.s;hc(a.M,f);0==a.L&&(a.I.start(),ff(a,a.I,d),"5"!==e&&O("Protocol version mismatch detected"),c=a.Af,(c=1<c.Wc.length?c.Wc[1]:null)&&gf(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.Rc=a.D;for(c=0;c<a.Ad.length;++c)a.wd(a.Ad[c]);a.Ad=[];hf(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),
a.se&&(a.se(c),a.se=null),a.ja=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),hc(a.M,c),1===a.L?a.close():(jf(a),cf(a))):"e"===d?Zc("Server Error: "+c):"o"===d?(a.f("got pong on primary."),kf(a),lf(a)):Zc("Unknown control packet command: "+d)}else"d"==d&&a.wd(c)}else if(b===a.D)if(d=ed("t",c),c=ed("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?mf(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.D.close(),a.Xc!==a.D&&a.Rc!==a.D||a.close()):"o"===c&&(a.f("got pong on secondary."),
a.xf--,mf(a)));else if("d"==d)a.Ad.push(c);else throw Error("Unknown protocol layer: "+d);else a.f("message on old connection")}}bf.prototype.va=function(a){nf(this,{t:"d",d:a})};function hf(a){a.Xc===a.D&&a.Rc===a.D&&(a.f("cleaning up and promoting a connection: "+a.D.Zd),a.I=a.D,a.D=null)}
function mf(a){0>=a.xf?(a.f("Secondary connection is healthy."),a.Cb=!0,a.D.sd(),a.D.start(),a.f("sending client ack on secondary"),a.D.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.I.send({t:"c",d:{t:"n",d:{}}}),a.Xc=a.D,hf(a)):(a.f("sending ping on secondary."),a.D.send({t:"c",d:{t:"p",d:{}}}))}bf.prototype.wd=function(a){kf(this);this.te(a)};function kf(a){a.Cb||(a.xe--,0>=a.xe&&(a.f("Primary connection is healthy."),a.Cb=!0,a.I.sd()))}
function gf(a,b){a.D=new b("c:"+a.id+":"+a.Oe++,a.M,a.yf);a.xf=b.responsesRequiredToBeHealthy||0;a.D.open(df(a,a.D),ef(a,a.D));ld(function(){a.D&&(a.f("Timed out trying to upgrade."),a.D.close())},Math.floor(6E4))}function ff(a,b,c){a.f("Realtime connection established.");a.I=b;a.L=1;a.Mc&&(a.Mc(c,a.yf),a.Mc=null);0===a.xe?(a.f("Primary connection is healthy."),a.Cb=!0):ld(function(){lf(a)},Math.floor(5E3))}
function lf(a){a.Cb||1!==a.L||(a.f("sending ping on primary."),nf(a,{t:"c",d:{t:"p",d:{}}}))}function nf(a,b){if(1!==a.L)throw"Connection is not connected";a.Xc.send(b)}bf.prototype.close=function(){2!==this.L&&(this.f("Closing realtime connection."),this.L=2,jf(this),this.ja&&(this.ja(),this.ja=null))};function jf(a){a.f("Shutting down all connections");a.I&&(a.I.close(),a.I=null);a.D&&(a.D.close(),a.D=null);a.md&&(clearTimeout(a.md),a.md=null)};function L(a,b){if(1==arguments.length){this.o=a.split("/");for(var c=0,d=0;d<this.o.length;d++)0<this.o[d].length&&(this.o[c]=this.o[d],c++);this.o.length=c;this.Z=0}else this.o=a,this.Z=b}function T(a,b){var c=J(a);if(null===c)return b;if(c===J(b))return T(D(a),D(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}
function of(a,b){for(var c=a.slice(),d=b.slice(),e=0;e<c.length&&e<d.length;e++){var f=Hc(c[e],d[e]);if(0!==f)return f}return c.length===d.length?0:c.length<d.length?-1:1}function J(a){return a.Z>=a.o.length?null:a.o[a.Z]}function $d(a){return a.o.length-a.Z}function D(a){var b=a.Z;b<a.o.length&&b++;return new L(a.o,b)}function ae(a){return a.Z<a.o.length?a.o[a.o.length-1]:null}g=L.prototype;
g.toString=function(){for(var a="",b=this.Z;b<this.o.length;b++)""!==this.o[b]&&(a+="/"+this.o[b]);return a||"/"};g.slice=function(a){return this.o.slice(this.Z+(a||0))};g.parent=function(){if(this.Z>=this.o.length)return null;for(var a=[],b=this.Z;b<this.o.length-1;b++)a.push(this.o[b]);return new L(a,0)};
g.k=function(a){for(var b=[],c=this.Z;c<this.o.length;c++)b.push(this.o[c]);if(a instanceof L)for(c=a.Z;c<a.o.length;c++)b.push(a.o[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new L(b,0)};g.e=function(){return this.Z>=this.o.length};g.$=function(a){if($d(this)!==$d(a))return!1;for(var b=this.Z,c=a.Z;b<=this.o.length;b++,c++)if(this.o[b]!==a.o[c])return!1;return!0};
g.contains=function(a){var b=this.Z,c=a.Z;if($d(this)>$d(a))return!1;for(;b<this.o.length;){if(this.o[b]!==a.o[c])return!1;++b;++c}return!0};var C=new L("");function pf(a,b){this.Ta=a.slice();this.Ka=Math.max(1,this.Ta.length);this.Te=b;for(var c=0;c<this.Ta.length;c++)this.Ka+=Nb(this.Ta[c]);qf(this)}pf.prototype.push=function(a){0<this.Ta.length&&(this.Ka+=1);this.Ta.push(a);this.Ka+=Nb(a);qf(this)};pf.prototype.pop=function(){var a=this.Ta.pop();this.Ka-=Nb(a);0<this.Ta.length&&--this.Ka};
function qf(a){if(768<a.Ka)throw Error(a.Te+"has a key path longer than 768 bytes ("+a.Ka+").");if(32<a.Ta.length)throw Error(a.Te+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rf(a));}function rf(a){return 0==a.Ta.length?"":"in property '"+a.Ta.join(".")+"'"};function sf(a){a instanceof tf||$c("Don't call new Database() directly - please use firebase.database().");this.ua=a;this.ca=new U(a,C);this.INTERNAL=new uf(this)}var vf={TIMESTAMP:{".sv":"timestamp"}};g=sf.prototype;g.app=null;g.pf=function(a){wf(this,"ref");y("database.ref",0,1,arguments.length);return p(a)?this.ca.k(a):this.ca};
g.rg=function(a){wf(this,"database.refFromURL");y("database.refFromURL",1,1,arguments.length);var b=ad(a);xf("database.refFromURL",b);var c=b.kc;c.host!==this.ua.M.host&&$c("database.refFromURL: Host name does not match the current database: (found "+c.host+" but expected "+this.ua.M.host+")");return this.pf(b.path.toString())};function wf(a,b){null===a.ua&&$c("Cannot call "+b+" on a deleted database.")}g.$f=function(){y("database.goOffline",0,0,arguments.length);wf(this,"goOffline");this.ua.eb()};
g.ag=function(){y("database.goOnline",0,0,arguments.length);wf(this,"goOnline");this.ua.lc()};Object.defineProperty(sf.prototype,"app",{get:function(){return this.ua.app}});function uf(a){this.$a=a}uf.prototype.delete=function(){wf(this.$a,"delete");var a=yf.Wb(),b=this.$a.ua;x(a.nb,b.app.name)!==b&&$c("Database "+b.app.name+" has already been deleted.");b.eb();delete a.nb[b.app.name];this.$a.ua=null;this.$a.ca=null;this.$a=this.$a.INTERNAL=null;return firebase.Promise.resolve()};
sf.prototype.ref=sf.prototype.pf;sf.prototype.refFromURL=sf.prototype.rg;sf.prototype.goOnline=sf.prototype.ag;sf.prototype.goOffline=sf.prototype.$f;uf.prototype["delete"]=uf.prototype.delete;function Mc(){this.m=this.B=null}Mc.prototype.find=function(a){if(null!=this.B)return this.B.Q(a);if(a.e()||null==this.m)return null;var b=J(a);a=D(a);return this.m.contains(b)?this.m.get(b).find(a):null};function Oc(a,b,c){if(b.e())a.B=c,a.m=null;else if(null!==a.B)a.B=a.B.F(b,c);else{null==a.m&&(a.m=new Oe);var d=J(b);a.m.contains(d)||a.m.add(d,new Mc);a=a.m.get(d);b=D(b);Oc(a,b,c)}}
function zf(a,b){if(b.e())return a.B=null,a.m=null,!0;if(null!==a.B){if(a.B.J())return!1;var c=a.B;a.B=null;c.P(N,function(b,c){Oc(a,new L(b),c)});return zf(a,b)}return null!==a.m?(c=J(b),b=D(b),a.m.contains(c)&&zf(a.m.get(c),b)&&a.m.remove(c),a.m.e()?(a.m=null,!0):!1):!0}function Nc(a,b,c){null!==a.B?c(b,a.B):a.P(function(a,e){var f=new L(b.toString()+"/"+a);Nc(e,f,c)})}Mc.prototype.P=function(a){null!==this.m&&Pe(this.m,function(b,c){a(b,c)})};var Af=/[\[\].#$\/\u0000-\u001F\u007F]/,Bf=/[\[\].#$\u0000-\u001F\u007F]/;function Cf(a){return q(a)&&0!==a.length&&!Af.test(a)}function Df(a){return null===a||q(a)||fa(a)&&!bd(a)||ha(a)&&Bb(a,".sv")}function Ef(a,b,c,d){d&&!p(b)||Ff(Db(a,1,d),b,c)}
function Ff(a,b,c){c instanceof L&&(c=new pf(c,a));if(!p(b))throw Error(a+"contains undefined "+rf(c));if(ga(b))throw Error(a+"contains a function "+rf(c)+" with contents: "+b.toString());if(bd(b))throw Error(a+"contains "+b.toString()+" "+rf(c));if(q(b)&&b.length>10485760/3&&10485760<Nb(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+rf(c)+" ('"+b.substring(0,50)+"...')");if(ha(b)){var d=!1,e=!1;Cb(b,function(b,h){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=
!0,!Cf(b)))throw Error(a+" contains an invalid key ("+b+") "+rf(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);Ff(a,h,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+rf(c)+" in addition to actual children.");}}
function Gf(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((".priority"!==e[f]||f!==e.length-1)&&!Cf(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');}b.sort(of);e=null;for(c=0;c<b.length;c++){d=b[c];if(null!==e&&e.contains(d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}}
function Hf(a,b,c){var d=Db(a,1,!1);if(!ha(b)||da(b))throw Error(d+" must be an object containing the children to replace.");var e=[];Cb(b,function(a,b){var k=new L(a);Ff(d,b,c.k(k));if(".priority"===ae(k)&&!Df(b))throw Error(d+"contains an invalid value for '"+k.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(k)});Gf(d,e)}
function If(a,b,c){if(bd(c))throw Error(Db(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Df(c))throw Error(Db(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).");}
function Jf(a,b,c){if(!c||p(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(Db(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function Kf(a,b){if(p(b)&&!Cf(b))throw Error(Db(a,2,!0)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function Lf(a,b){if(!q(b)||0===b.length||Bf.test(b))throw Error(Db(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function Mf(a,b){if(".info"===J(b))throw Error(a+" failed: Can't modify data under /.info/");}
function xf(a,b){var c=b.path.toString(),d;!(d=!q(b.kc.host)||0===b.kc.host.length||!Cf(b.kc.pe))&&(d=0!==c.length)&&(c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),d=!(q(c)&&0!==c.length&&!Bf.test(c)));if(d)throw Error(Db(a,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');};function V(a,b){this.ua=a;this.ra=b}V.prototype.cancel=function(a){y("Firebase.onDisconnect().cancel",0,1,arguments.length);A("Firebase.onDisconnect().cancel",1,a,!0);var b=new Hb;this.ua.xd(this.ra,Ib(b,a));return b.sa};V.prototype.cancel=V.prototype.cancel;V.prototype.remove=function(a){y("Firebase.onDisconnect().remove",0,1,arguments.length);Mf("Firebase.onDisconnect().remove",this.ra);A("Firebase.onDisconnect().remove",1,a,!0);var b=new Hb;Nf(this.ua,this.ra,null,Ib(b,a));return b.sa};
V.prototype.remove=V.prototype.remove;V.prototype.set=function(a,b){y("Firebase.onDisconnect().set",1,2,arguments.length);Mf("Firebase.onDisconnect().set",this.ra);Ef("Firebase.onDisconnect().set",a,this.ra,!1);A("Firebase.onDisconnect().set",2,b,!0);var c=new Hb;Nf(this.ua,this.ra,a,Ib(c,b));return c.sa};V.prototype.set=V.prototype.set;
V.prototype.Kb=function(a,b,c){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);Mf("Firebase.onDisconnect().setWithPriority",this.ra);Ef("Firebase.onDisconnect().setWithPriority",a,this.ra,!1);If("Firebase.onDisconnect().setWithPriority",2,b);A("Firebase.onDisconnect().setWithPriority",3,c,!0);var d=new Hb;Of(this.ua,this.ra,a,b,Ib(d,c));return d.sa};V.prototype.setWithPriority=V.prototype.Kb;
V.prototype.update=function(a,b){y("Firebase.onDisconnect().update",1,2,arguments.length);Mf("Firebase.onDisconnect().update",this.ra);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;O("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Hf("Firebase.onDisconnect().update",a,this.ra);A("Firebase.onDisconnect().update",2,b,!0);
c=new Hb;Pf(this.ua,this.ra,a,Ib(c,b));return c.sa};V.prototype.update=V.prototype.update;function Qf(a){H(da(a)&&0<a.length,"Requires a non-empty array");this.Kf=a;this.Ec={}}Qf.prototype.Ge=function(a,b){var c;c=this.Ec[a]||[];var d=c.length;if(0<d){for(var e=Array(d),f=0;f<d;f++)e[f]=c[f];c=e}else c=[];for(d=0;d<c.length;d++)c[d].Ke.apply(c[d].Pa,Array.prototype.slice.call(arguments,1))};Qf.prototype.hc=function(a,b,c){Rf(this,a);this.Ec[a]=this.Ec[a]||[];this.Ec[a].push({Ke:b,Pa:c});(a=this.Ye(a))&&b.apply(c,a)};
Qf.prototype.Jc=function(a,b,c){Rf(this,a);a=this.Ec[a]||[];for(var d=0;d<a.length;d++)if(a[d].Ke===b&&(!c||c===a[d].Pa)){a.splice(d,1);break}};function Rf(a,b){H(Oa(a.Kf,function(a){return a===b}),"Unknown event: "+b)};function Sf(){Qf.call(this,["online"]);this.ic=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&!Qb()){var a=this;window.addEventListener("online",function(){a.ic||(a.ic=!0,a.Ge("online",!0))},!1);window.addEventListener("offline",function(){a.ic&&(a.ic=!1,a.Ge("online",!1))},!1)}}ka(Sf,Qf);Sf.prototype.Ye=function(a){H("online"===a,"Unknown event type: "+a);return[this.ic]};ba(Sf);function Tf(){Qf.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.Nb=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.Nb&&(c.Nb=b,c.Ge("visible",b))},!1)}}ka(Tf,Qf);Tf.prototype.Ye=function(a){H("visible"===a,"Unknown event type: "+a);return[this.Nb]};ba(Tf);var Uf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);H(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);H(20===c.length,"nextPushId: Length should be 20.");
return c}}();function Vf(a,b){this.Oa=a;this.ca=b?b:Wf}g=Vf.prototype;g.Ra=function(a,b){return new Vf(this.Oa,this.ca.Ra(a,b,this.Oa).Y(null,null,!1,null,null))};g.remove=function(a){return new Vf(this.Oa,this.ca.remove(a,this.Oa).Y(null,null,!1,null,null))};g.get=function(a){for(var b,c=this.ca;!c.e();){b=this.Oa(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function Xf(a,b){for(var c,d=a.ca,e=null;!d.e();){c=a.Oa(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}g.e=function(){return this.ca.e()};g.count=function(){return this.ca.count()};g.Hc=function(){return this.ca.Hc()};g.fc=function(){return this.ca.fc()};g.ia=function(a){return this.ca.ia(a)};
g.Xb=function(a){return new Yf(this.ca,null,this.Oa,!1,a)};g.Yb=function(a,b){return new Yf(this.ca,a,this.Oa,!1,b)};g.$b=function(a,b){return new Yf(this.ca,a,this.Oa,!0,b)};g.$e=function(a){return new Yf(this.ca,null,this.Oa,!0,a)};function Yf(a,b,c,d,e){this.Hd=e||null;this.le=d;this.Sa=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.le?a.left:a.right;else if(0===e){this.Sa.push(a);break}else this.Sa.push(a),a=this.le?a.right:a.left}
function R(a){if(0===a.Sa.length)return null;var b=a.Sa.pop(),c;c=a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value};if(a.le)for(b=b.left;!b.e();)a.Sa.push(b),b=b.right;else for(b=b.right;!b.e();)a.Sa.push(b),b=b.left;return c}function Zf(a){if(0===a.Sa.length)return null;var b;b=a.Sa;b=b[b.length-1];return a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value}}function $f(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:Wf;this.right=null!=e?e:Wf}g=$f.prototype;
g.Y=function(a,b,c,d,e){return new $f(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};g.count=function(){return this.left.count()+1+this.right.count()};g.e=function(){return!1};g.ia=function(a){return this.left.ia(a)||a(this.key,this.value)||this.right.ia(a)};function ag(a){return a.left.e()?a:ag(a.left)}g.Hc=function(){return ag(this).key};g.fc=function(){return this.right.e()?this.key:this.right.fc()};
g.Ra=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.Y(null,null,null,e.left.Ra(a,b,c),null):0===d?e.Y(null,b,null,null,null):e.Y(null,null,null,null,e.right.Ra(a,b,c));return bg(e)};function cg(a){if(a.left.e())return Wf;a.left.fa()||a.left.left.fa()||(a=dg(a));a=a.Y(null,null,null,cg(a.left),null);return bg(a)}
g.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.fa()||c.left.left.fa()||(c=dg(c)),c=c.Y(null,null,null,c.left.remove(a,b),null);else{c.left.fa()&&(c=eg(c));c.right.e()||c.right.fa()||c.right.left.fa()||(c=fg(c),c.left.left.fa()&&(c=eg(c),c=fg(c)));if(0===b(a,c.key)){if(c.right.e())return Wf;d=ag(c.right);c=c.Y(d.key,d.value,null,null,cg(c.right))}c=c.Y(null,null,null,null,c.right.remove(a,b))}return bg(c)};g.fa=function(){return this.color};
function bg(a){a.right.fa()&&!a.left.fa()&&(a=gg(a));a.left.fa()&&a.left.left.fa()&&(a=eg(a));a.left.fa()&&a.right.fa()&&(a=fg(a));return a}function dg(a){a=fg(a);a.right.left.fa()&&(a=a.Y(null,null,null,null,eg(a.right)),a=gg(a),a=fg(a));return a}function gg(a){return a.right.Y(null,null,a.color,a.Y(null,null,!0,null,a.right.left),null)}function eg(a){return a.left.Y(null,null,a.color,null,a.Y(null,null,!0,a.left.right,null))}
function fg(a){return a.Y(null,null,!a.color,a.left.Y(null,null,!a.left.color,null,null),a.right.Y(null,null,!a.right.color,null,null))}function hg(){}g=hg.prototype;g.Y=function(){return this};g.Ra=function(a,b){return new $f(a,b,null)};g.remove=function(){return this};g.count=function(){return 0};g.e=function(){return!0};g.ia=function(){return!1};g.Hc=function(){return null};g.fc=function(){return null};g.fa=function(){return!1};var Wf=new hg;function P(a,b,c){this.m=a;(this.ba=b)&&re(this.ba);a.e()&&H(!this.ba||this.ba.e(),"An empty node cannot have a priority");this.zb=c;this.Eb=null}g=P.prototype;g.J=function(){return!1};g.C=function(){return this.ba||F};g.ga=function(a){return this.m.e()?this:new P(this.m,a,this.zb)};g.R=function(a){if(".priority"===a)return this.C();a=this.m.get(a);return null===a?F:a};g.Q=function(a){var b=J(a);return null===b?this:this.R(b).Q(D(a))};g.Fa=function(a){return null!==this.m.get(a)};
g.U=function(a,b){H(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.ga(b);var c=new K(a,b),d,e;b.e()?(d=this.m.remove(a),c=Me(this.zb,c,this.m)):(d=this.m.Ra(a,b),c=Ke(this.zb,c,this.m));e=d.e()?F:this.ba;return new P(d,e,c)};g.F=function(a,b){var c=J(a);if(null===c)return b;H(".priority"!==J(a)||1===$d(a),".priority must be the last token in a path");var d=this.R(c).F(D(a),b);return this.U(c,d)};g.e=function(){return this.m.e()};g.Fb=function(){return this.m.count()};
var ig=/^(0|[1-9]\d*)$/;g=P.prototype;g.H=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.P(N,function(f,h){b[f]=h.H(a);c++;e&&ig.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],h;for(h in b)f[h]=b[h];return f}a&&!this.C().e()&&(b[".priority"]=this.C().H());return b};g.hash=function(){if(null===this.Eb){var a="";this.C().e()||(a+="priority:"+te(this.C().H())+":");this.P(N,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.Eb=""===a?"":Uc(a)}return this.Eb};
g.Ze=function(a,b,c){return(c=jg(this,c))?(a=Xf(c,new K(a,b)))?a.name:null:Xf(this.m,a)};function pe(a,b){var c;c=(c=jg(a,b))?(c=c.Hc())&&c.name:a.m.Hc();return c?new K(c,a.m.get(c)):null}function qe(a,b){var c;c=(c=jg(a,b))?(c=c.fc())&&c.name:a.m.fc();return c?new K(c,a.m.get(c)):null}g.P=function(a,b){var c=jg(this,a);return c?c.ia(function(a){return b(a.name,a.S)}):this.m.ia(b)};g.Xb=function(a){return this.Yb(a.Ic(),a)};
g.Yb=function(a,b){var c=jg(this,b);if(c)return c.Yb(a,function(a){return a});for(var c=this.m.Yb(a.name,Jc),d=Zf(c);null!=d&&0>b.compare(d,a);)R(c),d=Zf(c);return c};g.$e=function(a){return this.$b(a.Gc(),a)};g.$b=function(a,b){var c=jg(this,b);if(c)return c.$b(a,function(a){return a});for(var c=this.m.$b(a.name,Jc),d=Zf(c);null!=d&&0<b.compare(d,a);)R(c),d=Zf(c);return c};g.tc=function(a){return this.e()?a.e()?0:-1:a.J()||a.e()?1:a===ye?-1:0};
g.ob=function(a){if(a===ee||ua(this.zb.dc,a.toString()))return this;var b=this.zb,c=this.m;H(a!==ee,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Xb(Jc),f=R(c);f;)e=e||a.yc(f.S),d.push(f),f=R(c);d=e?Le(d,oe(a)):ve;e=a.toString();c=ya(b.dc);c[e]=a;a=ya(b.od);a[e]=d;return new P(this.m,this.ba,new Je(a,c))};g.zc=function(a){return a===ee||ua(this.zb.dc,a.toString())};
g.$=function(a){if(a===this)return!0;if(a.J())return!1;if(this.C().$(a.C())&&this.m.count()===a.m.count()){var b=this.Xb(N);a=a.Xb(N);for(var c=R(b),d=R(a);c&&d;){if(c.name!==d.name||!c.S.$(d.S))return!1;c=R(b);d=R(a)}return null===c&&null===d}return!1};function jg(a,b){return b===ee?null:a.zb.get(b.toString())}g.toString=function(){return B(this.H(!0))};function M(a,b){if(null===a)return F;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);H(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new Qc(a,M(c));if(a instanceof Array){var d=F,e=a;t(e,function(a,b){if(Bb(e,b)&&"."!==b.substring(0,1)){var c=M(a);if(c.J()||!c.e())d=
d.U(b,c)}});return d.ga(M(c))}var f=[],h=!1,k=a;Cb(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=M(k[a]);b.e()||(h=h||!b.C().e(),f.push(new K(a,b)))}});if(0==f.length)return F;var m=Le(f,Gc,function(a){return a.name},Ic);if(h){var l=Le(f,oe(N));return new P(m,M(c),new Je({".priority":l},{".priority":N}))}return new P(m,M(c),Ne)}var kg=Math.log(2);
function lg(a){this.count=parseInt(Math.log(a+1)/kg,10);this.Re=this.count-1;this.Lf=a+1&parseInt(Array(this.count+1).join("1"),2)}function mg(a){var b=!(a.Lf&1<<a.Re);a.Re--;return b}
function Le(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var l=a[b],u=c?c(l):l;return new $f(u,l.S,!1,null,null)}var l=parseInt(f/2,10)+b,f=e(b,l),z=e(l+1,d),l=a[l],u=c?c(l):l;return new $f(u,l.S,!1,f,z)}a.sort(b);var f=function(b){function d(b,h){var k=u-b,z=u;u-=b;var z=e(k+1,z),k=a[k],G=c?c(k):k,z=new $f(G,k.S,h,null,z);f?f.left=z:l=z;f=z}for(var f=null,l=null,u=a.length,z=0;z<b.count;++z){var G=mg(b),ud=Math.pow(2,b.count-(z+1));G?d(ud,!1):(d(ud,!1),d(ud,!0))}return l}(new lg(a.length));
return null!==f?new Vf(d||b,f):new Vf(d||b)}function te(a){return"number"===typeof a?"number:"+id(a):"string:"+a}function re(a){if(a.J()){var b=a.H();H("string"===typeof b||"number"===typeof b||"object"===typeof b&&Bb(b,".sv"),"Priority must be a string or number.")}else H(a===ye||a.e(),"priority of unexpected type.");H(a===ye||a.C().e(),"Priority nodes can't have a priority of their own.")}var F=new P(new Vf(Ic),null,Ne);function ng(){P.call(this,new Vf(Ic),F,Ne)}ka(ng,P);g=ng.prototype;
g.tc=function(a){return a===this?0:1};g.$=function(a){return a===this};g.C=function(){return this};g.R=function(){return F};g.e=function(){return!1};var ye=new ng,we=new K("[MIN_NAME]",F),Ce=new K("[MAX_NAME]",ye);function W(a,b,c){this.A=a;this.W=b;this.g=c}W.prototype.H=function(){y("Firebase.DataSnapshot.val",0,0,arguments.length);return this.A.H()};W.prototype.val=W.prototype.H;W.prototype.Ue=function(){y("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.A.H(!0)};W.prototype.exportVal=W.prototype.Ue;W.prototype.Vf=function(){y("Firebase.DataSnapshot.exists",0,0,arguments.length);return!this.A.e()};W.prototype.exists=W.prototype.Vf;
W.prototype.k=function(a){y("Firebase.DataSnapshot.child",0,1,arguments.length);fa(a)&&(a=String(a));Lf("Firebase.DataSnapshot.child",a);var b=new L(a),c=this.W.k(b);return new W(this.A.Q(b),c,N)};W.prototype.child=W.prototype.k;W.prototype.Fa=function(a){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Lf("Firebase.DataSnapshot.hasChild",a);var b=new L(a);return!this.A.Q(b).e()};W.prototype.hasChild=W.prototype.Fa;
W.prototype.C=function(){y("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.A.C().H()};W.prototype.getPriority=W.prototype.C;W.prototype.forEach=function(a){y("Firebase.DataSnapshot.forEach",1,1,arguments.length);A("Firebase.DataSnapshot.forEach",1,a,!1);if(this.A.J())return!1;var b=this;return!!this.A.P(this.g,function(c,d){return a(new W(d,b.W.k(c),N))})};W.prototype.forEach=W.prototype.forEach;
W.prototype.kd=function(){y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.A.J()?!1:!this.A.e()};W.prototype.hasChildren=W.prototype.kd;W.prototype.getKey=function(){y("Firebase.DataSnapshot.key",0,0,arguments.length);return this.W.getKey()};kd(W.prototype,"key",W.prototype.getKey);W.prototype.Fb=function(){y("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.A.Fb()};W.prototype.numChildren=W.prototype.Fb;
W.prototype.xb=function(){y("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.W};kd(W.prototype,"ref",W.prototype.xb);function Yd(a,b){this.O=a;this.Ld=b}function Vd(a,b,c,d){return new Yd(new zc(b,c,d),a.Ld)}function Zd(a){return a.O.ea?a.O.j():null}Yd.prototype.w=function(){return this.Ld};function Ac(a){return a.Ld.ea?a.Ld.j():null};function og(a,b){this.W=a;var c=a.n,d=new fe(c.g),c=S(c)?new fe(c.g):c.ya?new le(c):new ge(c);this.of=new Pd(c);var e=b.w(),f=b.O,h=d.za(F,e.j(),null),k=c.za(F,f.j(),null);this.Na=new Yd(new zc(k,f.ea,c.Qa()),new zc(h,e.ea,d.Qa()));this.ab=[];this.Sf=new Kd(a)}function pg(a){return a.W}g=og.prototype;g.w=function(){return this.Na.w().j()};g.jb=function(a){var b=Ac(this.Na);return b&&(S(this.W.n)||!a.e()&&!b.R(J(a)).e())?b.Q(a):null};g.e=function(){return 0===this.ab.length};g.Ob=function(a){this.ab.push(a)};
g.mb=function(a,b){var c=[];if(b){H(null==a,"A cancel should cancel all event registrations.");var d=this.W.path;Ja(this.ab,function(a){(a=a.Pe(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.ab.length;++f){var h=this.ab[f];if(!h.matches(a))e.push(h);else if(a.af()){e=e.concat(this.ab.slice(f+1));break}}this.ab=e}else this.ab=[];return c};
g.gb=function(a,b,c){a.type===wd&&null!==a.source.Ib&&(H(Ac(this.Na),"We should always have a full cache before handling merges"),H(Zd(this.Na),"Missing event cache, even though we have a server cache"));var d=this.Na;a=this.of.gb(d,a,b,c);b=this.of;c=a.Sd;H(c.O.j().zc(b.V.g),"Event snap not indexed");H(c.w().j().zc(b.V.g),"Server snap not indexed");H(Dc(a.Sd.w())||!Dc(d.w()),"Once a server snap is complete, it should never go back");this.Na=a.Sd;return qg(this,a.Mf,a.Sd.O.j(),null)};
function rg(a,b){var c=a.Na.O,d=[];c.j().J()||c.j().P(N,function(a,b){d.push(new I("child_added",b,a))});c.ea&&d.push(Bc(c.j()));return qg(a,d,c.j(),b)}function qg(a,b,c,d){return Ld(a.Sf,b,c,d?[d]:a.ab)};function sg(a,b,c){this.Qb=a;this.sb=b;this.ub=c||null}g=sg.prototype;g.tf=function(a){return"value"===a};g.createEvent=function(a,b){var c=b.n.g;return new tc("value",this,new W(a.Ma,b.xb(),c))};g.Ub=function(a){var b=this.ub;if("cancel"===a.ge()){H(this.sb,"Raising a cancel event on a listener with no cancel callback");var c=this.sb;return function(){c.call(b,a.error)}}var d=this.Qb;return function(){d.call(b,a.Md)}};g.Pe=function(a,b){return this.sb?new uc(this,a,b):null};
g.matches=function(a){return a instanceof sg?a.Qb&&this.Qb?a.Qb===this.Qb&&a.ub===this.ub:!0:!1};g.af=function(){return null!==this.Qb};function tg(a,b,c){this.ha=a;this.sb=b;this.ub=c}g=tg.prototype;g.tf=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.ha};g.Pe=function(a,b){return this.sb?new uc(this,a,b):null};
g.createEvent=function(a,b){H(null!=a.Za,"Child events should have a childName.");var c=b.xb().k(a.Za);return new tc(a.type,this,new W(a.Ma,c,b.n.g),a.Dd)};g.Ub=function(a){var b=this.ub;if("cancel"===a.ge()){H(this.sb,"Raising a cancel event on a listener with no cancel callback");var c=this.sb;return function(){c.call(b,a.error)}}var d=this.ha[a.gd];return function(){d.call(b,a.Md,a.Dd)}};
g.matches=function(a){if(a instanceof tg){if(!this.ha||!a.ha)return!0;if(this.ub===a.ub){var b=qa(a.ha);if(b===qa(this.ha)){if(1===b){var b=ra(a.ha),c=ra(this.ha);return c===b&&(!a.ha[b]||!this.ha[c]||a.ha[b]===this.ha[c])}return pa(this.ha,function(b,c){return a.ha[c]===b})}}}return!1};g.af=function(){return null!==this.ha};function X(a,b,c,d){this.u=a;this.path=b;this.n=c;this.Oc=d}
function ug(a){var b=null,c=null;a.la&&(b=ie(a));a.oa&&(c=ke(a));if(a.g===ee){if(a.la){if("[MIN_NAME]"!=he(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.oa){if("[MAX_NAME]"!=je(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==
typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.g===N){if(null!=b&&!Df(b)||null!=c&&!Df(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(H(a.g instanceof xe||a.g===De,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function vg(a){if(a.la&&a.oa&&a.ya&&(!a.ya||""===a.oc))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function wg(a,b){if(!0===a.Oc)throw Error(b+": You can't combine multiple orderBy calls.");}g=X.prototype;g.xb=function(){y("Query.ref",0,0,arguments.length);return new U(this.u,this.path)};
g.hc=function(a,b,c,d){y("Query.on",2,4,arguments.length);Jf("Query.on",a,!1);A("Query.on",2,b,!1);var e=xg("Query.on",c,d);if("value"===a)yg(this.u,this,new sg(b,e.cancel||null,e.Pa||null));else{var f={};f[a]=b;yg(this.u,this,new tg(f,e.cancel,e.Pa))}return b};
g.Jc=function(a,b,c){y("Query.off",0,3,arguments.length);Jf("Query.off",a,!0);A("Query.off",2,b,!0);Eb("Query.off",3,c);var d=null,e=null;"value"===a?d=new sg(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new tg(e,null,c||null));e=this.u;d=".info"===J(this.path)?e.pd.mb(this,d):e.K.mb(this,d);pc(e.da,this.path,d)};
g.kg=function(a,b){function c(k){f&&(f=!1,e.Jc(a,c),b&&b.call(d.Pa,k),h.resolve(k))}y("Query.once",1,4,arguments.length);Jf("Query.once",a,!1);A("Query.once",2,b,!0);var d=xg("Query.once",arguments[2],arguments[3]),e=this,f=!0,h=new Hb;Jb(h.sa);this.hc(a,c,function(b){e.Jc(a,c);d.cancel&&d.cancel.call(d.Pa,b);h.reject(b)});return h.sa};
g.ne=function(a){y("Query.limitToFirst",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.ya)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.n.ne(a),this.Oc)};
g.oe=function(a){y("Query.limitToLast",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.ya)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.n.oe(a),this.Oc)};
g.lg=function(a){y("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Lf("Query.orderByChild",a);wg(this,"Query.orderByChild");var b=new L(a);if(b.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");
b=new xe(b);b=He(this.n,b);ug(b);return new X(this.u,this.path,b,!0)};g.mg=function(){y("Query.orderByKey",0,0,arguments.length);wg(this,"Query.orderByKey");var a=He(this.n,ee);ug(a);return new X(this.u,this.path,a,!0)};g.ng=function(){y("Query.orderByPriority",0,0,arguments.length);wg(this,"Query.orderByPriority");var a=He(this.n,N);ug(a);return new X(this.u,this.path,a,!0)};
g.og=function(){y("Query.orderByValue",0,0,arguments.length);wg(this,"Query.orderByValue");var a=He(this.n,De);ug(a);return new X(this.u,this.path,a,!0)};g.Nd=function(a,b){y("Query.startAt",0,2,arguments.length);Ef("Query.startAt",a,this.path,!0);Kf("Query.startAt",b);var c=this.n.Nd(a,b);vg(c);ug(c);if(this.n.la)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");p(a)||(b=a=null);return new X(this.u,this.path,c,this.Oc)};
g.fd=function(a,b){y("Query.endAt",0,2,arguments.length);Ef("Query.endAt",a,this.path,!0);Kf("Query.endAt",b);var c=this.n.fd(a,b);vg(c);ug(c);if(this.n.oa)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.u,this.path,c,this.Oc)};
g.Rf=function(a,b){y("Query.equalTo",1,2,arguments.length);Ef("Query.equalTo",a,this.path,!1);Kf("Query.equalTo",b);if(this.n.la)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.oa)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(a,b).fd(a,b)};
g.toString=function(){y("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.Z;c<a.o.length;c++)""!==a.o[c]&&(b+="/"+encodeURIComponent(String(a.o[c])));return this.u.toString()+(b||"/")};g.ka=function(){var a=fd(Ie(this.n));return"{}"===a?"default":a};
g.isEqual=function(a){y("Query.isEqual",1,1,arguments.length);if(!(a instanceof X))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var b=this.u===a.u,c=this.path.$(a.path),d=this.ka()===a.ka();return b&&c&&d};
function xg(a,b,c){var d={cancel:null,Pa:null};if(b&&c)d.cancel=b,A(a,3,d.cancel,!0),d.Pa=c,Eb(a,4,d.Pa);else if(b)if("object"===typeof b&&null!==b)d.Pa=b;else if("function"===typeof b)d.cancel=b;else throw Error(Db(a,3,!0)+" must either be a cancel callback or a context object.");return d}X.prototype.on=X.prototype.hc;X.prototype.off=X.prototype.Jc;X.prototype.once=X.prototype.kg;X.prototype.limitToFirst=X.prototype.ne;X.prototype.limitToLast=X.prototype.oe;X.prototype.orderByChild=X.prototype.lg;
X.prototype.orderByKey=X.prototype.mg;X.prototype.orderByPriority=X.prototype.ng;X.prototype.orderByValue=X.prototype.og;X.prototype.startAt=X.prototype.Nd;X.prototype.endAt=X.prototype.fd;X.prototype.equalTo=X.prototype.Rf;X.prototype.toString=X.prototype.toString;X.prototype.isEqual=X.prototype.isEqual;kd(X.prototype,"ref",X.prototype.xb);function zg(a,b){this.value=a;this.children=b||Ag}var Ag=new Vf(function(a,b){return a===b?0:a<b?-1:1});function Bg(a){var b=Q;t(a,function(a,d){b=b.set(new L(d),a)});return b}g=zg.prototype;g.e=function(){return null===this.value&&this.children.e()};function Cg(a,b,c){if(null!=a.value&&c(a.value))return{path:C,value:a.value};if(b.e())return null;var d=J(b);a=a.children.get(d);return null!==a?(b=Cg(a,D(b),c),null!=b?{path:(new L(d)).k(b.path),value:b.value}:null):null}
function Dg(a,b){return Cg(a,b,function(){return!0})}g.subtree=function(a){if(a.e())return this;var b=this.children.get(J(a));return null!==b?b.subtree(D(a)):Q};g.set=function(a,b){if(a.e())return new zg(b,this.children);var c=J(a),d=(this.children.get(c)||Q).set(D(a),b),c=this.children.Ra(c,d);return new zg(this.value,c)};
g.remove=function(a){if(a.e())return this.children.e()?Q:new zg(null,this.children);var b=J(a),c=this.children.get(b);return c?(a=c.remove(D(a)),b=a.e()?this.children.remove(b):this.children.Ra(b,a),null===this.value&&b.e()?Q:new zg(this.value,b)):this};g.get=function(a){if(a.e())return this.value;var b=this.children.get(J(a));return b?b.get(D(a)):null};
function de(a,b,c){if(b.e())return c;var d=J(b);b=de(a.children.get(d)||Q,D(b),c);d=b.e()?a.children.remove(d):a.children.Ra(d,b);return new zg(a.value,d)}function Eg(a,b){return Fg(a,C,b)}function Fg(a,b,c){var d={};a.children.ia(function(a,f){d[a]=Fg(f,b.k(a),c)});return c(b,a.value,d)}function Gg(a,b,c){return Hg(a,b,C,c)}function Hg(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=J(b);return(a=a.children.get(e))?Hg(a,D(b),c.k(e),d):null}
function Ig(a,b,c){Jg(a,b,C,c)}function Jg(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=J(b);return(a=a.children.get(e))?Jg(a,D(b),c.k(e),d):Q}function be(a,b){Kg(a,C,b)}function Kg(a,b,c){a.children.ia(function(a,e){Kg(e,b.k(a),c)});a.value&&c(b,a.value)}function Lg(a,b){a.children.ia(function(a,d){d.value&&b(a,d.value)})}var Q=new zg(null);zg.prototype.toString=function(){var a={};be(this,function(b,c){a[b.toString()]=c.toString()});return B(a)};function Mg(a,b,c){this.type=Ud;this.source=Ng;this.path=a;this.Pb=b;this.Id=c}Mg.prototype.Nc=function(a){if(this.path.e()){if(null!=this.Pb.value)return H(this.Pb.children.e(),"affectedTree should not have overlapping affected paths."),this;a=this.Pb.subtree(new L(a));return new Mg(C,a,this.Id)}H(J(this.path)===a,"operationForChild called for unrelated child.");return new Mg(D(this.path),this.Pb,this.Id)};
Mg.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Pb+")"};var ac=0,wd=1,Ud=2,cc=3;function Og(a,b,c,d){this.ee=a;this.We=b;this.Ib=c;this.Ee=d;H(!d||b,"Tagged queries must be from server.")}var Ng=new Og(!0,!1,null,!1),Pg=new Og(!1,!0,null,!1);Og.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Ib+")":"server"};function Qg(a){this.X=a}var Rg=new Qg(new zg(null));function Sg(a,b,c){if(b.e())return new Qg(new zg(c));var d=Dg(a.X,b);if(null!=d){var e=d.path,d=d.value;b=T(e,b);d=d.F(b,c);return new Qg(a.X.set(e,d))}a=de(a.X,b,new zg(c));return new Qg(a)}function Tg(a,b,c){var d=a;Cb(c,function(a,c){d=Sg(d,b.k(a),c)});return d}Qg.prototype.Ed=function(a){if(a.e())return Rg;a=de(this.X,a,Q);return new Qg(a)};function Ug(a,b){var c=Dg(a.X,b);return null!=c?a.X.get(c.path).Q(T(c.path,b)):null}
function Vg(a){var b=[],c=a.X.value;null!=c?c.J()||c.P(N,function(a,c){b.push(new K(a,c))}):a.X.children.ia(function(a,c){null!=c.value&&b.push(new K(a,c.value))});return b}function Wg(a,b){if(b.e())return a;var c=Ug(a,b);return null!=c?new Qg(new zg(c)):new Qg(a.X.subtree(b))}Qg.prototype.e=function(){return this.X.e()};Qg.prototype.apply=function(a){return Xg(C,this.X,a)};
function Xg(a,b,c){if(null!=b.value)return c.F(a,b.value);var d=null;b.children.ia(function(b,f){".priority"===b?(H(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Xg(a.k(b),f,c)});c.Q(a).e()||null===d||(c=c.F(a.k(".priority"),d));return c};function Yg(){this.Aa={}}g=Yg.prototype;g.e=function(){return xa(this.Aa)};g.gb=function(a,b,c){var d=a.source.Ib;if(null!==d)return d=x(this.Aa,d),H(null!=d,"SyncTree gave us an op for an invalid query."),d.gb(a,b,c);var e=[];t(this.Aa,function(d){e=e.concat(d.gb(a,b,c))});return e};g.Ob=function(a,b,c,d,e){var f=a.ka(),h=x(this.Aa,f);if(!h){var h=c.Ba(e?d:null),k=!1;h?k=!0:(h=d instanceof P?c.sc(d):F,k=!1);h=new og(a,new Yd(new zc(h,k,!1),new zc(d,e,!1)));this.Aa[f]=h}h.Ob(b);return rg(h,b)};
g.mb=function(a,b,c){var d=a.ka(),e=[],f=[],h=null!=Zg(this);if("default"===d){var k=this;t(this.Aa,function(a,d){f=f.concat(a.mb(b,c));a.e()&&(delete k.Aa[d],S(a.W.n)||e.push(a.W))})}else{var m=x(this.Aa,d);m&&(f=f.concat(m.mb(b,c)),m.e()&&(delete this.Aa[d],S(m.W.n)||e.push(m.W)))}h&&null==Zg(this)&&e.push(new U(a.u,a.path));return{sg:e,Tf:f}};function $g(a){return Ka(sa(a.Aa),function(a){return!S(a.W.n)})}g.jb=function(a){var b=null;t(this.Aa,function(c){b=b||c.jb(a)});return b};
function ah(a,b){if(S(b.n))return Zg(a);var c=b.ka();return x(a.Aa,c)}function Zg(a){return wa(a.Aa,function(a){return S(a.W.n)})||null};function bh(){this.T=Rg;this.ma=[];this.Cc=-1}function ch(a,b){for(var c=0;c<a.ma.length;c++){var d=a.ma[c];if(d.Zc===b)return d}return null}g=bh.prototype;
g.Ed=function(a){var b=Pa(this.ma,function(b){return b.Zc===a});H(0<=b,"removeWrite called with nonexistent writeId.");var c=this.ma[b];this.ma.splice(b,1);for(var d=c.visible,e=!1,f=this.ma.length-1;d&&0<=f;){var h=this.ma[f];h.visible&&(f>=b&&dh(h,c.path)?d=!1:c.path.contains(h.path)&&(e=!0));f--}if(d){if(e)this.T=eh(this.ma,fh,C),this.Cc=0<this.ma.length?this.ma[this.ma.length-1].Zc:-1;else if(c.Ja)this.T=this.T.Ed(c.path);else{var k=this;t(c.children,function(a,b){k.T=k.T.Ed(c.path.k(b))})}return!0}return!1};
g.Ba=function(a,b,c,d){if(c||d){var e=Wg(this.T,a);return!d&&e.e()?b:d||null!=b||null!=Ug(e,C)?(e=eh(this.ma,function(b){return(b.visible||d)&&(!c||!(0<=Ia(c,b.Zc)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||F,e.apply(b)):null}e=Ug(this.T,a);if(null!=e)return e;e=Wg(this.T,a);return e.e()?b:null!=b||null!=Ug(e,C)?(b=b||F,e.apply(b)):null};
g.sc=function(a,b){var c=F,d=Ug(this.T,a);if(d)d.J()||d.P(N,function(a,b){c=c.U(a,b)});else if(b){var e=Wg(this.T,a);b.P(N,function(a,b){var d=Wg(e,new L(a)).apply(b);c=c.U(a,d)});Ja(Vg(e),function(a){c=c.U(a.name,a.S)})}else e=Wg(this.T,a),Ja(Vg(e),function(a){c=c.U(a.name,a.S)});return c};g.$c=function(a,b,c,d){H(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.k(b);if(null!=Ug(this.T,a))return null;a=Wg(this.T,a);return a.e()?d.Q(b):a.apply(d.Q(b))};
g.rc=function(a,b,c){a=a.k(b);var d=Ug(this.T,a);return null!=d?d:yc(c,b)?Wg(this.T,a).apply(c.j().R(b)):null};g.mc=function(a){return Ug(this.T,a)};g.Xd=function(a,b,c,d,e,f){var h;a=Wg(this.T,a);h=Ug(a,C);if(null==h)if(null!=b)h=a.apply(b);else return[];h=h.ob(f);if(h.e()||h.J())return[];b=[];a=oe(f);e=e?h.$b(c,f):h.Yb(c,f);for(f=R(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=R(e);return b};
function dh(a,b){return a.Ja?a.path.contains(b):!!va(a.children,function(c,d){return a.path.k(d).contains(b)})}function fh(a){return a.visible}
function eh(a,b,c){for(var d=Rg,e=0;e<a.length;++e){var f=a[e];if(b(f)){var h=f.path;if(f.Ja)c.contains(h)?(h=T(c,h),d=Sg(d,h,f.Ja)):h.contains(c)&&(h=T(h,c),d=Sg(d,C,f.Ja.Q(h)));else if(f.children)if(c.contains(h))h=T(c,h),d=Tg(d,h,f.children);else{if(h.contains(c))if(h=T(h,c),h.e())d=Tg(d,C,f.children);else if(f=x(f.children,J(h)))f=f.Q(D(h)),d=Sg(d,C,f)}else throw Sc("WriteRecord should have .snap or .children");}}return d}function gh(a,b){this.Mb=a;this.X=b}g=gh.prototype;
g.Ba=function(a,b,c){return this.X.Ba(this.Mb,a,b,c)};g.sc=function(a){return this.X.sc(this.Mb,a)};g.$c=function(a,b,c){return this.X.$c(this.Mb,a,b,c)};g.mc=function(a){return this.X.mc(this.Mb.k(a))};g.Xd=function(a,b,c,d,e){return this.X.Xd(this.Mb,a,b,c,d,e)};g.rc=function(a,b){return this.X.rc(this.Mb,a,b)};g.k=function(a){return new gh(this.Mb.k(a),this.X)};function hh(){this.children={};this.ad=0;this.value=null}function ih(a,b,c){this.ud=a?a:"";this.Ha=b?b:null;this.A=c?c:new hh}function jh(a,b){for(var c=b instanceof L?b:new L(b),d=a,e;null!==(e=J(c));)d=new ih(e,d,x(d.A.children,e)||new hh),c=D(c);return d}g=ih.prototype;g.Ea=function(){return this.A.value};function kh(a,b){H("undefined"!==typeof b,"Cannot set value to undefined");a.A.value=b;lh(a)}g.clear=function(){this.A.value=null;this.A.children={};this.A.ad=0;lh(this)};
g.kd=function(){return 0<this.A.ad};g.e=function(){return null===this.Ea()&&!this.kd()};g.P=function(a){var b=this;t(this.A.children,function(c,d){a(new ih(d,b,c))})};function mh(a,b,c,d){c&&!d&&b(a);a.P(function(a){mh(a,b,!0,d)});c&&d&&b(a)}function nh(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}g.path=function(){return new L(null===this.Ha?this.ud:this.Ha.path()+"/"+this.ud)};g.name=function(){return this.ud};g.parent=function(){return this.Ha};
function lh(a){if(null!==a.Ha){var b=a.Ha,c=a.ud,d=a.e(),e=Bb(b.A.children,c);d&&e?(delete b.A.children[c],b.A.ad--,lh(b)):d||e||(b.A.children[c]=a.A,b.A.ad++,lh(b))}};function oh(a,b,c,d,e,f){this.id=ph++;this.f=Yc("p:"+this.id+":");this.qd={};this.aa={};this.qa=[];this.Pc=0;this.Lc=[];this.na=!1;this.Va=1E3;this.td=3E5;this.Hb=b;this.Kc=c;this.ue=d;this.M=a;this.pb=this.Ia=this.Db=this.ze=null;this.Vd=e;this.de=!1;this.ke=0;if(f)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Je=f||null;this.vb=null;this.Nb=!1;this.Gd={};this.tg=0;this.Ve=!0;this.Bc=this.me=null;qh(this,0);Tf.Wb().hc("visible",this.jg,this);-1===
a.host.indexOf("fblocal")&&Sf.Wb().hc("online",this.ig,this)}var ph=0,rh=0;g=oh.prototype;g.va=function(a,b,c){var d=++this.tg;a={r:d,a:a,b:b};this.f(B(a));H(this.na,"sendRequest call when we're not connected not allowed.");this.Ia.va(a);c&&(this.Gd[d]=c)};
g.df=function(a,b,c,d){var e=a.ka(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.aa[f]=this.aa[f]||{};H(rd(a.n)||!S(a.n),"listen() called for non-default but complete query");H(!this.aa[f][e],"listen() called twice for same path/queryId.");a={G:d,ld:b,pg:a,tag:c};this.aa[f][e]=a;this.na&&sh(this,a)};
function sh(a,b){var c=b.pg,d=c.path.toString(),e=c.ka();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=Ie(c.n),f.t=b.tag);f.h=b.ld();a.va("q",f,function(f){var k=f.d,m=f.s;if(k&&"object"===typeof k&&Bb(k,"w")){var l=x(k,"w");da(l)&&0<=Ia(l,"no_index")&&O("Using an unspecified index. Consider adding "+('".indexOn": "'+c.n.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.aa[d]&&a.aa[d][e])===b&&(a.f("listen response",f),"ok"!==m&&th(a,d,e),b.G&&
b.G(m,k))})}g.qf=function(a){this.pb=a;this.f("Auth token refreshed");this.pb?uh(this):this.na&&this.va("unauth",{},function(){});if(a&&40===a.length||od(a))this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3E4};function uh(a){if(a.na&&a.pb){var b=a.pb,c=nd(b)?"auth":"gauth",d={cred:b};a.Je&&(d.authvar=a.Je);a.va(c,d,function(c){var d=c.s;c=c.d||"error";a.pb===b&&("ok"===d?a.ke=0:vh(a,d,c))})}}
g.Ef=function(a,b){var c=a.path.toString(),d=a.ka();this.f("Unlisten called for "+c+" "+d);H(rd(a.n)||!S(a.n),"unlisten() called for non-default but complete query");if(th(this,c,d)&&this.na){var e=Ie(a.n);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.va("n",c)}};g.re=function(a,b,c){this.na?wh(this,"o",a,b,c):this.Lc.push({we:a,action:"o",data:b,G:c})};g.gf=function(a,b,c){this.na?wh(this,"om",a,b,c):this.Lc.push({we:a,action:"om",data:b,G:c})};
g.xd=function(a,b){this.na?wh(this,"oc",a,null,b):this.Lc.push({we:a,action:"oc",data:null,G:b})};function wh(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.va(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}g.put=function(a,b,c,d){xh(this,"p",a,b,c,d)};g.ef=function(a,b,c,d){xh(this,"m",a,b,c,d)};function xh(a,b,c,d,e,f){d={p:c,d:d};p(f)&&(d.h=f);a.qa.push({action:b,sf:d,G:e});a.Pc++;b=a.qa.length-1;a.na?yh(a,b):a.f("Buffering put: "+c)}
function yh(a,b){var c=a.qa[b].action,d=a.qa[b].sf,e=a.qa[b].G;a.qa[b].qg=a.na;a.va(c,d,function(d){a.f(c+" response",d);delete a.qa[b];a.Pc--;0===a.Pc&&(a.qa=[]);e&&e(d.s,d.d)})}g.ye=function(a){this.na&&(a={c:a},this.f("reportStats",a),this.va("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))};
g.wd=function(a){if("r"in a){this.f("from server: "+B(a));var b=a.r,c=this.Gd[b];c&&(delete this.Gd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,a=a.b,this.f("handleServerMessage",b,a),"d"===b?this.Hb(a.p,a.d,!1,a.t):"m"===b?this.Hb(a.p,a.d,!0,a.t):"c"===b?zh(this,a.p,a.q):"ac"===b?vh(this,a.s,a.d):"sd"===b?this.ze?this.ze(a):"msg"in a&&"undefined"!==typeof console&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: ")):Zc("Unrecognized action received from server: "+
B(b)+"\nAre you using the latest client?"))}};g.Mc=function(a,b){this.f("connection ready");this.na=!0;this.Bc=(new Date).getTime();this.ue({serverTimeOffset:a-(new Date).getTime()});this.Db=b;if(this.Ve){var c={};c["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1;Qb()?c["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(c["framework.reactnative"]=1);this.ye(c)}Ah(this);this.Ve=!1;this.Kc(!0)};
function qh(a,b){H(!a.Ia,"Scheduling a connect when we're already connected/ing?");a.vb&&clearTimeout(a.vb);a.vb=setTimeout(function(){a.vb=null;Bh(a)},Math.floor(b))}g.jg=function(a){a&&!this.Nb&&this.Va===this.td&&(this.f("Window became visible.  Reducing delay."),this.Va=1E3,this.Ia||qh(this,0));this.Nb=a};g.ig=function(a){a?(this.f("Browser went online."),this.Va=1E3,this.Ia||qh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ia&&this.Ia.close())};
g.jf=function(){this.f("data client disconnected");this.na=!1;this.Ia=null;for(var a=0;a<this.qa.length;a++){var b=this.qa[a];b&&"h"in b.sf&&b.qg&&(b.G&&b.G("disconnect"),delete this.qa[a],this.Pc--)}0===this.Pc&&(this.qa=[]);this.Gd={};Ch(this)&&(this.Nb?this.Bc&&(3E4<(new Date).getTime()-this.Bc&&(this.Va=1E3),this.Bc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Va=this.td,this.me=(new Date).getTime()),a=Math.max(0,this.Va-((new Date).getTime()-this.me)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),qh(this,a),this.Va=Math.min(this.td,1.3*this.Va));this.Kc(!1)};
function Bh(a){if(Ch(a)){a.f("Making a connection attempt");a.me=(new Date).getTime();a.Bc=null;var b=r(a.wd,a),c=r(a.Mc,a),d=r(a.jf,a),e=a.id+":"+rh++,f=a.Db,h=!1,k=null,m=function(){k?k.close():(h=!0,d())};a.Ia={close:m,va:function(a){H(k,"sendRequest call when we're not connected not allowed.");k.va(a)}};var l=a.de;a.de=!1;a.Vd.getToken(l).then(function(l){h?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),a.pb=l&&l.accessToken,k=new bf(e,a.M,b,c,d,function(b){O(b+
" ("+a.M.toString()+")");a.eb("server_kill")},f))}).then(null,function(b){a.f("Failed to get token: "+b);h||m()})}}g.eb=function(a){E("Interrupting connection for reason: "+a);this.qd[a]=!0;this.Ia?this.Ia.close():(this.vb&&(clearTimeout(this.vb),this.vb=null),this.na&&this.jf())};g.lc=function(a){E("Resuming connection for reason: "+a);delete this.qd[a];xa(this.qd)&&(this.Va=1E3,this.Ia||qh(this,0))};
function zh(a,b,c){c=c?La(c,function(a){return fd(a)}).join("$"):"default";(a=th(a,b,c))&&a.G&&a.G("permission_denied")}function th(a,b,c){b=(new L(b)).toString();var d;p(a.aa[b])?(d=a.aa[b][c],delete a.aa[b][c],0===qa(a.aa[b])&&delete a.aa[b]):d=void 0;return d}
function vh(a,b,c){E("Auth token revoked: "+b+"/"+c);a.pb=null;a.de=!0;a.Ia.close();"invalid_token"===b&&(a.ke++,3<=a.ke&&(a.Va=3E4,O("Provided authentication credentials are invalid. This usually indicates your FirebaseApp instance was not initialized correctly. Make sure your apiKey and databaseURL match the values provided for your app at https://console.firebase.google.com/, or if you're using a service account, make sure it's authorized to access the specified databaseURL and is from the correct project.")))}
function Ah(a){uh(a);t(a.aa,function(b){t(b,function(b){sh(a,b)})});for(var b=0;b<a.qa.length;b++)a.qa[b]&&yh(a,b);for(;a.Lc.length;)b=a.Lc.shift(),wh(a,b.action,b.we,b.data,b.G)}function Ch(a){var b;b=Sf.Wb().ic;return xa(a.qd)&&b};var Y={Xf:function(){Re=Ed=!0}};Y.forceLongPolling=Y.Xf;Y.Yf=function(){Se=!0};Y.forceWebSockets=Y.Yf;Y.dg=function(){return Dd.isAvailable()};Y.isWebSocketsAvailable=Y.dg;Y.wg=function(a,b){a.u.Ua.ze=b};Y.setSecurityDebugCallback=Y.wg;Y.Be=function(a,b){a.u.Be(b)};Y.stats=Y.Be;Y.Ce=function(a,b){a.u.Ce(b)};Y.statsIncrementCounter=Y.Ce;Y.ed=function(a){return a.u.ed};Y.dataUpdateCount=Y.ed;Y.cg=function(a,b){a.u.je=b};Y.interceptServerData=Y.cg;function Dh(a){this.xa=Q;this.lb=new bh;this.De={};this.jc={};this.Dc=a}function Eh(a,b,c,d,e){var f=a.lb,h=e;H(d>f.Cc,"Stacking an older write on top of newer ones");p(h)||(h=!0);f.ma.push({path:b,Ja:c,Zc:d,visible:h});h&&(f.T=Sg(f.T,b,c));f.Cc=d;return e?Fh(a,new $b(Ng,b,c)):[]}function Gh(a,b,c,d){var e=a.lb;H(d>e.Cc,"Stacking an older merge on top of newer ones");e.ma.push({path:b,children:c,Zc:d,visible:!0});e.T=Tg(e.T,b,c);e.Cc=d;c=Bg(c);return Fh(a,new vd(Ng,b,c))}
function Hh(a,b,c){c=c||!1;var d=ch(a.lb,b);if(a.lb.Ed(b)){var e=Q;null!=d.Ja?e=e.set(C,!0):Cb(d.children,function(a,b){e=e.set(new L(a),b)});return Fh(a,new Mg(d.path,e,c))}return[]}function Ih(a,b,c){c=Bg(c);return Fh(a,new vd(Pg,b,c))}function Jh(a,b,c,d){d=Kh(a,d);if(null!=d){var e=Lh(d);d=e.path;e=e.Ib;b=T(d,b);c=new $b(new Og(!1,!0,e,!0),b,c);return Mh(a,d,c)}return[]}
function Nh(a,b,c,d){if(d=Kh(a,d)){var e=Lh(d);d=e.path;e=e.Ib;b=T(d,b);c=Bg(c);c=new vd(new Og(!1,!0,e,!0),b,c);return Mh(a,d,c)}return[]}
Dh.prototype.Ob=function(a,b){var c=a.path,d=null,e=!1;Ig(this.xa,c,function(a,b){var f=T(a,c);d=d||b.jb(f);e=e||null!=Zg(b)});var f=this.xa.get(c);f?(e=e||null!=Zg(f),d=d||f.jb(C)):(f=new Yg,this.xa=this.xa.set(c,f));var h;null!=d?h=!0:(h=!1,d=F,Lg(this.xa.subtree(c),function(a,b){var c=b.jb(C);c&&(d=d.U(a,c))}));var k=null!=ah(f,a);if(!k&&!S(a.n)){var m=Oh(a);H(!(m in this.jc),"View does not exist, but we have a tag");var l=Ph++;this.jc[m]=l;this.De["_"+l]=m}h=f.Ob(a,b,new gh(c,this.lb),d,h);k||
e||(f=ah(f,a),h=h.concat(Qh(this,a,f)));return h};
Dh.prototype.mb=function(a,b,c){var d=a.path,e=this.xa.get(d),f=[];if(e&&("default"===a.ka()||null!=ah(e,a))){f=e.mb(a,b,c);e.e()&&(this.xa=this.xa.remove(d));e=f.sg;f=f.Tf;b=-1!==Pa(e,function(a){return S(a.n)});var h=Gg(this.xa,d,function(a,b){return null!=Zg(b)});if(b&&!h&&(d=this.xa.subtree(d),!d.e()))for(var d=Rh(d),k=0;k<d.length;++k){var m=d[k],l=m.W,m=Sh(this,m);this.Dc.Ae(Th(l),Uh(this,l),m.ld,m.G)}if(!h&&0<e.length&&!c)if(b)this.Dc.Od(Th(a),null);else{var u=this;Ja(e,function(a){a.ka();
var b=u.jc[Oh(a)];u.Dc.Od(Th(a),b)})}Vh(this,e)}return f};Dh.prototype.Ba=function(a,b){var c=this.lb,d=Gg(this.xa,a,function(b,c){var d=T(b,a);if(d=c.jb(d))return d});return c.Ba(a,d,b,!0)};function Rh(a){return Eg(a,function(a,c,d){if(c&&null!=Zg(c))return[Zg(c)];var e=[];c&&(e=$g(c));t(d,function(a){e=e.concat(a)});return e})}function Vh(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!S(d.n)){var d=Oh(d),e=a.jc[d];delete a.jc[d];delete a.De["_"+e]}}}
function Th(a){return S(a.n)&&!rd(a.n)?a.xb():a}function Qh(a,b,c){var d=b.path,e=Uh(a,b);c=Sh(a,c);b=a.Dc.Ae(Th(b),e,c.ld,c.G);d=a.xa.subtree(d);if(e)H(null==Zg(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Eg(d,function(a,b,c){if(!a.e()&&b&&null!=Zg(b))return[pg(Zg(b))];var d=[];b&&(d=d.concat(La($g(b),function(a){return a.W})));t(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Dc.Od(Th(c),Uh(a,c));return b}
function Sh(a,b){var c=b.W,d=Uh(a,c);return{ld:function(){return(b.w()||F).hash()},G:function(b){if("ok"===b){if(d){var f=c.path;if(b=Kh(a,d)){var h=Lh(b);b=h.path;h=h.Ib;f=T(b,f);f=new bc(new Og(!1,!0,h,!0),f);b=Mh(a,b,f)}else b=[]}else b=Fh(a,new bc(Pg,c.path));return b}f="Unknown Error";"too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&
(f="The service is unavailable");f=Error(b+" at "+c.path.toString()+": "+f);f.code=b.toUpperCase();return a.mb(c,null,f)}}}function Oh(a){return a.path.toString()+"$"+a.ka()}function Lh(a){var b=a.indexOf("$");H(-1!==b&&b<a.length-1,"Bad queryKey.");return{Ib:a.substr(b+1),path:new L(a.substr(0,b))}}function Kh(a,b){var c=a.De,d="_"+b;return d in c?c[d]:void 0}function Uh(a,b){var c=Oh(b);return x(a.jc,c)}var Ph=1;
function Mh(a,b,c){var d=a.xa.get(b);H(d,"Missing sync point for query tag that we're tracking");return d.gb(c,new gh(b,a.lb),null)}function Fh(a,b){return Wh(a,b,a.xa,null,new gh(C,a.lb))}function Wh(a,b,c,d,e){if(b.path.e())return Xh(a,b,c,d,e);var f=c.get(C);null==d&&null!=f&&(d=f.jb(C));var h=[],k=J(b.path),m=b.Nc(k);if((c=c.children.get(k))&&m)var l=d?d.R(k):null,k=e.k(k),h=h.concat(Wh(a,m,c,l,k));f&&(h=h.concat(f.gb(b,e,d)));return h}
function Xh(a,b,c,d,e){var f=c.get(C);null==d&&null!=f&&(d=f.jb(C));var h=[];c.children.ia(function(c,f){var l=d?d.R(c):null,u=e.k(c),z=b.Nc(c);z&&(h=h.concat(Xh(a,z,f,l,u)))});f&&(h=h.concat(f.gb(b,e,d)));return h};function tf(a,b,c){this.app=c;var d=new dc(c);this.M=a;this.Xa=Ad(a);this.Vc=null;this.da=new mc;this.vd=1;this.Ua=null;if(b||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.wa=new pd(this.M,r(this.Hb,this),d),setTimeout(r(this.Kc,this,!0),0);else{b=c.options.databaseAuthVariableOverride||null;if(null!==b){if("object"!==ca(b))throw Error("Only objects are supported for option databaseAuthVariableOverride");
try{B(b)}catch(e){throw Error("Invalid authOverride provided: "+e);}}this.wa=this.Ua=new oh(this.M,r(this.Hb,this),r(this.Kc,this),r(this.ue,this),d,b)}var f=this;ec(d,function(a){f.wa.qf(a)});this.zg=Bd(a,r(function(){return new xd(this.Xa,this.wa)},this));this.nc=new ih;this.ie=new fc;this.pd=new Dh({Ae:function(a,b,c,d){b=[];c=f.ie.j(a.path);c.e()||(b=Fh(f.pd,new $b(Pg,a.path,c)),setTimeout(function(){d("ok")},0));return b},Od:aa});Yh(this,"connected",!1);this.ja=new Mc;this.$a=new sf(this);this.ed=
0;this.je=null;this.K=new Dh({Ae:function(a,b,c,d){f.wa.df(a,c,b,function(b,c){var e=d(b,c);rc(f.da,a.path,e)});return[]},Od:function(a,b){f.wa.Ef(a,b)}})}g=tf.prototype;g.toString=function(){return(this.M.Sc?"https://":"http://")+this.M.host};g.name=function(){return this.M.pe};function Zh(a){a=a.ie.j(new L(".info/serverTimeOffset")).H()||0;return(new Date).getTime()+a}function $h(a){a=a={timestamp:Zh(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
g.Hb=function(a,b,c,d){this.ed++;var e=new L(a);b=this.je?this.je(a,b):b;a=[];d?c?(b=oa(b,function(a){return M(a)}),a=Nh(this.K,e,b,d)):(b=M(b),a=Jh(this.K,e,b,d)):c?(d=oa(b,function(a){return M(a)}),a=Ih(this.K,e,d)):(d=M(b),a=Fh(this.K,new $b(Pg,e,d)));d=e;0<a.length&&(d=ai(this,e));rc(this.da,d,a)};g.Kc=function(a){Yh(this,"connected",a);!1===a&&bi(this)};g.ue=function(a){var b=this;hd(a,function(a,d){Yh(b,d,a)})};
function Yh(a,b,c){b=new L("/.info/"+b);c=M(c);var d=a.ie;d.Jd=d.Jd.F(b,c);c=Fh(a.pd,new $b(Pg,b,c));rc(a.da,b,c)}g.Kb=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,Gg:c});var e=$h(this);b=M(b,c);var e=Pc(b,e),f=this.vd++,e=Eh(this.K,a,e,f,!0);nc(this.da,e);var h=this;this.wa.put(a.toString(),b.H(!0),function(b,c){var e="ok"===b;e||O("set at "+a+" failed: "+b);e=Hh(h.K,f,!e);rc(h.da,a,e);ci(d,b,c)});e=di(this,a);ai(this,e);rc(this.da,e,[])};
g.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=$h(this),f={};t(b,function(a,b){d=!1;var c=M(a);f[b]=Pc(c,e)});if(d)E("update() called with empty data.  Don't do anything."),ci(c,"ok");else{var h=this.vd++,k=Gh(this.K,a,f,h);nc(this.da,k);var m=this;this.wa.ef(a.toString(),b,function(b,d){var e="ok"===b;e||O("update at "+a+" failed: "+b);var e=Hh(m.K,h,!e),f=a;0<e.length&&(f=ai(m,a));rc(m.da,f,e);ci(c,b,d)});t(b,function(b,c){var d=di(m,a.k(c));ai(m,d)});rc(this.da,
a,[])}};function bi(a){a.f("onDisconnectEvents");var b=$h(a),c=[];Nc(Lc(a.ja,b),C,function(b,e){c=c.concat(Fh(a.K,new $b(Pg,b,e)));var f=di(a,b);ai(a,f)});a.ja=new Mc;rc(a.da,C,c)}g.xd=function(a,b){var c=this;this.wa.xd(a.toString(),function(d,e){"ok"===d&&zf(c.ja,a);ci(b,d,e)})};function Nf(a,b,c,d){var e=M(c);a.wa.re(b.toString(),e.H(!0),function(c,h){"ok"===c&&Oc(a.ja,b,e);ci(d,c,h)})}
function Of(a,b,c,d,e){var f=M(c,d);a.wa.re(b.toString(),f.H(!0),function(c,d){"ok"===c&&Oc(a.ja,b,f);ci(e,c,d)})}function Pf(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(E("onDisconnect().update() called with empty data.  Don't do anything."),ci(d,"ok")):a.wa.gf(b.toString(),c,function(e,f){if("ok"===e)for(var m in c){var l=M(c[m]);Oc(a.ja,b.k(m),l)}ci(d,e,f)})}function yg(a,b,c){c=".info"===J(b.path)?a.pd.Ob(b,c):a.K.Ob(b,c);pc(a.da,b.path,c)}g.eb=function(){this.Ua&&this.Ua.eb("repo_interrupt")};
g.lc=function(){this.Ua&&this.Ua.lc("repo_interrupt")};g.Be=function(a){if("undefined"!==typeof console){a?(this.Vc||(this.Vc=new lc(this.Xa)),a=this.Vc.get()):a=this.Xa.get();var b=Ma(ta(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};g.Ce=function(a){kc(this.Xa,a);this.zg.zf[a]=!0};g.f=function(a){var b="";this.Ua&&(b=this.Ua.id+":");E(b,arguments)};
function ci(a,b,c){a&&Ub(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function ei(a,b,c,d,e){function f(){}a.f("transaction on "+b);var h=new U(a,b);h.hc("value",f);c={path:b,update:c,G:d,status:null,lf:Rc(),Ie:e,wf:0,Rd:function(){h.Jc("value",f)},Td:null,Da:null,bd:null,cd:null,dd:null};d=a.K.Ba(b,void 0)||F;c.bd=d;d=c.update(d.H());if(p(d)){Ff("transaction failed: Data returned ",d,c.path);c.status=1;e=jh(a.nc,b);var k=e.Ea()||[];k.push(c);kh(e,k);"object"===typeof d&&null!==d&&Bb(d,".priority")?(k=x(d,".priority"),H(Df(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
k=(a.K.Ba(b)||F).C().H();e=$h(a);d=M(d,k);e=Pc(d,e);c.cd=d;c.dd=e;c.Da=a.vd++;c=Eh(a.K,b,e,c.Da,c.Ie);rc(a.da,b,c);fi(a)}else c.Rd(),c.cd=null,c.dd=null,c.G&&(a=new W(c.bd,new U(a,c.path),N),c.G(null,!1,a))}function fi(a,b){var c=b||a.nc;b||gi(a,c);if(null!==c.Ea()){var d=hi(a,c);H(0<d.length,"Sending zero length transaction queue");Na(d,function(a){return 1===a.status})&&ii(a,c.path(),d)}else c.kd()&&c.P(function(b){fi(a,b)})}
function ii(a,b,c){for(var d=La(c,function(a){return a.Da}),e=a.K.Ba(b,d)||F,d=e,e=e.hash(),f=0;f<c.length;f++){var h=c[f];H(1===h.status,"tryToSendTransactionQueue_: items in queue should all be run.");h.status=2;h.wf++;var k=T(b,h.path),d=d.F(k,h.cd)}d=d.H(!0);a.wa.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(Hh(a.K,c[f].Da));if(c[f].G){var h=c[f].dd,k=new U(a,c[f].path);d.push(r(c[f].G,
null,null,!0,new W(h,k,N)))}c[f].Rd()}gi(a,jh(a.nc,b));fi(a);rc(a.da,b,e);for(f=0;f<d.length;f++)Ub(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(O("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].Td=d;ai(a,b)}},e)}function ai(a,b){var c=ji(a,b),d=c.path(),c=hi(a,c);ki(a,c,d);return d}
function ki(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Ka(b,function(a){return 1===a.status}),f=La(f,function(a){return a.Da}),h=0;h<b.length;h++){var k=b[h],m=T(c,k.path),l=!1,u;H(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)l=!0,u=k.Td,e=e.concat(Hh(a.K,k.Da,!0));else if(1===k.status)if(25<=k.wf)l=!0,u="maxretry",e=e.concat(Hh(a.K,k.Da,!0));else{var z=a.K.Ba(k.path,f)||F;k.bd=z;var G=b[h].update(z.H());p(G)?(Ff("transaction failed: Data returned ",G,
k.path),m=M(G),"object"===typeof G&&null!=G&&Bb(G,".priority")||(m=m.ga(z.C())),z=k.Da,G=$h(a),G=Pc(m,G),k.cd=m,k.dd=G,k.Da=a.vd++,Qa(f,z),e=e.concat(Eh(a.K,k.path,G,k.Da,k.Ie)),e=e.concat(Hh(a.K,z,!0))):(l=!0,u="nodata",e=e.concat(Hh(a.K,k.Da,!0)))}rc(a.da,c,e);e=[];l&&(b[h].status=3,setTimeout(b[h].Rd,Math.floor(0)),b[h].G&&("nodata"===u?(k=new U(a,b[h].path),d.push(r(b[h].G,null,null,!1,new W(b[h].bd,k,N)))):d.push(r(b[h].G,null,Error(u),!1,null))))}gi(a,a.nc);for(h=0;h<d.length;h++)Ub(d[h]);fi(a)}}
function ji(a,b){for(var c,d=a.nc;null!==(c=J(b))&&null===d.Ea();)d=jh(d,c),b=D(b);return d}function hi(a,b){var c=[];li(a,b,c);c.sort(function(a,b){return a.lf-b.lf});return c}function li(a,b,c){var d=b.Ea();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.P(function(b){li(a,b,c)})}function gi(a,b){var c=b.Ea();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;kh(b,0<c.length?c:null)}b.P(function(b){gi(a,b)})}
function di(a,b){var c=ji(a,b).path(),d=jh(a.nc,b);nh(d,function(b){mi(a,b)});mi(a,d);mh(d,function(b){mi(a,b)});return c}
function mi(a,b){var c=b.Ea();if(null!==c){for(var d=[],e=[],f=-1,h=0;h<c.length;h++)4!==c[h].status&&(2===c[h].status?(H(f===h-1,"All SENT items should be at beginning of queue."),f=h,c[h].status=4,c[h].Td="set"):(H(1===c[h].status,"Unexpected transaction status in abort"),c[h].Rd(),e=e.concat(Hh(a.K,c[h].Da,!0)),c[h].G&&d.push(r(c[h].G,null,Error("set"),!1,null))));-1===f?kh(b,null):c.length=f+1;rc(a.da,b.path(),e);for(h=0;h<d.length;h++)Ub(d[h])}};function yf(){this.nb={};this.Ff=!1}yf.prototype.eb=function(){for(var a in this.nb)this.nb[a].eb()};yf.prototype.lc=function(){for(var a in this.nb)this.nb[a].lc()};yf.prototype.ce=function(a){this.Ff=a};ba(yf);yf.prototype.interrupt=yf.prototype.eb;yf.prototype.resume=yf.prototype.lc;var Z={};Z.pc=oh;Z.DataConnection=Z.pc;oh.prototype.yg=function(a,b){this.va("q",{p:a},b)};Z.pc.prototype.simpleListen=Z.pc.prototype.yg;oh.prototype.Qf=function(a,b){this.va("echo",{d:a},b)};Z.pc.prototype.echo=Z.pc.prototype.Qf;oh.prototype.interrupt=oh.prototype.eb;Z.If=bf;Z.RealTimeConnection=Z.If;bf.prototype.sendRequest=bf.prototype.va;bf.prototype.close=bf.prototype.close;
Z.bg=function(a){var b=oh.prototype.put;oh.prototype.put=function(c,d,e,f){p(f)&&(f=a());b.call(this,c,d,e,f)};return function(){oh.prototype.put=b}};Z.hijackHash=Z.bg;Z.Hf=gc;Z.ConnectionTarget=Z.Hf;Z.ka=function(a){return a.ka()};Z.queryIdentifier=Z.ka;Z.eg=function(a){return a.u.Ua.aa};Z.listens=Z.eg;Z.ce=function(a){yf.Wb().ce(a)};Z.forceRestClient=Z.ce;Z.Context=yf;function U(a,b){if(!(a instanceof tf))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,a,b,Fe,!1);this.then=void 0;this["catch"]=void 0}ka(U,X);g=U.prototype;g.getKey=function(){y("Firebase.key",0,0,arguments.length);return this.path.e()?null:ae(this.path)};
g.k=function(a){y("Firebase.child",1,1,arguments.length);if(fa(a))a=String(a);else if(!(a instanceof L))if(null===J(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Lf("Firebase.child",b)}else Lf("Firebase.child",a);return new U(this.u,this.path.k(a))};g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new U(this.u,a)};
g.Zf=function(){y("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.getParent();)a=a.getParent();return a};g.Pf=function(){return this.u.$a};g.set=function(a,b){y("Firebase.set",1,2,arguments.length);Mf("Firebase.set",this.path);Ef("Firebase.set",a,this.path,!1);A("Firebase.set",2,b,!0);var c=new Hb;this.u.Kb(this.path,a,null,Ib(c,b));return c.sa};
g.update=function(a,b){y("Firebase.update",1,2,arguments.length);Mf("Firebase.update",this.path);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Hf("Firebase.update",a,this.path);A("Firebase.update",2,b,!0);c=new Hb;this.u.update(this.path,a,Ib(c,b));return c.sa};
g.Kb=function(a,b,c){y("Firebase.setWithPriority",2,3,arguments.length);Mf("Firebase.setWithPriority",this.path);Ef("Firebase.setWithPriority",a,this.path,!1);If("Firebase.setWithPriority",2,b);A("Firebase.setWithPriority",3,c,!0);if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var d=new Hb;this.u.Kb(this.path,a,b,Ib(d,c));return d.sa};
g.remove=function(a){y("Firebase.remove",0,1,arguments.length);Mf("Firebase.remove",this.path);A("Firebase.remove",1,a,!0);return this.set(null,a)};
g.transaction=function(a,b,c){y("Firebase.transaction",1,3,arguments.length);Mf("Firebase.transaction",this.path);A("Firebase.transaction",1,a,!1);A("Firebase.transaction",2,b,!0);if(p(c)&&"boolean"!=typeof c)throw Error(Db("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";"undefined"===typeof c&&(c=!0);var d=new Hb;ga(b)&&Jb(d.sa);ei(this.u,this.path,a,function(a,c,
h){a?d.reject(a):d.resolve(new Pb(c,h));ga(b)&&b(a,c,h)},c);return d.sa};g.vg=function(a,b){y("Firebase.setPriority",1,2,arguments.length);Mf("Firebase.setPriority",this.path);If("Firebase.setPriority",1,a);A("Firebase.setPriority",2,b,!0);var c=new Hb;this.u.Kb(this.path.k(".priority"),a,null,Ib(c,b));return c.sa};
g.push=function(a,b){y("Firebase.push",0,2,arguments.length);Mf("Firebase.push",this.path);Ef("Firebase.push",a,this.path,!0);A("Firebase.push",2,b,!0);var c=Zh(this.u),d=Uf(c),c=this.k(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.k(d)});c.then=r(f.then,f);c["catch"]=r(f.then,f,void 0);ga(b)&&Jb(f)}return c};g.kb=function(){Mf("Firebase.onDisconnect",this.path);return new V(this.u,this.path)};U.prototype.child=U.prototype.k;U.prototype.set=U.prototype.set;U.prototype.update=U.prototype.update;
U.prototype.setWithPriority=U.prototype.Kb;U.prototype.remove=U.prototype.remove;U.prototype.transaction=U.prototype.transaction;U.prototype.setPriority=U.prototype.vg;U.prototype.push=U.prototype.push;U.prototype.onDisconnect=U.prototype.kb;kd(U.prototype,"database",U.prototype.Pf);kd(U.prototype,"key",U.prototype.getKey);kd(U.prototype,"parent",U.prototype.getParent);kd(U.prototype,"root",U.prototype.Zf);if("undefined"===typeof firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");
try{firebase.INTERNAL.registerService("database",function(a){var b=yf.Wb(),c=a.options.databaseURL;p(c)||$c("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var d=ad(c),c=d.kc;xf("Invalid Firebase Database URL",d);d.path.e()||$c("Database URL must point to the root of a Firebase Database (not including a child path).");(d=x(b.nb,a.name))&&$c("FIREBASE INTERNAL ERROR: Database initialized multiple times.");d=new tf(c,b.Ff,a);b.nb[a.name]=
d;return d.$a},{Reference:U,Query:X,Database:sf,enableLogging:Xc,INTERNAL:Y,TEST_ACCESS:Z,ServerValue:vf})}catch(ni){$c("Failed to register the Firebase Database Service ("+ni+")")};})();

module.exports = firebase.database;

},{"./app":5}],8:[function(require,module,exports){
/**
 *  Firebase libraries for browser - npm package.
 *
 * Usage:
 *
 *   firebase = require('firebase');
 */
var firebase = require('./app');
require('./auth');
require('./database');
require('./storage');
module.exports = firebase;

},{"./app":5,"./auth":6,"./database":7,"./storage":9}],9:[function(require,module,exports){
var firebase = require('./app');
/*! @license Firebase v3.4.1
    Build: 3.4.1-rc.2
    Terms: https://developers.google.com/terms */
(function() {var k,aa=aa||{},l=this,n=function(a){return void 0!==a},ba=function(){},ca=function(){throw Error("unimplemented abstract method");},p=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},da=function(a){var b=p(a);return"array"==b||"object"==b&&"number"==typeof a.length},r=function(a){return"string"==typeof a},t=function(a){return"function"==p(a)},ea=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},fa="closure_uid_"+(1E9*Math.random()>>>
0),ga=0,ha=function(a,b,c){return a.call.apply(a.bind,arguments)},ia=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},u=function(a,b,c){u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return u.apply(null,arguments)},ja=Date.now||function(){return+new Date},
v=function(a,b){function c(){}c.prototype=b.prototype;a.I=b.prototype;a.prototype=new c;a.Ka=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var ka=function(a,b,c){function d(){P||(P=!0,b.apply(null,arguments))}function e(b){m=setTimeout(function(){m=null;a(f,2===Q)},b)}function f(a,b){if(!P)if(a)d.apply(null,arguments);else if(2===Q||q)d.apply(null,arguments);else{64>h&&(h*=2);var c;1===Q?(Q=2,c=0):c=1E3*(h+Math.random());e(c)}}function g(a){jc||(jc=!0,P||(null!==m?(a||(Q=2),clearTimeout(m),e(0)):a||(Q=1)))}var h=1,m=null,q=!1,Q=0,P=!1,jc=!1;e(0);setTimeout(function(){q=!0;g(!0)},c);return g};var la="https://firebasestorage.googleapis.com";var w=function(a,b){this.code="storage/"+a;this.message="Firebase Storage: "+b;this.serverResponse=null;this.name="FirebaseError"};v(w,Error);
var ma=function(){return new w("unknown","An unknown error occurred, please check the error payload for server response.")},na=function(){return new w("canceled","User canceled the upload/download.")},oa=function(){return new w("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},pa=function(a,b,c){return new w("invalid-argument","Invalid argument in `"+b+"` at index "+a+": "+c)},qa=function(){return new w("app-deleted","The Firebase app was deleted.")},ra=function(a,b){return new w("invalid-format",
"String does not match format '"+a+"': "+b)};var sa=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])},ta=function(a){var b={};sa(a,function(a,d){b[a]=d});return b};var x=function(a,b,c,d){this.j=a;this.b={};this.method=b;this.headers={};this.body="";this.M=c;this.c=this.a=null;this.f=[200];this.h=[];this.i=d;this.g=!0};var ua={STATE_CHANGED:"state_changed"},va={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},wa=function(a){switch(a){case "running":case "pausing":case "canceling":return"running";case "paused":return"paused";case "success":return"success";case "canceled":return"canceled";case "error":return"error";default:return"error"}};var y=function(a){return n(a)&&null!==a},xa=function(a){return"string"===typeof a||a instanceof String},ya=function(){return"undefined"!==typeof Blob};var za=function(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null};za.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};var Aa=function(a,b){a.g(b);a.b<a.f&&(a.b++,b.next=a.a,a.a=b)};var z=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,z);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};v(z,Error);z.prototype.name="CustomError";var Ba=function(a,b,c,d,e){this.reset(a,b,c,d,e)};Ba.prototype.a=null;var Ca=0;Ba.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Ca++;d||ja();this.b=b;delete this.a};var Da=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ea=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Fa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ga=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Fa.length;f++)c=Fa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ha=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},Ia=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var Ja=function(a){Ja[" "](a);return a};Ja[" "]=ba;var La=function(a,b){var c=Ka;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Ma=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},Na=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Oa=function(a,b){return a<b?-1:a>b?1:0};var Pa=function(a,b){this.a=a;this.b=b};var Qa=function(a,b){this.bucket=a;this.path=b},Ra=function(a){var b=encodeURIComponent;return"/b/"+b(a.bucket)+"/o/"+b(a.path)},Sa=function(a){for(var b=null,c=[{ia:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,ba:{bucket:1,path:3},ha:function(a){"/"===a.path.charAt(a.path.length-1)&&(a.path=a.path.slice(0,-1))}},{ia:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,ba:{bucket:1,path:3},ha:function(a){a.path=decodeURIComponent(a.path)}}],d=0;d<c.length;d++){var e=
c[d],f=e.ia.exec(a);if(f){b=f[e.ba.bucket];(f=f[e.ba.path])||(f="");b=new Qa(b,f);e.ha(b);break}}if(null==b)throw new w("invalid-url","Invalid URL '"+a+"'.");return b};var Ta=function(a,b,c){t(a)||y(b)||y(c)?(this.next=a,this.a=b||null,this.b=c||null):(this.next=a.next||null,this.a=a.error||null,this.b=a.complete||null)};var Ua={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Va=function(a){switch(a){case "raw":case "base64":case "base64url":case "data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url].";}},Wa=function(a,b){this.data=a;this.a=b||null},$a=function(a,b){switch(a){case "raw":return new Wa(Xa(b));case "base64":case "base64url":return new Wa(Ya(a,b));case "data_url":return a=new Za(b),a=a.a?Ya("base64",a.c):Xa(a.c),new Wa(a,(new Za(b)).b)}throw ma();
},Xa=function(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(d);else if(2047>=d)b.push(192|d>>6,128|d&63);else if(55296==(d&64512))if(c<a.length-1&&56320==(a.charCodeAt(c+1)&64512)){var e=a.charCodeAt(++c),d=65536|(d&1023)<<10|e&1023;b.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|d&63)}else b.push(239,191,189);else 56320==(d&64512)?b.push(239,191,189):b.push(224|d>>12,128|d>>6&63,128|d&63)}return new Uint8Array(b)},Ya=function(a,b){switch(a){case "base64":var c=-1!==b.indexOf("-"),
d=-1!==b.indexOf("_");if(c||d)throw ra(a,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break;case "base64url":c=-1!==b.indexOf("+");d=-1!==b.indexOf("/");if(c||d)throw ra(a,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");b=b.replace(/-/g,"+").replace(/_/g,"/")}var e;try{e=atob(b)}catch(f){throw ra(a,"Invalid character found");}a=new Uint8Array(e.length);for(b=0;b<e.length;b++)a[b]=e.charCodeAt(b);return a},Za=function(a){var b=a.match(/^data:([^,]+)?,/);
if(null===b)throw ra("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");b=b[1]||null;this.a=!1;this.b=null;if(null!=b){var c=b.length-7;this.b=(this.a=0<=c&&b.indexOf(";base64",c)==c)?b.substring(0,b.length-7):b}this.c=a.substring(a.indexOf(",")+1)};var ab=function(a){var b=encodeURIComponent,c="?";sa(a,function(a,e){a=b(a)+"="+b(e);c=c+a+"&"});return c=c.slice(0,-1)};var A=function(a,b,c,d,e,f){this.b=a;this.h=b;this.f=c;this.a=d;this.g=e;this.c=f};k=A.prototype;k.na=function(){return this.b};k.Ja=function(){return this.h};k.Ga=function(){return this.f};k.Ba=function(){return this.a};k.pa=function(){if(y(this.a)){var a=this.a.downloadURLs;return y(a)&&y(a[0])?a[0]:null}return null};k.Ia=function(){return this.g};k.Ea=function(){return this.c};var bb=function(a,b){b.unshift(a);z.call(this,Ma.apply(null,b));b.shift()};v(bb,z);bb.prototype.name="AssertionError";
var cb=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new bb(""+e,f||[]);},B=function(a,b,c){a||cb("",null,b,Array.prototype.slice.call(arguments,2))},db=function(a,b){throw new bb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},eb=function(a,b,c){t(a)||cb("Expected function but got %s: %s.",[p(a),a],b,Array.prototype.slice.call(arguments,2))};var fb=function(){this.g=this.g;this.o=this.o};fb.prototype.g=!1;fb.prototype.ea=function(){this.g||(this.g=!0,this.D())};fb.prototype.D=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var gb="closure_listenable_"+(1E6*Math.random()|0),hb=0;var ib;a:{var jb=l.navigator;if(jb){var kb=jb.userAgent;if(kb){ib=kb;break a}}ib=""}var C=function(a){return-1!=ib.indexOf(a)};var lb=function(){};lb.prototype.b=null;lb.prototype.a=ca;var mb=function(a){return a.b||(a.b=a.f())};lb.prototype.f=ca;var nb=Array.prototype.indexOf?function(a,b,c){B(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(r(a))return r(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ob=Array.prototype.forEach?function(a,b,c){B(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},pb=Array.prototype.filter?function(a,
b,c){B(null!=a.length);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=r(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var m=g[h];b.call(c,m,h,a)&&(e[f++]=m)}return e},qb=Array.prototype.map?function(a,b,c){B(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=r(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},rb=Array.prototype.some?function(a,b,c){B(null!=a.length);return Array.prototype.some.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},tb=function(a){var b;a:{b=sb;for(var c=a.length,d=r(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:r(a)?a.charAt(b):a[b]},ub=function(a,b){return 0<=nb(a,b)},vb=function(a){if("array"!=p(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},wb=function(a,b){b=nb(a,b);var c;if(c=0<=b)B(null!=a.length),Array.prototype.splice.call(a,
b,1);return c},xb=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var zb=new za(function(){return new yb},function(a){a.reset()},100),Bb=function(){var a=Ab,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b},yb=function(){this.next=this.b=this.a=null};yb.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};yb.prototype.reset=function(){this.next=this.b=this.a=null};var Cb=function(a,b){this.type=a;this.a=this.target=b;this.ja=!0};Cb.prototype.b=function(){this.ja=!1};var Db=function(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.U=!!d;this.M=e;++hb;this.N=this.T=!1},Eb=function(a){a.N=!0;a.listener=null;a.a=null;a.src=null;a.M=null};var Fb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;var Gb=function(a,b){b=pb(b.split("/"),function(a){return 0<a.length}).join("/");return 0===a.length?b:a+"/"+b},Hb=function(a){var b=a.lastIndexOf("/",a.length-2);return-1===b?a:a.slice(b+1)};var Ib=function(a){this.src=a;this.a={};this.b=0},Kb=function(a,b,c,d,e,f){var g=b.toString();b=a.a[g];b||(b=a.a[g]=[],a.b++);var h=Jb(b,c,e,f);-1<h?(a=b[h],d||(a.T=!1)):(a=new Db(c,a.src,g,!!e,f),a.T=d,b.push(a));return a},Lb=function(a,b){var c=b.type;c in a.a&&wb(a.a[c],b)&&(Eb(b),0==a.a[c].length&&(delete a.a[c],a.b--))},Jb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.N&&f.listener==b&&f.U==!!c&&f.M==d)return e}return-1};var Mb,Nb=function(){};v(Nb,lb);Nb.prototype.a=function(){var a=Ob(this);return a?new ActiveXObject(a):new XMLHttpRequest};Nb.prototype.f=function(){var a={};Ob(this)&&(a[0]=!0,a[1]=!0);return a};
var Ob=function(a){if(!a.c&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.c=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.c};Mb=new Nb;var Pb=function(a){this.a=[];if(a)a:{var b;if(a instanceof Pb){if(b=a.H(),a=a.A(),0>=this.b()){for(var c=this.a,d=0;d<b.length;d++)c.push(new Pa(b[d],a[d]));break a}}else b=Ea(a),a=Da(a);for(d=0;d<b.length;d++)Qb(this,b[d],a[d])}},Qb=function(a,b,c){var d=a.a;d.push(new Pa(b,c));b=d.length-1;a=a.a;for(c=a[b];0<b;)if(d=b-1>>1,a[d].a>c.a)a[b]=a[d],b=d;else break;a[b]=c};Pb.prototype.A=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].b);return b};
Pb.prototype.H=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].a);return b};Pb.prototype.b=function(){return this.a.length};var Rb=function(){this.c=[];this.a=[]},Sb=function(a){0==a.c.length&&(a.c=a.a,a.c.reverse(),a.a=[]);return a.c.pop()};Rb.prototype.b=function(){return this.c.length+this.a.length};Rb.prototype.A=function(){for(var a=[],b=this.c.length-1;0<=b;--b)a.push(this.c[b]);for(var c=this.a.length,b=0;b<c;++b)a.push(this.a[b]);return a};var Tb=function(a){if(a.A&&"function"==typeof a.A)return a.A();if(r(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Da(a)},Ub=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(da(a)||r(a))ob(a,b,void 0);else{var c;if(a.H&&"function"==typeof a.H)c=a.H();else if(a.A&&"function"==typeof a.A)c=void 0;else if(da(a)||r(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Ea(a);for(var d=Tb(a),e=d.length,f=0;f<e;f++)b.call(void 0,
d[f],c&&c[f],a)}};var Vb=function(a){l.setTimeout(function(){throw a;},0)},Wb,Xb=function(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!C("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,
a=u(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!C("Trident")&&!C("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(n(c.next)){c=c.next;var a=c.da;c.da=null;a()}};return function(a){d.next={da:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};var Yb="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},Zb=function(){};Zb.prototype.next=function(){throw Yb;};Zb.prototype.h=function(){return this};var $b=function(){Pb.call(this)};v($b,Pb);var ac=C("Opera"),D=C("Trident")||C("MSIE"),bc=C("Edge"),cc=C("Gecko")&&!(-1!=ib.toLowerCase().indexOf("webkit")&&!C("Edge"))&&!(C("Trident")||C("MSIE"))&&!C("Edge"),dc=-1!=ib.toLowerCase().indexOf("webkit")&&!C("Edge"),ec=function(){var a=l.document;return a?a.documentMode:void 0},fc;
a:{var gc="",hc=function(){var a=ib;if(cc)return/rv\:([^\);]+)(\)|;)/.exec(a);if(bc)return/Edge\/([\d\.]+)/.exec(a);if(D)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(dc)return/WebKit\/(\S+)/.exec(a);if(ac)return/(?:Version)[ \/]?(\S+)/.exec(a)}();hc&&(gc=hc?hc[1]:"");if(D){var ic=ec();if(null!=ic&&ic>parseFloat(gc)){fc=String(ic);break a}}fc=gc}
var kc=fc,Ka={},E=function(a){return La(a,function(){for(var b=0,c=Na(String(kc)).split("."),d=Na(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==g[0].length&&0==h[0].length)break;b=Oa(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||Oa(0==g[2].length,0==h[2].length)||Oa(g[2],h[2]);g=g[3];h=h[3]}while(0==b)}return 0<=b})},lc;var mc=l.document;
lc=mc&&D?ec()||("CSS1Compat"==mc.compatMode?parseInt(kc,10):5):void 0;var qc=function(a,b){nc||oc();pc||(nc(),pc=!0);var c=Ab,d=zb.get();d.set(a,b);c.b?c.b.next=d:(B(!c.a),c.a=d);c.b=d},nc,oc=function(){var a=l.Promise;if(-1!=String(a).indexOf("[native code]")){var b=a.resolve(void 0);nc=function(){b.then(rc)}}else nc=function(){var a=rc;!t(l.setImmediate)||l.Window&&l.Window.prototype&&!C("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(Wb||(Wb=Xb()),Wb(a)):l.setImmediate(a)}},pc=!1,Ab=new function(){this.b=this.a=null},rc=function(){for(var a;a=Bb();){try{a.a.call(a.b)}catch(b){Vb(b)}Aa(zb,
a)}pc=!1};var sc;(sc=!D)||(sc=9<=Number(lc));var tc=sc,uc=D&&!E("9");!dc||E("528");cc&&E("1.9b")||D&&E("8")||ac&&E("9.5")||dc&&E("528");cc&&!E("8")||D&&E("9");var F=function(a,b){this.c={};this.a=[];this.g=this.f=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof F?(c=a.H(),d=a.A()):(c=Ea(a),d=Da(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};F.prototype.b=function(){return this.f};F.prototype.A=function(){vc(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.c[this.a[b]]);return a};F.prototype.H=function(){vc(this);return this.a.concat()};
var wc=function(a,b){return Object.prototype.hasOwnProperty.call(a.c,b)?(delete a.c[b],a.f--,a.g++,a.a.length>2*a.f&&vc(a),!0):!1},vc=function(a){if(a.f!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Object.prototype.hasOwnProperty.call(a.c,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.f!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],Object.prototype.hasOwnProperty.call(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}};
F.prototype.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.c,a)?this.c[a]:b};F.prototype.set=function(a,b){Object.prototype.hasOwnProperty.call(this.c,a)||(this.f++,this.a.push(a),this.g++);this.c[a]=b};F.prototype.forEach=function(a,b){for(var c=this.H(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};
F.prototype.h=function(a){vc(this);var b=0,c=this.g,d=this,e=new Zb;e.next=function(){if(c!=d.g)throw Error("The map has changed since the iterator was created");if(b>=d.a.length)throw Yb;var e=d.a[b++];return a?e:d.c[e]};return e};var xc=function(a,b){Cb.call(this,a?a.type:"");this.c=this.a=this.target=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.a=b;if((b=a.relatedTarget)&&cc)try{Ja(b.nodeName)}catch(c){}this.c=a;a.defaultPrevented&&this.b()}};v(xc,Cb);xc.prototype.b=function(){xc.I.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,uc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var G=function(a,b){this.a=0;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(a!=ba)try{var c=this;a.call(b,function(a){yc(c,2,a)},function(a){if(!(a instanceof zc))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(e){}yc(c,3,a)})}catch(d){yc(this,3,d)}},Ac=function(){this.next=this.f=this.c=this.b=this.a=null;this.g=!1};Ac.prototype.reset=function(){this.f=this.c=this.b=this.a=null;this.g=!1};
var Bc=new za(function(){return new Ac},function(a){a.reset()},100),Cc=function(a,b,c){var d=Bc.get();d.b=a;d.c=b;d.f=c;return d},Dc=function(a){if(a instanceof G)return a;var b=new G(ba);yc(b,2,a);return b},Ec=function(a){return new G(function(b,c){c(a)})};
G.prototype.then=function(a,b,c){null!=a&&eb(a,"opt_onFulfilled should be a function.");null!=b&&eb(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return Fc(this,t(a)?a:null,t(b)?b:null,c)};Ha(G);G.prototype.l=function(a,b){return Fc(this,null,a,b)};G.prototype.cancel=function(a){0==this.a&&qc(function(){var b=new zc(a);Gc(this,b)},this)};
var Gc=function(a,b){if(0==a.a)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.a&&1==d?Gc(c,b):(f?(d=f,B(c.b),B(null!=d),d.next==c.f&&(c.f=d),d.next=d.next.next):Hc(c),Ic(c,e,3,b)))}a.c=null}else yc(a,3,b)},Kc=function(a,b){a.b||2!=a.a&&3!=a.a||Jc(a);B(null!=b.b);a.f?a.f.next=b:a.b=b;a.f=b},Fc=function(a,b,c,d){var e=Cc(null,null,null);e.a=new G(function(a,g){e.b=b?function(c){try{var e=b.call(d,c);a(e)}catch(q){g(q)}}:a;
e.c=c?function(b){try{var e=c.call(d,b);!n(e)&&b instanceof zc?g(b):a(e)}catch(q){g(q)}}:g});e.a.c=a;Kc(a,e);return e.a};G.prototype.o=function(a){B(1==this.a);this.a=0;yc(this,2,a)};G.prototype.m=function(a){B(1==this.a);this.a=0;yc(this,3,a)};
var yc=function(a,b,c){if(0==a.a){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.a=1;var d;a:{var e=c,f=a.o,g=a.m;if(e instanceof G)null!=f&&eb(f,"opt_onFulfilled should be a function."),null!=g&&eb(g,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Kc(e,Cc(f||ba,g||null,a)),d=!0;else if(Ia(e))e.then(f,g,a),d=!0;else{if(ea(e))try{var h=e.then;if(t(h)){Lc(e,h,f,g,a);d=!0;break a}}catch(m){g.call(a,m);d=!0;break a}d=!1}}d||
(a.i=c,a.a=b,a.c=null,Jc(a),3!=b||c instanceof zc||Mc(a,c))}},Lc=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(m){h(m)}},Jc=function(a){a.h||(a.h=!0,qc(a.j,a))},Hc=function(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);null!=b&&B(null!=b.b);return b};G.prototype.j=function(){for(var a;a=Hc(this);)Ic(this,a,this.a,this.i);this.h=!1};
var Ic=function(a,b,c,d){if(3==c&&b.c&&!b.g)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,Nc(b,c,d);else try{b.g?b.b.call(b.f):Nc(b,c,d)}catch(e){Oc.call(null,e)}Aa(Bc,b)},Nc=function(a,b,c){2==b?a.b.call(a.f,c):a.c&&a.c.call(a.f,c)},Mc=function(a,b){a.g=!0;qc(function(){a.g&&Oc.call(null,b)})},Oc=Vb,zc=function(a){z.call(this,a)};v(zc,z);zc.prototype.name="cancel";var Qc=function(a){this.a=new F;if(a){a=Tb(a);for(var b=a.length,c=0;c<b;c++){var d=a[c];this.a.set(Pc(d),d)}}},Pc=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[fa]||(a[fa]=++ga)):b.substr(0,1)+a};Qc.prototype.b=function(){return this.a.b()};Qc.prototype.A=function(){return this.a.A()};Qc.prototype.h=function(){return this.a.h(!1)};var Rc=function(a){return function(){var b=[];Array.prototype.push.apply(b,arguments);Dc(!0).then(function(){a.apply(null,b)})}};var Sc="closure_lm_"+(1E6*Math.random()|0),Tc={},Uc=0,Vc=function(a,b,c,d,e){if("array"==p(b)){for(var f=0;f<b.length;f++)Vc(a,b[f],c,d,e);return null}c=Wc(c);a&&a[gb]?(Xc(a),a=Kb(a.b,String(b),c,!1,d,e)):a=Yc(a,b,c,!1,d,e);return a},Yc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Zc(a);h||(a[Sc]=h=new Ib(a));c=Kb(h,b,c,d,e,f);if(c.a)return c;d=$c();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(ad(b.toString()),
d);else throw Error("addEventListener and attachEvent are unavailable.");Uc++;return c},$c=function(){var a=bd,b=tc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},cd=function(a,b,c,d,e){if("array"==p(b))for(var f=0;f<b.length;f++)cd(a,b[f],c,d,e);else c=Wc(c),a&&a[gb]?Kb(a.b,String(b),c,!0,d,e):Yc(a,b,c,!0,d,e)},dd=function(a,b,c,d,e){if("array"==p(b))for(var f=0;f<b.length;f++)dd(a,b[f],c,d,e);else(c=Wc(c),a&&a[gb])?(a=a.b,b=String(b).toString(),
b in a.a&&(f=a.a[b],c=Jb(f,c,d,e),-1<c&&(Eb(f[c]),B(null!=f.length),Array.prototype.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=Zc(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Jb(b,c,!!d,e)),(c=-1<a?b[a]:null)&&ed(c))},ed=function(a){if("number"!=typeof a&&a&&!a.N){var b=a.src;if(b&&b[gb])Lb(b.b,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.U):b.detachEvent&&b.detachEvent(ad(c),d);Uc--;(c=Zc(b))?(Lb(c,a),0==c.b&&(c.src=null,b[Sc]=null)):Eb(a)}}},ad=function(a){return a in
Tc?Tc[a]:Tc[a]="on"+a},gd=function(a,b,c,d){var e=!0;if(a=Zc(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.U==c&&!f.N&&(f=fd(f,d),e=e&&!1!==f)}return e},fd=function(a,b){var c=a.listener,d=a.M||a.src;a.T&&ed(a);return c.call(d,b)},bd=function(a,b){if(a.N)return!0;if(!tc){if(!b)a:{b=["window","event"];for(var c=l,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new xc(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=
-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.a;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;0<=e;e--){b.a=d[e];var f=gd(d[e],a,!0,b),c=c&&f}for(e=0;e<d.length;e++)b.a=d[e],f=gd(d[e],a,!1,b),c=c&&f}return c}return fd(a,new xc(b,this))},Zc=function(a){a=a[Sc];return a instanceof Ib?a:null},hd="__closure_events_fn_"+(1E9*Math.random()>>>0),Wc=function(a){B(a,"Listener can not be null.");if(t(a))return a;B(a.handleEvent,"An object listener must have handleEvent method.");
a[hd]||(a[hd]=function(b){return a.handleEvent(b)});return a[hd]};var H=function(a,b){fb.call(this);this.m=a||0;this.f=b||10;if(this.m>this.f)throw Error("[goog.structs.Pool] Min can not be greater than max");this.a=new Rb;this.c=new Qc;this.j=null;this.S()};v(H,fb);H.prototype.W=function(){var a=ja();if(!(null!=this.j&&0>a-this.j)){for(var b;0<this.a.b()&&(b=Sb(this.a),!this.l(b));)this.S();!b&&this.b()<this.f&&(b=this.i());b&&(this.j=a,this.c.a.set(Pc(b),b));return b}};var jd=function(a){var b=id;wc(b.c.a,Pc(a))&&b.$(a)};
H.prototype.$=function(a){wc(this.c.a,Pc(a));this.l(a)&&this.b()<this.f?this.a.a.push(a):kd(a)};H.prototype.S=function(){for(var a=this.a;this.b()<this.m;){var b=this.i();a.a.push(b)}for(;this.b()>this.f&&0<this.a.b();)kd(Sb(a))};H.prototype.i=function(){return{}};var kd=function(a){if("function"==typeof a.ea)a.ea();else for(var b in a)a[b]=null};H.prototype.l=function(a){return"function"==typeof a.oa?a.oa():!0};H.prototype.b=function(){return this.a.b()+this.c.b()};
H.prototype.D=function(){H.I.D.call(this);if(0<this.c.b())throw Error("[goog.structs.Pool] Objects not released");delete this.c;for(var a=this.a;0!=a.c.length||0!=a.a.length;)kd(Sb(a));delete this.a};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var ld=function(a,b){this.g=[];this.u=a;this.s=b||null;this.f=this.a=!1;this.b=void 0;this.l=this.o=this.i=!1;this.h=0;this.c=null;this.j=0};
ld.prototype.cancel=function(a){if(this.a)this.b instanceof ld&&this.b.cancel();else{if(this.c){var b=this.c;delete this.c;a?b.cancel(a):(b.j--,0>=b.j&&b.cancel())}this.u?this.u.call(this.s,this):this.l=!0;if(!this.a){a=new md;if(this.a){if(!this.l)throw new nd;this.l=!1}B(!(a instanceof ld),"An execution sequence may not be initiated with a blocking Deferred.");this.a=!0;this.b=a;this.f=!0;od(this)}}};ld.prototype.m=function(a,b){this.i=!1;this.a=!0;this.b=b;this.f=!a;od(this)};
var pd=function(a,b,c){B(!a.o,"Blocking Deferreds can not be re-used");a.g.push([b,c,void 0]);a.a&&od(a)};ld.prototype.then=function(a,b,c){var d,e,f=new G(function(a,b){d=a;e=b});pd(this,d,function(a){a instanceof md?f.cancel():e(a)});return f.then(a,b,c)};Ha(ld);
var qd=function(a){return rb(a.g,function(a){return t(a[1])})},od=function(a){if(a.h&&a.a&&qd(a)){var b=a.h,c=rd[b];c&&(l.clearTimeout(c.a),delete rd[b]);a.h=0}a.c&&(a.c.j--,delete a.c);for(var b=a.b,d=c=!1;a.g.length&&!a.i;){var e=a.g.shift(),f=e[0],g=e[1],e=e[2];if(f=a.f?g:f)try{var h=f.call(e||a.s,b);n(h)&&(a.f=a.f&&(h==b||h instanceof Error),a.b=b=h);if(Ia(b)||"function"===typeof l.Promise&&b instanceof l.Promise)d=!0,a.i=!0}catch(m){b=m,a.f=!0,qd(a)||(c=!0)}}a.b=b;d&&(h=u(a.m,a,!0),d=u(a.m,a,
!1),b instanceof ld?(pd(b,h,d),b.o=!0):b.then(h,d));c&&(b=new sd(b),rd[b.a]=b,a.h=b.a)},nd=function(){z.call(this)};v(nd,z);nd.prototype.message="Deferred has already fired";nd.prototype.name="AlreadyCalledError";var md=function(){z.call(this)};v(md,z);md.prototype.message="Deferred was canceled";md.prototype.name="CanceledError";var sd=function(a){this.a=l.setTimeout(u(this.c,this),0);this.b=a};
sd.prototype.c=function(){B(rd[this.a],"Cannot throw an error that is not scheduled.");delete rd[this.a];throw this.b;};var rd={};var td=function(a){this.f=a;this.b=this.c=this.a=null},ud=function(a,b){this.name=a;this.value=b};ud.prototype.toString=function(){return this.name};var vd=new ud("SEVERE",1E3),wd=new ud("CONFIG",700),xd=new ud("FINE",500),yd=function(a){if(a.c)return a.c;if(a.a)return yd(a.a);db("Root logger has no level set.");return null};
td.prototype.log=function(a,b,c){if(a.value>=yd(this).value)for(t(b)&&(b=b()),a=new Ba(a,String(b),this.f),c&&(a.a=c),c="log:"+a.b,l.console&&(l.console.timeStamp?l.console.timeStamp(c):l.console.markTimeline&&l.console.markTimeline(c)),l.msWriteProfilerMark&&l.msWriteProfilerMark(c),c=this;c;)c=c.a};
var zd={},Ad=null,Bd=function(a){Ad||(Ad=new td(""),zd[""]=Ad,Ad.c=wd);var b;if(!(b=zd[a])){b=new td(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Bd(a.substr(0,c));c.b||(c.b={});c.b[d]=b;b.a=c;zd[a]=b}return b};var Cd=function(){fb.call(this);this.b=new Ib(this);this.Y=this;this.G=null};v(Cd,fb);Cd.prototype[gb]=!0;Cd.prototype.removeEventListener=function(a,b,c,d){dd(this,a,b,c,d)};
var I=function(a,b){Xc(a);var c,d=a.G;if(d){c=[];for(var e=1;d;d=d.G)c.push(d),B(1E3>++e,"infinite loop")}a=a.Y;d=b.type||b;r(b)?b=new Cb(b,a):b instanceof Cb?b.target=b.target||a:(e=b,b=new Cb(d,a),Ga(b,e));var e=!0,f;if(c)for(var g=c.length-1;0<=g;g--)f=b.a=c[g],e=Dd(f,d,!0,b)&&e;f=b.a=a;e=Dd(f,d,!0,b)&&e;e=Dd(f,d,!1,b)&&e;if(c)for(g=0;g<c.length;g++)f=b.a=c[g],e=Dd(f,d,!1,b)&&e};
Cd.prototype.D=function(){Cd.I.D.call(this);if(this.b){var a=this.b,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,Eb(d[e]);delete a.a[c];a.b--}}this.G=null};var Dd=function(a,b,c,d){b=a.b.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.N&&g.U==c){var h=g.listener,m=g.M||g.src;g.T&&Lb(a.b,g);e=!1!==h.call(m,d)&&e}}return e&&0!=d.ja},Xc=function(a){B(a.b,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var J=function(a,b){this.h=new $b;H.call(this,a,b)};v(J,H);k=J.prototype;k.W=function(a,b){if(!a)return J.I.W.call(this);Qb(this.h,n(b)?b:100,a);this.aa()};k.aa=function(){for(var a=this.h;0<a.b();){var b=this.W();if(b){var c;var d=a,e=d.a,f=e.length;c=e[0];if(0>=f)c=void 0;else{if(1==f)vb(e);else{e[0]=e.pop();for(var e=0,d=d.a,f=d.length,g=d[e];e<f>>1;){var h=2*e+1,m=2*e+2,h=m<f&&d[m].a<d[h].a?m:h;if(d[h].a>g.a)break;d[e]=d[h];e=h}d[e]=g}c=c.b}c.apply(this,[b])}else break}};
k.$=function(a){J.I.$.call(this,a);this.aa()};k.S=function(){J.I.S.call(this);this.aa()};k.D=function(){J.I.D.call(this);l.clearTimeout(void 0);vb(this.h.a);this.h=null};var K=function(a,b){a&&a.log(xd,b,void 0)};var Ed=function(a,b,c){if(t(a))c&&(a=u(a,c));else if(a&&"function"==typeof a.handleEvent)a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)};var L=function(a){Cd.call(this);this.headers=new F;this.B=a||null;this.c=!1;this.u=this.a=null;this.L=this.l="";this.K=0;this.h="";this.f=this.C=this.j=this.F=!1;this.i=0;this.m=null;this.R="";this.s=this.ca=this.X=!1};v(L,Cd);var Fd=L.prototype,Gd=Bd("goog.net.XhrIo");Fd.w=Gd;var Hd=/^https?$/i,Id=["POST","PUT"];
L.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.l+"; newUri="+a);b=b?b.toUpperCase():"GET";this.l=a;this.h="";this.K=0;this.L=b;this.F=!1;this.c=!0;this.a=this.B?this.B.a():Mb.a();this.u=this.B?mb(this.B):mb(Mb);this.a.onreadystatechange=u(this.P,this);this.ca&&"onprogress"in this.a&&(this.a.onprogress=u(function(a){this.O(a,!0)},this),this.a.upload&&(this.a.upload.onprogress=u(this.O,this)));try{K(this.w,M(this,"Opening Xhr")),
this.C=!0,this.a.open(b,String(a),!0),this.C=!1}catch(f){K(this.w,M(this,"Error opening Xhr: "+f.message));Jd(this,f);return}a=c||"";var e=new F(this.headers);d&&Ub(d,function(a,b){e.set(b,a)});d=tb(e.H());c=l.FormData&&a instanceof l.FormData;!ub(Id,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.a.setRequestHeader(b,a)},this);this.R&&(this.a.responseType=this.R);"withCredentials"in this.a&&this.a.withCredentials!==this.X&&(this.a.withCredentials=
this.X);try{Kd(this),0<this.i&&(this.s=Ld(this.a),K(this.w,M(this,"Will abort after "+this.i+"ms if incomplete, xhr2 "+this.s)),this.s?(this.a.timeout=this.i,this.a.ontimeout=u(this.J,this)):this.m=Ed(this.J,this.i,this)),K(this.w,M(this,"Sending request")),this.j=!0,this.a.send(a),this.j=!1}catch(f){K(this.w,M(this,"Send error: "+f.message)),Jd(this,f)}};var Ld=function(a){return D&&E(9)&&"number"==typeof a.timeout&&n(a.ontimeout)},sb=function(a){return"content-type"==a.toLowerCase()};
L.prototype.J=function(){"undefined"!=typeof aa&&this.a&&(this.h="Timed out after "+this.i+"ms, aborting",this.K=8,K(this.w,M(this,this.h)),I(this,"timeout"),this.abort(8))};var Jd=function(a,b){a.c=!1;a.a&&(a.f=!0,a.a.abort(),a.f=!1);a.h=b;a.K=5;Md(a);Nd(a)},Md=function(a){a.F||(a.F=!0,I(a,"complete"),I(a,"error"))};L.prototype.abort=function(a){this.a&&this.c&&(K(this.w,M(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.K=a||7,I(this,"complete"),I(this,"abort"),Nd(this))};
L.prototype.D=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Nd(this,!0));L.I.D.call(this)};L.prototype.P=function(){this.g||(this.C||this.j||this.f?Od(this):this.Z())};L.prototype.Z=function(){Od(this)};
var Od=function(a){if(a.c&&"undefined"!=typeof aa)if(a.u[1]&&4==Pd(a)&&2==N(a))K(a.w,M(a,"Local request error detected and ignored"));else if(a.j&&4==Pd(a))Ed(a.P,0,a);else if(I(a,"readystatechange"),4==Pd(a)){K(a.w,M(a,"Request complete"));a.c=!1;try{if(Qd(a))I(a,"complete"),I(a,"success");else{a.K=6;var b;try{b=2<Pd(a)?a.a.statusText:""}catch(c){K(a.w,"Can not get status: "+c.message),b=""}a.h=b+" ["+N(a)+"]";Md(a)}}finally{Nd(a)}}};
L.prototype.O=function(a,b){B("progress"===a.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");I(this,Rd(a,"progress"));I(this,Rd(a,b?"downloadprogress":"uploadprogress"))};
var Rd=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},Nd=function(a,b){if(a.a){Kd(a);var c=a.a,d=a.u[0]?ba:null;a.a=null;a.u=null;b||I(a,"ready");try{c.onreadystatechange=d}catch(e){(a=a.w)&&a.log(vd,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},Kd=function(a){a.a&&a.s&&(a.a.ontimeout=null);"number"==typeof a.m&&(l.clearTimeout(a.m),a.m=null)},Qd=function(a){var b=N(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=
!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.l).match(Fb)[1]||null,!a&&l.self&&l.self.location&&(a=l.self.location.protocol,a=a.substr(0,a.length-1)),b=!Hd.test(a?a.toLowerCase():"");c=b}return c},Pd=function(a){return a.a?a.a.readyState:0},N=function(a){try{return 2<Pd(a)?a.a.status:-1}catch(b){return-1}},Sd=function(a){try{return a.a?a.a.responseText:""}catch(b){return K(a.w,"Can not get responseText: "+b.message),""}},Td=function(a,b){return a.a&&4==Pd(a)?a.a.getResponseHeader(b):void 0},
M=function(a,b){return b+" ["+a.L+" "+a.l+" "+N(a)+"]"};var Ud=function(a,b,c,d){this.s=a;this.u=!!d;J.call(this,b,c)};v(Ud,J);Ud.prototype.i=function(){var a=new L,b=this.s;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.u&&(a.X=!0);return a};Ud.prototype.l=function(a){return!a.g&&!a.a};var id=new Ud;var Wd=function(a,b,c,d,e,f,g,h,m,q,Q){this.J=a;this.C=b;this.u=c;this.m=d;this.G=e.slice();this.o=f.slice();this.j=this.l=this.c=this.b=null;this.g=this.h=!1;this.s=g;this.i=h;this.f=q;this.L=Q;this.F=m;var P=this;this.B=new G(function(a,b){P.l=a;P.j=b;Vd(P)})},Xd=function(a,b,c){this.b=a;this.c=b;this.a=!!c},Vd=function(a){function b(a,b){b?a(!1,new Xd(!1,null,!0)):id.W(function(b){b.X=d.L;d.b=b;var c=null;null!==d.f&&(b.ca=!0,c=Vc(b,"uploadprogress",function(a){d.f(a.loaded,a.lengthComputable?
a.total:-1)}),b.ca=null!==d.f);b.send(d.J,d.C,d.m,d.u);cd(b,"complete",function(b){null!==c&&ed(c);d.b=null;b=b.target;var e=6===b.K&&100<=N(b),f=Qd(b)||e,e=N(b);if(!(f=!f))var g=d,f=500<=e&&600>e,h=ub([408,429],e),g=ub(g.o,e),f=f||h||g;f?(e=7===b.K,jd(b),a(!1,new Xd(!1,null,e))):(e=ub(d.G,e),a(!0,new Xd(e,b)))})})}function c(a,b){var c=d.l;a=d.j;var e=b.c;if(b.b)try{var f=d.s(e,Sd(e));n(f)?c(f):c()}catch(q){a(q)}else null!==e?(b=ma(),f=Sd(e),b.serverResponse=f,d.i?a(d.i(e,b)):a(b)):(b=b.a?d.g?qa():
na():new w("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),a(b));jd(e)}var d=a;a.h?c(0,new Xd(!1,null,!0)):a.c=ka(b,c,a.F)};Wd.prototype.a=function(){return this.B};Wd.prototype.cancel=function(a){this.h=!0;this.g=a||!1;null!==this.c&&(0,this.c)(!1);null!==this.b&&this.b.abort()};
var Yd=function(a,b,c){var d=ab(a.b),d=a.j+d,e=a.headers?ta(a.headers):{};null!==b&&0<b.length&&(e.Authorization="Firebase "+b);e["X-Firebase-Storage-Version"]="webjs/"+("undefined"!==typeof firebase?firebase.SDK_VERSION:"AppManager");return new Wd(d,a.method,e,a.body,a.f,a.h,a.M,a.a,a.i,a.c,c)};var Zd=function(a){var b=l.BlobBuilder||l.WebKitBlobBuilder;if(n(b)){for(var b=new b,c=0;c<arguments.length;c++)b.append(arguments[c]);return b.getBlob()}b=xb(arguments);c=l.BlobBuilder||l.WebKitBlobBuilder;if(n(c)){for(var c=new c,d=0;d<b.length;d++)c.append(b[d],void 0);b=c.getBlob(void 0)}else if(n(l.Blob))b=new Blob(b,{});else throw Error("This browser doesn't seem to support creating Blobs");return b},$d=function(a,b,c){n(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,
c):a.slice?cc&&!E("13.0")||dc&&!E("537.1")?(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):a.slice(b,c):null};var O=function(a,b){ya()&&a instanceof Blob?(this.v=a,b=a.size,a=a.type):(a instanceof ArrayBuffer?(b?this.v=new Uint8Array(a):(this.v=new Uint8Array(a.byteLength),this.v.set(new Uint8Array(a))),b=this.v.length):(b?this.v=a:(this.v=new Uint8Array(a.length),this.v.set(a)),b=a.length),a="");this.a=b;this.b=a};O.prototype.type=function(){return this.b};
O.prototype.slice=function(a,b){if(ya()&&this.v instanceof Blob)return a=$d(this.v,a,b),null===a?null:new O(a);a=new Uint8Array(this.v.buffer,a,b-a);return new O(a,!0)};
var ae=function(a){var b=[];Array.prototype.push.apply(b,arguments);if(ya())return b=qb(b,function(a){return a instanceof O?a.v:a}),new O(Zd.apply(null,b));var b=qb(b,function(a){return xa(a)?$a("raw",a).data.buffer:a.v.buffer}),c=0;ob(b,function(a){c+=a.byteLength});var d=new Uint8Array(c),e=0;ob(b,function(a){a=new Uint8Array(a);for(var b=0;b<a.length;b++)d[e++]=a[b]});return new O(d,!0)};var be=function(a){this.b=Ec(a)};be.prototype.a=function(){return this.b};be.prototype.cancel=function(){};var ce=function(){this.a={};this.b=Number.MIN_SAFE_INTEGER},de=function(a,b){function c(){delete e.a[d]}var d=a.b;a.b++;a.a[d]=b;var e=a;b.a().then(c,c)},ee=function(a){sa(a.a,function(a,c){c&&c.cancel(!0)});a.a={}};var fe=function(a,b,c,d){this.a=a;this.g=null;if(null!==this.a&&(a=this.a.options,y(a))){a=a.storageBucket||null;if(null==a)a=null;else{var e=null;try{e=Sa(a)}catch(f){}if(null!==e){if(""!==e.path)throw new w("invalid-default-bucket","Invalid default bucket '"+a+"'.");a=e.bucket}}this.g=a}this.l=b;this.j=c;this.i=d;this.c=12E4;this.b=6E4;this.h=new ce;this.f=!1},ge=function(a){return null!==a.a&&y(a.a.INTERNAL)&&y(a.a.INTERNAL.getToken)?a.a.INTERNAL.getToken().then(function(a){return y(a)?a.accessToken:
null},function(){return null}):Dc(null)};fe.prototype.bucket=function(){if(this.f)throw qa();return this.g};var R=function(a,b,c){if(a.f)return new be(qa());b=a.j(b,c,null===a.a);de(a.h,b);return b};var he=function(a,b){return b},S=function(a,b,c,d){this.c=a;this.b=b||a;this.writable=!!c;this.a=d||he},ie=null,je=function(){if(ie)return ie;var a=[];a.push(new S("bucket"));a.push(new S("generation"));a.push(new S("metageneration"));a.push(new S("name","fullPath",!0));var b=new S("name");b.a=function(a,b){return!xa(b)||2>b.length?b:Hb(b)};a.push(b);b=new S("size");b.a=function(a,b){return y(b)?+b:b};a.push(b);a.push(new S("timeCreated"));a.push(new S("updated"));a.push(new S("md5Hash",null,!0));
a.push(new S("cacheControl",null,!0));a.push(new S("contentDisposition",null,!0));a.push(new S("contentEncoding",null,!0));a.push(new S("contentLanguage",null,!0));a.push(new S("contentType",null,!0));a.push(new S("metadata","customMetadata",!0));a.push(new S("downloadTokens","downloadURLs",!1,function(a,b){if(!(xa(b)&&0<b.length))return[];var c=encodeURIComponent;return qb(b.split(","),function(b){var d=a.fullPath,d="https://firebasestorage.googleapis.com/v0"+("/b/"+c(a.bucket)+"/o/"+c(d));b=ab({alt:"media",
token:b});return d+b})}));return ie=a},ke=function(a,b){Object.defineProperty(a,"ref",{get:function(){return b.l(b,new Qa(a.bucket,a.fullPath))}})},le=function(a,b){for(var c={},d=b.length,e=0;e<d;e++){var f=b[e];f.writable&&(c[f.c]=a[f.b])}return JSON.stringify(c)},me=function(a){if(!a||"object"!==typeof a)throw"Expected Metadata object.";for(var b in a){var c=a[b];if("customMetadata"===b&&"object"!==typeof c)throw"Expected object for 'customMetadata' mapping.";}};var T=function(a,b,c){for(var d=b.length,e=b.length,f=0;f<b.length;f++)if(b[f].b){d=f;break}if(!(d<=c.length&&c.length<=e))throw d===e?(b=d,d=1===d?"argument":"arguments"):(b="between "+d+" and "+e,d="arguments"),new w("invalid-argument-count","Invalid argument count in `"+a+"`: Expected "+b+" "+d+", received "+c.length+".");for(f=0;f<c.length;f++)try{b[f].a(c[f])}catch(g){if(g instanceof Error)throw pa(f,a,g.message);throw pa(f,a,g);}},U=function(a,b){var c=this;this.a=function(b){c.b&&!n(b)||a(b)};
this.b=!!b},ne=function(a,b){return function(c){a(c);b(c)}},oe=function(a,b){function c(a){if(!("string"===typeof a||a instanceof String))throw"Expected string.";}var d;a?d=ne(c,a):d=c;return new U(d,b)},pe=function(){return new U(function(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer||ya()&&a instanceof Blob))throw"Expected Blob or File.";})},qe=function(){return new U(function(a){if(!(("number"===typeof a||a instanceof Number)&&0<=a))throw"Expected a number 0 or greater.";})},re=function(a,
b){return new U(function(b){if(!(null===b||y(b)&&b instanceof Object))throw"Expected an Object.";y(a)&&a(b)},b)},se=function(){return new U(function(a){if(null!==a&&!t(a))throw"Expected a Function.";},!0)};var te=function(a){if(!a)throw ma();},ue=function(a,b){return function(c,d){a:{var e;try{e=JSON.parse(d)}catch(h){c=null;break a}c=ea(e)?e:null}if(null===c)c=null;else{d={type:"file"};e=b.length;for(var f=0;f<e;f++){var g=b[f];d[g.b]=g.a(d,c[g.c])}ke(d,a);c=d}te(null!==c);return c}},ve=function(a){return function(b,c){b=401===N(b)?new w("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===N(b)?new w("quota-exceeded","Quota for bucket '"+
a.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===N(b)?new w("unauthorized","User does not have permission to access '"+a.path+"'."):c;b.serverResponse=c.serverResponse;return b}},we=function(a){var b=ve(a);return function(c,d){var e=b(c,d);404===N(c)&&(e=new w("object-not-found","Object '"+a.path+"' does not exist."));e.serverResponse=d.serverResponse;return e}},xe=function(a,b,c){var d=Ra(b);a=new x(la+"/v0"+d,"GET",ue(a,c),a.c);a.a=we(b);return a},ye=function(a,
b){var c=Ra(b);a=new x(la+"/v0"+c,"DELETE",function(){},a.c);a.f=[200,204];a.a=we(b);return a},ze=function(a,b,c){c=c?ta(c):{};c.fullPath=a.path;c.size=b.a;c.contentType||(a=b&&b.type()||"application/octet-stream",c.contentType=a);return c},Ae=function(a,b,c,d,e){var f="/b/"+encodeURIComponent(b.bucket)+"/o",g={"X-Goog-Upload-Protocol":"multipart"},h;h="";for(var m=0;2>m;m++)h+=Math.random().toString().slice(2);g["Content-Type"]="multipart/related; boundary="+h;e=ze(b,d,e);m=le(e,c);d=ae("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+
m+"\r\n--"+h+"\r\nContent-Type: "+e.contentType+"\r\n\r\n",d,"\r\n--"+h+"--");if(null===d)throw oa();a=new x(la+"/v0"+f,"POST",ue(a,c),a.b);a.b={name:e.fullPath};a.headers=g;a.body=d.v;a.a=ve(b);return a},Be=function(a,b,c,d){this.a=a;this.total=b;this.b=!!c;this.c=d||null},Ce=function(a,b){var c;try{c=Td(a,"X-Goog-Upload-Status")}catch(d){te(!1)}te(ub(b||["active"],c));return c},De=function(a,b,c,d,e){var f="/b/"+encodeURIComponent(b.bucket)+"/o",g=ze(b,d,e);e={name:g.fullPath};f=la+"/v0"+f;d={"X-Goog-Upload-Protocol":"resumable",
"X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":d.a,"X-Goog-Upload-Header-Content-Type":g.contentType,"Content-Type":"application/json; charset=utf-8"};c=le(g,c);a=new x(f,"POST",function(a){Ce(a);var b;try{b=Td(a,"X-Goog-Upload-URL")}catch(q){te(!1)}te(xa(b));return b},a.b);a.b=e;a.headers=d;a.body=c;a.a=ve(b);return a},Ee=function(a,b,c,d){a=new x(c,"POST",function(a){var b=Ce(a,["active","final"]),c;try{c=Td(a,"X-Goog-Upload-Size-Received")}catch(h){te(!1)}a=c;isFinite(a)&&
(a=String(a));a=r(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN;te(!isNaN(a));return new Be(a,d.a,"final"===b)},a.b);a.headers={"X-Goog-Upload-Command":"query"};a.a=ve(b);a.g=!1;return a},Fe=function(a,b,c,d,e,f,g){var h=new Be(0,0);g?(h.a=g.a,h.total=g.total):(h.a=0,h.total=d.a);if(d.a!==h.total)throw new w("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var m=g=h.total-h.a;0<e&&(m=Math.min(m,e));var q=h.a;e={"X-Goog-Upload-Command":m===
g?"upload, finalize":"upload","X-Goog-Upload-Offset":h.a};g=d.slice(q,q+m);if(null===g)throw oa();c=new x(c,"POST",function(a,c){var e=Ce(a,["active","final"]),g=h.a+m,Q=d.a,q;"final"===e?q=ue(b,f)(a,c):q=null;return new Be(g,Q,"final"===e,q)},b.b);c.headers=e;c.body=g.v;c.c=null;c.a=ve(a);c.g=!1;return c};var W=function(a,b,c,d,e,f){this.L=a;this.c=b;this.j=c;this.f=e;this.h=f||null;this.m=d;this.l=0;this.J=this.s=!1;this.F=[];this.Z=262144<this.f.a;this.b="running";this.a=this.u=this.g=null;this.i=1;var g=this;this.V=function(a){g.a=null;g.i=1;"storage/canceled"===a.code?(g.s=!0,Ge(g)):(g.g=a,V(g,"error"))};this.Y=function(a){g.a=null;"storage/canceled"===a.code?Ge(g):(g.g=a,V(g,"error"))};this.B=this.o=null;this.G=new G(function(a,b){g.o=a;g.B=b;He(g)});this.G.then(null,function(){})},He=function(a){"running"===
a.b&&null===a.a&&(a.Z?null===a.u?Ie(a):a.s?Je(a):a.J?Ke(a):Le(a):Me(a))},Ne=function(a,b){ge(a.c).then(function(c){switch(a.b){case "running":b(c);break;case "canceling":V(a,"canceled");break;case "pausing":V(a,"paused")}})},Ie=function(a){Ne(a,function(b){var c=De(a.c,a.j,a.m,a.f,a.h);a.a=R(a.c,c,b);a.a.a().then(function(b){a.a=null;a.u=b;a.s=!1;Ge(a)},this.V)})},Je=function(a){var b=a.u;Ne(a,function(c){var d=Ee(a.c,a.j,b,a.f);a.a=R(a.c,d,c);a.a.a().then(function(b){a.a=null;Oe(a,b.a);a.s=!1;b.b&&
(a.J=!0);Ge(a)},a.V)})},Le=function(a){var b=262144*a.i,c=new Be(a.l,a.f.a),d=a.u;Ne(a,function(e){var f;try{f=Fe(a.j,a.c,d,a.f,b,a.m,c)}catch(g){a.g=g;V(a,"error");return}a.a=R(a.c,f,e);a.a.a().then(function(b){33554432>262144*a.i&&(a.i*=2);a.a=null;Oe(a,b.a);b.b?(a.h=b.c,V(a,"success")):Ge(a)},a.V)})},Ke=function(a){Ne(a,function(b){var c=xe(a.c,a.j,a.m);a.a=R(a.c,c,b);a.a.a().then(function(b){a.a=null;a.h=b;V(a,"success")},a.Y)})},Me=function(a){Ne(a,function(b){var c=Ae(a.c,a.j,a.m,a.f,a.h);a.a=
R(a.c,c,b);a.a.a().then(function(b){a.a=null;a.h=b;Oe(a,a.f.a);V(a,"success")},a.V)})},Oe=function(a,b){var c=a.l;a.l=b;a.l>c&&Pe(a)},V=function(a,b){if(a.b!==b)switch(b){case "canceling":a.b=b;null!==a.a&&a.a.cancel();break;case "pausing":a.b=b;null!==a.a&&a.a.cancel();break;case "running":var c="paused"===a.b;a.b=b;c&&(Pe(a),He(a));break;case "paused":a.b=b;Pe(a);break;case "canceled":a.g=na();a.b=b;Pe(a);break;case "error":a.b=b;Pe(a);break;case "success":a.b=b,Pe(a)}},Ge=function(a){switch(a.b){case "pausing":V(a,
"paused");break;case "canceling":V(a,"canceled");break;case "running":He(a)}};W.prototype.C=function(){return new A(this.l,this.f.a,wa(this.b),this.h,this,this.L)};
W.prototype.O=function(a,b,c,d){function e(a){try{g(a);return}catch(P){}try{if(h(a),!(n(a.next)||n(a.error)||n(a.complete)))throw"";}catch(P){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";}}function f(a){return function(b,c,d){null!==a&&T("on",a,arguments);var e=new Ta(b,c,d);Qe(m,e);return function(){wb(m.F,e)}}}var g=se().a,h=re(null,!0).a;T("on",[oe(function(){if("state_changed"!==a)throw"Expected one of the event types: [state_changed].";}),re(e,!0),
se(),se()],arguments);var m=this,q=[re(function(a){if(null===a)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";e(a)}),se(),se()];return n(b)||n(c)||n(d)?f(null)(b,c,d):f(q)};W.prototype.then=function(a,b){return this.G.then(a,b)};
var Qe=function(a,b){a.F.push(b);Re(a,b)},Pe=function(a){Se(a);var b=xb(a.F);ob(b,function(b){Re(a,b)})},Se=function(a){if(null!==a.o){var b=!0;switch(wa(a.b)){case "success":Rc(a.o.bind(null,a.C()))();break;case "canceled":case "error":Rc(a.B.bind(null,a.g))();break;default:b=!1}b&&(a.o=null,a.B=null)}},Re=function(a,b){switch(wa(a.b)){case "running":case "paused":null!==b.next&&Rc(b.next.bind(b,a.C()))();break;case "success":null!==b.b&&Rc(b.b.bind(b))();break;case "canceled":case "error":null!==
b.a&&Rc(b.a.bind(b,a.g))();break;default:null!==b.a&&Rc(b.a.bind(b,a.g))()}};W.prototype.R=function(){T("resume",[],arguments);var a="paused"===this.b||"pausing"===this.b;a&&V(this,"running");return a};W.prototype.P=function(){T("pause",[],arguments);var a="running"===this.b;a&&V(this,"pausing");return a};W.prototype.cancel=function(){T("cancel",[],arguments);var a="running"===this.b||"pausing"===this.b;a&&V(this,"canceling");return a};var X=function(a,b){this.b=a;if(b)this.a=b instanceof Qa?b:Sa(b);else if(a=a.bucket(),null!==a)this.a=new Qa(a,"");else throw new w("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");};X.prototype.toString=function(){T("toString",[],arguments);return"gs://"+this.a.bucket+"/"+this.a.path};var Te=function(a,b){return new X(a,b)};k=X.prototype;
k.fa=function(a){T("child",[oe()],arguments);var b=Gb(this.a.path,a);return Te(this.b,new Qa(this.a.bucket,b))};k.Da=function(){var a;a=this.a.path;if(0==a.length)a=null;else{var b=a.lastIndexOf("/");a=-1===b?"":a.slice(0,b)}return null===a?null:Te(this.b,new Qa(this.a.bucket,a))};k.Fa=function(){return Te(this.b,new Qa(this.a.bucket,""))};k.ma=function(){return this.a.bucket};k.ya=function(){return this.a.path};k.Ca=function(){return Hb(this.a.path)};k.Ha=function(){return this.b.i};
k.ra=function(a,b){T("put",[pe(),new U(me,!0)],arguments);Ue(this,"put");return new W(this,this.b,this.a,je(),new O(a),b)};k.sa=function(a,b,c){T("putString",[oe(),oe(Va,!0),new U(me,!0)],arguments);Ue(this,"putString");var d=$a(y(b)?b:"raw",a),e=c?ta(c):{};!y(e.contentType)&&y(d.a)&&(e.contentType=d.a);return new W(this,this.b,this.a,je(),new O(d.data,!0),e)};
k.delete=function(){T("delete",[],arguments);Ue(this,"delete");var a=this;return ge(this.b).then(function(b){var c=ye(a.b,a.a);return R(a.b,c,b).a()})};k.ga=function(){T("getMetadata",[],arguments);Ue(this,"getMetadata");var a=this;return ge(this.b).then(function(b){var c=xe(a.b,a.a,je());return R(a.b,c,b).a()})};
k.ta=function(a){T("updateMetadata",[new U(me,void 0)],arguments);Ue(this,"updateMetadata");var b=this;return ge(this.b).then(function(c){var d=b.b,e=b.a,f=a,g=je(),h=Ra(e),h=la+"/v0"+h,f=le(f,g),d=new x(h,"PATCH",ue(d,g),d.c);d.headers={"Content-Type":"application/json; charset=utf-8"};d.body=f;d.a=we(e);return R(b.b,d,c).a()})};
k.qa=function(){T("getDownloadURL",[],arguments);Ue(this,"getDownloadURL");return this.ga().then(function(a){a=a.downloadURLs[0];if(y(a))return a;throw new w("no-download-url","The given file does not have any download URLs.");})};var Ue=function(a,b){if(""===a.a.path)throw new w("invalid-root-operation","The operation '"+b+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').");};var Y=function(a){this.a=new fe(a,function(a,c){return new X(a,c)},Yd,this);this.b=a;this.c=new Ve(this)};k=Y.prototype;k.ua=function(a){T("ref",[oe(function(a){if(/^[A-Za-z]+:\/\//.test(a))throw"Expected child path but got a URL, use refFromURL instead.";},!0)],arguments);var b=new X(this.a);return n(a)?b.fa(a):b};
k.va=function(a){T("refFromURL",[oe(function(a){if(!/^[A-Za-z]+:\/\//.test(a))throw"Expected full URL but got a child path, use ref instead.";try{Sa(a)}catch(c){throw"Expected valid full URL but got an invalid one.";}},!1)],arguments);return new X(this.a,a)};k.Aa=function(){return this.a.b};k.xa=function(a){T("setMaxUploadRetryTime",[qe()],arguments);this.a.b=a};k.za=function(){return this.a.c};k.wa=function(a){T("setMaxOperationRetryTime",[qe()],arguments);this.a.c=a};k.la=function(){return this.b};
k.ka=function(){return this.c};var Ve=function(a){this.a=a};Ve.prototype.delete=function(){var a=this.a.a;a.f=!0;a.a=null;ee(a.h)};var Z=function(a,b,c){Object.defineProperty(a,b,{get:c})};X.prototype.toString=X.prototype.toString;X.prototype.child=X.prototype.fa;X.prototype.put=X.prototype.ra;X.prototype.putString=X.prototype.sa;X.prototype["delete"]=X.prototype.delete;X.prototype.getMetadata=X.prototype.ga;X.prototype.updateMetadata=X.prototype.ta;X.prototype.getDownloadURL=X.prototype.qa;Z(X.prototype,"parent",X.prototype.Da);Z(X.prototype,"root",X.prototype.Fa);Z(X.prototype,"bucket",X.prototype.ma);
Z(X.prototype,"fullPath",X.prototype.ya);Z(X.prototype,"name",X.prototype.Ca);Z(X.prototype,"storage",X.prototype.Ha);Y.prototype.ref=Y.prototype.ua;Y.prototype.refFromURL=Y.prototype.va;Z(Y.prototype,"maxOperationRetryTime",Y.prototype.za);Y.prototype.setMaxOperationRetryTime=Y.prototype.wa;Z(Y.prototype,"maxUploadRetryTime",Y.prototype.Aa);Y.prototype.setMaxUploadRetryTime=Y.prototype.xa;Z(Y.prototype,"app",Y.prototype.la);Z(Y.prototype,"INTERNAL",Y.prototype.ka);Ve.prototype["delete"]=Ve.prototype.delete;
Y.prototype.capi_=function(a){la=a};W.prototype.on=W.prototype.O;W.prototype.resume=W.prototype.R;W.prototype.pause=W.prototype.P;W.prototype.cancel=W.prototype.cancel;Z(W.prototype,"snapshot",W.prototype.C);Z(A.prototype,"bytesTransferred",A.prototype.na);Z(A.prototype,"totalBytes",A.prototype.Ja);Z(A.prototype,"state",A.prototype.Ga);Z(A.prototype,"metadata",A.prototype.Ba);Z(A.prototype,"downloadURL",A.prototype.pa);Z(A.prototype,"task",A.prototype.Ia);Z(A.prototype,"ref",A.prototype.Ea);
ua.STATE_CHANGED="state_changed";va.RUNNING="running";va.PAUSED="paused";va.SUCCESS="success";va.CANCELED="canceled";va.ERROR="error";Ua.RAW="raw";Ua.BASE64="base64";Ua.BASE64URL="base64url";Ua.DATA_URL="data_url";G.prototype["catch"]=G.prototype.l;G.prototype.then=G.prototype.then;
(function(){function a(a){return new Y(a)}var b={TaskState:va,TaskEvent:ua,StringFormat:Ua,Storage:Y,Reference:X};if("undefined"!==typeof firebase)firebase.INTERNAL.registerService("storage",a,b);else throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.");})();})();
module.exports = firebase.storage;

},{"./app":5}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvanMvTmV3cy5qc3giLCJhcHAvanMvTmV3c0l0ZW0uanN4IiwiYXBwL2pzL2FwcC5qcyIsImFwcC9qcy9jb25maWcuanMiLCJub2RlX21vZHVsZXMvZmlyZWJhc2UvYXBwLmpzIiwibm9kZV9tb2R1bGVzL2ZpcmViYXNlL2F1dGguanMiLCJub2RlX21vZHVsZXMvZmlyZWJhc2UvZGF0YWJhc2UuanMiLCJub2RlX21vZHVsZXMvZmlyZWJhc2UvZmlyZWJhc2UtYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9maXJlYmFzZS9zdG9yYWdlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztBQ0dBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7OztBQU5BOzs7QUFRTyxJQUFJLHNCQUFPLGdCQUFNLFdBQU4sQ0FBa0I7QUFBQTs7QUFDaEMscUJBQWlCLDJCQUFZO0FBQ3pCLGVBQU87QUFDSCx1QkFBVyxJQURSO0FBRUgsbUJBQU87QUFGSixTQUFQO0FBSUgsS0FOK0I7QUFPaEMsdUJBQW1CLDZCQUFZO0FBQUE7O0FBQzNCLDJCQUFTLGFBQVQsQ0FBdUIsZUFBTyxRQUE5Qjs7QUFFQSwyQkFBUyxRQUFULEdBQW9CLEdBQXBCLENBQXdCLFFBQXhCLEVBQWtDLEVBQWxDLENBQXFDLE9BQXJDLEVBQThDLFVBQUMsSUFBRCxFQUFVO0FBQ3BELGdCQUFJLFNBQVMsS0FBSyxHQUFMLEVBQWI7QUFDQSxnQkFBSSxRQUFRLEVBQVo7QUFDQSxpQkFBSyxJQUFJLEdBQVQsSUFBZ0IsTUFBaEIsRUFBd0I7QUFDcEIsb0JBQUksT0FBTyxPQUFPLEdBQVAsQ0FBWDtBQUNBLHFCQUFLLEdBQUwsR0FBVyxHQUFYO0FBQ0Esc0JBQU0sSUFBTixDQUFXLElBQVg7QUFDSDs7QUFFRCxrQkFBSyxRQUFMLENBQWMsRUFBQyxPQUFPLEtBQVIsRUFBZSxXQUFXLEtBQTFCLEVBQWQ7QUFDSCxTQVZEO0FBV0gsS0FyQitCO0FBc0JoQywyQkFBdUIsK0JBQVUsQ0FBVixFQUFhO0FBQ2hDLFlBQUksRUFBRSxHQUFGLEtBQVUsT0FBZCxFQUF1QjtBQUNuQixpQkFBSyxrQkFBTDtBQUNIO0FBQ0osS0ExQitCO0FBMkJoQyx3QkFBb0IsOEJBQVk7QUFDNUIsMkJBQVMsUUFBVCxHQUFvQixHQUFwQixDQUF3QixRQUF4QixFQUFrQyxJQUFsQyxDQUF1QztBQUNuQyxtQkFBTyxTQUFTLGNBQVQsQ0FBd0IsU0FBeEIsRUFBbUMsS0FEUDtBQUVuQyxtQkFBTztBQUY0QixTQUF2QztBQUlBLGlCQUFTLGNBQVQsQ0FBd0IsU0FBeEIsRUFBbUMsS0FBbkMsR0FBMkMsRUFBM0M7QUFDSCxLQWpDK0I7QUFrQ2hDLFlBQVEsZ0JBQVUsSUFBVixFQUFnQjtBQUNwQixhQUFLLEtBQUw7QUFDQSwyQkFBUyxRQUFULEdBQW9CLEdBQXBCLGFBQWtDLEtBQUssR0FBdkMsRUFBOEMsR0FBOUMsQ0FBa0QsRUFBQyxPQUFPLEtBQUssS0FBYixFQUFvQixPQUFPLEtBQUssS0FBaEMsRUFBbEQ7QUFDSCxLQXJDK0I7QUFzQ2hDLGNBQVUsa0JBQVUsSUFBVixFQUFnQjtBQUN0QixhQUFLLEtBQUw7QUFDQSwyQkFBUyxRQUFULEdBQW9CLEdBQXBCLGFBQWtDLEtBQUssR0FBdkMsRUFBOEMsR0FBOUMsQ0FBa0QsRUFBQyxPQUFPLEtBQUssS0FBYixFQUFvQixPQUFPLEtBQUssS0FBaEMsRUFBbEQ7QUFFSCxLQTFDK0I7QUEyQ2hDLFlBQVEsa0JBQVk7QUFBQTs7QUFDaEI7QUFDQSxZQUFJLFFBQVEsS0FBSyxLQUFMLENBQVcsS0FBdkI7QUFDQSxnQkFBUSxNQUFNLElBQU4sQ0FBVyxVQUFDLENBQUQsRUFBSSxDQUFKLEVBQVU7QUFDekIsbUJBQU8sRUFBRSxLQUFGLEdBQVUsRUFBRSxLQUFaLEdBQW9CLENBQXBCLEdBQXlCLEVBQUUsS0FBRixHQUFVLEVBQUUsS0FBWixHQUFvQixDQUFDLENBQXJCLEdBQXlCLENBQXpEO0FBQ0gsU0FGTyxDQUFSOztBQUlBLFlBQUksU0FBUyxNQUFNLEdBQU4sQ0FBVSxVQUFDLElBQUQsRUFBTyxLQUFQLEVBQWlCO0FBQ3BDLG1CQUNJO0FBQ0ksdUJBQU8sS0FBSyxLQURoQjtBQUVJLHVCQUFPLEtBQUssS0FGaEI7QUFHSSxxQkFBSyxLQUhUO0FBSUksMEJBQVUsT0FBSyxNQUFMLENBQVksSUFBWixTQUF1QixJQUF2QixDQUpkO0FBS0ksNEJBQVksT0FBSyxRQUFMLENBQWMsSUFBZCxTQUF5QixJQUF6QjtBQUxoQixjQURKO0FBU0gsU0FWWSxDQUFiOztBQVlBLGVBQ0k7QUFBQTtBQUFBLGNBQUssV0FBVSwyQkFBZjtBQUNJO0FBQUE7QUFBQTtBQUFBO0FBQUEsYUFESjtBQUVJO0FBQUE7QUFBQTtBQUFBO0FBQUEsYUFGSjtBQUdJO0FBQUE7QUFBQSxrQkFBSyxXQUFVLEtBQWY7QUFDSTtBQUFBO0FBQUEsc0JBQUssV0FBVSxlQUFmO0FBQ0k7QUFBQTtBQUFBLDBCQUFLLFdBQVUsS0FBZjtBQUNJO0FBQUE7QUFBQSw4QkFBSyxXQUFVLFlBQWY7QUFDSTtBQUFBO0FBQUEsa0NBQUssV0FBVSxXQUFmO0FBQ0k7QUFDSSwwQ0FBSyxNQURUO0FBRUksK0NBQVUsY0FGZDtBQUdJLHdDQUFHLFNBSFA7QUFJSSxpREFBWSx5QkFKaEI7QUFLSSxnREFBWSxLQUFLO0FBTHJCO0FBREosNkJBREo7QUFVSTtBQUFBO0FBQUEsa0NBQVEsSUFBRyxLQUFYLEVBQWlCLFdBQVUsdUJBQTNCLEVBQW1ELFNBQVMsS0FBSyxrQkFBakU7QUFDSSx3RUFBTSxXQUFVLDBCQUFoQjtBQURKO0FBVko7QUFESixxQkFESjtBQWlCSTtBQUFBO0FBQUEsMEJBQUssV0FBVSxLQUFmO0FBQ0k7QUFBQTtBQUFBLDhCQUFPLFdBQVUsT0FBakI7QUFDSTtBQUFBO0FBQUE7QUFDQyxxQ0FBSyxLQUFMLENBQVcsU0FBWCxHQUF1QjtBQUFBO0FBQUE7QUFDcEI7QUFBQTtBQUFBLDBDQUFJLFNBQVEsR0FBWixFQUFnQixXQUFVLGFBQTFCO0FBQ0k7QUFBQTtBQUFBLDhDQUFLLE9BQU0sTUFBWCxFQUFrQixRQUFPLE1BQXpCLEVBQWdDLE9BQU0sNEJBQXRDO0FBQ0sseURBQVEsYUFEYixFQUMyQixxQkFBb0IsVUFEL0M7QUFFSywyREFBVSxhQUZmO0FBR0ksb0ZBQU0sR0FBRSxHQUFSLEVBQVksR0FBRSxHQUFkLEVBQWtCLE9BQU0sS0FBeEIsRUFBOEIsUUFBTyxLQUFyQyxFQUEyQyxNQUFLLE1BQWhEO0FBQ00sMkRBQVUsSUFEaEIsR0FISjtBQUtJO0FBQUE7QUFBQSxrREFBTSxHQUFFLE1BQVIsRUFBZSxHQUFFLElBQWpCLEVBQXNCLE9BQU0sR0FBNUIsRUFBZ0MsUUFBTyxJQUF2QyxFQUE0QyxJQUFHLEdBQS9DLEVBQW1ELElBQUcsR0FBdEQsRUFBMEQsTUFBSyxTQUEvRDtBQUNNLCtEQUFVLGtDQURoQjtBQUVJLDJGQUFTLGVBQWMsU0FBdkIsRUFBaUMsTUFBSyxHQUF0QyxFQUEwQyxJQUFHLEdBQTdDLEVBQWlELEtBQUksSUFBckQsRUFBMEQsT0FBTSxJQUFoRTtBQUNTLGlFQUFZLFlBRHJCO0FBRkosNkNBTEo7QUFVSTtBQUFBO0FBQUEsa0RBQU0sR0FBRSxNQUFSLEVBQWUsR0FBRSxJQUFqQixFQUFzQixPQUFNLEdBQTVCLEVBQWdDLFFBQU8sSUFBdkMsRUFBNEMsSUFBRyxHQUEvQyxFQUFtRCxJQUFHLEdBQXRELEVBQTBELE1BQUssU0FBL0Q7QUFDTSwrREFBVSxtQ0FEaEI7QUFFSSwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJEO0FBQ1MsMkRBQU0sc0JBRGYsRUFDc0MsYUFBWSxZQURsRDtBQUZKLDZDQVZKO0FBZUk7QUFBQTtBQUFBLGtEQUFNLEdBQUUsTUFBUixFQUFlLEdBQUUsSUFBakIsRUFBc0IsT0FBTSxHQUE1QixFQUFnQyxRQUFPLElBQXZDLEVBQTRDLElBQUcsR0FBL0MsRUFBbUQsSUFBRyxHQUF0RCxFQUEwRCxNQUFLLFNBQS9EO0FBQ00sK0RBQVUsbUNBRGhCO0FBRUksMkZBQVMsZUFBYyxTQUF2QixFQUFpQyxNQUFLLEdBQXRDLEVBQTBDLElBQUcsR0FBN0MsRUFBaUQsS0FBSSxJQUFyRDtBQUNTLDJEQUFNLHNCQURmLEVBQ3NDLGFBQVksWUFEbEQ7QUFGSiw2Q0FmSjtBQW9CSTtBQUFBO0FBQUEsa0RBQU0sR0FBRSxNQUFSLEVBQWUsR0FBRSxJQUFqQixFQUFzQixPQUFNLEdBQTVCLEVBQWdDLFFBQU8sSUFBdkMsRUFBNEMsSUFBRyxHQUEvQyxFQUFtRCxJQUFHLEdBQXRELEVBQTBELE1BQUssU0FBL0Q7QUFDTSwrREFBVSxtQ0FEaEI7QUFFSSwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJELEVBQTBELE9BQU0sT0FBaEU7QUFDUyxpRUFBWSxZQURyQjtBQUZKLDZDQXBCSjtBQXlCSTtBQUFBO0FBQUEsa0RBQU0sR0FBRSxNQUFSLEVBQWUsR0FBRSxJQUFqQixFQUFzQixPQUFNLEdBQTVCLEVBQWdDLFFBQU8sSUFBdkMsRUFBNEMsSUFBRyxHQUEvQyxFQUFtRCxJQUFHLEdBQXRELEVBQTBELE1BQUssU0FBL0Q7QUFDTSwrREFBVSxvQ0FEaEI7QUFFSSwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJEO0FBQ1MsMkRBQU0scUJBRGYsRUFDcUMsYUFBWSxZQURqRDtBQUZKLDZDQXpCSjtBQThCSTtBQUFBO0FBQUEsa0RBQU0sR0FBRSxNQUFSLEVBQWUsR0FBRSxJQUFqQixFQUFzQixPQUFNLEdBQTVCLEVBQWdDLFFBQU8sSUFBdkMsRUFBNEMsSUFBRyxHQUEvQyxFQUFtRCxJQUFHLEdBQXRELEVBQTBELE1BQUssU0FBL0Q7QUFDTSwrREFBVSxvQ0FEaEI7QUFFSSwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJEO0FBQ1MsMkRBQU0scUJBRGYsRUFDcUMsYUFBWSxZQURqRDtBQUZKLDZDQTlCSjtBQW1DSTtBQUFBO0FBQUEsa0RBQU0sR0FBRSxNQUFSLEVBQWUsR0FBRSxJQUFqQixFQUFzQixPQUFNLEdBQTVCLEVBQWdDLFFBQU8sSUFBdkMsRUFBNEMsSUFBRyxHQUEvQyxFQUFtRCxJQUFHLEdBQXRELEVBQTBELE1BQUssU0FBL0Q7QUFDTSwrREFBVSxvQ0FEaEI7QUFFSSwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJELEVBQTBELE9BQU0sTUFBaEU7QUFDUyxpRUFBWSxZQURyQjtBQUZKLDZDQW5DSjtBQXdDSTtBQUFBO0FBQUEsa0RBQU0sR0FBRSxNQUFSLEVBQWUsR0FBRSxJQUFqQixFQUFzQixPQUFNLEdBQTVCLEVBQWdDLFFBQU8sSUFBdkMsRUFBNEMsSUFBRyxHQUEvQyxFQUFtRCxJQUFHLEdBQXRELEVBQTBELE1BQUssU0FBL0Q7QUFDTSwrREFBVSxvQ0FEaEI7QUFFSSwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJEO0FBQ1MsMkRBQU0scUJBRGYsRUFDcUMsYUFBWSxZQURqRDtBQUZKLDZDQXhDSjtBQTZDSTtBQUFBO0FBQUEsa0RBQU0sR0FBRSxNQUFSLEVBQWUsR0FBRSxJQUFqQixFQUFzQixPQUFNLEdBQTVCLEVBQWdDLFFBQU8sSUFBdkMsRUFBNEMsSUFBRyxHQUEvQyxFQUFtRCxJQUFHLEdBQXRELEVBQTBELE1BQUssU0FBL0Q7QUFDTSwrREFBVSxvQ0FEaEI7QUFFSSwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJEO0FBQ1MsMkRBQU0scUJBRGYsRUFDcUMsYUFBWSxZQURqRDtBQUZKLDZDQTdDSjtBQWtESTtBQUFBO0FBQUEsa0RBQU0sR0FBRSxNQUFSLEVBQWUsR0FBRSxJQUFqQixFQUFzQixPQUFNLEdBQTVCLEVBQWdDLFFBQU8sSUFBdkMsRUFBNEMsSUFBRyxHQUEvQyxFQUFtRCxJQUFHLEdBQXRELEVBQTBELE1BQUssU0FBL0Q7QUFDTSwrREFBVSxvQ0FEaEI7QUFFSSwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJELEVBQTBELE9BQU0sT0FBaEU7QUFDUyxpRUFBWSxZQURyQjtBQUZKLDZDQWxESjtBQXVESTtBQUFBO0FBQUEsa0RBQU0sR0FBRSxNQUFSLEVBQWUsR0FBRSxJQUFqQixFQUFzQixPQUFNLEdBQTVCLEVBQWdDLFFBQU8sSUFBdkMsRUFBNEMsSUFBRyxHQUEvQyxFQUFtRCxJQUFHLEdBQXRELEVBQTBELE1BQUssU0FBL0Q7QUFDTSwrREFBVSxvQ0FEaEI7QUFFSSwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJEO0FBQ1MsMkRBQU0scUJBRGYsRUFDcUMsYUFBWSxZQURqRDtBQUZKLDZDQXZESjtBQTRESTtBQUFBO0FBQUEsa0RBQU0sR0FBRSxNQUFSLEVBQWUsR0FBRSxJQUFqQixFQUFzQixPQUFNLEdBQTVCLEVBQWdDLFFBQU8sSUFBdkMsRUFBNEMsSUFBRyxHQUEvQyxFQUFtRCxJQUFHLEdBQXRELEVBQTBELE1BQUssU0FBL0Q7QUFDTSwrREFBVSxvQ0FEaEI7QUFFSSwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJEO0FBQ1MsMkRBQU0scUJBRGYsRUFDcUMsYUFBWSxZQURqRDtBQUZKO0FBNURKO0FBREo7QUFEb0IsaUNBQXZCLEdBcUVPO0FBQUE7QUFBQTtBQUNKLDBFQUFJLFNBQVEsR0FBWjtBQURJLGlDQXRFUjtBQXlFQztBQXpFRDtBQURKO0FBREo7QUFqQko7QUFESjtBQUhKLFNBREo7QUF5R0g7QUF2SytCLENBQWxCLENBQVg7Ozs7Ozs7Ozs7QUNSUDs7Ozs7O0FBRU8sSUFBSSw4QkFBVyxnQkFBTSxXQUFOLENBQWtCO0FBQUE7O0FBQ3BDLHFCQUFpQiwyQkFBWTtBQUN6QixlQUFPLEVBQUMsT0FBTyxFQUFSLEVBQVksT0FBTyxDQUFuQixFQUFQO0FBQ0gsS0FIbUM7QUFJcEMsWUFBUSxrQkFBWTtBQUNoQixlQUNJO0FBQUE7QUFBQSxjQUFJLFdBQVUsVUFBZDtBQUNJO0FBQUE7QUFBQSxrQkFBSSxXQUFVLFVBQWQ7QUFDSyxxQkFBSyxLQUFMLENBQVc7QUFEaEIsYUFESjtBQUlJO0FBQUE7QUFBQSxrQkFBSSxXQUFXLGVBQWEsS0FBSyxLQUFMLENBQVcsS0FBWCxHQUFpQixDQUFqQixHQUFtQixZQUFuQixHQUFnQyxLQUFLLEtBQUwsQ0FBVyxLQUFYLElBQWtCLENBQWxCLEdBQW9CLFdBQXBCLEdBQWdDLFVBQTdFLENBQWY7QUFDSyxxQkFBSyxLQUFMLENBQVc7QUFEaEIsYUFKSjtBQU9JO0FBQUE7QUFBQSxrQkFBSSxXQUFVLFVBQWQ7QUFDSTtBQUFBO0FBQUEsc0JBQUssV0FBVSxzQkFBZixFQUFzQyxNQUFLLE9BQTNDLEVBQW1ELGNBQVcsS0FBOUQ7QUFDSTtBQUFBO0FBQUEsMEJBQVEsTUFBSyxHQUFiLEVBQWlCLFdBQVUsaUJBQTNCLEVBQTZDLFNBQVMsS0FBSyxLQUFMLENBQVcsUUFBakU7QUFDSSxnRUFBTSxXQUFVLDhCQUFoQjtBQURKLHFCQURKO0FBSUk7QUFBQTtBQUFBLDBCQUFRLE1BQUssR0FBYixFQUFpQixXQUFVLGdCQUEzQixFQUE0QyxTQUFTLEtBQUssS0FBTCxDQUFXLFVBQWhFO0FBQ0ksZ0VBQU0sV0FBVSxnQ0FBaEI7QUFESjtBQUpKO0FBREo7QUFQSixTQURKO0FBb0JIO0FBekJtQyxDQUFsQixDQUFmOzs7OztBQ0NQOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBLElBQUksZ0JBQWdCLG1CQUFTLE1BQVQsQ0FDaEIsK0NBRGdCLEVBRWhCLFNBQVMsY0FBVCxDQUF3QixLQUF4QixDQUZnQixDQUFwQixDLENBUEE7Ozs7Ozs7Ozs7QUNBQTs7O0FBR08sSUFBSSwwQkFBUztBQUNoQixjQUFVO0FBQ04sZ0JBQVEsVUFERjtBQUVOLG9CQUFZLGFBRk47QUFHTixxQkFBYSxhQUhQO0FBSU4sdUJBQWUsUUFKVDtBQUtOLDJCQUFtQjtBQUxiO0FBRE0sQ0FBYjs7OztBQ0hQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKipcbiAqIENyZWF0ZWQgYnkgeW91c3NlZiBvbiAxMC8xMi8xNi5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7XG5pbXBvcnQge05ld3NJdGVtfSBmcm9tICcuL05ld3NJdGVtLmpzeCc7XG5pbXBvcnQge2NvbmZpZ30gZnJvbSAnLi9jb25maWcnO1xuXG5leHBvcnQgdmFyIE5ld3MgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICAgICAgICBpdGVtczogW11cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnLmZpcmViYXNlKTtcblxuICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignaXRlbXNzJykub24oJ3ZhbHVlJywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHZhciBvSXRlbXMgPSBkYXRhLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb0l0ZW1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBvSXRlbXNba2V5XTtcbiAgICAgICAgICAgICAgICBpdGVtLmtleSA9IGtleTtcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpdGVtczogaXRlbXMsIGlzTG9hZGluZzogZmFsc2V9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBoYW5kbGVOZXdJdGVtS2V5UHJlc3M6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVOZXdJdGVtQ2xpY2soKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlTmV3SXRlbUNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdpdGVtc3MnKS5wdXNoKHtcbiAgICAgICAgICAgIHRpdGxlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3SXRlbScpLnZhbHVlLFxuICAgICAgICAgICAgdm90ZXM6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdJdGVtJykudmFsdWUgPSBcIlwiO1xuICAgIH0sXG4gICAgdm90ZVVwOiBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpdGVtLnZvdGVzKys7XG4gICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKGBpdGVtc3MvJHtpdGVtLmtleX1gKS5zZXQoe3RpdGxlOiBpdGVtLnRpdGxlLCB2b3RlczogaXRlbS52b3Rlc30pO1xuICAgIH0sXG4gICAgdm90ZURvd246IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGl0ZW0udm90ZXMtLTtcbiAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoYGl0ZW1zcy8ke2l0ZW0ua2V5fWApLnNldCh7dGl0bGU6IGl0ZW0udGl0bGUsIHZvdGVzOiBpdGVtLnZvdGVzfSk7XG5cbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAvL3NvcnQgaXRlbXMgYnkgdm90ZXNcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5zdGF0ZS5pdGVtcztcbiAgICAgICAgaXRlbXMgPSBpdGVtcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYS52b3RlcyA8IGIudm90ZXMgPyAxIDogKGEudm90ZXMgPiBiLnZvdGVzID8gLTEgOiAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNJdGVtcyA9IGl0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPE5ld3NJdGVtXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtpdGVtLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICB2b3Rlcz17aXRlbS52b3Rlc31cbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgb25Wb3RlVXA9e3RoaXMudm90ZVVwLmJpbmQodGhpcywgaXRlbSl9XG4gICAgICAgICAgICAgICAgICAgIG9uVm90ZURvd249e3RoaXMudm90ZURvd24uYmluZCh0aGlzLCBpdGVtKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEwIGNvbC1tZC1vZmZzZXQtMVwiPlxuICAgICAgICAgICAgICAgIDxoMT5OZXdzIFZvdGluZzwvaDE+XG4gICAgICAgICAgICAgICAgPGgyPih3aXRoIFJlYWN0IGFuZCBGaXJlYmFzZSk8L2gyPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGJveFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJveC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwibmV3SXRlbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJXaGF0IGRvIHlvdSBuZWVkIHRvIGRvP1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlQcmVzcz17dGhpcy5oYW5kbGVOZXdJdGVtS2V5UHJlc3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImJ0blwiIGNsYXNzTmFtZT1cImJ0biBidG4taW5mbyBjb2wtbWQtMVwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlTmV3SXRlbUNsaWNrfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tcGx1c1wiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNMb2FkaW5nID8gPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbFNwYW49XCIzXCIgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPSc0MHB4JyBoZWlnaHQ9JzQwcHgnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxMDAgMTAwXCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpbC1kZWZhdWx0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmtcIj48L3JlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYjg0OTRiJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMHMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3JlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYjg0OTRiJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgzMCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luPScwLjA4MzMzMzMzMzMzMzMzMzMzcycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9yZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2I4NDk0YidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtPSdyb3RhdGUoNjAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWdpbj0nMC4xNjY2NjY2NjY2NjY2NjY2NnMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcmVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNiODQ5NGInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT0ncm90YXRlKDkwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC4yNXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3JlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYjg0OTRiJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgxMjAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWdpbj0nMC4zMzMzMzMzMzMzMzMzMzMzcycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9yZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2I4NDk0YidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtPSdyb3RhdGUoMTUwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW49JzAuNDE2NjY2NjY2NjY2NjY2N3MnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcmVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNiODQ5NGInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT0ncm90YXRlKDE4MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuNXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3JlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYjg0OTRiJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgyMTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWdpbj0nMC41ODMzMzMzMzMzMzMzMzM0cycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9yZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2I4NDk0YidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtPSdyb3RhdGUoMjQwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW49JzAuNjY2NjY2NjY2NjY2NjY2NnMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcmVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNiODQ5NGInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT0ncm90YXRlKDI3MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuNzVzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9yZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2I4NDk0YidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtPSdyb3RhdGUoMzAwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW49JzAuODMzMzMzMzMzMzMzMzMzNHMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcmVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNiODQ5NGInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT0ncm90YXRlKDMzMCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luPScwLjkxNjY2NjY2NjY2NjY2NjZzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3JlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPiA6IDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xTcGFuPVwiM1wiPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y0l0ZW1zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgdmFyIE5ld3NJdGVtID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge3RpdGxlOiAnJywgdm90ZXM6IDB9O1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwibWFyZ2luLTVcIj5cbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiY29sLW1kLTlcIj5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPXsnY29sLW1kLTEgJysodGhpcy5wcm9wcy52b3Rlcz4wPyd0ZXh0LWdyZWVuJzp0aGlzLnByb3BzLnZvdGVzPT0wPyd0ZXh0LWdyYXknOid0ZXh0LXJlZCcpfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMudm90ZXN9XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiY29sLW1kLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgcHVsbC1yaWdodFwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCIuLi5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3NcIiBvbkNsaWNrPXt0aGlzLnByb3BzLm9uVm90ZVVwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LXVwXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kYW5nZXJcIiBvbkNsaWNrPXt0aGlzLnByb3BzLm9uVm90ZURvd259PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctZG93blwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgKTtcbiAgICB9XG59KTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgeW91c3NlZiBvbiAxMC8xMC8xNi5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHtOZXdzfSBmcm9tICcuL05ld3MuanN4JztcblxudmFyIG5ld3NDb21wb25lbnQgPSBSZWFjdERPTS5yZW5kZXIoXG4gICAgPE5ld3MgLz4sXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpXG4pO1xuXG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgeW91c3NlZiBvbiAxMC8xMy8xNi5cbiAqL1xuZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgZmlyZWJhc2U6IHtcbiAgICAgICAgYXBpS2V5OiBcIllPVVJfS0VZXCIsXG4gICAgICAgIGF1dGhEb21haW46IFwiWU9VUl9ET01BSU5cIixcbiAgICAgICAgZGF0YWJhc2VVUkw6IFwiWU9VUl9EQl9VUkxcIixcbiAgICAgICAgc3RvcmFnZUJ1Y2tldDogXCJCVUNLRVRcIixcbiAgICAgICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiU0VOREVSX0lEXCJcbiAgICB9XG59OyIsIi8qISBAbGljZW5zZSBGaXJlYmFzZSB2My40LjFcbiAgICBCdWlsZDogMy40LjEtcmMuMlxuICAgIFRlcm1zOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS90ZXJtcyAqL1xudmFyIGZpcmViYXNlID0gbnVsbDsgKGZ1bmN0aW9uKCkgeyB2YXIgYWE9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXM/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGEsYixjKXtpZihjLmdldHx8Yy5zZXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkVTMyBkb2VzIG5vdCBzdXBwb3J0IGdldHRlcnMgYW5kIHNldHRlcnMuXCIpO2EhPUFycmF5LnByb3RvdHlwZSYmYSE9T2JqZWN0LnByb3RvdHlwZSYmKGFbYl09Yy52YWx1ZSl9LGg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93PT09dGhpcz90aGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJm51bGwhPWdsb2JhbD9nbG9iYWw6dGhpcyxsPWZ1bmN0aW9uKCl7bD1mdW5jdGlvbigpe307aC5TeW1ib2x8fChoLlN5bWJvbD1iYSl9LGNhPTAsYmE9ZnVuY3Rpb24oYSl7cmV0dXJuXCJqc2NvbXBfc3ltYm9sX1wiKyhhfHxcIlwiKStjYSsrfSxuPWZ1bmN0aW9uKCl7bCgpO3ZhciBhPWguU3ltYm9sLml0ZXJhdG9yO2F8fChhPWguU3ltYm9sLml0ZXJhdG9yPVxuaC5TeW1ib2woXCJpdGVyYXRvclwiKSk7XCJmdW5jdGlvblwiIT10eXBlb2YgQXJyYXkucHJvdG90eXBlW2FdJiZhYShBcnJheS5wcm90b3R5cGUsYSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG0odGhpcyl9fSk7bj1mdW5jdGlvbigpe319LG09ZnVuY3Rpb24oYSl7dmFyIGI9MDtyZXR1cm4gZGEoZnVuY3Rpb24oKXtyZXR1cm4gYjxhLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTphW2IrK119Ontkb25lOiEwfX0pfSxkYT1mdW5jdGlvbihhKXtuKCk7YT17bmV4dDphfTthW2guU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtyZXR1cm4gYX0scT10aGlzLHI9ZnVuY3Rpb24oKXt9LHQ9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO1xuaWYoXCJbb2JqZWN0IFdpbmRvd11cIj09YylyZXR1cm5cIm9iamVjdFwiO2lmKFwiW29iamVjdCBBcnJheV1cIj09Y3x8XCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RoJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zcGxpY2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInNwbGljZVwiKSlyZXR1cm5cImFycmF5XCI7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1jfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jYWxsJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9LHY9ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10KGEpfSxlYT1mdW5jdGlvbihhLFxuYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfSxmYT1mdW5jdGlvbihhLGIsYyl7aWYoIWEpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGMsZCk7cmV0dXJuIGEuYXBwbHkoYixjKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX0sdz1mdW5jdGlvbihhLGIsYyl7dz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2VhOmZhO3JldHVybiB3LmFwcGx5KG51bGwsYXJndW1lbnRzKX0seD1mdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyxcbjEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWMuc2xpY2UoKTtiLnB1c2guYXBwbHkoYixhcmd1bWVudHMpO3JldHVybiBhLmFwcGx5KHRoaXMsYil9fSx5PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLmdhPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5mYT1mdW5jdGlvbihhLGMsZil7Zm9yKHZhciBkPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksZT0yO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspZFtlLTJdPWFyZ3VtZW50c1tlXTtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxkKX19O3ZhciB6O3o9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygc2VsZj9zZWxmOmdsb2JhbDtmdW5jdGlvbiBfX2V4dGVuZHMoYSxiKXtmdW5jdGlvbiBjKCl7dGhpcy5jb25zdHJ1Y3Rvcj1hfWZvcih2YXIgZCBpbiBiKWIuaGFzT3duUHJvcGVydHkoZCkmJihhW2RdPWJbZF0pO2EucHJvdG90eXBlPW51bGw9PT1iP09iamVjdC5jcmVhdGUoYik6KGMucHJvdG90eXBlPWIucHJvdG90eXBlLG5ldyBjKX1cbmZ1bmN0aW9uIF9fZGVjb3JhdGUoYSxiLGMsZCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCxmPTM+ZT9iOm51bGw9PT1kP2Q9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpOmQsZztnPXouUmVmbGVjdDtpZihcIm9iamVjdFwiPT09dHlwZW9mIGcmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmRlY29yYXRlKWY9Zy5kZWNvcmF0ZShhLGIsYyxkKTtlbHNlIGZvcih2YXIgaz1hLmxlbmd0aC0xOzA8PWs7ay0tKWlmKGc9YVtrXSlmPSgzPmU/ZyhmKTozPGU/ZyhiLGMsZik6ZyhiLGMpKXx8ZjtyZXR1cm4gMzxlJiZmJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYixjLGYpLGZ9ZnVuY3Rpb24gX19tZXRhZGF0YShhLGIpe3ZhciBjPXouUmVmbGVjdDtpZihcIm9iamVjdFwiPT09dHlwZW9mIGMmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBjLm1ldGFkYXRhKXJldHVybiBjLm1ldGFkYXRhKGEsYil9XG52YXIgX19wYXJhbT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjLGQpe2IoYyxkLGEpfX0sX19hd2FpdGVyPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBuZXcgKGN8fChjPVByb21pc2UpKShmdW5jdGlvbihlLGYpe2Z1bmN0aW9uIGcoYSl7dHJ5e3AoZC5uZXh0KGEpKX1jYXRjaCh1KXtmKHUpfX1mdW5jdGlvbiBrKGEpe3RyeXtwKGQudGhyb3coYSkpfWNhdGNoKHUpe2YodSl9fWZ1bmN0aW9uIHAoYSl7YS5kb25lP2UoYS52YWx1ZSk6KG5ldyBjKGZ1bmN0aW9uKGIpe2IoYS52YWx1ZSl9KSkudGhlbihnLGspfXAoKGQ9ZC5hcHBseShhLGIpKS5uZXh0KCkpfSl9O1widW5kZWZpbmVkXCIhPT10eXBlb2Ygei5MJiZ6Lkx8fCh6LmNhPV9fZXh0ZW5kcyx6LmJhPV9fZGVjb3JhdGUsei5kYT1fX21ldGFkYXRhLHouZWE9X19wYXJhbSx6LmFhPV9fYXdhaXRlcik7dmFyIEE9ZnVuY3Rpb24oYSl7aWYoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxBKTtlbHNle3ZhciBiPUVycm9yKCkuc3RhY2s7YiYmKHRoaXMuc3RhY2s9Yil9YSYmKHRoaXMubWVzc2FnZT1TdHJpbmcoYSkpfTt5KEEsRXJyb3IpO0EucHJvdG90eXBlLm5hbWU9XCJDdXN0b21FcnJvclwiO3ZhciBnYT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLnNwbGl0KFwiJXNcIiksZD1cIlwiLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2UubGVuZ3RoJiYxPGMubGVuZ3RoOylkKz1jLnNoaWZ0KCkrZS5zaGlmdCgpO3JldHVybiBkK2Muam9pbihcIiVzXCIpfTt2YXIgQj1mdW5jdGlvbihhLGIpe2IudW5zaGlmdChhKTtBLmNhbGwodGhpcyxnYS5hcHBseShudWxsLGIpKTtiLnNoaWZ0KCl9O3koQixBKTtCLnByb3RvdHlwZS5uYW1lPVwiQXNzZXJ0aW9uRXJyb3JcIjt2YXIgaGE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9XCJBc3NlcnRpb24gZmFpbGVkXCI7aWYoYyl2YXIgZT1lKyhcIjogXCIrYyksZj1kO2Vsc2UgYSYmKGUrPVwiOiBcIithLGY9Yik7dGhyb3cgbmV3IEIoXCJcIitlLGZ8fFtdKTt9LEM9ZnVuY3Rpb24oYSxiLGMpe2F8fGhhKFwiXCIsbnVsbCxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9LEQ9ZnVuY3Rpb24oYSxiLGMpe3YoYSl8fGhhKFwiRXhwZWN0ZWQgZnVuY3Rpb24gYnV0IGdvdCAlczogJXMuXCIsW3QoYSksYV0sYixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfTt2YXIgRT1mdW5jdGlvbihhLGIsYyl7dGhpcy5TPWM7dGhpcy5NPWE7dGhpcy5VPWI7dGhpcy5zPTA7dGhpcy5vPW51bGx9O0UucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciBhOzA8dGhpcy5zPyh0aGlzLnMtLSxhPXRoaXMubyx0aGlzLm89YS5uZXh0LGEubmV4dD1udWxsKTphPXRoaXMuTSgpO3JldHVybiBhfTtFLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oYSl7dGhpcy5VKGEpO3RoaXMuczx0aGlzLlMmJih0aGlzLnMrKyxhLm5leHQ9dGhpcy5vLHRoaXMubz1hKX07dmFyIEY7YTp7dmFyIGlhPXEubmF2aWdhdG9yO2lmKGlhKXt2YXIgamE9aWEudXNlckFnZW50O2lmKGphKXtGPWphO2JyZWFrIGF9fUY9XCJcIn07dmFyIGthPWZ1bmN0aW9uKGEpe3Euc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGE7fSwwKX0sRyxsYT1mdW5jdGlvbigpe3ZhciBhPXEuTWVzc2FnZUNoYW5uZWw7XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmd2luZG93LnBvc3RNZXNzYWdlJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmLTE9PUYuaW5kZXhPZihcIlByZXN0b1wiKSYmKGE9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSUZSQU1FXCIpO2Euc3R5bGUuZGlzcGxheT1cIm5vbmVcIjthLnNyYz1cIlwiO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChhKTt2YXIgYj1hLmNvbnRlbnRXaW5kb3csYT1iLmRvY3VtZW50O2Eub3BlbigpO2Eud3JpdGUoXCJcIik7YS5jbG9zZSgpO3ZhciBjPVwiY2FsbEltbWVkaWF0ZVwiK01hdGgucmFuZG9tKCksZD1cImZpbGU6XCI9PWIubG9jYXRpb24ucHJvdG9jb2w/XCIqXCI6Yi5sb2NhdGlvbi5wcm90b2NvbCtcblwiLy9cIitiLmxvY2F0aW9uLmhvc3QsYT13KGZ1bmN0aW9uKGEpe2lmKChcIipcIj09ZHx8YS5vcmlnaW49PWQpJiZhLmRhdGE9PWMpdGhpcy5wb3J0MS5vbm1lc3NhZ2UoKX0sdGhpcyk7Yi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGEsITEpO3RoaXMucG9ydDE9e307dGhpcy5wb3J0Mj17cG9zdE1lc3NhZ2U6ZnVuY3Rpb24oKXtiLnBvc3RNZXNzYWdlKGMsZCl9fX0pO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgYSYmLTE9PUYuaW5kZXhPZihcIlRyaWRlbnRcIikmJi0xPT1GLmluZGV4T2YoXCJNU0lFXCIpKXt2YXIgYj1uZXcgYSxjPXt9LGQ9YztiLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe2lmKHZvaWQgMCE9PWMubmV4dCl7Yz1jLm5leHQ7dmFyIGE9Yy5GO2MuRj1udWxsO2EoKX19O3JldHVybiBmdW5jdGlvbihhKXtkLm5leHQ9e0Y6YX07ZD1kLm5leHQ7Yi5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluXG5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU0NSSVBUXCIpP2Z1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTQ1JJUFRcIik7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO2IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTtiPW51bGw7YSgpO2E9bnVsbH07ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGIpfTpmdW5jdGlvbihhKXtxLnNldFRpbWVvdXQoYSwwKX19O3ZhciBIPWZ1bmN0aW9uKCl7dGhpcy52PXRoaXMuZj1udWxsfSxtYT1uZXcgRShmdW5jdGlvbigpe3JldHVybiBuZXcgSX0sZnVuY3Rpb24oYSl7YS5yZXNldCgpfSwxMDApO0gucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhLGIpe3ZhciBjPW1hLmdldCgpO2Muc2V0KGEsYik7dGhpcy52P3RoaXMudi5uZXh0PWM6KEMoIXRoaXMuZiksdGhpcy5mPWMpO3RoaXMudj1jfTtILnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgYT1udWxsO3RoaXMuZiYmKGE9dGhpcy5mLHRoaXMuZj10aGlzLmYubmV4dCx0aGlzLmZ8fCh0aGlzLnY9bnVsbCksYS5uZXh0PW51bGwpO3JldHVybiBhfTt2YXIgST1mdW5jdGlvbigpe3RoaXMubmV4dD10aGlzLnNjb3BlPXRoaXMuQj1udWxsfTtJLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLkI9YTt0aGlzLnNjb3BlPWI7dGhpcy5uZXh0PW51bGx9O1xuSS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLm5leHQ9dGhpcy5zY29wZT10aGlzLkI9bnVsbH07dmFyIE09ZnVuY3Rpb24oYSxiKXtKfHxuYSgpO0x8fChKKCksTD0hMCk7b2EuYWRkKGEsYil9LEosbmE9ZnVuY3Rpb24oKXt2YXIgYT1xLlByb21pc2U7aWYoLTEhPVN0cmluZyhhKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSl7dmFyIGI9YS5yZXNvbHZlKHZvaWQgMCk7Sj1mdW5jdGlvbigpe2IudGhlbihwYSl9fWVsc2UgSj1mdW5jdGlvbigpe3ZhciBhPXBhOyF2KHEuc2V0SW1tZWRpYXRlKXx8cS5XaW5kb3cmJnEuV2luZG93LnByb3RvdHlwZSYmLTE9PUYuaW5kZXhPZihcIkVkZ2VcIikmJnEuV2luZG93LnByb3RvdHlwZS5zZXRJbW1lZGlhdGU9PXEuc2V0SW1tZWRpYXRlPyhHfHwoRz1sYSgpKSxHKGEpKTpxLnNldEltbWVkaWF0ZShhKX19LEw9ITEsb2E9bmV3IEgscGE9ZnVuY3Rpb24oKXtmb3IodmFyIGE7YT1vYS5yZW1vdmUoKTspe3RyeXthLkIuY2FsbChhLnNjb3BlKX1jYXRjaChiKXtrYShiKX1tYS5wdXQoYSl9TD0hMX07dmFyIE89ZnVuY3Rpb24oYSxiKXt0aGlzLmI9MDt0aGlzLks9dm9pZCAwO3RoaXMuaj10aGlzLmc9dGhpcy51PW51bGw7dGhpcy5tPXRoaXMuQT0hMTtpZihhIT1yKXRyeXt2YXIgYz10aGlzO2EuY2FsbChiLGZ1bmN0aW9uKGEpe04oYywyLGEpfSxmdW5jdGlvbihhKXt0cnl7aWYoYSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGE7dGhyb3cgRXJyb3IoXCJQcm9taXNlIHJlamVjdGVkLlwiKTt9Y2F0Y2goZSl7fU4oYywzLGEpfSl9Y2F0Y2goZCl7Tih0aGlzLDMsZCl9fSxxYT1mdW5jdGlvbigpe3RoaXMubmV4dD10aGlzLmNvbnRleHQ9dGhpcy5oPXRoaXMuYz10aGlzLmNoaWxkPW51bGw7dGhpcy53PSExfTtxYS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQ9dGhpcy5oPXRoaXMuYz10aGlzLmNoaWxkPW51bGw7dGhpcy53PSExfTtcbnZhciByYT1uZXcgRShmdW5jdGlvbigpe3JldHVybiBuZXcgcWF9LGZ1bmN0aW9uKGEpe2EucmVzZXQoKX0sMTAwKSxzYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9cmEuZ2V0KCk7ZC5jPWE7ZC5oPWI7ZC5jb250ZXh0PWM7cmV0dXJuIGR9LHVhPWZ1bmN0aW9uKGEsYixjKXt0YShhLGIsYyxudWxsKXx8TSh4KGIsYSkpfTtPLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGEsYixjKXtudWxsIT1hJiZEKGEsXCJvcHRfb25GdWxmaWxsZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uXCIpO251bGwhPWImJkQoYixcIm9wdF9vblJlamVjdGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiBEaWQgeW91IHBhc3Mgb3B0X2NvbnRleHQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkIG9mIHRoZSB0aGlyZD9cIik7cmV0dXJuIHZhKHRoaXMsdihhKT9hOm51bGwsdihiKT9iOm51bGwsYyl9O08ucHJvdG90eXBlLnRoZW49Ty5wcm90b3R5cGUudGhlbjtPLnByb3RvdHlwZS4kZ29vZ19UaGVuYWJsZT0hMDtcbk8ucHJvdG90eXBlLlg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdmEodGhpcyxudWxsLGEsYil9O3ZhciB4YT1mdW5jdGlvbihhLGIpe2EuZ3x8MiE9YS5iJiYzIT1hLmJ8fHdhKGEpO0MobnVsbCE9Yi5jKTthLmo/YS5qLm5leHQ9YjphLmc9YjthLmo9Yn0sdmE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9c2EobnVsbCxudWxsLG51bGwpO2UuY2hpbGQ9bmV3IE8oZnVuY3Rpb24oYSxnKXtlLmM9Yj9mdW5jdGlvbihjKXt0cnl7dmFyIGU9Yi5jYWxsKGQsYyk7YShlKX1jYXRjaChLKXtnKEspfX06YTtlLmg9Yz9mdW5jdGlvbihiKXt0cnl7dmFyIGU9Yy5jYWxsKGQsYik7YShlKX1jYXRjaChLKXtnKEspfX06Z30pO2UuY2hpbGQudT1hO3hhKGEsZSk7cmV0dXJuIGUuY2hpbGR9O08ucHJvdG90eXBlLlk9ZnVuY3Rpb24oYSl7QygxPT10aGlzLmIpO3RoaXMuYj0wO04odGhpcywyLGEpfTtPLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe0MoMT09dGhpcy5iKTt0aGlzLmI9MDtOKHRoaXMsMyxhKX07XG52YXIgTj1mdW5jdGlvbihhLGIsYyl7MD09YS5iJiYoYT09PWMmJihiPTMsYz1uZXcgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW5ub3QgcmVzb2x2ZSB0byBpdHNlbGZcIikpLGEuYj0xLHRhKGMsYS5ZLGEuWixhKXx8KGEuSz1jLGEuYj1iLGEudT1udWxsLHdhKGEpLDMhPWJ8fHlhKGEsYykpKX0sdGE9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSBpbnN0YW5jZW9mIE8pcmV0dXJuIG51bGwhPWImJkQoYixcIm9wdF9vbkZ1bGZpbGxlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi5cIiksbnVsbCE9YyYmRChjLFwib3B0X29uUmVqZWN0ZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgcGFzcyBvcHRfY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQgb2YgdGhlIHRoaXJkP1wiKSx4YShhLHNhKGJ8fHIsY3x8bnVsbCxkKSksITA7dmFyIGU7aWYoYSl0cnl7ZT0hIWEuJGdvb2dfVGhlbmFibGV9Y2F0Y2goZyl7ZT0hMX1lbHNlIGU9ITE7aWYoZSlyZXR1cm4gYS50aGVuKGIsYyxkKSxcbiEwO2U9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09ZSYmbnVsbCE9YXx8XCJmdW5jdGlvblwiPT1lKXRyeXt2YXIgZj1hLnRoZW47aWYodihmKSlyZXR1cm4gemEoYSxmLGIsYyxkKSwhMH1jYXRjaChnKXtyZXR1cm4gYy5jYWxsKGQsZyksITB9cmV0dXJuITF9LHphPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ITEsZz1mdW5jdGlvbihhKXtmfHwoZj0hMCxjLmNhbGwoZSxhKSl9LGs9ZnVuY3Rpb24oYSl7Znx8KGY9ITAsZC5jYWxsKGUsYSkpfTt0cnl7Yi5jYWxsKGEsZyxrKX1jYXRjaChwKXtrKHApfX0sd2E9ZnVuY3Rpb24oYSl7YS5BfHwoYS5BPSEwLE0oYS5PLGEpKX0sQWE9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDthLmcmJihiPWEuZyxhLmc9Yi5uZXh0LGIubmV4dD1udWxsKTthLmd8fChhLmo9bnVsbCk7bnVsbCE9YiYmQyhudWxsIT1iLmMpO3JldHVybiBifTtcbk8ucHJvdG90eXBlLk89ZnVuY3Rpb24oKXtmb3IodmFyIGE7YT1BYSh0aGlzKTspe3ZhciBiPXRoaXMuYixjPXRoaXMuSztpZigzPT1iJiZhLmgmJiFhLncpe3ZhciBkO2ZvcihkPXRoaXM7ZCYmZC5tO2Q9ZC51KWQubT0hMX1pZihhLmNoaWxkKWEuY2hpbGQudT1udWxsLEJhKGEsYixjKTtlbHNlIHRyeXthLnc/YS5jLmNhbGwoYS5jb250ZXh0KTpCYShhLGIsYyl9Y2F0Y2goZSl7Q2EuY2FsbChudWxsLGUpfXJhLnB1dChhKX10aGlzLkE9ITF9O3ZhciBCYT1mdW5jdGlvbihhLGIsYyl7Mj09Yj9hLmMuY2FsbChhLmNvbnRleHQsYyk6YS5oJiZhLmguY2FsbChhLmNvbnRleHQsYyl9LHlhPWZ1bmN0aW9uKGEsYil7YS5tPSEwO00oZnVuY3Rpb24oKXthLm0mJkNhLmNhbGwobnVsbCxiKX0pfSxDYT1rYTtmdW5jdGlvbiBQKGEsYil7aWYoIShiIGluc3RhbmNlb2YgT2JqZWN0KSlyZXR1cm4gYjtzd2l0Y2goYi5jb25zdHJ1Y3Rvcil7Y2FzZSBEYXRlOnJldHVybiBuZXcgRGF0ZShiLmdldFRpbWUoKSk7Y2FzZSBPYmplY3Q6dm9pZCAwPT09YSYmKGE9e30pO2JyZWFrO2Nhc2UgQXJyYXk6YT1bXTticmVhaztkZWZhdWx0OnJldHVybiBifWZvcih2YXIgYyBpbiBiKWIuaGFzT3duUHJvcGVydHkoYykmJihhW2NdPVAoYVtjXSxiW2NdKSk7cmV0dXJuIGF9O08uYWxsPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgTyhmdW5jdGlvbihiLGMpe3ZhciBkPWEubGVuZ3RoLGU9W107aWYoZClmb3IodmFyIGY9ZnVuY3Rpb24oYSxjKXtkLS07ZVthXT1jOzA9PWQmJmIoZSl9LGc9ZnVuY3Rpb24oYSl7YyhhKX0saz0wLHA7azxhLmxlbmd0aDtrKyspcD1hW2tdLHVhKHAseChmLGspLGcpO2Vsc2UgYihlKX0pfTtPLnJlc29sdmU9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIE8pcmV0dXJuIGE7dmFyIGI9bmV3IE8ocik7TihiLDIsYSk7cmV0dXJuIGJ9O08ucmVqZWN0PWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgTyhmdW5jdGlvbihiLGMpe2MoYSl9KX07Ty5wcm90b3R5cGVbXCJjYXRjaFwiXT1PLnByb3RvdHlwZS5YO3ZhciBRPU87XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBQcm9taXNlJiYoUT1Qcm9taXNlKTt2YXIgRGE9UTtmdW5jdGlvbiBFYShhLGIpe2E9bmV3IFIoYSxiKTtyZXR1cm4gYS5zdWJzY3JpYmUuYmluZChhKX12YXIgUj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dGhpcy5hPVtdO3RoaXMuSj0wO3RoaXMudGFzaz1EYS5yZXNvbHZlKCk7dGhpcy5sPSExO3RoaXMuRD1iO3RoaXMudGFzay50aGVuKGZ1bmN0aW9uKCl7YShjKX0pLmNhdGNoKGZ1bmN0aW9uKGEpe2MuZXJyb3IoYSl9KX07Ui5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihhKXtTKHRoaXMsZnVuY3Rpb24oYil7Yi5uZXh0KGEpfSl9O1IucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGEpe1ModGhpcyxmdW5jdGlvbihiKXtiLmVycm9yKGEpfSk7dGhpcy5jbG9zZShhKX07Ui5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXtTKHRoaXMsZnVuY3Rpb24oYSl7YS5jb21wbGV0ZSgpfSk7dGhpcy5jbG9zZSgpfTtcblIucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlO2lmKHZvaWQgMD09PWEmJnZvaWQgMD09PWImJnZvaWQgMD09PWMpdGhyb3cgRXJyb3IoXCJNaXNzaW5nIE9ic2VydmVyLlwiKTtlPUZhKGEpP2E6e25leHQ6YSxlcnJvcjpiLGNvbXBsZXRlOmN9O3ZvaWQgMD09PWUubmV4dCYmKGUubmV4dD1UKTt2b2lkIDA9PT1lLmVycm9yJiYoZS5lcnJvcj1UKTt2b2lkIDA9PT1lLmNvbXBsZXRlJiYoZS5jb21wbGV0ZT1UKTthPXRoaXMuJC5iaW5kKHRoaXMsdGhpcy5hLmxlbmd0aCk7dGhpcy5sJiZ0aGlzLnRhc2sudGhlbihmdW5jdGlvbigpe3RyeXtkLkc/ZS5lcnJvcihkLkcpOmUuY29tcGxldGUoKX1jYXRjaChmKXt9fSk7dGhpcy5hLnB1c2goZSk7cmV0dXJuIGF9O1xuUi5wcm90b3R5cGUuJD1mdW5jdGlvbihhKXt2b2lkIDAhPT10aGlzLmEmJnZvaWQgMCE9PXRoaXMuYVthXSYmKGRlbGV0ZSB0aGlzLmFbYV0sLS10aGlzLkosMD09PXRoaXMuSiYmdm9pZCAwIT09dGhpcy5EJiZ0aGlzLkQodGhpcykpfTt2YXIgUz1mdW5jdGlvbihhLGIpe2lmKCFhLmwpZm9yKHZhciBjPTA7YzxhLmEubGVuZ3RoO2MrKylHYShhLGMsYil9LEdhPWZ1bmN0aW9uKGEsYixjKXthLnRhc2sudGhlbihmdW5jdGlvbigpe2lmKHZvaWQgMCE9PWEuYSYmdm9pZCAwIT09YS5hW2JdKXRyeXtjKGEuYVtiXSl9Y2F0Y2goZCl7fX0pfTtSLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMubHx8KHRoaXMubD0hMCx2b2lkIDAhPT1hJiYodGhpcy5HPWEpLHRoaXMudGFzay50aGVuKGZ1bmN0aW9uKCl7Yi5hPXZvaWQgMDtiLkQ9dm9pZCAwfSkpfTtcbmZ1bmN0aW9uIEZhKGEpe2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8bnVsbD09PWEpcmV0dXJuITE7dmFyIGI7Yj1bXCJuZXh0XCIsXCJlcnJvclwiLFwiY29tcGxldGVcIl07bigpO3ZhciBjPWJbU3ltYm9sLml0ZXJhdG9yXTtiPWM/Yy5jYWxsKGIpOm0oYik7Zm9yKGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWlmKGM9Yy52YWx1ZSxjIGluIGEmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBhW2NdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFQoKXt9O3ZhciBIYT1FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSxWPWZ1bmN0aW9uKGEsYil7dGhpcy5jb2RlPWE7dGhpcy5tZXNzYWdlPWI7aWYoSGEpSGEodGhpcyxVLnByb3RvdHlwZS5jcmVhdGUpO2Vsc2V7dmFyIGM9RXJyb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubmFtZT1cIkZpcmViYXNlRXJyb3JcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInN0YWNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLnN0YWNrfX0pfX07Vi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1YucHJvdG90eXBlLmNvbnN0cnVjdG9yPVY7Vi5wcm90b3R5cGUubmFtZT1cIkZpcmViYXNlRXJyb3JcIjt2YXIgVT1mdW5jdGlvbihhLGIsYyl7dGhpcy5WPWE7dGhpcy5XPWI7dGhpcy5OPWM7dGhpcy5wYXR0ZXJuPS9cXHtcXCQoW159XSspfS9nfTtcblUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPXt9KTt2YXIgYz10aGlzLk5bYV07YT10aGlzLlYrXCIvXCIrYTt2YXIgYz12b2lkIDA9PT1jP1wiRXJyb3JcIjpjLnJlcGxhY2UodGhpcy5wYXR0ZXJuLGZ1bmN0aW9uKGEsYyl7YT1iW2NdO3JldHVybiB2b2lkIDAhPT1hP2EudG9TdHJpbmcoKTpcIjxcIitjK1wiPz5cIn0pLGM9dGhpcy5XK1wiOiBcIitjK1wiIChcIithK1wiKS5cIixjPW5ldyBWKGEsYyksZDtmb3IoZCBpbiBiKWIuaGFzT3duUHJvcGVydHkoZCkmJlwiX1wiIT09ZC5zbGljZSgtMSkmJihjW2RdPWJbZF0pO3JldHVybiBjfTt2YXIgVz1RLFg9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7dGhpcy5IPWM7dGhpcy5JPSExO3RoaXMuaT17fTt0aGlzLkM9Yjt0aGlzLlQ9UCh2b2lkIDAsYSk7T2JqZWN0LmtleXMoYy5JTlRFUk5BTC5mYWN0b3JpZXMpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9Yy5JTlRFUk5BTC51c2VBc1NlcnZpY2UoZCxhKTtudWxsIT09YiYmKGI9ZC5SLmJpbmQoZCxiKSxkW2FdPWIpfSl9O1gucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuKG5ldyBXKGZ1bmN0aW9uKGIpe1koYSk7YigpfSkpLnRoZW4oZnVuY3Rpb24oKXthLkguSU5URVJOQUwucmVtb3ZlQXBwKGEuQyk7cmV0dXJuIFcuYWxsKE9iamVjdC5rZXlzKGEuaSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhLmlbYl0uSU5URVJOQUwuZGVsZXRlKCl9KSl9KS50aGVuKGZ1bmN0aW9uKCl7YS5JPSEwO2EuaT17fX0pfTtcblgucHJvdG90eXBlLlI9ZnVuY3Rpb24oYSl7WSh0aGlzKTt2b2lkIDA9PT10aGlzLmlbYV0mJih0aGlzLmlbYV09dGhpcy5ILklOVEVSTkFMLmZhY3Rvcmllc1thXSh0aGlzLHRoaXMuUC5iaW5kKHRoaXMpKSk7cmV0dXJuIHRoaXMuaVthXX07WC5wcm90b3R5cGUuUD1mdW5jdGlvbihhKXtQKHRoaXMsYSl9O3ZhciBZPWZ1bmN0aW9uKGEpe2EuSSYmWihJYShcImRlbGV0ZWRcIix7bmFtZTphLkN9KSl9O2guT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoWC5wcm90b3R5cGUse25hbWU6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe1kodGhpcyk7cmV0dXJuIHRoaXMuQ319LG9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe1kodGhpcyk7cmV0dXJuIHRoaXMuVH19fSk7WC5wcm90b3R5cGUubmFtZSYmWC5wcm90b3R5cGUub3B0aW9uc3x8WC5wcm90b3R5cGUuZGVsZXRlfHxjb25zb2xlLmxvZyhcImRjXCIpO1xuZnVuY3Rpb24gSmEoKXtmdW5jdGlvbiBhKGEpe2E9YXx8XCJbREVGQVVMVF1cIjt2YXIgYj1kW2FdO3ZvaWQgMD09PWImJlooXCJub0FwcFwiLHtuYW1lOmF9KTtyZXR1cm4gYn1mdW5jdGlvbiBiKGEsYil7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihkKXtkPWMoYSxkKTtpZihudWxsIT09ZCYmZltkXSlmW2RdKGIsYSl9KX1mdW5jdGlvbiBjKGEsYil7aWYoXCJzZXJ2ZXJBdXRoXCI9PT1iKXJldHVybiBudWxsO3ZhciBjPWI7YT1hLm9wdGlvbnM7XCJhdXRoXCI9PT1iJiYoYS5zZXJ2aWNlQWNjb3VudHx8YS5jcmVkZW50aWFsKSYmKGM9XCJzZXJ2ZXJBdXRoXCIsXCJzZXJ2ZXJBdXRoXCJpbiBlfHxaKFwic2VydmVyQXV0aE1pc3NpbmdcIikpO3JldHVybiBjfXZhciBkPXt9LGU9e30sZj17fSxnPXtfX2VzTW9kdWxlOiEwLGluaXRpYWxpemVBcHA6ZnVuY3Rpb24oYSxjKXt2b2lkIDA9PT1jP2M9XCJbREVGQVVMVF1cIjpcInN0cmluZ1wiPT09dHlwZW9mIGMmJlwiXCIhPT1jfHxaKFwiYmFkLWFwcC1uYW1lXCIsXG57bmFtZTpjK1wiXCJ9KTt2b2lkIDAhPT1kW2NdJiZaKFwiZHVwQXBwXCIse25hbWU6Y30pO2E9bmV3IFgoYSxjLGcpO2RbY109YTtiKGEsXCJjcmVhdGVcIik7dm9pZCAwIT1hLklOVEVSTkFMJiZ2b2lkIDAhPWEuSU5URVJOQUwuZ2V0VG9rZW58fFAoYSx7SU5URVJOQUw6e2dldFRva2VuOmZ1bmN0aW9uKCl7cmV0dXJuIFcucmVzb2x2ZShudWxsKX0sYWRkQXV0aFRva2VuTGlzdGVuZXI6ZnVuY3Rpb24oKXt9LHJlbW92ZUF1dGhUb2tlbkxpc3RlbmVyOmZ1bmN0aW9uKCl7fX19KTtyZXR1cm4gYX0sYXBwOmEsYXBwczpudWxsLFByb21pc2U6VyxTREtfVkVSU0lPTjpcIjAuMC4wXCIsSU5URVJOQUw6e3JlZ2lzdGVyU2VydmljZTpmdW5jdGlvbihiLGMsZCx1KXtlW2JdJiZaKFwiZHVwU2VydmljZVwiLHtuYW1lOmJ9KTtlW2JdPWM7dSYmKGZbYl09dSk7Yz1mdW5jdGlvbihjKXt2b2lkIDA9PT1jJiYoYz1hKCkpO3JldHVybiBjW2JdKCl9O3ZvaWQgMCE9PWQmJlAoYyxkKTtyZXR1cm4gZ1tiXT1jfSxjcmVhdGVGaXJlYmFzZU5hbWVzcGFjZTpKYSxcbmV4dGVuZE5hbWVzcGFjZTpmdW5jdGlvbihhKXtQKGcsYSl9LGNyZWF0ZVN1YnNjcmliZTpFYSxFcnJvckZhY3Rvcnk6VSxyZW1vdmVBcHA6ZnVuY3Rpb24oYSl7YihkW2FdLFwiZGVsZXRlXCIpO2RlbGV0ZSBkW2FdfSxmYWN0b3JpZXM6ZSx1c2VBc1NlcnZpY2U6YyxQcm9taXNlOk8sZGVlcEV4dGVuZDpQfX07Z1tcImRlZmF1bHRcIl09ZztPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcImFwcHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKGQpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gZFthXX0pfX0pO2EuQXBwPVg7cmV0dXJuIGd9ZnVuY3Rpb24gWihhLGIpe3Rocm93IEVycm9yKElhKGEsYikpO31cbmZ1bmN0aW9uIElhKGEsYil7Yj1ifHx7fTtiPXtub0FwcDpcIk5vIEZpcmViYXNlIEFwcCAnXCIrYi5uYW1lK1wiJyBoYXMgYmVlbiBjcmVhdGVkIC0gY2FsbCBGaXJlYmFzZSBBcHAuaW5pdGlhbGl6ZUFwcCgpLlwiLFwiYmFkLWFwcC1uYW1lXCI6XCJJbGxlZ2FsIEFwcCBuYW1lOiAnXCIrYi5uYW1lK1wiJy5cIixkdXBBcHA6XCJGaXJlYmFzZSBBcHAgbmFtZWQgJ1wiK2IubmFtZStcIicgYWxyZWFkeSBleGlzdHMuXCIsZGVsZXRlZDpcIkZpcmViYXNlIEFwcCBuYW1lZCAnXCIrYi5uYW1lK1wiJyBhbHJlYWR5IGRlbGV0ZWQuXCIsZHVwU2VydmljZTpcIkZpcmViYXNlIFNlcnZpY2UgbmFtZWQgJ1wiK2IubmFtZStcIicgYWxyZWFkeSByZWdpc3RlcmVkLlwiLHNlcnZlckF1dGhNaXNzaW5nOlwiSW5pdGlhbGl6aW5nIHRoZSBGaXJlYmFzZSBTREsgd2l0aCBhIHNlcnZpY2UgYWNjb3VudCBpcyBvbmx5IGFsbG93ZWQgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50LiBPbiBjbGllbnQgZGV2aWNlcywgeW91IHNob3VsZCBpbnN0ZWFkIGluaXRpYWxpemUgdGhlIFNESyB3aXRoIGFuIGFwaSBrZXkgYW5kIGF1dGggZG9tYWluLlwifVthXTtcbnJldHVybiB2b2lkIDA9PT1iP1wiQXBwbGljYXRpb24gRXJyb3I6IChcIithK1wiKVwiOmJ9O1widW5kZWZpbmVkXCIhPT10eXBlb2YgZmlyZWJhc2UmJihmaXJlYmFzZT1KYSgpKTsgfSkoKTtcbmZpcmViYXNlLlNES19WRVJTSU9OID0gXCIzLjQuMVwiO1xubW9kdWxlLmV4cG9ydHMgPSBmaXJlYmFzZTtcbiIsInZhciBmaXJlYmFzZSA9IHJlcXVpcmUoJy4vYXBwJyk7XG4vKiEgQGxpY2Vuc2UgRmlyZWJhc2UgdjMuNC4xXG4gICAgQnVpbGQ6IDMuNC4xLXJjLjJcbiAgICBUZXJtczogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vdGVybXMgKi9cbihmdW5jdGlvbigpe3ZhciBoLGFhPWFhfHx7fSxsPXRoaXMsYmE9ZnVuY3Rpb24oKXt9LGNhPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJ1bmltcGxlbWVudGVkIGFic3RyYWN0IG1ldGhvZFwiKTt9LG09ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO2lmKFwiW29iamVjdCBXaW5kb3ddXCI9PWMpcmV0dXJuXCJvYmplY3RcIjtpZihcIltvYmplY3QgQXJyYXldXCI9PWN8fFwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3BsaWNlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJzcGxpY2VcIikpcmV0dXJuXCJhcnJheVwiO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIj09Y3x8XCJ1bmRlZmluZWRcIiE9XG50eXBlb2YgYS5jYWxsJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9LGRhPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YX0sZWE9ZnVuY3Rpb24oYSl7cmV0dXJuXCJhcnJheVwiPT1tKGEpfSxmYT1mdW5jdGlvbihhKXt2YXIgYj1tKGEpO3JldHVyblwiYXJyYXlcIj09Ynx8XCJvYmplY3RcIj09YiYmXCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RofSxuPWZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfSxnYT1mdW5jdGlvbihhKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYX0scD1mdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PW0oYSl9LGhhPWZ1bmN0aW9uKGEpe3ZhciBiPXR5cGVvZiBhO1xucmV0dXJuXCJvYmplY3RcIj09YiYmbnVsbCE9YXx8XCJmdW5jdGlvblwiPT1ifSxpYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEuY2FsbC5hcHBseShhLmJpbmQsYXJndW1lbnRzKX0samE9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19LHE9ZnVuY3Rpb24oYSxiLGMpe3E9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKT9pYTpqYTtyZXR1cm4gcS5hcHBseShudWxsLFxuYXJndW1lbnRzKX0sa2E9ZnVuY3Rpb24oYSxiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9Yy5zbGljZSgpO2IucHVzaC5hcHBseShiLGFyZ3VtZW50cyk7cmV0dXJuIGEuYXBwbHkodGhpcyxiKX19LGxhPURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX0sdD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5SYz1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuV2U9ZnVuY3Rpb24oYSxjLGYpe2Zvcih2YXIgZD1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWRbZS0yXT1hcmd1bWVudHNbZV07cmV0dXJuIGIucHJvdG90eXBlW2NdLmFwcGx5KGEsZCl9fTt2YXIgdT1mdW5jdGlvbihhKXtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHUpO2Vsc2V7dmFyIGI9RXJyb3IoKS5zdGFjaztiJiYodGhpcy5zdGFjaz1iKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSl9O3QodSxFcnJvcik7dS5wcm90b3R5cGUubmFtZT1cIkN1c3RvbUVycm9yXCI7dmFyIG1hPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuc3BsaXQoXCIlc1wiKSxkPVwiXCIsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7ZS5sZW5ndGgmJjE8Yy5sZW5ndGg7KWQrPWMuc2hpZnQoKStlLnNoaWZ0KCk7cmV0dXJuIGQrYy5qb2luKFwiJXNcIil9LG5hPVN0cmluZy5wcm90b3R5cGUudHJpbT9mdW5jdGlvbihhKXtyZXR1cm4gYS50cmltKCl9OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL15bXFxzXFx4YTBdK3xbXFxzXFx4YTBdKyQvZyxcIlwiKX0sb2E9LyYvZyxwYT0vPC9nLHFhPS8+L2cscmE9L1wiL2csdGE9LycvZyx1YT0vXFx4MDAvZyx2YT0vW1xceDAwJjw+XCInXS8sdj1mdW5jdGlvbihhLGIpe3JldHVybi0xIT1hLmluZGV4T2YoYil9LHdhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj8tMTphPmI/MTowfTt2YXIgeGE9ZnVuY3Rpb24oYSxiKXtiLnVuc2hpZnQoYSk7dS5jYWxsKHRoaXMsbWEuYXBwbHkobnVsbCxiKSk7Yi5zaGlmdCgpfTt0KHhhLHUpO3hhLnByb3RvdHlwZS5uYW1lPVwiQXNzZXJ0aW9uRXJyb3JcIjtcbnZhciB5YT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1cIkFzc2VydGlvbiBmYWlsZWRcIjtpZihjKXZhciBlPWUrKFwiOiBcIitjKSxmPWQ7ZWxzZSBhJiYoZSs9XCI6IFwiK2EsZj1iKTt0aHJvdyBuZXcgeGEoXCJcIitlLGZ8fFtdKTt9LHc9ZnVuY3Rpb24oYSxiLGMpe2F8fHlhKFwiXCIsbnVsbCxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9LHphPWZ1bmN0aW9uKGEsYil7dGhyb3cgbmV3IHhhKFwiRmFpbHVyZVwiKyhhP1wiOiBcIithOlwiXCIpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7fSxBYT1mdW5jdGlvbihhLGIsYyl7Z2EoYSl8fHlhKFwiRXhwZWN0ZWQgbnVtYmVyIGJ1dCBnb3QgJXM6ICVzLlwiLFttKGEpLGFdLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKTtyZXR1cm4gYX0sQmE9ZnVuY3Rpb24oYSxiLGMpe24oYSl8fHlhKFwiRXhwZWN0ZWQgc3RyaW5nIGJ1dCBnb3QgJXM6ICVzLlwiLFttKGEpLGFdLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLFxuMikpfSxDYT1mdW5jdGlvbihhLGIsYyl7cChhKXx8eWEoXCJFeHBlY3RlZCBmdW5jdGlvbiBidXQgZ290ICVzOiAlcy5cIixbbShhKSxhXSxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9O3ZhciBEYT1BcnJheS5wcm90b3R5cGUuaW5kZXhPZj9mdW5jdGlvbihhLGIsYyl7dyhudWxsIT1hLmxlbmd0aCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Yz1udWxsPT1jPzA6MD5jP01hdGgubWF4KDAsYS5sZW5ndGgrYyk6YztpZihuKGEpKXJldHVybiBuKGIpJiYxPT1iLmxlbmd0aD9hLmluZGV4T2YoYixjKTotMTtmb3IoO2M8YS5sZW5ndGg7YysrKWlmKGMgaW4gYSYmYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LHg9QXJyYXkucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oYSxiLGMpe3cobnVsbCE9YS5sZW5ndGgpO0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9bihhKT9hLnNwbGl0KFwiXCIpOmEsZj0wO2Y8ZDtmKyspZiBpbiBlJiZiLmNhbGwoYyxlW2ZdLGYsYSl9LEVhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPW4oYSk/XG5hLnNwbGl0KFwiXCIpOmEsZD1hLmxlbmd0aC0xOzA8PWQ7LS1kKWQgaW4gYyYmYi5jYWxsKHZvaWQgMCxjW2RdLGQsYSl9LEZhPUFycmF5LnByb3RvdHlwZS5tYXA/ZnVuY3Rpb24oYSxiLGMpe3cobnVsbCE9YS5sZW5ndGgpO3JldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9QXJyYXkoZCksZj1uKGEpP2Euc3BsaXQoXCJcIik6YSxnPTA7ZzxkO2crKylnIGluIGYmJihlW2ddPWIuY2FsbChjLGZbZ10sZyxhKSk7cmV0dXJuIGV9LEdhPUFycmF5LnByb3RvdHlwZS5zb21lP2Z1bmN0aW9uKGEsYixjKXt3KG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1uKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4hMDtyZXR1cm4hMX0sXG5JYT1mdW5jdGlvbihhKXt2YXIgYjthOntiPUhhO2Zvcih2YXIgYz1hLmxlbmd0aCxkPW4oYSk/YS5zcGxpdChcIlwiKTphLGU9MDtlPGM7ZSsrKWlmKGUgaW4gZCYmYi5jYWxsKHZvaWQgMCxkW2VdLGUsYSkpe2I9ZTticmVhayBhfWI9LTF9cmV0dXJuIDA+Yj9udWxsOm4oYSk/YS5jaGFyQXQoYik6YVtiXX0sSmE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMDw9RGEoYSxiKX0sTGE9ZnVuY3Rpb24oYSxiKXtiPURhKGEsYik7dmFyIGM7KGM9MDw9YikmJkthKGEsYik7cmV0dXJuIGN9LEthPWZ1bmN0aW9uKGEsYil7dyhudWxsIT1hLmxlbmd0aCk7cmV0dXJuIDE9PUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhLGIsMSkubGVuZ3RofSxNYT1mdW5jdGlvbihhLGIpe3ZhciBjPTA7RWEoYSxmdW5jdGlvbihkLGUpe2IuY2FsbCh2b2lkIDAsZCxlLGEpJiZLYShhLGUpJiZjKyt9KX0sTmE9ZnVuY3Rpb24oYSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoQXJyYXkucHJvdG90eXBlLFxuYXJndW1lbnRzKX0sT2E9ZnVuY3Rpb24oYSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoQXJyYXkucHJvdG90eXBlLGFyZ3VtZW50cyl9LFBhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoO2lmKDA8Yil7Zm9yKHZhciBjPUFycmF5KGIpLGQ9MDtkPGI7ZCsrKWNbZF09YVtkXTtyZXR1cm4gY31yZXR1cm5bXX0sUWE9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKXt2YXIgZD1hcmd1bWVudHNbY107aWYoZmEoZCkpe3ZhciBlPWEubGVuZ3RofHwwLGY9ZC5sZW5ndGh8fDA7YS5sZW5ndGg9ZStmO2Zvcih2YXIgZz0wO2c8ZjtnKyspYVtlK2ddPWRbZ119ZWxzZSBhLnB1c2goZCl9fTt2YXIgUmE9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSliLmNhbGwodm9pZCAwLGFbY10sYyxhKX0sU2E9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109YVtkXTtyZXR1cm4gYn0sVGE9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109ZDtyZXR1cm4gYn0sVWE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9LFZhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoIShjIGluIGIpfHxhW2NdIT09YltjXSlyZXR1cm4hMTtmb3IoYyBpbiBiKWlmKCEoYyBpbiBhKSlyZXR1cm4hMTtyZXR1cm4hMH0sV2E9ZnVuY3Rpb24oYSl7dmFyIGI9e30sYztmb3IoYyBpbiBhKWJbY109YVtjXTtyZXR1cm4gYn0sWGE9XCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIiksXG5ZYT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkLGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXtkPWFyZ3VtZW50c1tlXTtmb3IoYyBpbiBkKWFbY109ZFtjXTtmb3IodmFyIGY9MDtmPFhhLmxlbmd0aDtmKyspYz1YYVtmXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxjKSYmKGFbY109ZFtjXSl9fTt2YXIgWmE7YTp7dmFyICRhPWwubmF2aWdhdG9yO2lmKCRhKXt2YXIgYWI9JGEudXNlckFnZW50O2lmKGFiKXtaYT1hYjticmVhayBhfX1aYT1cIlwifXZhciB5PWZ1bmN0aW9uKGEpe3JldHVybiB2KFphLGEpfTt2YXIgYmI9ZnVuY3Rpb24oYSl7YmJbXCIgXCJdKGEpO3JldHVybiBhfTtiYltcIiBcIl09YmE7dmFyIGRiPWZ1bmN0aW9uKGEsYil7dmFyIGM9Y2I7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjLGEpP2NbYV06Y1thXT1iKGEpfTt2YXIgZWI9eShcIk9wZXJhXCIpLHo9eShcIlRyaWRlbnRcIil8fHkoXCJNU0lFXCIpLGZiPXkoXCJFZGdlXCIpLGdiPWZifHx6LGhiPXkoXCJHZWNrb1wiKSYmISh2KFphLnRvTG93ZXJDYXNlKCksXCJ3ZWJraXRcIikmJiF5KFwiRWRnZVwiKSkmJiEoeShcIlRyaWRlbnRcIil8fHkoXCJNU0lFXCIpKSYmIXkoXCJFZGdlXCIpLGliPXYoWmEudG9Mb3dlckNhc2UoKSxcIndlYmtpdFwiKSYmIXkoXCJFZGdlXCIpLGpiPWZ1bmN0aW9uKCl7dmFyIGE9bC5kb2N1bWVudDtyZXR1cm4gYT9hLmRvY3VtZW50TW9kZTp2b2lkIDB9LGtiO1xuYTp7dmFyIGxiPVwiXCIsbWI9ZnVuY3Rpb24oKXt2YXIgYT1aYTtpZihoYilyZXR1cm4vcnZcXDooW15cXCk7XSspKFxcKXw7KS8uZXhlYyhhKTtpZihmYilyZXR1cm4vRWRnZVxcLyhbXFxkXFwuXSspLy5leGVjKGEpO2lmKHopcmV0dXJuL1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLy5leGVjKGEpO2lmKGliKXJldHVybi9XZWJLaXRcXC8oXFxTKykvLmV4ZWMoYSk7aWYoZWIpcmV0dXJuLyg/OlZlcnNpb24pWyBcXC9dPyhcXFMrKS8uZXhlYyhhKX0oKTttYiYmKGxiPW1iP21iWzFdOlwiXCIpO2lmKHope3ZhciBuYj1qYigpO2lmKG51bGwhPW5iJiZuYj5wYXJzZUZsb2F0KGxiKSl7a2I9U3RyaW5nKG5iKTticmVhayBhfX1rYj1sYn1cbnZhciBvYj1rYixjYj17fSxBPWZ1bmN0aW9uKGEpe3JldHVybiBkYihhLGZ1bmN0aW9uKCl7Zm9yKHZhciBiPTAsYz1uYShTdHJpbmcob2IpKS5zcGxpdChcIi5cIiksZD1uYShTdHJpbmcoYSkpLnNwbGl0KFwiLlwiKSxlPU1hdGgubWF4KGMubGVuZ3RoLGQubGVuZ3RoKSxmPTA7MD09YiYmZjxlO2YrKyl7dmFyIGc9Y1tmXXx8XCJcIixrPWRbZl18fFwiXCI7ZG97Zz0vKFxcZCopKFxcRCopKC4qKS8uZXhlYyhnKXx8W1wiXCIsXCJcIixcIlwiLFwiXCJdO2s9LyhcXGQqKShcXEQqKSguKikvLmV4ZWMoayl8fFtcIlwiLFwiXCIsXCJcIixcIlwiXTtpZigwPT1nWzBdLmxlbmd0aCYmMD09a1swXS5sZW5ndGgpYnJlYWs7Yj13YSgwPT1nWzFdLmxlbmd0aD8wOnBhcnNlSW50KGdbMV0sMTApLDA9PWtbMV0ubGVuZ3RoPzA6cGFyc2VJbnQoa1sxXSwxMCkpfHx3YSgwPT1nWzJdLmxlbmd0aCwwPT1rWzJdLmxlbmd0aCl8fHdhKGdbMl0sa1syXSk7Zz1nWzNdO2s9a1szXX13aGlsZSgwPT1iKX1yZXR1cm4gMDw9Yn0pfSxwYjt2YXIgcWI9bC5kb2N1bWVudDtcbnBiPXFiJiZ6P2piKCl8fChcIkNTUzFDb21wYXRcIj09cWIuY29tcGF0TW9kZT9wYXJzZUludChvYiwxMCk6NSk6dm9pZCAwO3ZhciByYj1udWxsLHNiPW51bGwsdWI9ZnVuY3Rpb24oYSl7dmFyIGI9XCJcIjt0YihhLGZ1bmN0aW9uKGEpe2IrPVN0cmluZy5mcm9tQ2hhckNvZGUoYSl9KTtyZXR1cm4gYn0sdGI9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGIpe2Zvcig7ZDxhLmxlbmd0aDspe3ZhciBjPWEuY2hhckF0KGQrKyksZT1zYltjXTtpZihudWxsIT1lKXJldHVybiBlO2lmKCEvXltcXHNcXHhhMF0qJC8udGVzdChjKSl0aHJvdyBFcnJvcihcIlVua25vd24gYmFzZTY0IGVuY29kaW5nIGF0IGNoYXI6IFwiK2MpO31yZXR1cm4gYn12YigpO2Zvcih2YXIgZD0wOzspe3ZhciBlPWMoLTEpLGY9YygwKSxnPWMoNjQpLGs9Yyg2NCk7aWYoNjQ9PT1rJiYtMT09PWUpYnJlYWs7YihlPDwyfGY+PjQpOzY0IT1nJiYoYihmPDw0JjI0MHxnPj4yKSw2NCE9ayYmYihnPDw2JjE5MnxrKSl9fSx2Yj1mdW5jdGlvbigpe2lmKCFyYil7cmI9e307c2I9e307Zm9yKHZhciBhPTA7NjU+YTthKyspcmJbYV09XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmNoYXJBdChhKSxcbnNiW3JiW2FdXT1hLDYyPD1hJiYoc2JbXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fLlwiLmNoYXJBdChhKV09YSl9fTt2YXIgd2I9IXp8fDk8PU51bWJlcihwYikseGI9eiYmIUEoXCI5XCIpOyFpYnx8QShcIjUyOFwiKTtoYiYmQShcIjEuOWJcIil8fHomJkEoXCI4XCIpfHxlYiYmQShcIjkuNVwiKXx8aWImJkEoXCI1MjhcIik7aGImJiFBKFwiOFwiKXx8eiYmQShcIjlcIik7dmFyIHliPWZ1bmN0aW9uKCl7dGhpcy56YT10aGlzLnphO3RoaXMuVmI9dGhpcy5WYn07eWIucHJvdG90eXBlLnphPSExO3liLnByb3RvdHlwZS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuemF9O3liLnByb3RvdHlwZS5QYT1mdW5jdGlvbigpe2lmKHRoaXMuVmIpZm9yKDt0aGlzLlZiLmxlbmd0aDspdGhpcy5WYi5zaGlmdCgpKCl9O3ZhciB6Yj1mdW5jdGlvbihhLGIpe3RoaXMudHlwZT1hO3RoaXMuY3VycmVudFRhcmdldD10aGlzLnRhcmdldD1iO3RoaXMuZGVmYXVsdFByZXZlbnRlZD10aGlzLldhPSExO3RoaXMud2Q9ITB9O3piLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMDt0aGlzLndkPSExfTt2YXIgQWI9ZnVuY3Rpb24oYSxiKXt6Yi5jYWxsKHRoaXMsYT9hLnR5cGU6XCJcIik7dGhpcy5yZWxhdGVkVGFyZ2V0PXRoaXMuY3VycmVudFRhcmdldD10aGlzLnRhcmdldD1udWxsO3RoaXMuY2hhckNvZGU9dGhpcy5rZXlDb2RlPXRoaXMuYnV0dG9uPXRoaXMuc2NyZWVuWT10aGlzLnNjcmVlblg9dGhpcy5jbGllbnRZPXRoaXMuY2xpZW50WD10aGlzLm9mZnNldFk9dGhpcy5vZmZzZXRYPTA7dGhpcy5tZXRhS2V5PXRoaXMuc2hpZnRLZXk9dGhpcy5hbHRLZXk9dGhpcy5jdHJsS2V5PSExO3RoaXMubWI9dGhpcy5zdGF0ZT1udWxsO2EmJnRoaXMuaW5pdChhLGIpfTt0KEFiLHpiKTtcbkFiLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy50eXBlPWEudHlwZSxkPWEuY2hhbmdlZFRvdWNoZXM/YS5jaGFuZ2VkVG91Y2hlc1swXTpudWxsO3RoaXMudGFyZ2V0PWEudGFyZ2V0fHxhLnNyY0VsZW1lbnQ7dGhpcy5jdXJyZW50VGFyZ2V0PWI7aWYoYj1hLnJlbGF0ZWRUYXJnZXQpe2lmKGhiKXt2YXIgZTthOnt0cnl7YmIoYi5ub2RlTmFtZSk7ZT0hMDticmVhayBhfWNhdGNoKGYpe31lPSExfWV8fChiPW51bGwpfX1lbHNlXCJtb3VzZW92ZXJcIj09Yz9iPWEuZnJvbUVsZW1lbnQ6XCJtb3VzZW91dFwiPT1jJiYoYj1hLnRvRWxlbWVudCk7dGhpcy5yZWxhdGVkVGFyZ2V0PWI7bnVsbD09PWQ/KHRoaXMub2Zmc2V0WD1pYnx8dm9pZCAwIT09YS5vZmZzZXRYP2Eub2Zmc2V0WDphLmxheWVyWCx0aGlzLm9mZnNldFk9aWJ8fHZvaWQgMCE9PWEub2Zmc2V0WT9hLm9mZnNldFk6YS5sYXllclksdGhpcy5jbGllbnRYPXZvaWQgMCE9PWEuY2xpZW50WD9hLmNsaWVudFg6XG5hLnBhZ2VYLHRoaXMuY2xpZW50WT12b2lkIDAhPT1hLmNsaWVudFk/YS5jbGllbnRZOmEucGFnZVksdGhpcy5zY3JlZW5YPWEuc2NyZWVuWHx8MCx0aGlzLnNjcmVlblk9YS5zY3JlZW5ZfHwwKToodGhpcy5jbGllbnRYPXZvaWQgMCE9PWQuY2xpZW50WD9kLmNsaWVudFg6ZC5wYWdlWCx0aGlzLmNsaWVudFk9dm9pZCAwIT09ZC5jbGllbnRZP2QuY2xpZW50WTpkLnBhZ2VZLHRoaXMuc2NyZWVuWD1kLnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPWQuc2NyZWVuWXx8MCk7dGhpcy5idXR0b249YS5idXR0b247dGhpcy5rZXlDb2RlPWEua2V5Q29kZXx8MDt0aGlzLmNoYXJDb2RlPWEuY2hhckNvZGV8fChcImtleXByZXNzXCI9PWM/YS5rZXlDb2RlOjApO3RoaXMuY3RybEtleT1hLmN0cmxLZXk7dGhpcy5hbHRLZXk9YS5hbHRLZXk7dGhpcy5zaGlmdEtleT1hLnNoaWZ0S2V5O3RoaXMubWV0YUtleT1hLm1ldGFLZXk7dGhpcy5zdGF0ZT1hLnN0YXRlO3RoaXMubWI9YTthLmRlZmF1bHRQcmV2ZW50ZWQmJlxudGhpcy5wcmV2ZW50RGVmYXVsdCgpfTtBYi5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtBYi5SYy5wcmV2ZW50RGVmYXVsdC5jYWxsKHRoaXMpO3ZhciBhPXRoaXMubWI7aWYoYS5wcmV2ZW50RGVmYXVsdClhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZihhLnJldHVyblZhbHVlPSExLHhiKXRyeXtpZihhLmN0cmxLZXl8fDExMjw9YS5rZXlDb2RlJiYxMjM+PWEua2V5Q29kZSlhLmtleUNvZGU9LTF9Y2F0Y2goYil7fX07QWIucHJvdG90eXBlLmZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWJ9O3ZhciBCYj1cImNsb3N1cmVfbGlzdGVuYWJsZV9cIisoMUU2Kk1hdGgucmFuZG9tKCl8MCksQ2I9MDt2YXIgRGI9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLmxpc3RlbmVyPWE7dGhpcy5aYj1udWxsO3RoaXMuc3JjPWI7dGhpcy50eXBlPWM7dGhpcy5FYj0hIWQ7dGhpcy5NYj1lO3RoaXMua2V5PSsrQ2I7dGhpcy5hYj10aGlzLkRiPSExfSxFYj1mdW5jdGlvbihhKXthLmFiPSEwO2EubGlzdGVuZXI9bnVsbDthLlpiPW51bGw7YS5zcmM9bnVsbDthLk1iPW51bGx9O3ZhciBGYj1mdW5jdGlvbihhKXt0aGlzLnNyYz1hO3RoaXMudz17fTt0aGlzLkFiPTB9O0ZiLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLnRvU3RyaW5nKCk7YT10aGlzLndbZl07YXx8KGE9dGhpcy53W2ZdPVtdLHRoaXMuQWIrKyk7dmFyIGc9R2IoYSxiLGQsZSk7LTE8Zz8oYj1hW2ddLGN8fChiLkRiPSExKSk6KGI9bmV3IERiKGIsdGhpcy5zcmMsZiwhIWQsZSksYi5EYj1jLGEucHVzaChiKSk7cmV0dXJuIGJ9O0ZiLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiLGMsZCl7YT1hLnRvU3RyaW5nKCk7aWYoIShhIGluIHRoaXMudykpcmV0dXJuITE7dmFyIGU9dGhpcy53W2FdO2I9R2IoZSxiLGMsZCk7cmV0dXJuLTE8Yj8oRWIoZVtiXSksS2EoZSxiKSwwPT1lLmxlbmd0aCYmKGRlbGV0ZSB0aGlzLndbYV0sdGhpcy5BYi0tKSwhMCk6ITF9O1xudmFyIEhiPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi50eXBlO2MgaW4gYS53JiZMYShhLndbY10sYikmJihFYihiKSwwPT1hLndbY10ubGVuZ3RoJiYoZGVsZXRlIGEud1tjXSxhLkFiLS0pKX07RmIucHJvdG90eXBlLnhjPWZ1bmN0aW9uKGEsYixjLGQpe2E9dGhpcy53W2EudG9TdHJpbmcoKV07dmFyIGU9LTE7YSYmKGU9R2IoYSxiLGMsZCkpO3JldHVybi0xPGU/YVtlXTpudWxsfTt2YXIgR2I9ZnVuY3Rpb24oYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWFbZV07aWYoIWYuYWImJmYubGlzdGVuZXI9PWImJmYuRWI9PSEhYyYmZi5NYj09ZClyZXR1cm4gZX1yZXR1cm4tMX07dmFyIEliPVwiY2xvc3VyZV9sbV9cIisoMUU2Kk1hdGgucmFuZG9tKCl8MCksSmI9e30sS2I9MCxMYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGVhKGIpKWZvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKUxiKGEsYltmXSxjLGQsZSk7ZWxzZSBjPU1iKGMpLGEmJmFbQmJdP2EubGlzdGVuKGIsYyxkLGUpOk5iKGEsYixjLCExLGQsZSl9LE5iPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZighYil0aHJvdyBFcnJvcihcIkludmFsaWQgZXZlbnQgdHlwZVwiKTt2YXIgZz0hIWUsaz1PYihhKTtrfHwoYVtJYl09az1uZXcgRmIoYSkpO2M9ay5hZGQoYixjLGQsZSxmKTtpZighYy5aYil7ZD1QYigpO2MuWmI9ZDtkLnNyYz1hO2QubGlzdGVuZXI9YztpZihhLmFkZEV2ZW50TGlzdGVuZXIpYS5hZGRFdmVudExpc3RlbmVyKGIudG9TdHJpbmcoKSxkLGcpO2Vsc2UgaWYoYS5hdHRhY2hFdmVudClhLmF0dGFjaEV2ZW50KFFiKGIudG9TdHJpbmcoKSksZCk7ZWxzZSB0aHJvdyBFcnJvcihcImFkZEV2ZW50TGlzdGVuZXIgYW5kIGF0dGFjaEV2ZW50IGFyZSB1bmF2YWlsYWJsZS5cIik7XG5LYisrfX0sUGI9ZnVuY3Rpb24oKXt2YXIgYT1SYixiPXdiP2Z1bmN0aW9uKGMpe3JldHVybiBhLmNhbGwoYi5zcmMsYi5saXN0ZW5lcixjKX06ZnVuY3Rpb24oYyl7Yz1hLmNhbGwoYi5zcmMsYi5saXN0ZW5lcixjKTtpZighYylyZXR1cm4gY307cmV0dXJuIGJ9LFNiPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoZWEoYikpZm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspU2IoYSxiW2ZdLGMsZCxlKTtlbHNlIGM9TWIoYyksYSYmYVtCYl0/VGIoYSxiLGMsZCxlKTpOYihhLGIsYywhMCxkLGUpfSxVYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGVhKGIpKWZvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKVViKGEsYltmXSxjLGQsZSk7ZWxzZSBjPU1iKGMpLGEmJmFbQmJdP2EuWS5yZW1vdmUoU3RyaW5nKGIpLGMsZCxlKTphJiYoYT1PYihhKSkmJihiPWEueGMoYixjLCEhZCxlKSkmJlZiKGIpfSxWYj1mdW5jdGlvbihhKXtpZighZ2EoYSkmJmEmJiFhLmFiKXt2YXIgYj1hLnNyYztpZihiJiZcbmJbQmJdKUhiKGIuWSxhKTtlbHNle3ZhciBjPWEudHlwZSxkPWEuWmI7Yi5yZW1vdmVFdmVudExpc3RlbmVyP2IucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLGQsYS5FYik6Yi5kZXRhY2hFdmVudCYmYi5kZXRhY2hFdmVudChRYihjKSxkKTtLYi0tOyhjPU9iKGIpKT8oSGIoYyxhKSwwPT1jLkFiJiYoYy5zcmM9bnVsbCxiW0liXT1udWxsKSk6RWIoYSl9fX0sUWI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gSmI/SmJbYV06SmJbYV09XCJvblwiK2F9LFhiPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPSEwO2lmKGE9T2IoYSkpaWYoYj1hLndbYi50b1N0cmluZygpXSlmb3IoYj1iLmNvbmNhdCgpLGE9MDthPGIubGVuZ3RoO2ErKyl7dmFyIGY9YlthXTtmJiZmLkViPT1jJiYhZi5hYiYmKGY9V2IoZixkKSxlPWUmJiExIT09Zil9cmV0dXJuIGV9LFdiPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5saXN0ZW5lcixkPWEuTWJ8fGEuc3JjO2EuRGImJlZiKGEpO3JldHVybiBjLmNhbGwoZCxiKX0sUmI9ZnVuY3Rpb24oYSxcbmIpe2lmKGEuYWIpcmV0dXJuITA7aWYoIXdiKXtpZighYilhOntiPVtcIndpbmRvd1wiLFwiZXZlbnRcIl07Zm9yKHZhciBjPWwsZDtkPWIuc2hpZnQoKTspaWYobnVsbCE9Y1tkXSljPWNbZF07ZWxzZXtiPW51bGw7YnJlYWsgYX1iPWN9ZD1iO2I9bmV3IEFiKGQsdGhpcyk7Yz0hMDtpZighKDA+ZC5rZXlDb2RlfHx2b2lkIDAhPWQucmV0dXJuVmFsdWUpKXthOnt2YXIgZT0hMTtpZigwPT1kLmtleUNvZGUpdHJ5e2Qua2V5Q29kZT0tMTticmVhayBhfWNhdGNoKGcpe2U9ITB9aWYoZXx8dm9pZCAwPT1kLnJldHVyblZhbHVlKWQucmV0dXJuVmFsdWU9ITB9ZD1bXTtmb3IoZT1iLmN1cnJlbnRUYXJnZXQ7ZTtlPWUucGFyZW50Tm9kZSlkLnB1c2goZSk7YT1hLnR5cGU7Zm9yKGU9ZC5sZW5ndGgtMTshYi5XYSYmMDw9ZTtlLS0pe2IuY3VycmVudFRhcmdldD1kW2VdO3ZhciBmPVhiKGRbZV0sYSwhMCxiKSxjPWMmJmZ9Zm9yKGU9MDshYi5XYSYmZTxkLmxlbmd0aDtlKyspYi5jdXJyZW50VGFyZ2V0PVxuZFtlXSxmPVhiKGRbZV0sYSwhMSxiKSxjPWMmJmZ9cmV0dXJuIGN9cmV0dXJuIFdiKGEsbmV3IEFiKGIsdGhpcykpfSxPYj1mdW5jdGlvbihhKXthPWFbSWJdO3JldHVybiBhIGluc3RhbmNlb2YgRmI/YTpudWxsfSxZYj1cIl9fY2xvc3VyZV9ldmVudHNfZm5fXCIrKDFFOSpNYXRoLnJhbmRvbSgpPj4+MCksTWI9ZnVuY3Rpb24oYSl7dyhhLFwiTGlzdGVuZXIgY2FuIG5vdCBiZSBudWxsLlwiKTtpZihwKGEpKXJldHVybiBhO3coYS5oYW5kbGVFdmVudCxcIkFuIG9iamVjdCBsaXN0ZW5lciBtdXN0IGhhdmUgaGFuZGxlRXZlbnQgbWV0aG9kLlwiKTthW1liXXx8KGFbWWJdPWZ1bmN0aW9uKGIpe3JldHVybiBhLmhhbmRsZUV2ZW50KGIpfSk7cmV0dXJuIGFbWWJdfTt2YXIgWmI9L15bK2EtekEtWjAtOV8uISMkJSYnKlxcLz0/XmB7fH1+LV0rQChbYS16QS1aMC05LV0rXFwuKStbYS16QS1aMC05XXsyLDYzfSQvO3ZhciBhYz1mdW5jdGlvbigpe3RoaXMuaGM9XCJcIjt0aGlzLk9kPSRifTthYy5wcm90b3R5cGUuUGI9ITA7YWMucHJvdG90eXBlLktiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGN9O2FjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiQ29uc3R7XCIrdGhpcy5oYytcIn1cIn07dmFyIGJjPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBhYyYmYS5jb25zdHJ1Y3Rvcj09PWFjJiZhLk9kPT09JGIpcmV0dXJuIGEuaGM7emEoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBDb25zdCwgZ290ICdcIithK1wiJ1wiKTtyZXR1cm5cInR5cGVfZXJyb3I6Q29uc3RcIn0sJGI9e307dmFyIEI9ZnVuY3Rpb24oKXt0aGlzLmphPVwiXCI7dGhpcy5OZD1jY307Qi5wcm90b3R5cGUuUGI9ITA7Qi5wcm90b3R5cGUuS2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qYX07Qi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlNhZmVVcmx7XCIrdGhpcy5qYStcIn1cIn07XG52YXIgZGM9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIEImJmEuY29uc3RydWN0b3I9PT1CJiZhLk5kPT09Y2MpcmV0dXJuIGEuamE7emEoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBTYWZlVXJsLCBnb3QgJ1wiK2ErXCInIG9mIHR5cGUgXCIrbShhKSk7cmV0dXJuXCJ0eXBlX2Vycm9yOlNhZmVVcmxcIn0sZWM9L14oPzooPzpodHRwcz98bWFpbHRvfGZ0cCk6fFteJjovPyNdKig/OlsvPyNdfCQpKS9pLGdjPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBCKXJldHVybiBhO2E9YS5QYj9hLktiKCk6U3RyaW5nKGEpO2VjLnRlc3QoYSl8fChhPVwiYWJvdXQ6aW52YWxpZCN6Q2xvc3VyZXpcIik7cmV0dXJuIGZjKGEpfSxjYz17fSxmYz1mdW5jdGlvbihhKXt2YXIgYj1uZXcgQjtiLmphPWE7cmV0dXJuIGJ9O2ZjKFwiYWJvdXQ6YmxhbmtcIik7dmFyIGhjPWZ1bmN0aW9uKGEpe3JldHVybi9eXFxzKiQvLnRlc3QoYSk/ITE6L15bXFxdLDp7fVxcc1xcdTIwMjhcXHUyMDI5XSokLy50ZXN0KGEucmVwbGFjZSgvXFxcXFtcIlxcXFxcXC9iZm5ydHVdL2csXCJAXCIpLnJlcGxhY2UoLyg/OlwiW15cIlxcXFxcXG5cXHJcXHUyMDI4XFx1MjAyOVxceDAwLVxceDA4XFx4MGEtXFx4MWZdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPylbXFxzXFx1MjAyOFxcdTIwMjldKig/PTp8LHxdfH18JCkvZyxcIl1cIikucmVwbGFjZSgvKD86Xnw6fCwpKD86W1xcc1xcdTIwMjhcXHUyMDI5XSpcXFspKy9nLFwiXCIpKX0saWM9ZnVuY3Rpb24oYSl7YT1TdHJpbmcoYSk7aWYoaGMoYSkpdHJ5e3JldHVybiBldmFsKFwiKFwiK2ErXCIpXCIpfWNhdGNoKGIpe310aHJvdyBFcnJvcihcIkludmFsaWQgSlNPTiBzdHJpbmc6IFwiK2EpO30sbGM9ZnVuY3Rpb24oYSl7dmFyIGI9W107amMobmV3IGtjLGEsYik7cmV0dXJuIGIuam9pbihcIlwiKX0sa2M9ZnVuY3Rpb24oKXt0aGlzLmNjPXZvaWQgMH0sXG5qYz1mdW5jdGlvbihhLGIsYyl7aWYobnVsbD09YiljLnB1c2goXCJudWxsXCIpO2Vsc2V7aWYoXCJvYmplY3RcIj09dHlwZW9mIGIpe2lmKGVhKGIpKXt2YXIgZD1iO2I9ZC5sZW5ndGg7Yy5wdXNoKFwiW1wiKTtmb3IodmFyIGU9XCJcIixmPTA7ZjxiO2YrKyljLnB1c2goZSksZT1kW2ZdLGpjKGEsYS5jYz9hLmNjLmNhbGwoZCxTdHJpbmcoZiksZSk6ZSxjKSxlPVwiLFwiO2MucHVzaChcIl1cIik7cmV0dXJufWlmKGIgaW5zdGFuY2VvZiBTdHJpbmd8fGIgaW5zdGFuY2VvZiBOdW1iZXJ8fGIgaW5zdGFuY2VvZiBCb29sZWFuKWI9Yi52YWx1ZU9mKCk7ZWxzZXtjLnB1c2goXCJ7XCIpO2Y9XCJcIjtmb3IoZCBpbiBiKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLGQpJiYoZT1iW2RdLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihjLnB1c2goZiksbWMoZCxjKSxjLnB1c2goXCI6XCIpLGpjKGEsYS5jYz9hLmNjLmNhbGwoYixkLGUpOmUsYyksZj1cIixcIikpO2MucHVzaChcIn1cIik7cmV0dXJufX1zd2l0Y2godHlwZW9mIGIpe2Nhc2UgXCJzdHJpbmdcIjptYyhiLFxuYyk7YnJlYWs7Y2FzZSBcIm51bWJlclwiOmMucHVzaChpc0Zpbml0ZShiKSYmIWlzTmFOKGIpP1N0cmluZyhiKTpcIm51bGxcIik7YnJlYWs7Y2FzZSBcImJvb2xlYW5cIjpjLnB1c2goU3RyaW5nKGIpKTticmVhaztjYXNlIFwiZnVuY3Rpb25cIjpjLnB1c2goXCJudWxsXCIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiK3R5cGVvZiBiKTt9fX0sbmM9eydcIic6J1xcXFxcIicsXCJcXFxcXCI6XCJcXFxcXFxcXFwiLFwiL1wiOlwiXFxcXC9cIixcIlxcYlwiOlwiXFxcXGJcIixcIlxcZlwiOlwiXFxcXGZcIixcIlxcblwiOlwiXFxcXG5cIixcIlxcclwiOlwiXFxcXHJcIixcIlxcdFwiOlwiXFxcXHRcIixcIlxceDBCXCI6XCJcXFxcdTAwMGJcIn0sb2M9L1xcdWZmZmYvLnRlc3QoXCJcXHVmZmZmXCIpPy9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxcdWZmZmZdL2c6L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4ZmZdL2csbWM9ZnVuY3Rpb24oYSxiKXtiLnB1c2goJ1wiJyxhLnJlcGxhY2Uob2MsZnVuY3Rpb24oYSl7dmFyIGI9bmNbYV07Ynx8KGI9XCJcXFxcdVwiKyhhLmNoYXJDb2RlQXQoMCl8NjU1MzYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSksXG5uY1thXT1iKTtyZXR1cm4gYn0pLCdcIicpfTt2YXIgcGM9ZnVuY3Rpb24oKXt9O3BjLnByb3RvdHlwZS5WYz1udWxsO3BjLnByb3RvdHlwZS5sYj1jYTt2YXIgcWM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuVmN8fChhLlZjPWEuU2IoKSl9O3BjLnByb3RvdHlwZS5TYj1jYTt2YXIgcmMsc2M9ZnVuY3Rpb24oKXt9O3Qoc2MscGMpO3NjLnByb3RvdHlwZS5sYj1mdW5jdGlvbigpe3ZhciBhPXRjKHRoaXMpO3JldHVybiBhP25ldyBBY3RpdmVYT2JqZWN0KGEpOm5ldyBYTUxIdHRwUmVxdWVzdH07c2MucHJvdG90eXBlLlNiPWZ1bmN0aW9uKCl7dmFyIGE9e307dGModGhpcykmJihhWzBdPSEwLGFbMV09ITApO3JldHVybiBhfTtcbnZhciB0Yz1mdW5jdGlvbihhKXtpZighYS5qZCYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgQWN0aXZlWE9iamVjdCl7Zm9yKHZhciBiPVtcIk1TWE1MMi5YTUxIVFRQLjYuMFwiLFwiTVNYTUwyLlhNTEhUVFAuMy4wXCIsXCJNU1hNTDIuWE1MSFRUUFwiLFwiTWljcm9zb2Z0LlhNTEhUVFBcIl0sYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO3RyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoZCksYS5qZD1kfWNhdGNoKGUpe319dGhyb3cgRXJyb3IoXCJDb3VsZCBub3QgY3JlYXRlIEFjdGl2ZVhPYmplY3QuIEFjdGl2ZVggbWlnaHQgYmUgZGlzYWJsZWQsIG9yIE1TWE1MIG1pZ2h0IG5vdCBiZSBpbnN0YWxsZWRcIik7fXJldHVybiBhLmpkfTtyYz1uZXcgc2M7dmFyIHVjPWZ1bmN0aW9uKCl7fTt0KHVjLHBjKTt1Yy5wcm90b3R5cGUubGI9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoXCJ3aXRoQ3JlZGVudGlhbHNcImluIGEpcmV0dXJuIGE7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhEb21haW5SZXF1ZXN0KXJldHVybiBuZXcgdmM7dGhyb3cgRXJyb3IoXCJVbnN1cHBvcnRlZCBicm93c2VyXCIpO307dWMucHJvdG90eXBlLlNiPWZ1bmN0aW9uKCl7cmV0dXJue319O1xudmFyIHZjPWZ1bmN0aW9uKCl7dGhpcy5vYT1uZXcgWERvbWFpblJlcXVlc3Q7dGhpcy5yZWFkeVN0YXRlPTA7dGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDt0aGlzLnJlc3BvbnNlVGV4dD1cIlwiO3RoaXMuc3RhdHVzPS0xO3RoaXMuc3RhdHVzVGV4dD10aGlzLnJlc3BvbnNlWE1MPW51bGw7dGhpcy5vYS5vbmxvYWQ9cSh0aGlzLmhlLHRoaXMpO3RoaXMub2Eub25lcnJvcj1xKHRoaXMuZ2QsdGhpcyk7dGhpcy5vYS5vbnByb2dyZXNzPXEodGhpcy5pZSx0aGlzKTt0aGlzLm9hLm9udGltZW91dD1xKHRoaXMuamUsdGhpcyl9O2g9dmMucHJvdG90eXBlO2gub3Blbj1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9YyYmIWMpdGhyb3cgRXJyb3IoXCJPbmx5IGFzeW5jIHJlcXVlc3RzIGFyZSBzdXBwb3J0ZWQuXCIpO3RoaXMub2Eub3BlbihhLGIpfTtcbmguc2VuZD1mdW5jdGlvbihhKXtpZihhKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXRoaXMub2Euc2VuZChhKTtlbHNlIHRocm93IEVycm9yKFwiT25seSBzdHJpbmcgZGF0YSBpcyBzdXBwb3J0ZWRcIik7ZWxzZSB0aGlzLm9hLnNlbmQoKX07aC5hYm9ydD1mdW5jdGlvbigpe3RoaXMub2EuYWJvcnQoKX07aC5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKCl7fTtoLmhlPWZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9MjAwO3RoaXMucmVzcG9uc2VUZXh0PXRoaXMub2EucmVzcG9uc2VUZXh0O3djKHRoaXMsNCl9O2guZ2Q9ZnVuY3Rpb24oKXt0aGlzLnN0YXR1cz01MDA7dGhpcy5yZXNwb25zZVRleHQ9XCJcIjt3Yyh0aGlzLDQpfTtoLmplPWZ1bmN0aW9uKCl7dGhpcy5nZCgpfTtoLmllPWZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9MjAwO3djKHRoaXMsMSl9O3ZhciB3Yz1mdW5jdGlvbihhLGIpe2EucmVhZHlTdGF0ZT1iO2lmKGEub25yZWFkeXN0YXRlY2hhbmdlKWEub25yZWFkeXN0YXRlY2hhbmdlKCl9O3ZhciBDPWZ1bmN0aW9uKGEsYil7dGhpcy5oPVtdO3RoaXMuZz1iO2Zvcih2YXIgYz0hMCxkPWEubGVuZ3RoLTE7MDw9ZDtkLS0pe3ZhciBlPWFbZF18MDtjJiZlPT1ifHwodGhpcy5oW2RdPWUsYz0hMSl9fSx4Yz17fSx5Yz1mdW5jdGlvbihhKXtpZigtMTI4PD1hJiYxMjg+YSl7dmFyIGI9eGNbYV07aWYoYilyZXR1cm4gYn1iPW5ldyBDKFthfDBdLDA+YT8tMTowKTstMTI4PD1hJiYxMjg+YSYmKHhjW2FdPWIpO3JldHVybiBifSxGPWZ1bmN0aW9uKGEpe2lmKGlzTmFOKGEpfHwhaXNGaW5pdGUoYSkpcmV0dXJuIEQ7aWYoMD5hKXJldHVybiBFKEYoLWEpKTtmb3IodmFyIGI9W10sYz0xLGQ9MDthPj1jO2QrKyliW2RdPWEvY3wwLGMqPTQyOTQ5NjcyOTY7cmV0dXJuIG5ldyBDKGIsMCl9LHpjPWZ1bmN0aW9uKGEsYil7aWYoMD09YS5sZW5ndGgpdGhyb3cgRXJyb3IoXCJudW1iZXIgZm9ybWF0IGVycm9yOiBlbXB0eSBzdHJpbmdcIik7Yj1ifHwxMDtpZigyPmJ8fDM2PGIpdGhyb3cgRXJyb3IoXCJyYWRpeCBvdXQgb2YgcmFuZ2U6IFwiK1xuYik7aWYoXCItXCI9PWEuY2hhckF0KDApKXJldHVybiBFKHpjKGEuc3Vic3RyaW5nKDEpLGIpKTtpZigwPD1hLmluZGV4T2YoXCItXCIpKXRocm93IEVycm9yKCdudW1iZXIgZm9ybWF0IGVycm9yOiBpbnRlcmlvciBcIi1cIiBjaGFyYWN0ZXInKTtmb3IodmFyIGM9RihNYXRoLnBvdyhiLDgpKSxkPUQsZT0wO2U8YS5sZW5ndGg7ZSs9OCl7dmFyIGY9TWF0aC5taW4oOCxhLmxlbmd0aC1lKSxnPXBhcnNlSW50KGEuc3Vic3RyaW5nKGUsZStmKSxiKTs4PmY/KGY9RihNYXRoLnBvdyhiLGYpKSxkPWQubXVsdGlwbHkoZikuYWRkKEYoZykpKTooZD1kLm11bHRpcGx5KGMpLGQ9ZC5hZGQoRihnKSkpfXJldHVybiBkfSxEPXljKDApLEFjPXljKDEpLEJjPXljKDE2Nzc3MjE2KSxDYz1mdW5jdGlvbihhKXtpZigtMT09YS5nKXJldHVybi1DYyhFKGEpKTtmb3IodmFyIGI9MCxjPTEsZD0wO2Q8YS5oLmxlbmd0aDtkKyspYis9RGMoYSxkKSpjLGMqPTQyOTQ5NjcyOTY7cmV0dXJuIGJ9O1xuQy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oYSl7YT1hfHwxMDtpZigyPmF8fDM2PGEpdGhyb3cgRXJyb3IoXCJyYWRpeCBvdXQgb2YgcmFuZ2U6IFwiK2EpO2lmKEcodGhpcykpcmV0dXJuXCIwXCI7aWYoLTE9PXRoaXMuZylyZXR1cm5cIi1cIitFKHRoaXMpLnRvU3RyaW5nKGEpO2Zvcih2YXIgYj1GKE1hdGgucG93KGEsNikpLGM9dGhpcyxkPVwiXCI7Oyl7dmFyIGU9RWMoYyxiKSxjPUZjKGMsZS5tdWx0aXBseShiKSksZj0oKDA8Yy5oLmxlbmd0aD9jLmhbMF06Yy5nKT4+PjApLnRvU3RyaW5nKGEpLGM9ZTtpZihHKGMpKXJldHVybiBmK2Q7Zm9yKDs2PmYubGVuZ3RoOylmPVwiMFwiK2Y7ZD1cIlwiK2YrZH19O1xudmFyIEg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMD5iPzA6YjxhLmgubGVuZ3RoP2EuaFtiXTphLmd9LERjPWZ1bmN0aW9uKGEsYil7YT1IKGEsYik7cmV0dXJuIDA8PWE/YTo0Mjk0OTY3Mjk2K2F9LEc9ZnVuY3Rpb24oYSl7aWYoMCE9YS5nKXJldHVybiExO2Zvcih2YXIgYj0wO2I8YS5oLmxlbmd0aDtiKyspaWYoMCE9YS5oW2JdKXJldHVybiExO3JldHVybiEwfTtDLnByb3RvdHlwZS5HYj1mdW5jdGlvbihhKXtpZih0aGlzLmchPWEuZylyZXR1cm4hMTtmb3IodmFyIGI9TWF0aC5tYXgodGhpcy5oLmxlbmd0aCxhLmgubGVuZ3RoKSxjPTA7YzxiO2MrKylpZihIKHRoaXMsYykhPUgoYSxjKSlyZXR1cm4hMTtyZXR1cm4hMH07Qy5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihhKXthPUZjKHRoaXMsYSk7cmV0dXJuLTE9PWEuZz8tMTpHKGEpPzA6MX07XG52YXIgRT1mdW5jdGlvbihhKXtmb3IodmFyIGI9YS5oLmxlbmd0aCxjPVtdLGQ9MDtkPGI7ZCsrKWNbZF09fmEuaFtkXTtyZXR1cm4obmV3IEMoYyx+YS5nKSkuYWRkKEFjKX07Qy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1NYXRoLm1heCh0aGlzLmgubGVuZ3RoLGEuaC5sZW5ndGgpLGM9W10sZD0wLGU9MDtlPD1iO2UrKyl7dmFyIGY9ZCsoSCh0aGlzLGUpJjY1NTM1KSsoSChhLGUpJjY1NTM1KSxnPShmPj4+MTYpKyhIKHRoaXMsZSk+Pj4xNikrKEgoYSxlKT4+PjE2KSxkPWc+Pj4xNixmPWYmNjU1MzUsZz1nJjY1NTM1O2NbZV09Zzw8MTZ8Zn1yZXR1cm4gbmV3IEMoYyxjW2MubGVuZ3RoLTFdJi0yMTQ3NDgzNjQ4Py0xOjApfTt2YXIgRmM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5hZGQoRShiKSl9O1xuQy5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24oYSl7aWYoRyh0aGlzKXx8RyhhKSlyZXR1cm4gRDtpZigtMT09dGhpcy5nKXJldHVybi0xPT1hLmc/RSh0aGlzKS5tdWx0aXBseShFKGEpKTpFKEUodGhpcykubXVsdGlwbHkoYSkpO2lmKC0xPT1hLmcpcmV0dXJuIEUodGhpcy5tdWx0aXBseShFKGEpKSk7aWYoMD50aGlzLmNvbXBhcmUoQmMpJiYwPmEuY29tcGFyZShCYykpcmV0dXJuIEYoQ2ModGhpcykqQ2MoYSkpO2Zvcih2YXIgYj10aGlzLmgubGVuZ3RoK2EuaC5sZW5ndGgsYz1bXSxkPTA7ZDwyKmI7ZCsrKWNbZF09MDtmb3IoZD0wO2Q8dGhpcy5oLmxlbmd0aDtkKyspZm9yKHZhciBlPTA7ZTxhLmgubGVuZ3RoO2UrKyl7dmFyIGY9SCh0aGlzLGQpPj4+MTYsZz1IKHRoaXMsZCkmNjU1MzUsaz1IKGEsZSk+Pj4xNixyPUgoYSxlKSY2NTUzNTtjWzIqZCsyKmVdKz1nKnI7R2MoYywyKmQrMiplKTtjWzIqZCsyKmUrMV0rPWYqcjtHYyhjLDIqZCsyKmUrMSk7Y1syKmQrMiplKzFdKz1cbmcqaztHYyhjLDIqZCsyKmUrMSk7Y1syKmQrMiplKzJdKz1mKms7R2MoYywyKmQrMiplKzIpfWZvcihkPTA7ZDxiO2QrKyljW2RdPWNbMipkKzFdPDwxNnxjWzIqZF07Zm9yKGQ9YjtkPDIqYjtkKyspY1tkXT0wO3JldHVybiBuZXcgQyhjLDApfTtcbnZhciBHYz1mdW5jdGlvbihhLGIpe2Zvcig7KGFbYl0mNjU1MzUpIT1hW2JdOylhW2IrMV0rPWFbYl0+Pj4xNixhW2JdJj02NTUzNSxiKyt9LEVjPWZ1bmN0aW9uKGEsYil7aWYoRyhiKSl0aHJvdyBFcnJvcihcImRpdmlzaW9uIGJ5IHplcm9cIik7aWYoRyhhKSlyZXR1cm4gRDtpZigtMT09YS5nKXJldHVybi0xPT1iLmc/RWMoRShhKSxFKGIpKTpFKEVjKEUoYSksYikpO2lmKC0xPT1iLmcpcmV0dXJuIEUoRWMoYSxFKGIpKSk7aWYoMzA8YS5oLmxlbmd0aCl7aWYoLTE9PWEuZ3x8LTE9PWIuZyl0aHJvdyBFcnJvcihcInNsb3dEaXZpZGVfIG9ubHkgd29ya3Mgd2l0aCBwb3NpdGl2ZSBpbnRlZ2Vycy5cIik7Zm9yKHZhciBjPUFjOzA+PWIuY29tcGFyZShhKTspYz1jLnNoaWZ0TGVmdCgxKSxiPWIuc2hpZnRMZWZ0KDEpO3ZhciBkPUhjKGMsMSksZT1IYyhiLDEpLGY7Yj1IYyhiLDIpO2ZvcihjPUhjKGMsMik7IUcoYik7KWY9ZS5hZGQoYiksMD49Zi5jb21wYXJlKGEpJiYoZD1kLmFkZChjKSxcbmU9ZiksYj1IYyhiLDEpLGM9SGMoYywxKTtyZXR1cm4gZH1mb3IoYz1EOzA8PWEuY29tcGFyZShiKTspe2Q9TWF0aC5tYXgoMSxNYXRoLmZsb29yKENjKGEpL0NjKGIpKSk7ZT1NYXRoLmNlaWwoTWF0aC5sb2coZCkvTWF0aC5MTjIpO2U9NDg+PWU/MTpNYXRoLnBvdygyLGUtNDgpO2Y9RihkKTtmb3IodmFyIGc9Zi5tdWx0aXBseShiKTstMT09Zy5nfHwwPGcuY29tcGFyZShhKTspZC09ZSxmPUYoZCksZz1mLm11bHRpcGx5KGIpO0coZikmJihmPUFjKTtjPWMuYWRkKGYpO2E9RmMoYSxnKX1yZXR1cm4gY30sSWM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9TWF0aC5tYXgoYS5oLmxlbmd0aCxiLmgubGVuZ3RoKSxkPVtdLGU9MDtlPGM7ZSsrKWRbZV09SChhLGUpfEgoYixlKTtyZXR1cm4gbmV3IEMoZCxhLmd8Yi5nKX07XG5DLnByb3RvdHlwZS5zaGlmdExlZnQ9ZnVuY3Rpb24oYSl7dmFyIGI9YT4+NTthJT0zMjtmb3IodmFyIGM9dGhpcy5oLmxlbmd0aCtiKygwPGE/MTowKSxkPVtdLGU9MDtlPGM7ZSsrKWRbZV09MDxhP0godGhpcyxlLWIpPDxhfEgodGhpcyxlLWItMSk+Pj4zMi1hOkgodGhpcyxlLWIpO3JldHVybiBuZXcgQyhkLHRoaXMuZyl9O3ZhciBIYz1mdW5jdGlvbihhLGIpe3ZhciBjPWI+PjU7YiU9MzI7Zm9yKHZhciBkPWEuaC5sZW5ndGgtYyxlPVtdLGY9MDtmPGQ7ZisrKWVbZl09MDxiP0goYSxmK2MpPj4+YnxIKGEsZitjKzEpPDwzMi1iOkgoYSxmK2MpO3JldHVybiBuZXcgQyhlLGEuZyl9O3ZhciBKYz1mdW5jdGlvbihhLGIpe3RoaXMucWI9YTt0aGlzLm5hPWJ9O0pjLnByb3RvdHlwZS5HYj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5uYT09YS5uYSYmdGhpcy5xYi5HYihXYShhLnFiKSl9O0pjLnByb3RvdHlwZS50b1N0cmluZz1jYTtcbnZhciBNYz1mdW5jdGlvbihhKXt0cnl7dmFyIGI7aWYoYj0wPT1hLmxhc3RJbmRleE9mKFwiW1wiLDApKXt2YXIgYz1hLmxlbmd0aC0xO2I9MDw9YyYmYS5pbmRleE9mKFwiXVwiLGMpPT1jfXJldHVybiBiP25ldyBLYyhhLnN1YnN0cmluZygxLGEubGVuZ3RoLTEpKTpuZXcgTGMoYSl9Y2F0Y2goZCl7cmV0dXJuIG51bGx9fSxMYz1mdW5jdGlvbihhKXt2YXIgYj1EO2lmKGEgaW5zdGFuY2VvZiBDKXtpZigwIT1hLmd8fDA+YS5jb21wYXJlKEQpfHwwPGEuY29tcGFyZShOYykpdGhyb3cgRXJyb3IoXCJUaGUgYWRkcmVzcyBkb2VzIG5vdCBsb29rIGxpa2UgYW4gSVB2NC5cIik7Yj1XYShhKX1lbHNle2lmKCFPYy50ZXN0KGEpKXRocm93IEVycm9yKGErXCIgZG9lcyBub3QgbG9vayBsaWtlIGFuIElQdjQgYWRkcmVzcy5cIik7dmFyIGM9YS5zcGxpdChcIi5cIik7aWYoNCE9Yy5sZW5ndGgpdGhyb3cgRXJyb3IoYStcIiBkb2VzIG5vdCBsb29rIGxpa2UgYW4gSVB2NCBhZGRyZXNzLlwiKTtmb3IodmFyIGQ9MDtkPFxuYy5sZW5ndGg7ZCsrKXt2YXIgZTtlPWNbZF07dmFyIGY9TnVtYmVyKGUpO2U9MD09ZiYmL15bXFxzXFx4YTBdKiQvLnRlc3QoZSk/TmFOOmY7aWYoaXNOYU4oZSl8fDA+ZXx8MjU1PGV8fDEhPWNbZF0ubGVuZ3RoJiYwPT1jW2RdLmxhc3RJbmRleE9mKFwiMFwiLDApKXRocm93IEVycm9yKFwiSW4gXCIrYStcIiwgb2N0ZXQgXCIrZCtcIiBpcyBub3QgdmFsaWRcIik7ZT1GKGUpO2I9SWMoYi5zaGlmdExlZnQoOCksZSl9fUpjLmNhbGwodGhpcyxiLDQpfTt0KExjLEpjKTt2YXIgT2M9L15bMC05Ll0qJC8sTmM9RmMoQWMuc2hpZnRMZWZ0KDMyKSxBYyk7TGMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5EYSlyZXR1cm4gdGhpcy5EYTtmb3IodmFyIGE9RGModGhpcy5xYiwwKSxiPVtdLGM9MzswPD1jO2MtLSliW2NdPVN0cmluZyhhJjI1NSksYT4+Pj04O3JldHVybiB0aGlzLkRhPWIuam9pbihcIi5cIil9O1xudmFyIEtjPWZ1bmN0aW9uKGEpe3ZhciBiPUQ7aWYoYSBpbnN0YW5jZW9mIEMpe2lmKDAhPWEuZ3x8MD5hLmNvbXBhcmUoRCl8fDA8YS5jb21wYXJlKFBjKSl0aHJvdyBFcnJvcihcIlRoZSBhZGRyZXNzIGRvZXMgbm90IGxvb2sgbGlrZSBhIHZhbGlkIElQdjYuXCIpO2I9V2EoYSl9ZWxzZXtpZighUWMudGVzdChhKSl0aHJvdyBFcnJvcihhK1wiIGlzIG5vdCBhIHZhbGlkIElQdjYgYWRkcmVzcy5cIik7dmFyIGM9YS5zcGxpdChcIjpcIik7aWYoLTEhPWNbYy5sZW5ndGgtMV0uaW5kZXhPZihcIi5cIikpe2E9RGMoV2EoKG5ldyBMYyhjW2MubGVuZ3RoLTFdKSkucWIpLDApO3ZhciBkPVtdO2QucHVzaCgoYT4+PjE2JjY1NTM1KS50b1N0cmluZygxNikpO2QucHVzaCgoYSY2NTUzNSkudG9TdHJpbmcoMTYpKTtLYShjLGMubGVuZ3RoLTEpO1FhKGMsZCk7YT1jLmpvaW4oXCI6XCIpfWQ9YS5zcGxpdChcIjo6XCIpO2lmKDI8ZC5sZW5ndGh8fDE9PWQubGVuZ3RoJiY4IT1jLmxlbmd0aCl0aHJvdyBFcnJvcihhK1xuXCIgaXMgbm90IGEgdmFsaWQgSVB2NiBhZGRyZXNzLlwiKTtpZigxPGQubGVuZ3RoKXtjPWRbMF0uc3BsaXQoXCI6XCIpO2Q9ZFsxXS5zcGxpdChcIjpcIik7MT09Yy5sZW5ndGgmJlwiXCI9PWNbMF0mJihjPVtdKTsxPT1kLmxlbmd0aCYmXCJcIj09ZFswXSYmKGQ9W10pO3ZhciBlPTgtKGMubGVuZ3RoK2QubGVuZ3RoKTtpZigxPmUpYz1bXTtlbHNle2Zvcih2YXIgZj1bXSxnPTA7ZzxlO2crKylmW2ddPVwiMFwiO2M9T2EoYyxmLGQpfX1pZig4IT1jLmxlbmd0aCl0aHJvdyBFcnJvcihhK1wiIGlzIG5vdCBhIHZhbGlkIElQdjYgYWRkcmVzc1wiKTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKXtlPXpjKGNbZF0sMTYpO2lmKDA+ZS5jb21wYXJlKEQpfHwwPGUuY29tcGFyZShSYykpdGhyb3cgRXJyb3IoY1tkXStcIiBpbiBcIithK1wiIGlzIG5vdCBhIHZhbGlkIGhleHRldC5cIik7Yj1JYyhiLnNoaWZ0TGVmdCgxNiksZSl9fUpjLmNhbGwodGhpcyxiLDYpfTt0KEtjLEpjKTtcbnZhciBRYz0vXihbYS1mQS1GMC05XSo6KXsyfVthLWZBLUYwLTk6Ll0qJC8sUmM9eWMoNjU1MzUpLFBjPUZjKEFjLnNoaWZ0TGVmdCgxMjgpLEFjKTtLYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLkRhKXJldHVybiB0aGlzLkRhO2Zvcih2YXIgYT1bXSxiPTM7MDw9YjtiLS0pe3ZhciBjPURjKHRoaXMucWIsYiksZD1jJjY1NTM1O2EucHVzaCgoYz4+PjE2KS50b1N0cmluZygxNikpO2EucHVzaChkLnRvU3RyaW5nKDE2KSl9Zm9yKHZhciBjPWI9LTEsZT1kPTAsZj0wO2Y8YS5sZW5ndGg7ZisrKVwiMFwiPT1hW2ZdPyhlKyssLTE9PWMmJihjPWYpLGU+ZCYmKGQ9ZSxiPWMpKTooYz0tMSxlPTApOzA8ZCYmKGIrZD09YS5sZW5ndGgmJmEucHVzaChcIlwiKSxhLnNwbGljZShiLGQsXCJcIiksMD09YiYmKGE9W1wiXCJdLmNvbmNhdChhKSkpO3JldHVybiB0aGlzLkRhPWEuam9pbihcIjpcIil9O3ZhciBUYz1mdW5jdGlvbigpe3RoaXMuWWI9XCJcIjt0aGlzLlBkPVNjfTtUYy5wcm90b3R5cGUuUGI9ITA7VGMucHJvdG90eXBlLktiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWWJ9O1RjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiVHJ1c3RlZFJlc291cmNlVXJse1wiK3RoaXMuWWIrXCJ9XCJ9O3ZhciBTYz17fTt2YXIgVmM9ZnVuY3Rpb24oKXt0aGlzLmphPVwiXCI7dGhpcy5NZD1VY307VmMucHJvdG90eXBlLlBiPSEwO1ZjLnByb3RvdHlwZS5LYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmphfTtWYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlNhZmVIdG1se1wiK3RoaXMuamErXCJ9XCJ9O3ZhciBXYz1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgVmMmJmEuY29uc3RydWN0b3I9PT1WYyYmYS5NZD09PVVjKXJldHVybiBhLmphO3phKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgU2FmZUh0bWwsIGdvdCAnXCIrYStcIicgb2YgdHlwZSBcIittKGEpKTtyZXR1cm5cInR5cGVfZXJyb3I6U2FmZUh0bWxcIn0sVWM9e307VmMucHJvdG90eXBlLnFlPWZ1bmN0aW9uKGEpe3RoaXMuamE9YTtyZXR1cm4gdGhpc307IWhiJiYhenx8eiYmOTw9TnVtYmVyKHBiKXx8aGImJkEoXCIxLjkuMVwiKTt6JiZBKFwiOVwiKTt2YXIgWWM9ZnVuY3Rpb24oYSxiKXtSYShiLGZ1bmN0aW9uKGIsZCl7XCJzdHlsZVwiPT1kP2Euc3R5bGUuY3NzVGV4dD1iOlwiY2xhc3NcIj09ZD9hLmNsYXNzTmFtZT1iOlwiZm9yXCI9PWQ/YS5odG1sRm9yPWI6WGMuaGFzT3duUHJvcGVydHkoZCk/YS5zZXRBdHRyaWJ1dGUoWGNbZF0sYik6MD09ZC5sYXN0SW5kZXhPZihcImFyaWEtXCIsMCl8fDA9PWQubGFzdEluZGV4T2YoXCJkYXRhLVwiLDApP2Euc2V0QXR0cmlidXRlKGQsYik6YVtkXT1ifSl9LFhjPXtjZWxscGFkZGluZzpcImNlbGxQYWRkaW5nXCIsY2VsbHNwYWNpbmc6XCJjZWxsU3BhY2luZ1wiLGNvbHNwYW46XCJjb2xTcGFuXCIsZnJhbWVib3JkZXI6XCJmcmFtZUJvcmRlclwiLGhlaWdodDpcImhlaWdodFwiLG1heGxlbmd0aDpcIm1heExlbmd0aFwiLG5vbmNlOlwibm9uY2VcIixyb2xlOlwicm9sZVwiLHJvd3NwYW46XCJyb3dTcGFuXCIsdHlwZTpcInR5cGVcIix1c2VtYXA6XCJ1c2VNYXBcIix2YWxpZ246XCJ2QWxpZ25cIix3aWR0aDpcIndpZHRoXCJ9O3ZhciBaYz1mdW5jdGlvbihhLGIsYyl7dGhpcy5zZT1jO3RoaXMuVmQ9YTt0aGlzLkRlPWI7dGhpcy5VYj0wO3RoaXMuTmI9bnVsbH07WmMucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciBhOzA8dGhpcy5VYj8odGhpcy5VYi0tLGE9dGhpcy5OYix0aGlzLk5iPWEubmV4dCxhLm5leHQ9bnVsbCk6YT10aGlzLlZkKCk7cmV0dXJuIGF9O1pjLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oYSl7dGhpcy5EZShhKTt0aGlzLlViPHRoaXMuc2UmJih0aGlzLlViKyssYS5uZXh0PXRoaXMuTmIsdGhpcy5OYj1hKX07dmFyICRjPWZ1bmN0aW9uKGEpe2wuc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGE7fSwwKX0sYWQsYmQ9ZnVuY3Rpb24oKXt2YXIgYT1sLk1lc3NhZ2VDaGFubmVsO1widW5kZWZpbmVkXCI9PT10eXBlb2YgYSYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wb3N0TWVzc2FnZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXImJiF5KFwiUHJlc3RvXCIpJiYoYT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJRlJBTUVcIik7YS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2Euc3JjPVwiXCI7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGEpO3ZhciBiPWEuY29udGVudFdpbmRvdyxhPWIuZG9jdW1lbnQ7YS5vcGVuKCk7YS53cml0ZShcIlwiKTthLmNsb3NlKCk7dmFyIGM9XCJjYWxsSW1tZWRpYXRlXCIrTWF0aC5yYW5kb20oKSxkPVwiZmlsZTpcIj09Yi5sb2NhdGlvbi5wcm90b2NvbD9cIipcIjpiLmxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitiLmxvY2F0aW9uLmhvc3QsXG5hPXEoZnVuY3Rpb24oYSl7aWYoKFwiKlwiPT1kfHxhLm9yaWdpbj09ZCkmJmEuZGF0YT09Yyl0aGlzLnBvcnQxLm9ubWVzc2FnZSgpfSx0aGlzKTtiLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYSwhMSk7dGhpcy5wb3J0MT17fTt0aGlzLnBvcnQyPXtwb3N0TWVzc2FnZTpmdW5jdGlvbigpe2IucG9zdE1lc3NhZ2UoYyxkKX19fSk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhJiYheShcIlRyaWRlbnRcIikmJiF5KFwiTVNJRVwiKSl7dmFyIGI9bmV3IGEsYz17fSxkPWM7Yi5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT1jLm5leHQpe2M9Yy5uZXh0O3ZhciBhPWMuWmM7Yy5aYz1udWxsO2EoKX19O3JldHVybiBmdW5jdGlvbihhKXtkLm5leHQ9e1pjOmF9O2Q9ZC5uZXh0O2IucG9ydDIucG9zdE1lc3NhZ2UoMCl9fXJldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU0NSSVBUXCIpP1xuZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNDUklQVFwiKTtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2Iub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2I9bnVsbDthKCk7YT1udWxsfTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYil9OmZ1bmN0aW9uKGEpe2wuc2V0VGltZW91dChhLDApfX07dmFyIGNkPWZ1bmN0aW9uKCl7dGhpcy5tYz10aGlzLkthPW51bGx9LGVkPW5ldyBaYyhmdW5jdGlvbigpe3JldHVybiBuZXcgZGR9LGZ1bmN0aW9uKGEpe2EucmVzZXQoKX0sMTAwKTtjZC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZWQuZ2V0KCk7Yy5zZXQoYSxiKTt0aGlzLm1jP3RoaXMubWMubmV4dD1jOih3KCF0aGlzLkthKSx0aGlzLkthPWMpO3RoaXMubWM9Y307Y2QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBhPW51bGw7dGhpcy5LYSYmKGE9dGhpcy5LYSx0aGlzLkthPXRoaXMuS2EubmV4dCx0aGlzLkthfHwodGhpcy5tYz1udWxsKSxhLm5leHQ9bnVsbCk7cmV0dXJuIGF9O3ZhciBkZD1mdW5jdGlvbigpe3RoaXMubmV4dD10aGlzLnNjb3BlPXRoaXMud2M9bnVsbH07ZGQucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMud2M9YTt0aGlzLnNjb3BlPWI7dGhpcy5uZXh0PW51bGx9O1xuZGQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuc2NvcGU9dGhpcy53Yz1udWxsfTt2YXIgamQ9ZnVuY3Rpb24oYSxiKXtmZHx8Z2QoKTtoZHx8KGZkKCksaGQ9ITApO2lkLmFkZChhLGIpfSxmZCxnZD1mdW5jdGlvbigpe3ZhciBhPWwuUHJvbWlzZTtpZigtMSE9U3RyaW5nKGEpLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpKXt2YXIgYj1hLnJlc29sdmUodm9pZCAwKTtmZD1mdW5jdGlvbigpe2IudGhlbihrZCl9fWVsc2UgZmQ9ZnVuY3Rpb24oKXt2YXIgYT1rZDshcChsLnNldEltbWVkaWF0ZSl8fGwuV2luZG93JiZsLldpbmRvdy5wcm90b3R5cGUmJiF5KFwiRWRnZVwiKSYmbC5XaW5kb3cucHJvdG90eXBlLnNldEltbWVkaWF0ZT09bC5zZXRJbW1lZGlhdGU/KGFkfHwoYWQ9YmQoKSksYWQoYSkpOmwuc2V0SW1tZWRpYXRlKGEpfX0saGQ9ITEsaWQ9bmV3IGNkLGtkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhO2E9aWQucmVtb3ZlKCk7KXt0cnl7YS53Yy5jYWxsKGEuc2NvcGUpfWNhdGNoKGIpeyRjKGIpfWVkLnB1dChhKX1oZD0hMX07dmFyIGxkPWZ1bmN0aW9uKGEpe2EucHJvdG90eXBlLnRoZW49YS5wcm90b3R5cGUudGhlbjthLnByb3RvdHlwZS4kZ29vZ19UaGVuYWJsZT0hMH0sbWQ9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuITE7dHJ5e3JldHVybiEhYS4kZ29vZ19UaGVuYWJsZX1jYXRjaChiKXtyZXR1cm4hMX19O3ZhciBJPWZ1bmN0aW9uKGEsYil7dGhpcy5GPTA7dGhpcy5rYT12b2lkIDA7dGhpcy5OYT10aGlzLmZhPXRoaXMubz1udWxsO3RoaXMuTGI9dGhpcy52Yz0hMTtpZihhIT1iYSl0cnl7dmFyIGM9dGhpczthLmNhbGwoYixmdW5jdGlvbihhKXtuZChjLDIsYSl9LGZ1bmN0aW9uKGEpe2lmKCEoYSBpbnN0YW5jZW9mIG9kKSl0cnl7aWYoYSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGE7dGhyb3cgRXJyb3IoXCJQcm9taXNlIHJlamVjdGVkLlwiKTt9Y2F0Y2goZSl7fW5kKGMsMyxhKX0pfWNhdGNoKGQpe25kKHRoaXMsMyxkKX19LHBkPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuY29udGV4dD10aGlzLlRhPXRoaXMuRmE9dGhpcy5jaGlsZD1udWxsO3RoaXMuamI9ITF9O3BkLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuY29udGV4dD10aGlzLlRhPXRoaXMuRmE9dGhpcy5jaGlsZD1udWxsO3RoaXMuamI9ITF9O1xudmFyIHFkPW5ldyBaYyhmdW5jdGlvbigpe3JldHVybiBuZXcgcGR9LGZ1bmN0aW9uKGEpe2EucmVzZXQoKX0sMTAwKSxyZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9cWQuZ2V0KCk7ZC5GYT1hO2QuVGE9YjtkLmNvbnRleHQ9YztyZXR1cm4gZH0sSj1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgSSlyZXR1cm4gYTt2YXIgYj1uZXcgSShiYSk7bmQoYiwyLGEpO3JldHVybiBifSxLPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgSShmdW5jdGlvbihiLGMpe2MoYSl9KX0sdGQ9ZnVuY3Rpb24oYSxiLGMpe3NkKGEsYixjLG51bGwpfHxqZChrYShiLGEpKX0sdWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBJKGZ1bmN0aW9uKGIpe3ZhciBjPWEubGVuZ3RoLGQ9W107aWYoYylmb3IodmFyIGU9ZnVuY3Rpb24oYSxlLGYpe2MtLTtkW2FdPWU/e2VlOiEwLHZhbHVlOmZ9OntlZTohMSxyZWFzb246Zn07MD09YyYmYihkKX0sZj0wLGc7ZjxhLmxlbmd0aDtmKyspZz1hW2ZdLHRkKGcsa2EoZSxmLCEwKSxcbmthKGUsZiwhMSkpO2Vsc2UgYihkKX0pfTtJLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGEsYixjKXtudWxsIT1hJiZDYShhLFwib3B0X29uRnVsZmlsbGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLlwiKTtudWxsIT1iJiZDYShiLFwib3B0X29uUmVqZWN0ZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgcGFzcyBvcHRfY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQgb2YgdGhlIHRoaXJkP1wiKTtyZXR1cm4gdmQodGhpcyxwKGEpP2E6bnVsbCxwKGIpP2I6bnVsbCxjKX07bGQoSSk7dmFyIHhkPWZ1bmN0aW9uKGEsYil7Yj1yZChiLGIsdm9pZCAwKTtiLmpiPSEwO3dkKGEsYik7cmV0dXJuIGF9O0kucHJvdG90eXBlLmw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdmQodGhpcyxudWxsLGEsYil9O0kucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXswPT10aGlzLkYmJmpkKGZ1bmN0aW9uKCl7dmFyIGI9bmV3IG9kKGEpO3lkKHRoaXMsYil9LHRoaXMpfTtcbnZhciB5ZD1mdW5jdGlvbihhLGIpe2lmKDA9PWEuRilpZihhLm8pe3ZhciBjPWEubztpZihjLmZhKXtmb3IodmFyIGQ9MCxlPW51bGwsZj1udWxsLGc9Yy5mYTtnJiYoZy5qYnx8KGQrKyxnLmNoaWxkPT1hJiYoZT1nKSwhKGUmJjE8ZCkpKTtnPWcubmV4dCllfHwoZj1nKTtlJiYoMD09Yy5GJiYxPT1kP3lkKGMsYik6KGY/KGQ9Zix3KGMuZmEpLHcobnVsbCE9ZCksZC5uZXh0PT1jLk5hJiYoYy5OYT1kKSxkLm5leHQ9ZC5uZXh0Lm5leHQpOnpkKGMpLEFkKGMsZSwzLGIpKSl9YS5vPW51bGx9ZWxzZSBuZChhLDMsYil9LHdkPWZ1bmN0aW9uKGEsYil7YS5mYXx8MiE9YS5GJiYzIT1hLkZ8fEJkKGEpO3cobnVsbCE9Yi5GYSk7YS5OYT9hLk5hLm5leHQ9YjphLmZhPWI7YS5OYT1ifSx2ZD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1yZChudWxsLG51bGwsbnVsbCk7ZS5jaGlsZD1uZXcgSShmdW5jdGlvbihhLGcpe2UuRmE9Yj9mdW5jdGlvbihjKXt0cnl7dmFyIGU9Yi5jYWxsKGQsYyk7YShlKX1jYXRjaChzYSl7ZyhzYSl9fTpcbmE7ZS5UYT1jP2Z1bmN0aW9uKGIpe3RyeXt2YXIgZT1jLmNhbGwoZCxiKTt2b2lkIDA9PT1lJiZiIGluc3RhbmNlb2Ygb2Q/ZyhiKTphKGUpfWNhdGNoKHNhKXtnKHNhKX19Omd9KTtlLmNoaWxkLm89YTt3ZChhLGUpO3JldHVybiBlLmNoaWxkfTtJLnByb3RvdHlwZS5NZT1mdW5jdGlvbihhKXt3KDE9PXRoaXMuRik7dGhpcy5GPTA7bmQodGhpcywyLGEpfTtJLnByb3RvdHlwZS5OZT1mdW5jdGlvbihhKXt3KDE9PXRoaXMuRik7dGhpcy5GPTA7bmQodGhpcywzLGEpfTtcbnZhciBuZD1mdW5jdGlvbihhLGIsYyl7MD09YS5GJiYoYT09PWMmJihiPTMsYz1uZXcgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW5ub3QgcmVzb2x2ZSB0byBpdHNlbGZcIikpLGEuRj0xLHNkKGMsYS5NZSxhLk5lLGEpfHwoYS5rYT1jLGEuRj1iLGEubz1udWxsLEJkKGEpLDMhPWJ8fGMgaW5zdGFuY2VvZiBvZHx8Q2QoYSxjKSkpfSxzZD1mdW5jdGlvbihhLGIsYyxkKXtpZihhIGluc3RhbmNlb2YgSSlyZXR1cm4gbnVsbCE9YiYmQ2EoYixcIm9wdF9vbkZ1bGZpbGxlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi5cIiksbnVsbCE9YyYmQ2EoYyxcIm9wdF9vblJlamVjdGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiBEaWQgeW91IHBhc3Mgb3B0X2NvbnRleHQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkIG9mIHRoZSB0aGlyZD9cIiksd2QoYSxyZChifHxiYSxjfHxudWxsLGQpKSwhMDtpZihtZChhKSlyZXR1cm4gYS50aGVuKGIsYyxkKSwhMDtpZihoYShhKSl0cnl7dmFyIGU9YS50aGVuO2lmKHAoZSkpcmV0dXJuIERkKGEsXG5lLGIsYyxkKSwhMH1jYXRjaChmKXtyZXR1cm4gYy5jYWxsKGQsZiksITB9cmV0dXJuITF9LERkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ITEsZz1mdW5jdGlvbihhKXtmfHwoZj0hMCxjLmNhbGwoZSxhKSl9LGs9ZnVuY3Rpb24oYSl7Znx8KGY9ITAsZC5jYWxsKGUsYSkpfTt0cnl7Yi5jYWxsKGEsZyxrKX1jYXRjaChyKXtrKHIpfX0sQmQ9ZnVuY3Rpb24oYSl7YS52Y3x8KGEudmM9ITAsamQoYS4kZCxhKSl9LHpkPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7YS5mYSYmKGI9YS5mYSxhLmZhPWIubmV4dCxiLm5leHQ9bnVsbCk7YS5mYXx8KGEuTmE9bnVsbCk7bnVsbCE9YiYmdyhudWxsIT1iLkZhKTtyZXR1cm4gYn07SS5wcm90b3R5cGUuJGQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE7YT16ZCh0aGlzKTspQWQodGhpcyxhLHRoaXMuRix0aGlzLmthKTt0aGlzLnZjPSExfTtcbnZhciBBZD1mdW5jdGlvbihhLGIsYyxkKXtpZigzPT1jJiZiLlRhJiYhYi5qYilmb3IoO2EmJmEuTGI7YT1hLm8pYS5MYj0hMTtpZihiLmNoaWxkKWIuY2hpbGQubz1udWxsLEVkKGIsYyxkKTtlbHNlIHRyeXtiLmpiP2IuRmEuY2FsbChiLmNvbnRleHQpOkVkKGIsYyxkKX1jYXRjaChlKXtGZC5jYWxsKG51bGwsZSl9cWQucHV0KGIpfSxFZD1mdW5jdGlvbihhLGIsYyl7Mj09Yj9hLkZhLmNhbGwoYS5jb250ZXh0LGMpOmEuVGEmJmEuVGEuY2FsbChhLmNvbnRleHQsYyl9LENkPWZ1bmN0aW9uKGEsYil7YS5MYj0hMDtqZChmdW5jdGlvbigpe2EuTGImJkZkLmNhbGwobnVsbCxiKX0pfSxGZD0kYyxvZD1mdW5jdGlvbihhKXt1LmNhbGwodGhpcyxhKX07dChvZCx1KTtvZC5wcm90b3R5cGUubmFtZT1cImNhbmNlbFwiOy8qXG4gUG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBmcm9tIE1vY2hpS2l0LCByZWNlaXZlZCBieVxuIFRoZSBDbG9zdXJlIEF1dGhvcnMgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBBbGwgb3RoZXIgY29kZSBpcyBDb3B5cmlnaHRcbiAyMDA1LTIwMDkgVGhlIENsb3N1cmUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiovXG52YXIgR2Q9ZnVuY3Rpb24oYSxiKXt0aGlzLmRjPVtdO3RoaXMucGQ9YTt0aGlzLmFkPWJ8fG51bGw7dGhpcy5vYj10aGlzLlJhPSExO3RoaXMua2E9dm9pZCAwO3RoaXMuUGM9dGhpcy5VYz10aGlzLnFjPSExO3RoaXMua2M9MDt0aGlzLm89bnVsbDt0aGlzLnJjPTB9O0dkLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oYSl7aWYodGhpcy5SYSl0aGlzLmthIGluc3RhbmNlb2YgR2QmJnRoaXMua2EuY2FuY2VsKCk7ZWxzZXtpZih0aGlzLm8pe3ZhciBiPXRoaXMubztkZWxldGUgdGhpcy5vO2E/Yi5jYW5jZWwoYSk6KGIucmMtLSwwPj1iLnJjJiZiLmNhbmNlbCgpKX10aGlzLnBkP3RoaXMucGQuY2FsbCh0aGlzLmFkLHRoaXMpOnRoaXMuUGM9ITA7dGhpcy5SYXx8SGQodGhpcyxuZXcgSWQpfX07R2QucHJvdG90eXBlLiRjPWZ1bmN0aW9uKGEsYil7dGhpcy5xYz0hMTtKZCh0aGlzLGEsYil9O1xudmFyIEpkPWZ1bmN0aW9uKGEsYixjKXthLlJhPSEwO2Eua2E9YzthLm9iPSFiO0tkKGEpfSxNZD1mdW5jdGlvbihhKXtpZihhLlJhKXtpZighYS5QYyl0aHJvdyBuZXcgTGQ7YS5QYz0hMX19O0dkLnByb3RvdHlwZS5jYWxsYmFjaz1mdW5jdGlvbihhKXtNZCh0aGlzKTtOZChhKTtKZCh0aGlzLCEwLGEpfTtcbnZhciBIZD1mdW5jdGlvbihhLGIpe01kKGEpO05kKGIpO0pkKGEsITEsYil9LE5kPWZ1bmN0aW9uKGEpe3coIShhIGluc3RhbmNlb2YgR2QpLFwiQW4gZXhlY3V0aW9uIHNlcXVlbmNlIG1heSBub3QgYmUgaW5pdGlhdGVkIHdpdGggYSBibG9ja2luZyBEZWZlcnJlZC5cIil9LFJkPWZ1bmN0aW9uKGEpe3ZhciBiPU9kKFwiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvY2xpZW50LmpzP29ubG9hZD1cIitQZCk7UWQoYixudWxsLGEsdm9pZCAwKX0sUWQ9ZnVuY3Rpb24oYSxiLGMsZCl7dyghYS5VYyxcIkJsb2NraW5nIERlZmVycmVkcyBjYW4gbm90IGJlIHJlLXVzZWRcIik7YS5kYy5wdXNoKFtiLGMsZF0pO2EuUmEmJktkKGEpfTtHZC5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPW5ldyBJKGZ1bmN0aW9uKGEsYil7ZD1hO2U9Yn0pO1FkKHRoaXMsZCxmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgSWQ/Zi5jYW5jZWwoKTplKGEpfSk7cmV0dXJuIGYudGhlbihhLGIsYyl9O1xubGQoR2QpO1xudmFyIFNkPWZ1bmN0aW9uKGEpe3JldHVybiBHYShhLmRjLGZ1bmN0aW9uKGEpe3JldHVybiBwKGFbMV0pfSl9LEtkPWZ1bmN0aW9uKGEpe2lmKGEua2MmJmEuUmEmJlNkKGEpKXt2YXIgYj1hLmtjLGM9VGRbYl07YyYmKGwuY2xlYXJUaW1lb3V0KGMucGIpLGRlbGV0ZSBUZFtiXSk7YS5rYz0wfWEubyYmKGEuby5yYy0tLGRlbGV0ZSBhLm8pO2Zvcih2YXIgYj1hLmthLGQ9Yz0hMTthLmRjLmxlbmd0aCYmIWEucWM7KXt2YXIgZT1hLmRjLnNoaWZ0KCksZj1lWzBdLGc9ZVsxXSxlPWVbMl07aWYoZj1hLm9iP2c6Zil0cnl7dmFyIGs9Zi5jYWxsKGV8fGEuYWQsYik7dm9pZCAwIT09ayYmKGEub2I9YS5vYiYmKGs9PWJ8fGsgaW5zdGFuY2VvZiBFcnJvciksYS5rYT1iPWspO2lmKG1kKGIpfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgbC5Qcm9taXNlJiZiIGluc3RhbmNlb2YgbC5Qcm9taXNlKWQ9ITAsYS5xYz0hMH1jYXRjaChyKXtiPXIsYS5vYj0hMCxTZChhKXx8KGM9ITApfX1hLmthPWI7ZCYmXG4oaz1xKGEuJGMsYSwhMCksZD1xKGEuJGMsYSwhMSksYiBpbnN0YW5jZW9mIEdkPyhRZChiLGssZCksYi5VYz0hMCk6Yi50aGVuKGssZCkpO2MmJihiPW5ldyBVZChiKSxUZFtiLnBiXT1iLGEua2M9Yi5wYil9LExkPWZ1bmN0aW9uKCl7dS5jYWxsKHRoaXMpfTt0KExkLHUpO0xkLnByb3RvdHlwZS5tZXNzYWdlPVwiRGVmZXJyZWQgaGFzIGFscmVhZHkgZmlyZWRcIjtMZC5wcm90b3R5cGUubmFtZT1cIkFscmVhZHlDYWxsZWRFcnJvclwiO3ZhciBJZD1mdW5jdGlvbigpe3UuY2FsbCh0aGlzKX07dChJZCx1KTtJZC5wcm90b3R5cGUubWVzc2FnZT1cIkRlZmVycmVkIHdhcyBjYW5jZWxlZFwiO0lkLnByb3RvdHlwZS5uYW1lPVwiQ2FuY2VsZWRFcnJvclwiO3ZhciBVZD1mdW5jdGlvbihhKXt0aGlzLnBiPWwuc2V0VGltZW91dChxKHRoaXMuTGUsdGhpcyksMCk7dGhpcy5KPWF9O1xuVWQucHJvdG90eXBlLkxlPWZ1bmN0aW9uKCl7dyhUZFt0aGlzLnBiXSxcIkNhbm5vdCB0aHJvdyBhbiBlcnJvciB0aGF0IGlzIG5vdCBzY2hlZHVsZWQuXCIpO2RlbGV0ZSBUZFt0aGlzLnBiXTt0aHJvdyB0aGlzLko7fTt2YXIgVGQ9e307dmFyIE9kPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBUYztiLlliPWE7cmV0dXJuIFZkKGIpfSxWZD1mdW5jdGlvbihhKXt2YXIgYj17fSxjPWIuZG9jdW1lbnR8fGRvY3VtZW50LGQ7YSBpbnN0YW5jZW9mIFRjJiZhLmNvbnN0cnVjdG9yPT09VGMmJmEuUGQ9PT1TYz9kPWEuWWI6KHphKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgVHJ1c3RlZFJlc291cmNlVXJsLCBnb3QgJ1wiK2ErXCInIG9mIHR5cGUgXCIrbShhKSksZD1cInR5cGVfZXJyb3I6VHJ1c3RlZFJlc291cmNlVXJsXCIpO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTQ1JJUFRcIik7YT17eGQ6ZSx6Yjp2b2lkIDB9O3ZhciBmPW5ldyBHZChXZCxhKSxnPW51bGwsaz1udWxsIT1iLnRpbWVvdXQ/Yi50aW1lb3V0OjVFMzswPGsmJihnPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7WGQoZSwhMCk7SGQoZixuZXcgWWQoMSxcIlRpbWVvdXQgcmVhY2hlZCBmb3IgbG9hZGluZyBzY3JpcHQgXCIrZCkpfSxrKSxhLnpiPWcpO2Uub25sb2FkPVxuZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtlLnJlYWR5U3RhdGUmJlwibG9hZGVkXCIhPWUucmVhZHlTdGF0ZSYmXCJjb21wbGV0ZVwiIT1lLnJlYWR5U3RhdGV8fChYZChlLGIuWGV8fCExLGcpLGYuY2FsbGJhY2sobnVsbCkpfTtlLm9uZXJyb3I9ZnVuY3Rpb24oKXtYZChlLCEwLGcpO0hkKGYsbmV3IFlkKDAsXCJFcnJvciB3aGlsZSBsb2FkaW5nIHNjcmlwdCBcIitkKSl9O2E9Yi5hdHRyaWJ1dGVzfHx7fTtZYShhLHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCIsY2hhcnNldDpcIlVURi04XCIsc3JjOmR9KTtZYyhlLGEpO1pkKGMpLmFwcGVuZENoaWxkKGUpO3JldHVybiBmfSxaZD1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj0oYXx8ZG9jdW1lbnQpLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiSEVBRFwiKSkmJjAhPWIubGVuZ3RoP2JbMF06YS5kb2N1bWVudEVsZW1lbnR9LFdkPWZ1bmN0aW9uKCl7aWYodGhpcyYmdGhpcy54ZCl7dmFyIGE9dGhpcy54ZDthJiZcIlNDUklQVFwiPT1hLnRhZ05hbWUmJlxuWGQoYSwhMCx0aGlzLnpiKX19LFhkPWZ1bmN0aW9uKGEsYixjKXtudWxsIT1jJiZsLmNsZWFyVGltZW91dChjKTthLm9ubG9hZD1iYTthLm9uZXJyb3I9YmE7YS5vbnJlYWR5c3RhdGVjaGFuZ2U9YmE7YiYmd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthJiZhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0sMCl9LFlkPWZ1bmN0aW9uKGEsYil7dmFyIGM9XCJKc2xvYWRlciBlcnJvciAoY29kZSAjXCIrYStcIilcIjtiJiYoYys9XCI6IFwiK2IpO3UuY2FsbCh0aGlzLGMpO3RoaXMuY29kZT1hfTt0KFlkLHUpO3ZhciAkZD1mdW5jdGlvbigpe3liLmNhbGwodGhpcyk7dGhpcy5ZPW5ldyBGYih0aGlzKTt0aGlzLlNkPXRoaXM7dGhpcy5GYz1udWxsfTt0KCRkLHliKTskZC5wcm90b3R5cGVbQmJdPSEwO2g9JGQucHJvdG90eXBlO2guYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyxkKXtMYih0aGlzLGEsYixjLGQpfTtoLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMsZCl7VWIodGhpcyxhLGIsYyxkKX07XG5oLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7YWUodGhpcyk7dmFyIGIsYz10aGlzLkZjO2lmKGMpe2I9W107Zm9yKHZhciBkPTE7YztjPWMuRmMpYi5wdXNoKGMpLHcoMUUzPisrZCxcImluZmluaXRlIGxvb3BcIil9Yz10aGlzLlNkO2Q9YS50eXBlfHxhO2lmKG4oYSkpYT1uZXcgemIoYSxjKTtlbHNlIGlmKGEgaW5zdGFuY2VvZiB6YilhLnRhcmdldD1hLnRhcmdldHx8YztlbHNle3ZhciBlPWE7YT1uZXcgemIoZCxjKTtZYShhLGUpfXZhciBlPSEwLGY7aWYoYilmb3IodmFyIGc9Yi5sZW5ndGgtMTshYS5XYSYmMDw9ZztnLS0pZj1hLmN1cnJlbnRUYXJnZXQ9YltnXSxlPWJlKGYsZCwhMCxhKSYmZTthLldhfHwoZj1hLmN1cnJlbnRUYXJnZXQ9YyxlPWJlKGYsZCwhMCxhKSYmZSxhLldhfHwoZT1iZShmLGQsITEsYSkmJmUpKTtpZihiKWZvcihnPTA7IWEuV2EmJmc8Yi5sZW5ndGg7ZysrKWY9YS5jdXJyZW50VGFyZ2V0PWJbZ10sZT1iZShmLGQsITEsYSkmJmU7cmV0dXJuIGV9O1xuaC5QYT1mdW5jdGlvbigpeyRkLlJjLlBhLmNhbGwodGhpcyk7aWYodGhpcy5ZKXt2YXIgYT10aGlzLlksYj0wLGM7Zm9yKGMgaW4gYS53KXtmb3IodmFyIGQ9YS53W2NdLGU9MDtlPGQubGVuZ3RoO2UrKykrK2IsRWIoZFtlXSk7ZGVsZXRlIGEud1tjXTthLkFiLS19fXRoaXMuRmM9bnVsbH07aC5saXN0ZW49ZnVuY3Rpb24oYSxiLGMsZCl7YWUodGhpcyk7cmV0dXJuIHRoaXMuWS5hZGQoU3RyaW5nKGEpLGIsITEsYyxkKX07XG52YXIgVGI9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLlkuYWRkKFN0cmluZyhiKSxjLCEwLGQsZSl9LGJlPWZ1bmN0aW9uKGEsYixjLGQpe2I9YS5ZLndbU3RyaW5nKGIpXTtpZighYilyZXR1cm4hMDtiPWIuY29uY2F0KCk7Zm9yKHZhciBlPSEwLGY9MDtmPGIubGVuZ3RoOysrZil7dmFyIGc9YltmXTtpZihnJiYhZy5hYiYmZy5FYj09Yyl7dmFyIGs9Zy5saXN0ZW5lcixyPWcuTWJ8fGcuc3JjO2cuRGImJkhiKGEuWSxnKTtlPSExIT09ay5jYWxsKHIsZCkmJmV9fXJldHVybiBlJiYwIT1kLndkfTskZC5wcm90b3R5cGUueGM9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuWS54YyhTdHJpbmcoYSksYixjLGQpfTt2YXIgYWU9ZnVuY3Rpb24oYSl7dyhhLlksXCJFdmVudCB0YXJnZXQgaXMgbm90IGluaXRpYWxpemVkLiBEaWQgeW91IGNhbGwgdGhlIHN1cGVyY2xhc3MgKGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KSBjb25zdHJ1Y3Rvcj9cIil9O3ZhciBjZT1cIlN0b3BJdGVyYXRpb25cImluIGw/bC5TdG9wSXRlcmF0aW9uOnttZXNzYWdlOlwiU3RvcEl0ZXJhdGlvblwiLHN0YWNrOlwiXCJ9LGRlPWZ1bmN0aW9uKCl7fTtkZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3Rocm93IGNlO307ZGUucHJvdG90eXBlLlJkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciBlZT1mdW5jdGlvbihhLGIpe3RoaXMuWj17fTt0aGlzLnM9W107dGhpcy5uYT10aGlzLmk9MDt2YXIgYz1hcmd1bWVudHMubGVuZ3RoO2lmKDE8Yyl7aWYoYyUyKXRocm93IEVycm9yKFwiVW5ldmVuIG51bWJlciBvZiBhcmd1bWVudHNcIik7Zm9yKHZhciBkPTA7ZDxjO2QrPTIpdGhpcy5zZXQoYXJndW1lbnRzW2RdLGFyZ3VtZW50c1tkKzFdKX1lbHNlIGEmJnRoaXMuYWRkQWxsKGEpfTtoPWVlLnByb3RvdHlwZTtoLmZkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07aC5UPWZ1bmN0aW9uKCl7ZmUodGhpcyk7Zm9yKHZhciBhPVtdLGI9MDtiPHRoaXMucy5sZW5ndGg7YisrKWEucHVzaCh0aGlzLlpbdGhpcy5zW2JdXSk7cmV0dXJuIGF9O2guaGE9ZnVuY3Rpb24oKXtmZSh0aGlzKTtyZXR1cm4gdGhpcy5zLmNvbmNhdCgpfTtoLmtiPWZ1bmN0aW9uKGEpe3JldHVybiBnZSh0aGlzLlosYSl9O1xuaC5HYj1mdW5jdGlvbihhLGIpe2lmKHRoaXM9PT1hKXJldHVybiEwO2lmKHRoaXMuaSE9YS5mZCgpKXJldHVybiExO2I9Ynx8aGU7ZmUodGhpcyk7Zm9yKHZhciBjLGQ9MDtjPXRoaXMuc1tkXTtkKyspaWYoIWIodGhpcy5nZXQoYyksYS5nZXQoYykpKXJldHVybiExO3JldHVybiEwfTt2YXIgaGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ9O2VlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIGdlKHRoaXMuWixhKT8oZGVsZXRlIHRoaXMuWlthXSx0aGlzLmktLSx0aGlzLm5hKyssdGhpcy5zLmxlbmd0aD4yKnRoaXMuaSYmZmUodGhpcyksITApOiExfTtcbnZhciBmZT1mdW5jdGlvbihhKXtpZihhLmkhPWEucy5sZW5ndGgpe2Zvcih2YXIgYj0wLGM9MDtiPGEucy5sZW5ndGg7KXt2YXIgZD1hLnNbYl07Z2UoYS5aLGQpJiYoYS5zW2MrK109ZCk7YisrfWEucy5sZW5ndGg9Y31pZihhLmkhPWEucy5sZW5ndGgpe2Zvcih2YXIgZT17fSxjPWI9MDtiPGEucy5sZW5ndGg7KWQ9YS5zW2JdLGdlKGUsZCl8fChhLnNbYysrXT1kLGVbZF09MSksYisrO2Eucy5sZW5ndGg9Y319O2g9ZWUucHJvdG90eXBlO2guZ2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGdlKHRoaXMuWixhKT90aGlzLlpbYV06Yn07aC5zZXQ9ZnVuY3Rpb24oYSxiKXtnZSh0aGlzLlosYSl8fCh0aGlzLmkrKyx0aGlzLnMucHVzaChhKSx0aGlzLm5hKyspO3RoaXMuWlthXT1ifTtcbmguYWRkQWxsPWZ1bmN0aW9uKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBlZT8oYj1hLmhhKCksYT1hLlQoKSk6KGI9VGEoYSksYT1TYShhKSk7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspdGhpcy5zZXQoYltjXSxhW2NdKX07aC5mb3JFYWNoPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuaGEoKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0sZj10aGlzLmdldChlKTthLmNhbGwoYixmLGUsdGhpcyl9fTtoLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlZSh0aGlzKX07aC5SZD1mdW5jdGlvbihhKXtmZSh0aGlzKTt2YXIgYj0wLGM9dGhpcy5uYSxkPXRoaXMsZT1uZXcgZGU7ZS5uZXh0PWZ1bmN0aW9uKCl7aWYoYyE9ZC5uYSl0aHJvdyBFcnJvcihcIlRoZSBtYXAgaGFzIGNoYW5nZWQgc2luY2UgdGhlIGl0ZXJhdG9yIHdhcyBjcmVhdGVkXCIpO2lmKGI+PWQucy5sZW5ndGgpdGhyb3cgY2U7dmFyIGU9ZC5zW2IrK107cmV0dXJuIGE/ZTpkLlpbZV19O3JldHVybiBlfTtcbnZhciBnZT1mdW5jdGlvbihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX07dmFyIGllPWZ1bmN0aW9uKGEpe2lmKGEuVCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5UKXJldHVybiBhLlQoKTtpZihuKGEpKXJldHVybiBhLnNwbGl0KFwiXCIpO2lmKGZhKGEpKXtmb3IodmFyIGI9W10sYz1hLmxlbmd0aCxkPTA7ZDxjO2QrKyliLnB1c2goYVtkXSk7cmV0dXJuIGJ9cmV0dXJuIFNhKGEpfSxqZT1mdW5jdGlvbihhKXtpZihhLmhhJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmhhKXJldHVybiBhLmhhKCk7aWYoIWEuVHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5UKXtpZihmYShhKXx8bihhKSl7dmFyIGI9W107YT1hLmxlbmd0aDtmb3IodmFyIGM9MDtjPGE7YysrKWIucHVzaChjKTtyZXR1cm4gYn1yZXR1cm4gVGEoYSl9fSxrZT1mdW5jdGlvbihhLGIpe2lmKGEuZm9yRWFjaCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5mb3JFYWNoKWEuZm9yRWFjaChiLHZvaWQgMCk7ZWxzZSBpZihmYShhKXx8bihhKSl4KGEsYix2b2lkIDApO2Vsc2UgZm9yKHZhciBjPWplKGEpLGQ9aWUoYSksZT1cbmQubGVuZ3RoLGY9MDtmPGU7ZisrKWIuY2FsbCh2b2lkIDAsZFtmXSxjJiZjW2ZdLGEpfTt2YXIgbGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLnJlc2V0KGEsYixjLGQsZSl9O2xlLnByb3RvdHlwZS5jZD1udWxsO3ZhciBtZT0wO2xlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihhLGIsYyxkLGUpe1wibnVtYmVyXCI9PXR5cGVvZiBlfHxtZSsrO2R8fGxhKCk7dGhpcy5zYj1hO3RoaXMud2U9YjtkZWxldGUgdGhpcy5jZH07bGUucHJvdG90eXBlLkFkPWZ1bmN0aW9uKGEpe3RoaXMuc2I9YX07dmFyIG5lPWZ1bmN0aW9uKGEpe3RoaXMueGU9YTt0aGlzLmhkPXRoaXMuc2M9dGhpcy5zYj10aGlzLm89bnVsbH0sb2U9ZnVuY3Rpb24oYSxiKXt0aGlzLm5hbWU9YTt0aGlzLnZhbHVlPWJ9O29lLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9O3ZhciBwZT1uZXcgb2UoXCJTRVZFUkVcIiwxRTMpLHFlPW5ldyBvZShcIkNPTkZJR1wiLDcwMCkscmU9bmV3IG9lKFwiRklORVwiLDUwMCk7bmUucHJvdG90eXBlLmdldFBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm99O25lLnByb3RvdHlwZS5BZD1mdW5jdGlvbihhKXt0aGlzLnNiPWF9O3ZhciBzZT1mdW5jdGlvbihhKXtpZihhLnNiKXJldHVybiBhLnNiO2lmKGEubylyZXR1cm4gc2UoYS5vKTt6YShcIlJvb3QgbG9nZ2VyIGhhcyBubyBsZXZlbCBzZXQuXCIpO3JldHVybiBudWxsfTtcbm5lLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oYSxiLGMpe2lmKGEudmFsdWU+PXNlKHRoaXMpLnZhbHVlKWZvcihwKGIpJiYoYj1iKCkpLGE9bmV3IGxlKGEsU3RyaW5nKGIpLHRoaXMueGUpLGMmJihhLmNkPWMpLGM9XCJsb2c6XCIrYS53ZSxsLmNvbnNvbGUmJihsLmNvbnNvbGUudGltZVN0YW1wP2wuY29uc29sZS50aW1lU3RhbXAoYyk6bC5jb25zb2xlLm1hcmtUaW1lbGluZSYmbC5jb25zb2xlLm1hcmtUaW1lbGluZShjKSksbC5tc1dyaXRlUHJvZmlsZXJNYXJrJiZsLm1zV3JpdGVQcm9maWxlck1hcmsoYyksYz10aGlzO2M7KXtiPWM7dmFyIGQ9YTtpZihiLmhkKWZvcih2YXIgZT0wLGY7Zj1iLmhkW2VdO2UrKylmKGQpO2M9Yy5nZXRQYXJlbnQoKX19O1xudmFyIHRlPXt9LHVlPW51bGwsdmU9ZnVuY3Rpb24oYSl7dWV8fCh1ZT1uZXcgbmUoXCJcIiksdGVbXCJcIl09dWUsdWUuQWQocWUpKTt2YXIgYjtpZighKGI9dGVbYV0pKXtiPW5ldyBuZShhKTt2YXIgYz1hLmxhc3RJbmRleE9mKFwiLlwiKSxkPWEuc3Vic3RyKGMrMSksYz12ZShhLnN1YnN0cigwLGMpKTtjLnNjfHwoYy5zYz17fSk7Yy5zY1tkXT1iO2Iubz1jO3RlW2FdPWJ9cmV0dXJuIGJ9O3ZhciBMPWZ1bmN0aW9uKGEsYil7YSYmYS5sb2cocmUsYix2b2lkIDApfTt2YXIgd2U9ZnVuY3Rpb24oYSxiLGMpe2lmKHAoYSkpYyYmKGE9cShhLGMpKTtlbHNlIGlmKGEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuaGFuZGxlRXZlbnQpYT1xKGEuaGFuZGxlRXZlbnQsYSk7ZWxzZSB0aHJvdyBFcnJvcihcIkludmFsaWQgbGlzdGVuZXIgYXJndW1lbnRcIik7cmV0dXJuIDIxNDc0ODM2NDc8TnVtYmVyKGIpPy0xOmwuc2V0VGltZW91dChhLGJ8fDApfSx4ZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3JldHVybihuZXcgSShmdW5jdGlvbihjLGQpe2I9d2UoZnVuY3Rpb24oKXtjKHZvaWQgMCl9LGEpOy0xPT1iJiZkKEVycm9yKFwiRmFpbGVkIHRvIHNjaGVkdWxlIHRpbWVyLlwiKSl9KSkubChmdW5jdGlvbihhKXtsLmNsZWFyVGltZW91dChiKTt0aHJvdyBhO30pfTt2YXIgeWU9L14oPzooW146Lz8jLl0rKTopPyg/OlxcL1xcLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcXD8oW14jXSopKT8oPzojKFtcXHNcXFNdKikpPyQvLHplPWZ1bmN0aW9uKGEsYil7aWYoYSl7YT1hLnNwbGl0KFwiJlwiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXS5pbmRleE9mKFwiPVwiKSxlLGY9bnVsbDswPD1kPyhlPWFbY10uc3Vic3RyaW5nKDAsZCksZj1hW2NdLnN1YnN0cmluZyhkKzEpKTplPWFbY107YihlLGY/ZGVjb2RlVVJJQ29tcG9uZW50KGYucmVwbGFjZSgvXFwrL2csXCIgXCIpKTpcIlwiKX19fTt2YXIgTT1mdW5jdGlvbihhKXskZC5jYWxsKHRoaXMpO3RoaXMuaGVhZGVycz1uZXcgZWU7dGhpcy5vYz1hfHxudWxsO3RoaXMucGE9ITE7dGhpcy5uYz10aGlzLmE9bnVsbDt0aGlzLnJiPXRoaXMubmQ9dGhpcy5UYj1cIlwiO3RoaXMuQ2E9dGhpcy5BYz10aGlzLlFiPXRoaXMudWM9ITE7dGhpcy5nYj0wO3RoaXMuamM9bnVsbDt0aGlzLnZkPVwiXCI7dGhpcy5sYz10aGlzLkNlPXRoaXMuSWQ9ITF9O3QoTSwkZCk7dmFyIEFlPU0ucHJvdG90eXBlLEJlPXZlKFwiZ29vZy5uZXQuWGhySW9cIik7QWUuUD1CZTt2YXIgQ2U9L15odHRwcz8kL2ksRGU9W1wiUE9TVFwiLFwiUFVUXCJdO1xuTS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLmEpdGhyb3cgRXJyb3IoXCJbZ29vZy5uZXQuWGhySW9dIE9iamVjdCBpcyBhY3RpdmUgd2l0aCBhbm90aGVyIHJlcXVlc3Q9XCIrdGhpcy5UYitcIjsgbmV3VXJpPVwiK2EpO2I9Yj9iLnRvVXBwZXJDYXNlKCk6XCJHRVRcIjt0aGlzLlRiPWE7dGhpcy5yYj1cIlwiO3RoaXMubmQ9Yjt0aGlzLnVjPSExO3RoaXMucGE9ITA7dGhpcy5hPXRoaXMub2M/dGhpcy5vYy5sYigpOnJjLmxiKCk7dGhpcy5uYz10aGlzLm9jP3FjKHRoaXMub2MpOnFjKHJjKTt0aGlzLmEub25yZWFkeXN0YXRlY2hhbmdlPXEodGhpcy5zZCx0aGlzKTt0aGlzLkNlJiZcIm9ucHJvZ3Jlc3NcImluIHRoaXMuYSYmKHRoaXMuYS5vbnByb2dyZXNzPXEoZnVuY3Rpb24oYSl7dGhpcy5yZChhLCEwKX0sdGhpcyksdGhpcy5hLnVwbG9hZCYmKHRoaXMuYS51cGxvYWQub25wcm9ncmVzcz1xKHRoaXMucmQsdGhpcykpKTt0cnl7TCh0aGlzLlAsRWUodGhpcyxcIk9wZW5pbmcgWGhyXCIpKSxcbnRoaXMuQWM9ITAsdGhpcy5hLm9wZW4oYixTdHJpbmcoYSksITApLHRoaXMuQWM9ITF9Y2F0Y2goZil7TCh0aGlzLlAsRWUodGhpcyxcIkVycm9yIG9wZW5pbmcgWGhyOiBcIitmLm1lc3NhZ2UpKTt0aGlzLkooNSxmKTtyZXR1cm59YT1jfHxcIlwiO3ZhciBlPXRoaXMuaGVhZGVycy5jbG9uZSgpO2QmJmtlKGQsZnVuY3Rpb24oYSxiKXtlLnNldChiLGEpfSk7ZD1JYShlLmhhKCkpO2M9bC5Gb3JtRGF0YSYmYSBpbnN0YW5jZW9mIGwuRm9ybURhdGE7IUphKERlLGIpfHxkfHxjfHxlLnNldChcIkNvbnRlbnQtVHlwZVwiLFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLThcIik7ZS5mb3JFYWNoKGZ1bmN0aW9uKGEsYil7dGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYixhKX0sdGhpcyk7dGhpcy52ZCYmKHRoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy52ZCk7XCJ3aXRoQ3JlZGVudGlhbHNcImluIHRoaXMuYSYmdGhpcy5hLndpdGhDcmVkZW50aWFscyE9PXRoaXMuSWQmJih0aGlzLmEud2l0aENyZWRlbnRpYWxzPVxudGhpcy5JZCk7dHJ5e0ZlKHRoaXMpLDA8dGhpcy5nYiYmKHRoaXMubGM9R2UodGhpcy5hKSxMKHRoaXMuUCxFZSh0aGlzLFwiV2lsbCBhYm9ydCBhZnRlciBcIit0aGlzLmdiK1wibXMgaWYgaW5jb21wbGV0ZSwgeGhyMiBcIit0aGlzLmxjKSksdGhpcy5sYz8odGhpcy5hLnRpbWVvdXQ9dGhpcy5nYix0aGlzLmEub250aW1lb3V0PXEodGhpcy56Yix0aGlzKSk6dGhpcy5qYz13ZSh0aGlzLnpiLHRoaXMuZ2IsdGhpcykpLEwodGhpcy5QLEVlKHRoaXMsXCJTZW5kaW5nIHJlcXVlc3RcIikpLHRoaXMuUWI9ITAsdGhpcy5hLnNlbmQoYSksdGhpcy5RYj0hMX1jYXRjaChmKXtMKHRoaXMuUCxFZSh0aGlzLFwiU2VuZCBlcnJvcjogXCIrZi5tZXNzYWdlKSksdGhpcy5KKDUsZil9fTt2YXIgR2U9ZnVuY3Rpb24oYSl7cmV0dXJuIHomJkEoOSkmJmdhKGEudGltZW91dCkmJnZvaWQgMCE9PWEub250aW1lb3V0fSxIYT1mdW5jdGlvbihhKXtyZXR1cm5cImNvbnRlbnQtdHlwZVwiPT1hLnRvTG93ZXJDYXNlKCl9O1xuTS5wcm90b3R5cGUuemI9ZnVuY3Rpb24oKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgYWEmJnRoaXMuYSYmKHRoaXMucmI9XCJUaW1lZCBvdXQgYWZ0ZXIgXCIrdGhpcy5nYitcIm1zLCBhYm9ydGluZ1wiLEwodGhpcy5QLEVlKHRoaXMsdGhpcy5yYikpLHRoaXMuZGlzcGF0Y2hFdmVudChcInRpbWVvdXRcIiksdGhpcy5hYm9ydCg4KSl9O00ucHJvdG90eXBlLko9ZnVuY3Rpb24oYSxiKXt0aGlzLnBhPSExO3RoaXMuYSYmKHRoaXMuQ2E9ITAsdGhpcy5hLmFib3J0KCksdGhpcy5DYT0hMSk7dGhpcy5yYj1iO0hlKHRoaXMpO0llKHRoaXMpfTt2YXIgSGU9ZnVuY3Rpb24oYSl7YS51Y3x8KGEudWM9ITAsYS5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIiksYS5kaXNwYXRjaEV2ZW50KFwiZXJyb3JcIikpfTtcbk0ucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLnBhJiYoTCh0aGlzLlAsRWUodGhpcyxcIkFib3J0aW5nXCIpKSx0aGlzLnBhPSExLHRoaXMuQ2E9ITAsdGhpcy5hLmFib3J0KCksdGhpcy5DYT0hMSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJhYm9ydFwiKSxJZSh0aGlzKSl9O00ucHJvdG90eXBlLlBhPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5wYSYmKHRoaXMucGE9ITEsdGhpcy5DYT0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLkNhPSExKSxJZSh0aGlzLCEwKSk7TS5SYy5QYS5jYWxsKHRoaXMpfTtNLnByb3RvdHlwZS5zZD1mdW5jdGlvbigpe3RoaXMuaXNEaXNwb3NlZCgpfHwodGhpcy5BY3x8dGhpcy5RYnx8dGhpcy5DYT9KZSh0aGlzKTp0aGlzLkFlKCkpfTtNLnByb3RvdHlwZS5BZT1mdW5jdGlvbigpe0plKHRoaXMpfTtcbnZhciBKZT1mdW5jdGlvbihhKXtpZihhLnBhJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYWEpaWYoYS5uY1sxXSYmND09S2UoYSkmJjI9PUxlKGEpKUwoYS5QLEVlKGEsXCJMb2NhbCByZXF1ZXN0IGVycm9yIGRldGVjdGVkIGFuZCBpZ25vcmVkXCIpKTtlbHNlIGlmKGEuUWImJjQ9PUtlKGEpKXdlKGEuc2QsMCxhKTtlbHNlIGlmKGEuZGlzcGF0Y2hFdmVudChcInJlYWR5c3RhdGVjaGFuZ2VcIiksND09S2UoYSkpe0woYS5QLEVlKGEsXCJSZXF1ZXN0IGNvbXBsZXRlXCIpKTthLnBhPSExO3RyeXt2YXIgYj1MZShhKSxjO2E6c3dpdGNoKGIpe2Nhc2UgMjAwOmNhc2UgMjAxOmNhc2UgMjAyOmNhc2UgMjA0OmNhc2UgMjA2OmNhc2UgMzA0OmNhc2UgMTIyMzpjPSEwO2JyZWFrIGE7ZGVmYXVsdDpjPSExfXZhciBkO2lmKCEoZD1jKSl7dmFyIGU7aWYoZT0wPT09Yil7dmFyIGY9U3RyaW5nKGEuVGIpLm1hdGNoKHllKVsxXXx8bnVsbDtpZighZiYmbC5zZWxmJiZsLnNlbGYubG9jYXRpb24pdmFyIGc9bC5zZWxmLmxvY2F0aW9uLnByb3RvY29sLFxuZj1nLnN1YnN0cigwLGcubGVuZ3RoLTEpO2U9IUNlLnRlc3QoZj9mLnRvTG93ZXJDYXNlKCk6XCJcIil9ZD1lfWlmKGQpYS5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIiksYS5kaXNwYXRjaEV2ZW50KFwic3VjY2Vzc1wiKTtlbHNle3ZhciBrO3RyeXtrPTI8S2UoYSk/YS5hLnN0YXR1c1RleHQ6XCJcIn1jYXRjaChyKXtMKGEuUCxcIkNhbiBub3QgZ2V0IHN0YXR1czogXCIrci5tZXNzYWdlKSxrPVwiXCJ9YS5yYj1rK1wiIFtcIitMZShhKStcIl1cIjtIZShhKX19ZmluYWxseXtJZShhKX19fTtNLnByb3RvdHlwZS5yZD1mdW5jdGlvbihhLGIpe3coXCJwcm9ncmVzc1wiPT09YS50eXBlLFwiZ29vZy5uZXQuRXZlbnRUeXBlLlBST0dSRVNTIGlzIG9mIHRoZSBzYW1lIHR5cGUgYXMgcmF3IFhIUiBwcm9ncmVzcy5cIik7dGhpcy5kaXNwYXRjaEV2ZW50KE1lKGEsXCJwcm9ncmVzc1wiKSk7dGhpcy5kaXNwYXRjaEV2ZW50KE1lKGEsYj9cImRvd25sb2FkcHJvZ3Jlc3NcIjpcInVwbG9hZHByb2dyZXNzXCIpKX07XG52YXIgTWU9ZnVuY3Rpb24oYSxiKXtyZXR1cm57dHlwZTpiLGxlbmd0aENvbXB1dGFibGU6YS5sZW5ndGhDb21wdXRhYmxlLGxvYWRlZDphLmxvYWRlZCx0b3RhbDphLnRvdGFsfX0sSWU9ZnVuY3Rpb24oYSxiKXtpZihhLmEpe0ZlKGEpO3ZhciBjPWEuYSxkPWEubmNbMF0/YmE6bnVsbDthLmE9bnVsbDthLm5jPW51bGw7Ynx8YS5kaXNwYXRjaEV2ZW50KFwicmVhZHlcIik7dHJ5e2Mub25yZWFkeXN0YXRlY2hhbmdlPWR9Y2F0Y2goZSl7KGE9YS5QKSYmYS5sb2cocGUsXCJQcm9ibGVtIGVuY291bnRlcmVkIHJlc2V0dGluZyBvbnJlYWR5c3RhdGVjaGFuZ2U6IFwiK2UubWVzc2FnZSx2b2lkIDApfX19LEZlPWZ1bmN0aW9uKGEpe2EuYSYmYS5sYyYmKGEuYS5vbnRpbWVvdXQ9bnVsbCk7Z2EoYS5qYykmJihsLmNsZWFyVGltZW91dChhLmpjKSxhLmpjPW51bGwpfSxLZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5hP2EuYS5yZWFkeVN0YXRlOjB9LExlPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gMjxLZShhKT9cbmEuYS5zdGF0dXM6LTF9Y2F0Y2goYil7cmV0dXJuLTF9fSxOZT1mdW5jdGlvbihhKXt0cnl7cmV0dXJuIGEuYT9hLmEucmVzcG9uc2VUZXh0OlwiXCJ9Y2F0Y2goYil7cmV0dXJuIEwoYS5QLFwiQ2FuIG5vdCBnZXQgcmVzcG9uc2VUZXh0OiBcIitiLm1lc3NhZ2UpLFwiXCJ9fSxFZT1mdW5jdGlvbihhLGIpe3JldHVybiBiK1wiIFtcIithLm5kK1wiIFwiK2EuVGIrXCIgXCIrTGUoYSkrXCJdXCJ9O3ZhciBPZT1mdW5jdGlvbihhLGIpe3RoaXMuZ2E9dGhpcy5KYT10aGlzLmxhPVwiXCI7dGhpcy5WYT1udWxsO3RoaXMuQmE9dGhpcy5yYT1cIlwiO3RoaXMuTT10aGlzLnJlPSExO3ZhciBjO2EgaW5zdGFuY2VvZiBPZT8odGhpcy5NPXZvaWQgMCE9PWI/YjphLk0sUGUodGhpcyxhLmxhKSxjPWEuSmEsTih0aGlzKSx0aGlzLkphPWMsUWUodGhpcyxhLmdhKSxSZSh0aGlzLGEuVmEpLFNlKHRoaXMsYS5yYSksVGUodGhpcyxhLmFhLmNsb25lKCkpLGE9YS5CYSxOKHRoaXMpLHRoaXMuQmE9YSk6YSYmKGM9U3RyaW5nKGEpLm1hdGNoKHllKSk/KHRoaXMuTT0hIWIsUGUodGhpcyxjWzFdfHxcIlwiLCEwKSxhPWNbMl18fFwiXCIsTih0aGlzKSx0aGlzLkphPVVlKGEpLFFlKHRoaXMsY1szXXx8XCJcIiwhMCksUmUodGhpcyxjWzRdKSxTZSh0aGlzLGNbNV18fFwiXCIsITApLFRlKHRoaXMsY1s2XXx8XCJcIiwhMCksYT1jWzddfHxcIlwiLE4odGhpcyksdGhpcy5CYT1VZShhKSk6KHRoaXMuTT0hIWIsdGhpcy5hYT1uZXcgTyhudWxsLFxuMCx0aGlzLk0pKX07T2UucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLmxhO2ImJmEucHVzaChWZShiLFdlLCEwKSxcIjpcIik7dmFyIGM9dGhpcy5nYTtpZihjfHxcImZpbGVcIj09YilhLnB1c2goXCIvL1wiKSwoYj10aGlzLkphKSYmYS5wdXNoKFZlKGIsV2UsITApLFwiQFwiKSxhLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjKSkucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpKSxjPXRoaXMuVmEsbnVsbCE9YyYmYS5wdXNoKFwiOlwiLFN0cmluZyhjKSk7aWYoYz10aGlzLnJhKXRoaXMuZ2EmJlwiL1wiIT1jLmNoYXJBdCgwKSYmYS5wdXNoKFwiL1wiKSxhLnB1c2goVmUoYyxcIi9cIj09Yy5jaGFyQXQoMCk/WGU6WWUsITApKTsoYz10aGlzLmFhLnRvU3RyaW5nKCkpJiZhLnB1c2goXCI/XCIsYyk7KGM9dGhpcy5CYSkmJmEucHVzaChcIiNcIixWZShjLFplKSk7cmV0dXJuIGEuam9pbihcIlwiKX07XG5PZS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCksYz0hIWEubGE7Yz9QZShiLGEubGEpOmM9ISFhLkphO2lmKGMpe3ZhciBkPWEuSmE7TihiKTtiLkphPWR9ZWxzZSBjPSEhYS5nYTtjP1FlKGIsYS5nYSk6Yz1udWxsIT1hLlZhO2Q9YS5yYTtpZihjKVJlKGIsYS5WYSk7ZWxzZSBpZihjPSEhYS5yYSl7aWYoXCIvXCIhPWQuY2hhckF0KDApKWlmKHRoaXMuZ2EmJiF0aGlzLnJhKWQ9XCIvXCIrZDtlbHNle3ZhciBlPWIucmEubGFzdEluZGV4T2YoXCIvXCIpOy0xIT1lJiYoZD1iLnJhLnN1YnN0cigwLGUrMSkrZCl9ZT1kO2lmKFwiLi5cIj09ZXx8XCIuXCI9PWUpZD1cIlwiO2Vsc2UgaWYodihlLFwiLi9cIil8fHYoZSxcIi8uXCIpKXtmb3IodmFyIGQ9MD09ZS5sYXN0SW5kZXhPZihcIi9cIiwwKSxlPWUuc3BsaXQoXCIvXCIpLGY9W10sZz0wO2c8ZS5sZW5ndGg7KXt2YXIgaz1lW2crK107XCIuXCI9PWs/ZCYmZz09ZS5sZW5ndGgmJmYucHVzaChcIlwiKTpcIi4uXCI9PWs/KCgxPGYubGVuZ3RofHxcbjE9PWYubGVuZ3RoJiZcIlwiIT1mWzBdKSYmZi5wb3AoKSxkJiZnPT1lLmxlbmd0aCYmZi5wdXNoKFwiXCIpKTooZi5wdXNoKGspLGQ9ITApfWQ9Zi5qb2luKFwiL1wiKX1lbHNlIGQ9ZX1jP1NlKGIsZCk6Yz1cIlwiIT09YS5hYS50b1N0cmluZygpO2M/VGUoYixVZShhLmFhLnRvU3RyaW5nKCkpKTpjPSEhYS5CYTtjJiYoYT1hLkJhLE4oYiksYi5CYT1hKTtyZXR1cm4gYn07T2UucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBPZSh0aGlzKX07XG52YXIgUGU9ZnVuY3Rpb24oYSxiLGMpe04oYSk7YS5sYT1jP1VlKGIsITApOmI7YS5sYSYmKGEubGE9YS5sYS5yZXBsYWNlKC86JC8sXCJcIikpfSxRZT1mdW5jdGlvbihhLGIsYyl7TihhKTthLmdhPWM/VWUoYiwhMCk6Yn0sUmU9ZnVuY3Rpb24oYSxiKXtOKGEpO2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoXCJCYWQgcG9ydCBudW1iZXIgXCIrYik7YS5WYT1ifWVsc2UgYS5WYT1udWxsfSxTZT1mdW5jdGlvbihhLGIsYyl7TihhKTthLnJhPWM/VWUoYiwhMCk6Yn0sVGU9ZnVuY3Rpb24oYSxiLGMpe04oYSk7YiBpbnN0YW5jZW9mIE8/KGEuYWE9YixhLmFhLk9jKGEuTSkpOihjfHwoYj1WZShiLCRlKSksYS5hYT1uZXcgTyhiLDAsYS5NKSl9LFA9ZnVuY3Rpb24oYSxiLGMpe04oYSk7YS5hYS5zZXQoYixjKX0sTj1mdW5jdGlvbihhKXtpZihhLnJlKXRocm93IEVycm9yKFwiVHJpZWQgdG8gbW9kaWZ5IGEgcmVhZC1vbmx5IFVyaVwiKTt9O1xuT2UucHJvdG90eXBlLk9jPWZ1bmN0aW9uKGEpe3RoaXMuTT1hO3RoaXMuYWEmJnRoaXMuYWEuT2MoYSk7cmV0dXJuIHRoaXN9O1xudmFyIGFmPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgT2U/YS5jbG9uZSgpOm5ldyBPZShhLHZvaWQgMCl9LGJmPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9lKG51bGwsdm9pZCAwKTtQZShjLFwiaHR0cHNcIik7YSYmUWUoYyxhKTtiJiZTZShjLGIpO3JldHVybiBjfSxVZT1mdW5jdGlvbihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEucmVwbGFjZSgvJTI1L2csXCIlMjUyNVwiKSk6ZGVjb2RlVVJJQ29tcG9uZW50KGEpOlwiXCJ9LFZlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbihhKT8oYT1lbmNvZGVVUkkoYSkucmVwbGFjZShiLGNmKSxjJiYoYT1hLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZyxcIiUkMVwiKSksYSk6bnVsbH0sY2Y9ZnVuY3Rpb24oYSl7YT1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuXCIlXCIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfSxXZT0vWyNcXC9cXD9AXS9nLFllPS9bXFwjXFw/Ol0vZyxYZT0vW1xcI1xcP10vZywkZT0vW1xcI1xcP0BdL2csXG5aZT0vIy9nLE89ZnVuY3Rpb24oYSxiLGMpe3RoaXMuaT10aGlzLmo9bnVsbDt0aGlzLkk9YXx8bnVsbDt0aGlzLk09ISFjfSxkZj1mdW5jdGlvbihhKXthLmp8fChhLmo9bmV3IGVlLGEuaT0wLGEuSSYmemUoYS5JLGZ1bmN0aW9uKGIsYyl7YS5hZGQoZGVjb2RlVVJJQ29tcG9uZW50KGIucmVwbGFjZSgvXFwrL2csXCIgXCIpKSxjKX0pKX0sZmY9ZnVuY3Rpb24oYSl7dmFyIGI9amUoYSk7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGIpdGhyb3cgRXJyb3IoXCJLZXlzIGFyZSB1bmRlZmluZWRcIik7dmFyIGM9bmV3IE8obnVsbCwwLHZvaWQgMCk7YT1pZShhKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXSxmPWFbZF07ZWEoZik/ZWYoYyxlLGYpOmMuYWRkKGUsZil9cmV0dXJuIGN9O2g9Ty5wcm90b3R5cGU7aC5mZD1mdW5jdGlvbigpe2RmKHRoaXMpO3JldHVybiB0aGlzLml9O1xuaC5hZGQ9ZnVuY3Rpb24oYSxiKXtkZih0aGlzKTt0aGlzLkk9bnVsbDthPXRoaXMuSyhhKTt2YXIgYz10aGlzLmouZ2V0KGEpO2N8fHRoaXMuai5zZXQoYSxjPVtdKTtjLnB1c2goYik7dGhpcy5pPUFhKHRoaXMuaSkrMTtyZXR1cm4gdGhpc307aC5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGYodGhpcyk7YT10aGlzLksoYSk7cmV0dXJuIHRoaXMuai5rYihhKT8odGhpcy5JPW51bGwsdGhpcy5pPUFhKHRoaXMuaSktdGhpcy5qLmdldChhKS5sZW5ndGgsdGhpcy5qLnJlbW92ZShhKSk6ITF9O2gua2I9ZnVuY3Rpb24oYSl7ZGYodGhpcyk7YT10aGlzLksoYSk7cmV0dXJuIHRoaXMuai5rYihhKX07aC5oYT1mdW5jdGlvbigpe2RmKHRoaXMpO2Zvcih2YXIgYT10aGlzLmouVCgpLGI9dGhpcy5qLmhhKCksYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5sZW5ndGg7ZisrKWMucHVzaChiW2RdKTtyZXR1cm4gY307XG5oLlQ9ZnVuY3Rpb24oYSl7ZGYodGhpcyk7dmFyIGI9W107aWYobihhKSl0aGlzLmtiKGEpJiYoYj1OYShiLHRoaXMuai5nZXQodGhpcy5LKGEpKSkpO2Vsc2V7YT10aGlzLmouVCgpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWI9TmEoYixhW2NdKX1yZXR1cm4gYn07aC5zZXQ9ZnVuY3Rpb24oYSxiKXtkZih0aGlzKTt0aGlzLkk9bnVsbDthPXRoaXMuSyhhKTt0aGlzLmtiKGEpJiYodGhpcy5pPUFhKHRoaXMuaSktdGhpcy5qLmdldChhKS5sZW5ndGgpO3RoaXMuai5zZXQoYSxbYl0pO3RoaXMuaT1BYSh0aGlzLmkpKzE7cmV0dXJuIHRoaXN9O2guZ2V0PWZ1bmN0aW9uKGEsYil7YT1hP3RoaXMuVChhKTpbXTtyZXR1cm4gMDxhLmxlbmd0aD9TdHJpbmcoYVswXSk6Yn07dmFyIGVmPWZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZShiKTswPGMubGVuZ3RoJiYoYS5JPW51bGwsYS5qLnNldChhLksoYiksUGEoYykpLGEuaT1BYShhLmkpK2MubGVuZ3RoKX07XG5PLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuSSlyZXR1cm4gdGhpcy5JO2lmKCF0aGlzLmopcmV0dXJuXCJcIjtmb3IodmFyIGE9W10sYj10aGlzLmouaGEoKSxjPTA7YzxiLmxlbmd0aDtjKyspZm9yKHZhciBkPWJbY10sZT1lbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGQpKSxkPXRoaXMuVChkKSxmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBnPWU7XCJcIiE9PWRbZl0mJihnKz1cIj1cIitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGRbZl0pKSk7YS5wdXNoKGcpfXJldHVybiB0aGlzLkk9YS5qb2luKFwiJlwiKX07Ty5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgTzthLkk9dGhpcy5JO3RoaXMuaiYmKGEuaj10aGlzLmouY2xvbmUoKSxhLmk9dGhpcy5pKTtyZXR1cm4gYX07Ty5wcm90b3R5cGUuSz1mdW5jdGlvbihhKXthPVN0cmluZyhhKTt0aGlzLk0mJihhPWEudG9Mb3dlckNhc2UoKSk7cmV0dXJuIGF9O1xuTy5wcm90b3R5cGUuT2M9ZnVuY3Rpb24oYSl7YSYmIXRoaXMuTSYmKGRmKHRoaXMpLHRoaXMuST1udWxsLHRoaXMuai5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7dmFyIGI9Yy50b0xvd2VyQ2FzZSgpO2MhPWImJih0aGlzLnJlbW92ZShjKSxlZih0aGlzLGIsYSkpfSx0aGlzKSk7dGhpcy5NPWF9O3ZhciBoZj1mdW5jdGlvbigpe3ZhciBhPWdmKCk7cmV0dXJuIHomJiEhcGImJjExPT1wYnx8L0VkZ2VcXC9cXGQrLy50ZXN0KGEpfSxqZj1mdW5jdGlvbigpe3JldHVybiBsLndpbmRvdyYmbC53aW5kb3cubG9jYXRpb24uaHJlZnx8XCJcIn0sa2Y9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkO2ZvcihkIGluIGEpZCBpbiBiP3R5cGVvZiBhW2RdIT10eXBlb2YgYltkXT9jLnB1c2goZCk6ZWEoYVtkXSk/VmEoYVtkXSxiW2RdKXx8Yy5wdXNoKGQpOlwib2JqZWN0XCI9PXR5cGVvZiBhW2RdJiZudWxsIT1hW2RdJiZudWxsIT1iW2RdPzA8a2YoYVtkXSxiW2RdKS5sZW5ndGgmJmMucHVzaChkKTphW2RdIT09YltkXSYmYy5wdXNoKGQpOmMucHVzaChkKTtmb3IoZCBpbiBiKWQgaW4gYXx8Yy5wdXNoKGQpO3JldHVybiBjfSxtZj1mdW5jdGlvbigpe3ZhciBhO2E9Z2YoKTthPVwiQ2hyb21lXCIhPWxmKGEpP251bGw6KGE9YS5tYXRjaCgvXFxzQ2hyb21lXFwvKFxcZCspL2kpKSYmMj09YS5sZW5ndGg/cGFyc2VJbnQoYVsxXSxcbjEwKTpudWxsO3JldHVybiBhJiYzMD5hPyExOiF6fHwhcGJ8fDk8cGJ9LG5mPWZ1bmN0aW9uKGEpe2E9YXx8bC53aW5kb3c7dHJ5e2EuY2xvc2UoKX1jYXRjaChiKXt9fSxvZj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9TWF0aC5mbG9vcigxRTkqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoKTtiPWJ8fDUwMDtjPWN8fDYwMDt2YXIgZT0od2luZG93LnNjcmVlbi5hdmFpbEhlaWdodC1jKS8yLGY9KHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aC1iKS8yO2I9e3dpZHRoOmIsaGVpZ2h0OmMsdG9wOjA8ZT9lOjAsbGVmdDowPGY/ZjowLGxvY2F0aW9uOiEwLHJlc2l6YWJsZTohMCxzdGF0dXNiYXI6ITAsdG9vbGJhcjohMX07ZCYmKGIudGFyZ2V0PWQpO1wiRmlyZWZveFwiPT1sZihnZigpKSYmKGE9YXx8XCJodHRwOi8vbG9jYWxob3N0XCIsYi5zY3JvbGxiYXJzPSEwKTt2YXIgZztjPWF8fFwiYWJvdXQ6YmxhbmtcIjsoZD1iKXx8KGQ9e30pO2E9d2luZG93O2I9YyBpbnN0YW5jZW9mIEI/YzpnYyhcInVuZGVmaW5lZFwiIT1cbnR5cGVvZiBjLmhyZWY/Yy5ocmVmOlN0cmluZyhjKSk7Yz1kLnRhcmdldHx8Yy50YXJnZXQ7ZT1bXTtmb3IoZyBpbiBkKXN3aXRjaChnKXtjYXNlIFwid2lkdGhcIjpjYXNlIFwiaGVpZ2h0XCI6Y2FzZSBcInRvcFwiOmNhc2UgXCJsZWZ0XCI6ZS5wdXNoKGcrXCI9XCIrZFtnXSk7YnJlYWs7Y2FzZSBcInRhcmdldFwiOmNhc2UgXCJub3JlZmVycmVyXCI6YnJlYWs7ZGVmYXVsdDplLnB1c2goZytcIj1cIisoZFtnXT8xOjApKX1nPWUuam9pbihcIixcIik7KHkoXCJpUGhvbmVcIikmJiF5KFwiaVBvZFwiKSYmIXkoXCJpUGFkXCIpfHx5KFwiaVBhZFwiKXx8eShcImlQb2RcIikpJiZhLm5hdmlnYXRvciYmYS5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSYmYyYmXCJfc2VsZlwiIT1jPyhnPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkFcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhUTUxBbmNob3JFbGVtZW50JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgTG9jYXRpb24mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBFbGVtZW50JiYoZT1nJiYoZyBpbnN0YW5jZW9mXG5IVE1MQW5jaG9yRWxlbWVudHx8IShnIGluc3RhbmNlb2YgTG9jYXRpb258fGcgaW5zdGFuY2VvZiBFbGVtZW50KSksZj1oYShnKT9nLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lfHxnLmNvbnN0cnVjdG9yLm5hbWV8fE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChnKTp2b2lkIDA9PT1nP1widW5kZWZpbmVkXCI6bnVsbD09PWc/XCJudWxsXCI6dHlwZW9mIGcsdyhlLFwiQXJndW1lbnQgaXMgbm90IGEgSFRNTEFuY2hvckVsZW1lbnQgKG9yIGEgbm9uLUVsZW1lbnQgbW9jayk7IGdvdDogJXNcIixmKSksYj1iIGluc3RhbmNlb2YgQj9iOmdjKGIpLGcuaHJlZj1kYyhiKSxnLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLGMpLGQubm9yZWZlcnJlciYmZy5zZXRBdHRyaWJ1dGUoXCJyZWxcIixcIm5vcmVmZXJyZXJcIiksZD1kb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRcIiksZC5pbml0TW91c2VFdmVudChcImNsaWNrXCIsITAsITAsYSwxKSxnLmRpc3BhdGNoRXZlbnQoZCksZz17fSk6ZC5ub3JlZmVycmVyP1xuKGc9YS5vcGVuKFwiXCIsYyxnKSxkPWRjKGIpLGcmJihnYiYmdihkLFwiO1wiKSYmKGQ9XCInXCIrZC5yZXBsYWNlKC8nL2csXCIlMjdcIikrXCInXCIpLGcub3BlbmVyPW51bGwsYT1uZXcgYWMsYS5oYz1cImIvMTIwMTQ0MTIsIG1ldGEgdGFnIHdpdGggc2FuaXRpemVkIFVSTFwiLHZhLnRlc3QoZCkmJigtMSE9ZC5pbmRleE9mKFwiJlwiKSYmKGQ9ZC5yZXBsYWNlKG9hLFwiJmFtcDtcIikpLC0xIT1kLmluZGV4T2YoXCI8XCIpJiYoZD1kLnJlcGxhY2UocGEsXCImbHQ7XCIpKSwtMSE9ZC5pbmRleE9mKFwiPlwiKSYmKGQ9ZC5yZXBsYWNlKHFhLFwiJmd0O1wiKSksLTEhPWQuaW5kZXhPZignXCInKSYmKGQ9ZC5yZXBsYWNlKHJhLFwiJnF1b3Q7XCIpKSwtMSE9ZC5pbmRleE9mKFwiJ1wiKSYmKGQ9ZC5yZXBsYWNlKHRhLFwiJiMzOTtcIikpLC0xIT1kLmluZGV4T2YoXCJcXHgwMFwiKSYmKGQ9ZC5yZXBsYWNlKHVhLFwiJiMwO1wiKSkpLGQ9JzxNRVRBIEhUVFAtRVFVSVY9XCJyZWZyZXNoXCIgY29udGVudD1cIjA7IHVybD0nK2QrJ1wiPicsQmEoYmMoYSksXG5cIm11c3QgcHJvdmlkZSBqdXN0aWZpY2F0aW9uXCIpLHcoIS9eW1xcc1xceGEwXSokLy50ZXN0KGJjKGEpKSxcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKSxnLmRvY3VtZW50LndyaXRlKFdjKChuZXcgVmMpLnFlKGQpKSksZy5kb2N1bWVudC5jbG9zZSgpKSk6Zz1hLm9wZW4oZGMoYiksYyxnKTtpZihnKXRyeXtnLmZvY3VzKCl9Y2F0Y2goayl7fXJldHVybiBnfSxwZj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEkoZnVuY3Rpb24oYil7dmFyIGM9ZnVuY3Rpb24oKXt4ZSgyRTMpLnRoZW4oZnVuY3Rpb24oKXtpZighYXx8YS5jbG9zZWQpYigpO2Vsc2UgcmV0dXJuIGMoKX0pfTtyZXR1cm4gYygpfSl9LHFmPWZ1bmN0aW9uKCl7dmFyIGE9bnVsbDtyZXR1cm4obmV3IEkoZnVuY3Rpb24oYil7XCJjb21wbGV0ZVwiPT1sLmRvY3VtZW50LnJlYWR5U3RhdGU/YigpOihhPWZ1bmN0aW9uKCl7YigpfSxTYih3aW5kb3csXCJsb2FkXCIsYSkpfSkpLmwoZnVuY3Rpb24oYil7VWIod2luZG93LFxuXCJsb2FkXCIsYSk7dGhyb3cgYjt9KX0scmY9ZnVuY3Rpb24oYSl7c3dpdGNoKGF8fGwubmF2aWdhdG9yJiZsLm5hdmlnYXRvci5wcm9kdWN0fHxcIlwiKXtjYXNlIFwiUmVhY3ROYXRpdmVcIjpyZXR1cm5cIlJlYWN0TmF0aXZlXCI7ZGVmYXVsdDpyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGwucHJvY2Vzcz9cIk5vZGVcIjpcIkJyb3dzZXJcIn19LHNmPWZ1bmN0aW9uKCl7dmFyIGE9cmYoKTtyZXR1cm5cIlJlYWN0TmF0aXZlXCI9PT1hfHxcIk5vZGVcIj09PWF9LGxmPWZ1bmN0aW9uKGEpe3ZhciBiPWEudG9Mb3dlckNhc2UoKTtpZih2KGIsXCJvcGVyYS9cIil8fHYoYixcIm9wci9cIil8fHYoYixcIm9waW9zL1wiKSlyZXR1cm5cIk9wZXJhXCI7aWYodihiLFwiaWVtb2JpbGVcIikpcmV0dXJuXCJJRU1vYmlsZVwiO2lmKHYoYixcIm1zaWVcIil8fHYoYixcInRyaWRlbnQvXCIpKXJldHVyblwiSUVcIjtpZih2KGIsXCJlZGdlL1wiKSlyZXR1cm5cIkVkZ2VcIjtpZih2KGIsXCJmaXJlZm94L1wiKSlyZXR1cm5cIkZpcmVmb3hcIjtpZih2KGIsXCJzaWxrL1wiKSlyZXR1cm5cIlNpbGtcIjtcbmlmKHYoYixcImJsYWNrYmVycnlcIikpcmV0dXJuXCJCbGFja2JlcnJ5XCI7aWYodihiLFwid2Vib3NcIikpcmV0dXJuXCJXZWJvc1wiO2lmKCF2KGIsXCJzYWZhcmkvXCIpfHx2KGIsXCJjaHJvbWUvXCIpfHx2KGIsXCJjcmlvcy9cIil8fHYoYixcImFuZHJvaWRcIikpaWYoIXYoYixcImNocm9tZS9cIikmJiF2KGIsXCJjcmlvcy9cIil8fHYoYixcImVkZ2UvXCIpKXtpZih2KGIsXCJhbmRyb2lkXCIpKXJldHVyblwiQW5kcm9pZFwiO2lmKChhPWEubWF0Y2goLyhbYS16QS1aXFxkXFwuXSspXFwvW2EtekEtWlxcZFxcLl0qJC8pKSYmMj09YS5sZW5ndGgpcmV0dXJuIGFbMV19ZWxzZSByZXR1cm5cIkNocm9tZVwiO2Vsc2UgcmV0dXJuXCJTYWZhcmlcIjtyZXR1cm5cIk90aGVyXCJ9LHRmPWZ1bmN0aW9uKGEpe3ZhciBiPXJmKHZvaWQgMCk7cmV0dXJuKFwiQnJvd3NlclwiPT09Yj9sZihnZigpKTpiKStcIi9Kc0NvcmUvXCIrYX0sZ2Y9ZnVuY3Rpb24oKXtyZXR1cm4gbC5uYXZpZ2F0b3ImJmwubmF2aWdhdG9yLnVzZXJBZ2VudHx8XCJcIn0sdWY9ZnVuY3Rpb24oYSl7YT1cbmEuc3BsaXQoXCIuXCIpO2Zvcih2YXIgYj1sLGM9MDtjPGEubGVuZ3RoJiZcIm9iamVjdFwiPT10eXBlb2YgYiYmbnVsbCE9YjtjKyspYj1iW2FbY11dO2MhPWEubGVuZ3RoJiYoYj12b2lkIDApO3JldHVybiBifSx3Zj1mdW5jdGlvbigpe3ZhciBhO2lmKCEoYT0hbC5sb2NhdGlvbnx8IWwubG9jYXRpb24ucHJvdG9jb2x8fFwiaHR0cDpcIiE9bC5sb2NhdGlvbi5wcm90b2NvbCYmXCJodHRwczpcIiE9bC5sb2NhdGlvbi5wcm90b2NvbHx8c2YoKSkpe3ZhciBiO2E6e3RyeXt2YXIgYz1sLmxvY2FsU3RvcmFnZSxkPXZmKCk7aWYoYyl7Yy5zZXRJdGVtKGQsXCIxXCIpO2MucmVtb3ZlSXRlbShkKTtiPWhmKCk/ISFsLmluZGV4ZWREQjohMDticmVhayBhfX1jYXRjaChlKXt9Yj0hMX1hPSFifXJldHVybiFhfSx4Zj1mdW5jdGlvbihhKXthPWF8fGdmKCk7dmFyIGI9KGF8fGdmKCkpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGIubWF0Y2goL2FuZHJvaWQvKXx8Yi5tYXRjaCgvd2Vib3MvKXx8Yi5tYXRjaCgvaXBob25lfGlwYWR8aXBvZC8pfHxcbmIubWF0Y2goL2JsYWNrYmVycnkvKXx8Yi5tYXRjaCgvd2luZG93cyBwaG9uZS8pfHxiLm1hdGNoKC9pZW1vYmlsZS8pfHxcIkZpcmVmb3hcIj09bGYoYSk/ITE6ITB9LHlmPWZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCI9PT10eXBlb2YgYT9udWxsOmxjKGEpfSx6Zj1mdW5jdGlvbihhKXtpZihudWxsIT09YSl7dmFyIGI7dHJ5e2I9aWMoYSl9Y2F0Y2goYyl7dHJ5e2I9SlNPTi5wYXJzZShhKX1jYXRjaChkKXt0aHJvdyBjO319cmV0dXJuIGJ9fSx2Zj1mdW5jdGlvbihhKXtyZXR1cm4gYT9hOlwiXCIrTWF0aC5mbG9vcigxRTkqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoKX0sQWY9ZnVuY3Rpb24oYSl7YT1hfHxnZigpO3JldHVyblwiU2FmYXJpXCI9PWxmKGEpfHxhLnRvTG93ZXJDYXNlKCkubWF0Y2goL2lwaG9uZXxpcGFkfGlwb2QvKT8hMTohMH0sQmY9ZnVuY3Rpb24oKXt2YXIgYT1sLl9fX2pzbDtpZihhJiZhLkgpZm9yKHZhciBiIGluIGEuSClpZihhLkhbYl0ucj1hLkhbYl0ucnx8XG5bXSxhLkhbYl0uTD1hLkhbYl0uTHx8W10sYS5IW2JdLnI9YS5IW2JdLkwuY29uY2F0KCksYS5DUClmb3IodmFyIGM9MDtjPGEuQ1AubGVuZ3RoO2MrKylhLkNQW2NdPW51bGx9O3ZhciBDZjt0cnl7dmFyIERmPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShEZixcImFiY2RcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6MX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShEZixcImFiY2RcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6Mn0pO0NmPTI9PURmLmFiY2R9Y2F0Y2goYSl7Q2Y9ITF9XG52YXIgUT1mdW5jdGlvbihhLGIsYyl7Q2Y/T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6Y30pOmFbYl09Y30sRWY9ZnVuY3Rpb24oYSxiKXtpZihiKWZvcih2YXIgYyBpbiBiKWIuaGFzT3duUHJvcGVydHkoYykmJlEoYSxjLGJbY10pfSxGZj1mdW5jdGlvbihhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmKGJbY109YVtjXSk7cmV0dXJuIGJ9LEdmPWZ1bmN0aW9uKGEsYil7aWYoIWJ8fCFiLmxlbmd0aClyZXR1cm4hMDtpZighYSlyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YVtiW2NdXTtpZih2b2lkIDA9PT1kfHxudWxsPT09ZHx8XCJcIj09PWQpcmV0dXJuITF9cmV0dXJuITB9O3ZhciBIZj17SmQ6e3ZiOjUwMCx1Yjo2MDAscHJvdmlkZXJJZDpcImZhY2Vib29rLmNvbVwifSxLZDp7dmI6NTAwLHViOjYyMCxwcm92aWRlcklkOlwiZ2l0aHViLmNvbVwifSxMZDp7dmI6NTE1LHViOjY4MCxwcm92aWRlcklkOlwiZ29vZ2xlLmNvbVwifSxRZDp7dmI6NDg1LHViOjcwNSxwcm92aWRlcklkOlwidHdpdHRlci5jb21cIn19LElmPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBIZilpZihIZltiXS5wcm92aWRlcklkPT1hKXJldHVybiBIZltiXTtyZXR1cm4gbnVsbH07dmFyIFI9ZnVuY3Rpb24oYSxiKXt0aGlzLmNvZGU9XCJhdXRoL1wiK2E7dGhpcy5tZXNzYWdlPWJ8fEpmW2FdfHxcIlwifTt0KFIsRXJyb3IpO1IucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTp0aGlzLmNvZGUsY29kZTp0aGlzLmNvZGUsbWVzc2FnZTp0aGlzLm1lc3NhZ2V9fTtcbnZhciBKZj17XCJhcmd1bWVudC1lcnJvclwiOlwiXCIsXCJhcHAtbm90LWF1dGhvcml6ZWRcIjpcIlRoaXMgYXBwLCBpZGVudGlmaWVkIGJ5IHRoZSBkb21haW4gd2hlcmUgaXQncyBob3N0ZWQsIGlzIG5vdCBhdXRob3JpemVkIHRvIHVzZSBGaXJlYmFzZSBBdXRoZW50aWNhdGlvbiB3aXRoIHRoZSBwcm92aWRlZCBBUEkga2V5LiBSZXZpZXcgeW91ciBrZXkgY29uZmlndXJhdGlvbiBpbiB0aGUgR29vZ2xlIEFQSSBjb25zb2xlLlwiLFwiY29ycy11bnN1cHBvcnRlZFwiOlwiVGhpcyBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWQuXCIsXCJjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlXCI6XCJUaGlzIGNyZWRlbnRpYWwgaXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggYSBkaWZmZXJlbnQgdXNlciBhY2NvdW50LlwiLFwiY3VzdG9tLXRva2VuLW1pc21hdGNoXCI6XCJUaGUgY3VzdG9tIHRva2VuIGNvcnJlc3BvbmRzIHRvIGEgZGlmZmVyZW50IGF1ZGllbmNlLlwiLFwicmVxdWlyZXMtcmVjZW50LWxvZ2luXCI6XCJUaGlzIG9wZXJhdGlvbiBpcyBzZW5zaXRpdmUgYW5kIHJlcXVpcmVzIHJlY2VudCBhdXRoZW50aWNhdGlvbi4gTG9nIGluIGFnYWluIGJlZm9yZSByZXRyeWluZyB0aGlzIHJlcXVlc3QuXCIsXG5cImVtYWlsLWFscmVhZHktaW4tdXNlXCI6XCJUaGUgZW1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIGFjY291bnQuXCIsXCJleHBpcmVkLWFjdGlvbi1jb2RlXCI6XCJUaGUgYWN0aW9uIGNvZGUgaGFzIGV4cGlyZWQuIFwiLFwiY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3RcIjpcIlRoaXMgb3BlcmF0aW9uIGhhcyBiZWVuIGNhbmNlbGxlZCBkdWUgdG8gYW5vdGhlciBjb25mbGljdGluZyBwb3B1cCBiZWluZyBvcGVuZWQuXCIsXCJpbnRlcm5hbC1lcnJvclwiOlwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFwiaW52YWxpZC11c2VyLXRva2VuXCI6XCJUaGUgdXNlcidzIGNyZWRlbnRpYWwgaXMgbm8gbG9uZ2VyIHZhbGlkLiBUaGUgdXNlciBtdXN0IHNpZ24gaW4gYWdhaW4uXCIsXCJpbnZhbGlkLWF1dGgtZXZlbnRcIjpcIkFuIGludGVybmFsIGVycm9yIGhhcyBvY2N1cnJlZC5cIixcImludmFsaWQtY3VzdG9tLXRva2VuXCI6XCJUaGUgY3VzdG9tIHRva2VuIGZvcm1hdCBpcyBpbmNvcnJlY3QuIFBsZWFzZSBjaGVjayB0aGUgZG9jdW1lbnRhdGlvbi5cIixcblwiaW52YWxpZC1lbWFpbFwiOlwiVGhlIGVtYWlsIGFkZHJlc3MgaXMgYmFkbHkgZm9ybWF0dGVkLlwiLFwiaW52YWxpZC1hcGkta2V5XCI6XCJZb3VyIEFQSSBrZXkgaXMgaW52YWxpZCwgcGxlYXNlIGNoZWNrIHlvdSBoYXZlIGNvcGllZCBpdCBjb3JyZWN0bHkuXCIsXCJpbnZhbGlkLWNyZWRlbnRpYWxcIjpcIlRoZSBzdXBwbGllZCBhdXRoIGNyZWRlbnRpYWwgaXMgbWFsZm9ybWVkIG9yIGhhcyBleHBpcmVkLlwiLFwiaW52YWxpZC1vYXV0aC1wcm92aWRlclwiOlwiRW1haWxBdXRoUHJvdmlkZXIgaXMgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBvcGVyYXRpb24uIFRoaXMgb3BlcmF0aW9uIG9ubHkgc3VwcG9ydHMgT0F1dGggcHJvdmlkZXJzLlwiLFwidW5hdXRob3JpemVkLWRvbWFpblwiOlwiVGhpcyBkb21haW4gaXMgbm90IGF1dGhvcml6ZWQgZm9yIE9BdXRoIG9wZXJhdGlvbnMgZm9yIHlvdXIgRmlyZWJhc2UgcHJvamVjdC4gRWRpdCB0aGUgbGlzdCBvZiBhdXRob3JpemVkIGRvbWFpbnMgZnJvbSB0aGUgRmlyZWJhc2UgY29uc29sZS5cIixcblwiaW52YWxpZC1hY3Rpb24tY29kZVwiOlwiVGhlIGFjdGlvbiBjb2RlIGlzIGludmFsaWQuIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgY29kZSBpcyBtYWxmb3JtZWQsIGV4cGlyZWQsIG9yIGhhcyBhbHJlYWR5IGJlZW4gdXNlZC5cIixcIndyb25nLXBhc3N3b3JkXCI6XCJUaGUgcGFzc3dvcmQgaXMgaW52YWxpZCBvciB0aGUgdXNlciBkb2VzIG5vdCBoYXZlIGEgcGFzc3dvcmQuXCIsXCJtaXNzaW5nLWlmcmFtZS1zdGFydFwiOlwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFwiYXV0aC1kb21haW4tY29uZmlnLXJlcXVpcmVkXCI6XCJCZSBzdXJlIHRvIGluY2x1ZGUgYXV0aERvbWFpbiB3aGVuIGNhbGxpbmcgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcCgpLCBieSBmb2xsb3dpbmcgdGhlIGluc3RydWN0aW9ucyBpbiB0aGUgRmlyZWJhc2UgY29uc29sZS5cIixcImFwcC1kZWxldGVkXCI6XCJUaGlzIGluc3RhbmNlIG9mIEZpcmViYXNlQXBwIGhhcyBiZWVuIGRlbGV0ZWQuXCIsXCJhY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsXCI6XCJBbiBhY2NvdW50IGFscmVhZHkgZXhpc3RzIHdpdGggdGhlIHNhbWUgZW1haWwgYWRkcmVzcyBidXQgZGlmZmVyZW50IHNpZ24taW4gY3JlZGVudGlhbHMuIFNpZ24gaW4gdXNpbmcgYSBwcm92aWRlciBhc3NvY2lhdGVkIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzLlwiLFxuXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCI6XCJBIG5ldHdvcmsgZXJyb3IgKHN1Y2ggYXMgdGltZW91dCwgaW50ZXJydXB0ZWQgY29ubmVjdGlvbiBvciB1bnJlYWNoYWJsZSBob3N0KSBoYXMgb2NjdXJyZWQuXCIsXCJuby1hdXRoLWV2ZW50XCI6XCJBbiBpbnRlcm5hbCBlcnJvciBoYXMgb2NjdXJyZWQuXCIsXCJuby1zdWNoLXByb3ZpZGVyXCI6XCJVc2VyIHdhcyBub3QgbGlua2VkIHRvIGFuIGFjY291bnQgd2l0aCB0aGUgZ2l2ZW4gcHJvdmlkZXIuXCIsXCJvcGVyYXRpb24tbm90LWFsbG93ZWRcIjpcIlRoZSBnaXZlbiBzaWduLWluIHByb3ZpZGVyIGlzIGRpc2FibGVkIGZvciB0aGlzIEZpcmViYXNlIHByb2plY3QuIEVuYWJsZSBpdCBpbiB0aGUgRmlyZWJhc2UgY29uc29sZSwgdW5kZXIgdGhlIHNpZ24taW4gbWV0aG9kIHRhYiBvZiB0aGUgQXV0aCBzZWN0aW9uLlwiLFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiOidUaGlzIG9wZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBlbnZpcm9ubWVudCB0aGlzIGFwcGxpY2F0aW9uIGlzIHJ1bm5pbmcgb24uIFwibG9jYXRpb24ucHJvdG9jb2xcIiBtdXN0IGJlIGh0dHAgb3IgaHR0cHMgYW5kIHdlYiBzdG9yYWdlIG11c3QgYmUgZW5hYmxlZC4nLFxuXCJwb3B1cC1ibG9ja2VkXCI6XCJVbmFibGUgdG8gZXN0YWJsaXNoIGEgY29ubmVjdGlvbiB3aXRoIHRoZSBwb3B1cC4gSXQgbWF5IGhhdmUgYmVlbiBibG9ja2VkIGJ5IHRoZSBicm93c2VyLlwiLFwicG9wdXAtY2xvc2VkLWJ5LXVzZXJcIjpcIlRoZSBwb3B1cCBoYXMgYmVlbiBjbG9zZWQgYnkgdGhlIHVzZXIgYmVmb3JlIGZpbmFsaXppbmcgdGhlIG9wZXJhdGlvbi5cIixcInByb3ZpZGVyLWFscmVhZHktbGlua2VkXCI6XCJVc2VyIGNhbiBvbmx5IGJlIGxpbmtlZCB0byBvbmUgaWRlbnRpdHkgZm9yIHRoZSBnaXZlbiBwcm92aWRlci5cIix0aW1lb3V0OlwiVGhlIG9wZXJhdGlvbiBoYXMgdGltZWQgb3V0LlwiLFwidXNlci10b2tlbi1leHBpcmVkXCI6XCJUaGUgdXNlcidzIGNyZWRlbnRpYWwgaXMgbm8gbG9uZ2VyIHZhbGlkLiBUaGUgdXNlciBtdXN0IHNpZ24gaW4gYWdhaW4uXCIsXCJ0b28tbWFueS1yZXF1ZXN0c1wiOlwiV2UgaGF2ZSBibG9ja2VkIGFsbCByZXF1ZXN0cyBmcm9tIHRoaXMgZGV2aWNlIGR1ZSB0byB1bnVzdWFsIGFjdGl2aXR5LiBUcnkgYWdhaW4gbGF0ZXIuXCIsXG5cInVzZXItY2FuY2VsbGVkXCI6XCJVc2VyIGRpZCBub3QgZ3JhbnQgeW91ciBhcHBsaWNhdGlvbiB0aGUgcGVybWlzc2lvbnMgaXQgcmVxdWVzdGVkLlwiLFwidXNlci1ub3QtZm91bmRcIjpcIlRoZXJlIGlzIG5vIHVzZXIgcmVjb3JkIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBpZGVudGlmaWVyLiBUaGUgdXNlciBtYXkgaGF2ZSBiZWVuIGRlbGV0ZWQuXCIsXCJ1c2VyLWRpc2FibGVkXCI6XCJUaGUgdXNlciBhY2NvdW50IGhhcyBiZWVuIGRpc2FibGVkIGJ5IGFuIGFkbWluaXN0cmF0b3IuXCIsXCJ1c2VyLW1pc21hdGNoXCI6XCJUaGUgc3VwcGxpZWQgY3JlZGVudGlhbHMgZG8gbm90IGNvcnJlc3BvbmQgdG8gdGhlIHByZXZpb3VzbHkgc2lnbmVkIGluIHVzZXIuXCIsXCJ1c2VyLXNpZ25lZC1vdXRcIjpcIlwiLFwid2Vhay1wYXNzd29yZFwiOlwiVGhlIHBhc3N3b3JkIG11c3QgYmUgNiBjaGFyYWN0ZXJzIGxvbmcgb3IgbW9yZS5cIixcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCI6XCJUaGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZC5cIn07dmFyIEtmPWZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy53YT1hO3RoaXMuQWE9Ynx8bnVsbDt0aGlzLmliPWN8fG51bGw7dGhpcy5lYz1kfHxudWxsO3RoaXMuSj1lfHxudWxsO2lmKHRoaXMuaWJ8fHRoaXMuSil7aWYodGhpcy5pYiYmdGhpcy5KKXRocm93IG5ldyBSKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpO2lmKHRoaXMuaWImJiF0aGlzLmVjKXRocm93IG5ldyBSKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpO31lbHNlIHRocm93IG5ldyBSKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpO307S2YucHJvdG90eXBlLmdldEVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSn07S2YucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTp0aGlzLndhLGV2ZW50SWQ6dGhpcy5BYSx1cmxSZXNwb25zZTp0aGlzLmliLHNlc3Npb25JZDp0aGlzLmVjLGVycm9yOnRoaXMuSiYmdGhpcy5KLkcoKX19O3ZhciBMZj1mdW5jdGlvbihhKXt2YXIgYj1cInVuYXV0aG9yaXplZC1kb21haW5cIixjPXZvaWQgMCxkPWFmKGEpO2E9ZC5nYTtkPWQubGE7XCJodHRwXCIhPWQmJlwiaHR0cHNcIiE9ZD9iPVwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiOmM9bWEoXCJUaGlzIGRvbWFpbiAoJXMpIGlzIG5vdCBhdXRob3JpemVkIHRvIHJ1biB0aGlzIG9wZXJhdGlvbi4gQWRkIGl0IHRvIHRoZSBPQXV0aCByZWRpcmVjdCBkb21haW5zIGxpc3QgaW4gdGhlIEZpcmViYXNlIGNvbnNvbGUgLT4gQXV0aCBzZWN0aW9uIC0+IFNpZ24gaW4gbWV0aG9kIHRhYi5cIixhKTtSLmNhbGwodGhpcyxiLGMpfTt0KExmLFIpO3ZhciBNZj1mdW5jdGlvbihhKXt0aGlzLnZlPWEuc3ViO2xhKCk7dGhpcy5GYj1hLmVtYWlsfHxudWxsfTt2YXIgTmY9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e307aGEoYyk/ZT1jOmImJm4oYykmJm4oZCk/ZT17b2F1dGhUb2tlbjpjLG9hdXRoVG9rZW5TZWNyZXQ6ZH06IWImJm4oYykmJihlPXthY2Nlc3NUb2tlbjpjfSk7aWYoYnx8IWUuaWRUb2tlbiYmIWUuYWNjZXNzVG9rZW4paWYoYiYmZS5vYXV0aFRva2VuJiZlLm9hdXRoVG9rZW5TZWNyZXQpUSh0aGlzLFwiYWNjZXNzVG9rZW5cIixlLm9hdXRoVG9rZW4pLFEodGhpcyxcInNlY3JldFwiLGUub2F1dGhUb2tlblNlY3JldCk7ZWxzZXtpZihiKXRocm93IG5ldyBSKFwiYXJndW1lbnQtZXJyb3JcIixcImNyZWRlbnRpYWwgZmFpbGVkOiBleHBlY3RlZCAyIGFyZ3VtZW50cyAodGhlIE9BdXRoIGFjY2VzcyB0b2tlbiBhbmQgc2VjcmV0KS5cIik7dGhyb3cgbmV3IFIoXCJhcmd1bWVudC1lcnJvclwiLFwiY3JlZGVudGlhbCBmYWlsZWQ6IGV4cGVjdGVkIDEgYXJndW1lbnQgKHRoZSBPQXV0aCBhY2Nlc3MgdG9rZW4pLlwiKTt9ZWxzZSBlLmlkVG9rZW4mJlEodGhpcyxcblwiaWRUb2tlblwiLGUuaWRUb2tlbiksZS5hY2Nlc3NUb2tlbiYmUSh0aGlzLFwiYWNjZXNzVG9rZW5cIixlLmFjY2Vzc1Rva2VuKTtRKHRoaXMsXCJwcm92aWRlclwiLGEpfTtOZi5wcm90b3R5cGUuSWI9ZnVuY3Rpb24oYSl7cmV0dXJuIE9mKGEsUGYodGhpcykpfTtOZi5wcm90b3R5cGUub2Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz1QZih0aGlzKTtjLmlkVG9rZW49YjtyZXR1cm4gUWYoYSxjKX07dmFyIFBmPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O2EuaWRUb2tlbiYmKGIuaWRfdG9rZW49YS5pZFRva2VuKTthLmFjY2Vzc1Rva2VuJiYoYi5hY2Nlc3NfdG9rZW49YS5hY2Nlc3NUb2tlbik7YS5zZWNyZXQmJihiLm9hdXRoX3Rva2VuX3NlY3JldD1hLnNlY3JldCk7Yi5wcm92aWRlcklkPWEucHJvdmlkZXI7cmV0dXJue3Bvc3RCb2R5OmZmKGIpLnRvU3RyaW5nKCkscmVxdWVzdFVyaTp3ZigpP2pmKCk6XCJodHRwOi8vbG9jYWxob3N0XCJ9fTtcbk5mLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7dmFyIGE9e3Byb3ZpZGVyOnRoaXMucHJvdmlkZXJ9O3RoaXMuaWRUb2tlbiYmKGEub2F1dGhJZFRva2VuPXRoaXMuaWRUb2tlbik7dGhpcy5hY2Nlc3NUb2tlbiYmKGEub2F1dGhBY2Nlc3NUb2tlbj10aGlzLmFjY2Vzc1Rva2VuKTt0aGlzLnNlY3JldCYmKGEub2F1dGhUb2tlblNlY3JldD10aGlzLnNlY3JldCk7cmV0dXJuIGF9O1xudmFyIFJmPWZ1bmN0aW9uKGEsYil7dmFyIGM9ISFiO2I9ZnVuY3Rpb24oKXtFZih0aGlzLHtwcm92aWRlcklkOmEsaXNPQXV0aFByb3ZpZGVyOiEwfSk7dGhpcy5OYz1bXTtcImdvb2dsZS5jb21cIj09YSYmdGhpcy5hZGRTY29wZShcInByb2ZpbGVcIil9O2N8fChiLnByb3RvdHlwZS5hZGRTY29wZT1mdW5jdGlvbihhKXtKYSh0aGlzLk5jLGEpfHx0aGlzLk5jLnB1c2goYSl9KTtiLnByb3RvdHlwZS5KYj1mdW5jdGlvbigpe3JldHVybiBQYSh0aGlzLk5jKX07Yi5jcmVkZW50aWFsPWZ1bmN0aW9uKGIsZSl7cmV0dXJuIG5ldyBOZihhLGMsYixlKX07RWYoYix7UFJPVklERVJfSUQ6YX0pO3JldHVybiBifSxTZj1SZihcImZhY2Vib29rLmNvbVwiKTtTZi5wcm90b3R5cGUuYWRkU2NvcGU9U2YucHJvdG90eXBlLmFkZFNjb3BlfHx2b2lkIDA7dmFyIFRmPVJmKFwiZ2l0aHViLmNvbVwiKTtUZi5wcm90b3R5cGUuYWRkU2NvcGU9VGYucHJvdG90eXBlLmFkZFNjb3BlfHx2b2lkIDA7dmFyIFVmPVJmKFwiZ29vZ2xlLmNvbVwiKTtcblVmLnByb3RvdHlwZS5hZGRTY29wZT1VZi5wcm90b3R5cGUuYWRkU2NvcGV8fHZvaWQgMDtVZi5jcmVkZW50aWFsPWZ1bmN0aW9uKGEsYil7aWYoIWEmJiFiKXRocm93IG5ldyBSKFwiYXJndW1lbnQtZXJyb3JcIixcImNyZWRlbnRpYWwgZmFpbGVkOiBtdXN0IHByb3ZpZGUgdGhlIElEIHRva2VuIGFuZC9vciB0aGUgYWNjZXNzIHRva2VuLlwiKTtyZXR1cm4gbmV3IE5mKFwiZ29vZ2xlLmNvbVwiLCExLGhhKGEpP2E6e2lkVG9rZW46YXx8bnVsbCxhY2Nlc3NUb2tlbjpifHxudWxsfSl9O3ZhciBWZj1SZihcInR3aXR0ZXIuY29tXCIsITApLFdmPWZ1bmN0aW9uKGEsYil7dGhpcy5GYj1hO3RoaXMuR2M9YjtRKHRoaXMsXCJwcm92aWRlclwiLFwicGFzc3dvcmRcIil9O1dmLnByb3RvdHlwZS5JYj1mdW5jdGlvbihhKXtyZXR1cm4gUyhhLFhmLHtlbWFpbDp0aGlzLkZiLHBhc3N3b3JkOnRoaXMuR2N9KX07XG5XZi5wcm90b3R5cGUub2Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyhhLFlmLHtpZFRva2VuOmIsZW1haWw6dGhpcy5GYixwYXNzd29yZDp0aGlzLkdjfSl9O1dmLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7cmV0dXJue2VtYWlsOnRoaXMuRmIscGFzc3dvcmQ6dGhpcy5HY319O3ZhciBaZj1mdW5jdGlvbigpe0VmKHRoaXMse3Byb3ZpZGVySWQ6XCJwYXNzd29yZFwiLGlzT0F1dGhQcm92aWRlcjohMX0pfTtFZihaZix7UFJPVklERVJfSUQ6XCJwYXNzd29yZFwifSk7XG52YXIgJGY9e1ZlOlpmLEpkOlNmLExkOlVmLEtkOlRmLFFkOlZmfSxhZz1mdW5jdGlvbihhKXt2YXIgYj1hJiZhLnByb3ZpZGVySWQ7aWYoIWIpcmV0dXJuIG51bGw7dmFyIGM9YSYmYS5vYXV0aEFjY2Vzc1Rva2VuLGQ9YSYmYS5vYXV0aFRva2VuU2VjcmV0O2E9YSYmYS5vYXV0aElkVG9rZW47Zm9yKHZhciBlIGluICRmKWlmKCRmW2VdLlBST1ZJREVSX0lEPT1iKXRyeXtyZXR1cm4gJGZbZV0uY3JlZGVudGlhbCh7YWNjZXNzVG9rZW46YyxpZFRva2VuOmEsb2F1dGhUb2tlbjpjLG9hdXRoVG9rZW5TZWNyZXQ6ZH0pfWNhdGNoKGYpe2JyZWFrfXJldHVybiBudWxsfTt2YXIgYmc9ZnVuY3Rpb24oYSxiLGMsZCl7Ui5jYWxsKHRoaXMsYSxkKTtRKHRoaXMsXCJlbWFpbFwiLGIpO1EodGhpcyxcImNyZWRlbnRpYWxcIixjKX07dChiZyxSKTtiZy5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3ZhciBhPXtjb2RlOnRoaXMuY29kZSxtZXNzYWdlOnRoaXMubWVzc2FnZSxlbWFpbDp0aGlzLmVtYWlsfSxiPXRoaXMuY3JlZGVudGlhbCYmdGhpcy5jcmVkZW50aWFsLkcoKTtiJiYoWWEoYSxiKSxhLnByb3ZpZGVySWQ9Yi5wcm92aWRlcixkZWxldGUgYS5wcm92aWRlcik7cmV0dXJuIGF9O3ZhciBjZz1mdW5jdGlvbihhKXtpZihhLmNvZGUpe3ZhciBiPWEuY29kZXx8XCJcIjswPT1iLmluZGV4T2YoXCJhdXRoL1wiKSYmKGI9Yi5zdWJzdHJpbmcoNSkpO3JldHVybiBhLmVtYWlsP25ldyBiZyhiLGEuZW1haWwsYWcoYSksYS5tZXNzYWdlKTpuZXcgUihiLGEubWVzc2FnZXx8dm9pZCAwKX1yZXR1cm4gbnVsbH07dmFyIGRnPWZ1bmN0aW9uKGEpe3RoaXMuVWU9YX07dChkZyxwYyk7ZGcucHJvdG90eXBlLmxiPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLlVlfTtkZy5wcm90b3R5cGUuU2I9ZnVuY3Rpb24oKXtyZXR1cm57fX07XG52YXIgVD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7ZD1cIk5vZGVcIj09cmYoKTtkPWwuWE1MSHR0cFJlcXVlc3R8fGQmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUuWE1MSHR0cFJlcXVlc3Q7aWYoIWQpdGhyb3cgbmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiLFwiVGhlIFhNTEh0dHBSZXF1ZXN0IGNvbXBhdGliaWxpdHkgbGlicmFyeSB3YXMgbm90IGZvdW5kLlwiKTt0aGlzLnY9YTthPWJ8fHt9O3RoaXMuRmU9YS5zZWN1cmVUb2tlbkVuZHBvaW50fHxcImh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlYXBpcy5jb20vdjEvdG9rZW5cIjt0aGlzLkdlPWEuc2VjdXJlVG9rZW5UaW1lb3V0fHwxRTQ7dGhpcy55ZD1XYShhLnNlY3VyZVRva2VuSGVhZGVyc3x8ZWcpO3RoaXMuY2U9YS5maXJlYmFzZUVuZHBvaW50fHxcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2lkZW50aXR5dG9vbGtpdC92My9yZWx5aW5ncGFydHkvXCI7dGhpcy5kZT1hLmZpcmViYXNlVGltZW91dHx8XG4xRTQ7dGhpcy5lZD1XYShhLmZpcmViYXNlSGVhZGVyc3x8ZmcpO2MmJih0aGlzLmVkW1wiWC1DbGllbnQtVmVyc2lvblwiXT1jLHRoaXMueWRbXCJYLUNsaWVudC1WZXJzaW9uXCJdPWMpO3RoaXMuVWQ9bmV3IHVjO3RoaXMuVGU9bmV3IGRnKGQpfSxnZyxlZz17XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifSxmZz17XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0saWc9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7bWYoKT9hPXEoYS5JZSxhKTooZ2d8fChnZz1uZXcgSShmdW5jdGlvbihhLGIpe2hnKGEsYil9KSksYT1xKGEuSGUsYSkpO2EoYixjLGQsZSxmLGcpfTtcblQucHJvdG90eXBlLkllPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1cIk5vZGVcIj09cmYoKSxrPXNmKCk/Zz9uZXcgTSh0aGlzLlRlKTpuZXcgTTpuZXcgTSh0aGlzLlVkKSxyO2YmJihrLmdiPU1hdGgubWF4KDAsZikscj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ay5kaXNwYXRjaEV2ZW50KFwidGltZW91dFwiKX0sZikpO2subGlzdGVuKFwiY29tcGxldGVcIixmdW5jdGlvbigpe3ImJmNsZWFyVGltZW91dChyKTt2YXIgYT1udWxsO3RyeXt2YXIgYztjPXRoaXMuYT9pYyh0aGlzLmEucmVzcG9uc2VUZXh0KTp2b2lkIDA7YT1jfHxudWxsfWNhdGNoKFJpKXt0cnl7YT1KU09OLnBhcnNlKE5lKHRoaXMpKXx8bnVsbH1jYXRjaChTaSl7YT1udWxsfX1iJiZiKGEpfSk7VGIoayxcInJlYWR5XCIsZnVuY3Rpb24oKXtyJiZjbGVhclRpbWVvdXQocik7dGhpcy56YXx8KHRoaXMuemE9ITAsdGhpcy5QYSgpKX0pO1RiKGssXCJ0aW1lb3V0XCIsZnVuY3Rpb24oKXtyJiZjbGVhclRpbWVvdXQocik7dGhpcy56YXx8XG4odGhpcy56YT0hMCx0aGlzLlBhKCkpO2ImJmIobnVsbCl9KTtrLnNlbmQoYSxjLGQsZSl9O3ZhciBQZD1cIl9fZmNiXCIrTWF0aC5mbG9vcigxRTYqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoKSxoZz1mdW5jdGlvbihhLGIpeygod2luZG93LmdhcGl8fHt9KS5jbGllbnR8fHt9KS5yZXF1ZXN0P2EoKToobFtQZF09ZnVuY3Rpb24oKXsoKHdpbmRvdy5nYXBpfHx7fSkuY2xpZW50fHx7fSkucmVxdWVzdD9hKCk6YihFcnJvcihcIkNPUlNfVU5TVVBQT1JURURcIikpfSxSZChmdW5jdGlvbigpe2IoRXJyb3IoXCJDT1JTX1VOU1VQUE9SVEVEXCIpKX0pKX07XG5ULnByb3RvdHlwZS5IZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXM7Z2cudGhlbihmdW5jdGlvbigpe3dpbmRvdy5nYXBpLmNsaWVudC5zZXRBcGlLZXkoZi52KTt2YXIgZz13aW5kb3cuZ2FwaS5hdXRoLmdldFRva2VuKCk7d2luZG93LmdhcGkuYXV0aC5zZXRUb2tlbihudWxsKTt3aW5kb3cuZ2FwaS5jbGllbnQucmVxdWVzdCh7cGF0aDphLG1ldGhvZDpjLGJvZHk6ZCxoZWFkZXJzOmUsYXV0aFR5cGU6XCJub25lXCIsY2FsbGJhY2s6ZnVuY3Rpb24oYSl7d2luZG93LmdhcGkuYXV0aC5zZXRUb2tlbihnKTtiJiZiKGEpfX0pfSkubChmdW5jdGlvbihhKXtiJiZiKHtlcnJvcjp7bWVzc2FnZTphJiZhLm1lc3NhZ2V8fFwiQ09SU19VTlNVUFBPUlRFRFwifX0pfSl9O1xudmFyIGtnPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBJKGZ1bmN0aW9uKGMsZCl7XCJyZWZyZXNoX3Rva2VuXCI9PWIuZ3JhbnRfdHlwZSYmYi5yZWZyZXNoX3Rva2VufHxcImF1dGhvcml6YXRpb25fY29kZVwiPT1iLmdyYW50X3R5cGUmJmIuY29kZT9pZyhhLGEuRmUrXCI/a2V5PVwiK2VuY29kZVVSSUNvbXBvbmVudChhLnYpLGZ1bmN0aW9uKGEpe2E/YS5lcnJvcj9kKGpnKGEpKTphLmFjY2Vzc190b2tlbiYmYS5yZWZyZXNoX3Rva2VuP2MoYSk6ZChuZXcgUihcImludGVybmFsLWVycm9yXCIpKTpkKG5ldyBSKFwibmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiKSl9LFwiUE9TVFwiLGZmKGIpLnRvU3RyaW5nKCksYS55ZCxhLkdlKTpkKG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIikpfSl9LGxnPWZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gYSludWxsIT09YVtjXSYmdm9pZCAwIT09YVtjXSYmKGJbY109YVtjXSk7cmV0dXJuIGxjKGIpfSxtZz1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuY2UrXG5iK1wiP2tleT1cIitlbmNvZGVVUklDb21wb25lbnQoYS52KTtlJiYoZis9XCImY2I9XCIrbGEoKS50b1N0cmluZygpKTtyZXR1cm4gbmV3IEkoZnVuY3Rpb24oYixlKXtpZyhhLGYsZnVuY3Rpb24oYSl7YT9hLmVycm9yP2UoamcoYSkpOmIoYSk6ZShuZXcgUihcIm5ldHdvcmstcmVxdWVzdC1mYWlsZWRcIikpfSxjLGxnKGQpLGEuZWQsYS5kZSl9KX0sbmc9ZnVuY3Rpb24oYSl7aWYoIVpiLnRlc3QoYS5lbWFpbCkpdGhyb3cgbmV3IFIoXCJpbnZhbGlkLWVtYWlsXCIpO30sb2c9ZnVuY3Rpb24oYSl7XCJlbWFpbFwiaW4gYSYmbmcoYSl9LHFnPWZ1bmN0aW9uKGEsYil7dmFyIGM9d2YoKT9qZigpOlwiaHR0cDovL2xvY2FsaG9zdFwiO3JldHVybiBTKGEscGcse2lkZW50aWZpZXI6Yixjb250aW51ZVVyaTpjfSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYS5hbGxQcm92aWRlcnN8fFtdfSl9LHNnPWZ1bmN0aW9uKGEpe3JldHVybiBTKGEscmcse30pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXV0aG9yaXplZERvbWFpbnN8fFxuW119KX0sdGc9ZnVuY3Rpb24oYSl7aWYoIWEuaWRUb2tlbil0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIpO307VC5wcm90b3R5cGUuc2lnbkluQW5vbnltb3VzbHk9ZnVuY3Rpb24oKXtyZXR1cm4gUyh0aGlzLHVnLHt9KX07VC5wcm90b3R5cGUudXBkYXRlRW1haWw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyh0aGlzLHZnLHtpZFRva2VuOmEsZW1haWw6Yn0pfTtULnByb3RvdHlwZS51cGRhdGVQYXNzd29yZD1mdW5jdGlvbihhLGIpe3JldHVybiBTKHRoaXMsWWYse2lkVG9rZW46YSxwYXNzd29yZDpifSl9O3ZhciB3Zz17ZGlzcGxheU5hbWU6XCJESVNQTEFZX05BTUVcIixwaG90b1VybDpcIlBIT1RPX1VSTFwifTtcblQucHJvdG90eXBlLnVwZGF0ZVByb2ZpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz17aWRUb2tlbjphfSxkPVtdO1JhKHdnLGZ1bmN0aW9uKGEsZil7dmFyIGU9YltmXTtudWxsPT09ZT9kLnB1c2goYSk6ZiBpbiBiJiYoY1tmXT1lKX0pO2QubGVuZ3RoJiYoYy5kZWxldGVBdHRyaWJ1dGU9ZCk7cmV0dXJuIFModGhpcyx2ZyxjKX07VC5wcm90b3R5cGUuc2VuZFBhc3N3b3JkUmVzZXRFbWFpbD1mdW5jdGlvbihhKXtyZXR1cm4gUyh0aGlzLHhnLHtyZXF1ZXN0VHlwZTpcIlBBU1NXT1JEX1JFU0VUXCIsZW1haWw6YX0pfTtULnByb3RvdHlwZS5zZW5kRW1haWxWZXJpZmljYXRpb249ZnVuY3Rpb24oYSl7cmV0dXJuIFModGhpcyx5Zyx7cmVxdWVzdFR5cGU6XCJWRVJJRllfRU1BSUxcIixpZFRva2VuOmF9KX07XG52YXIgQWc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBTKGEsemcse2lkVG9rZW46YixkZWxldGVQcm92aWRlcjpjfSl9LEJnPWZ1bmN0aW9uKGEpe2lmKCFhLnJlcXVlc3RVcml8fCFhLnNlc3Npb25JZCYmIWEucG9zdEJvZHkpdGhyb3cgbmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiKTt9LENnPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7YS5uZWVkQ29uZmlybWF0aW9uPyhhLmNvZGU9XCJhY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsXCIsYj1jZyhhKSk6XCJGRURFUkFURURfVVNFUl9JRF9BTFJFQURZX0xJTktFRFwiPT1hLmVycm9yTWVzc2FnZT8oYS5jb2RlPVwiY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZVwiLGI9Y2coYSkpOlwiRU1BSUxfRVhJU1RTXCI9PWEuZXJyb3JNZXNzYWdlJiYoYS5jb2RlPVwiZW1haWwtYWxyZWFkeS1pbi11c2VcIixiPWNnKGEpKTtpZihiKXRocm93IGI7aWYoIWEuaWRUb2tlbil0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIpO30sT2Y9ZnVuY3Rpb24oYSxcbmIpe2IucmV0dXJuSWRwQ3JlZGVudGlhbD0hMDtyZXR1cm4gUyhhLERnLGIpfSxRZj1mdW5jdGlvbihhLGIpe2IucmV0dXJuSWRwQ3JlZGVudGlhbD0hMDtyZXR1cm4gUyhhLEVnLGIpfSxGZz1mdW5jdGlvbihhKXtpZighYS5vb2JDb2RlKXRocm93IG5ldyBSKFwiaW52YWxpZC1hY3Rpb24tY29kZVwiKTt9O1QucHJvdG90eXBlLmNvbmZpcm1QYXNzd29yZFJlc2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIFModGhpcyxHZyx7b29iQ29kZTphLG5ld1Bhc3N3b3JkOmJ9KX07VC5wcm90b3R5cGUuY2hlY2tBY3Rpb25Db2RlPWZ1bmN0aW9uKGEpe3JldHVybiBTKHRoaXMsSGcse29vYkNvZGU6YX0pfTtULnByb3RvdHlwZS5hcHBseUFjdGlvbkNvZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIFModGhpcyxJZyx7b29iQ29kZTphfSl9O1xudmFyIElnPXtlbmRwb2ludDpcInNldEFjY291bnRJbmZvXCIsRDpGZyxlYjpcImVtYWlsXCJ9LEhnPXtlbmRwb2ludDpcInJlc2V0UGFzc3dvcmRcIixEOkZnLHVhOmZ1bmN0aW9uKGEpe2lmKCFaYi50ZXN0KGEuZW1haWwpKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIik7fX0sSmc9e2VuZHBvaW50Olwic2lnbnVwTmV3VXNlclwiLEQ6ZnVuY3Rpb24oYSl7bmcoYSk7aWYoIWEucGFzc3dvcmQpdGhyb3cgbmV3IFIoXCJ3ZWFrLXBhc3N3b3JkXCIpO30sdWE6dGcsdmE6ITB9LHBnPXtlbmRwb2ludDpcImNyZWF0ZUF1dGhVcmlcIn0sS2c9e2VuZHBvaW50OlwiZGVsZXRlQWNjb3VudFwiLGJiOltcImlkVG9rZW5cIl19LHpnPXtlbmRwb2ludDpcInNldEFjY291bnRJbmZvXCIsYmI6W1wiaWRUb2tlblwiLFwiZGVsZXRlUHJvdmlkZXJcIl0sRDpmdW5jdGlvbihhKXtpZighZWEoYS5kZWxldGVQcm92aWRlcikpdGhyb3cgbmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiKTt9fSxMZz17ZW5kcG9pbnQ6XCJnZXRBY2NvdW50SW5mb1wifSxcbnlnPXtlbmRwb2ludDpcImdldE9vYkNvbmZpcm1hdGlvbkNvZGVcIixiYjpbXCJpZFRva2VuXCIsXCJyZXF1ZXN0VHlwZVwiXSxEOmZ1bmN0aW9uKGEpe2lmKFwiVkVSSUZZX0VNQUlMXCIhPWEucmVxdWVzdFR5cGUpdGhyb3cgbmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiKTt9LGViOlwiZW1haWxcIn0seGc9e2VuZHBvaW50OlwiZ2V0T29iQ29uZmlybWF0aW9uQ29kZVwiLGJiOltcInJlcXVlc3RUeXBlXCJdLEQ6ZnVuY3Rpb24oYSl7aWYoXCJQQVNTV09SRF9SRVNFVFwiIT1hLnJlcXVlc3RUeXBlKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIik7bmcoYSl9LGViOlwiZW1haWxcIn0scmc9e1RkOiEwLGVuZHBvaW50OlwiZ2V0UHJvamVjdENvbmZpZ1wiLG1lOlwiR0VUXCJ9LEdnPXtlbmRwb2ludDpcInJlc2V0UGFzc3dvcmRcIixEOkZnLGViOlwiZW1haWxcIn0sdmc9e2VuZHBvaW50Olwic2V0QWNjb3VudEluZm9cIixiYjpbXCJpZFRva2VuXCJdLEQ6b2csdmE6ITB9LFlmPXtlbmRwb2ludDpcInNldEFjY291bnRJbmZvXCIsYmI6W1wiaWRUb2tlblwiXSxcbkQ6ZnVuY3Rpb24oYSl7b2coYSk7aWYoIWEucGFzc3dvcmQpdGhyb3cgbmV3IFIoXCJ3ZWFrLXBhc3N3b3JkXCIpO30sdWE6dGcsdmE6ITB9LHVnPXtlbmRwb2ludDpcInNpZ251cE5ld1VzZXJcIix1YTp0Zyx2YTohMH0sRGc9e2VuZHBvaW50OlwidmVyaWZ5QXNzZXJ0aW9uXCIsRDpCZyx1YTpDZyx2YTohMH0sRWc9e2VuZHBvaW50OlwidmVyaWZ5QXNzZXJ0aW9uXCIsRDpmdW5jdGlvbihhKXtCZyhhKTtpZighYS5pZFRva2VuKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIik7fSx1YTpDZyx2YTohMH0sTWc9e2VuZHBvaW50OlwidmVyaWZ5Q3VzdG9tVG9rZW5cIixEOmZ1bmN0aW9uKGEpe2lmKCFhLnRva2VuKXRocm93IG5ldyBSKFwiaW52YWxpZC1jdXN0b20tdG9rZW5cIik7fSx1YTp0Zyx2YTohMH0sWGY9e2VuZHBvaW50OlwidmVyaWZ5UGFzc3dvcmRcIixEOmZ1bmN0aW9uKGEpe25nKGEpO2lmKCFhLnBhc3N3b3JkKXRocm93IG5ldyBSKFwid3JvbmctcGFzc3dvcmRcIik7fSx1YTp0Zyx2YTohMH0sUz1cbmZ1bmN0aW9uKGEsYixjKXtpZighR2YoYyxiLmJiKSlyZXR1cm4gSyhuZXcgUihcImludGVybmFsLWVycm9yXCIpKTt2YXIgZD1iLm1lfHxcIlBPU1RcIixlO3JldHVybiBKKGMpLnRoZW4oYi5EKS50aGVuKGZ1bmN0aW9uKCl7Yi52YSYmKGMucmV0dXJuU2VjdXJlVG9rZW49ITApO3JldHVybiBtZyhhLGIuZW5kcG9pbnQsZCxjLGIuVGR8fCExKX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGU9YX0pLnRoZW4oYi51YSkudGhlbihmdW5jdGlvbigpe2lmKCFiLmViKXJldHVybiBlO2lmKCEoYi5lYiBpbiBlKSl0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIpO3JldHVybiBlW2IuZWJdfSl9LGpnPWZ1bmN0aW9uKGEpe3ZhciBiLGM7Yz0oYS5lcnJvciYmYS5lcnJvci5lcnJvcnMmJmEuZXJyb3IuZXJyb3JzWzBdfHx7fSkucmVhc29ufHxcIlwiO3ZhciBkPXtrZXlJbnZhbGlkOlwiaW52YWxpZC1hcGkta2V5XCIsaXBSZWZlcmVyQmxvY2tlZDpcImFwcC1ub3QtYXV0aG9yaXplZFwifTtpZihjPWRbY10/XG5uZXcgUihkW2NdKTpudWxsKXJldHVybiBjO2M9YS5lcnJvciYmYS5lcnJvci5tZXNzYWdlfHxcIlwiO2Q9e0lOVkFMSURfQ1VTVE9NX1RPS0VOOlwiaW52YWxpZC1jdXN0b20tdG9rZW5cIixDUkVERU5USUFMX01JU01BVENIOlwiY3VzdG9tLXRva2VuLW1pc21hdGNoXCIsTUlTU0lOR19DVVNUT01fVE9LRU46XCJpbnRlcm5hbC1lcnJvclwiLElOVkFMSURfSURFTlRJRklFUjpcImludmFsaWQtZW1haWxcIixNSVNTSU5HX0NPTlRJTlVFX1VSSTpcImludGVybmFsLWVycm9yXCIsSU5WQUxJRF9FTUFJTDpcImludmFsaWQtZW1haWxcIixJTlZBTElEX1BBU1NXT1JEOlwid3JvbmctcGFzc3dvcmRcIixVU0VSX0RJU0FCTEVEOlwidXNlci1kaXNhYmxlZFwiLE1JU1NJTkdfUEFTU1dPUkQ6XCJpbnRlcm5hbC1lcnJvclwiLEVNQUlMX0VYSVNUUzpcImVtYWlsLWFscmVhZHktaW4tdXNlXCIsUEFTU1dPUkRfTE9HSU5fRElTQUJMRUQ6XCJvcGVyYXRpb24tbm90LWFsbG93ZWRcIixJTlZBTElEX0lEUF9SRVNQT05TRTpcImludmFsaWQtY3JlZGVudGlhbFwiLFxuRkVERVJBVEVEX1VTRVJfSURfQUxSRUFEWV9MSU5LRUQ6XCJjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlXCIsRU1BSUxfTk9UX0ZPVU5EOlwidXNlci1ub3QtZm91bmRcIixFWFBJUkVEX09PQl9DT0RFOlwiZXhwaXJlZC1hY3Rpb24tY29kZVwiLElOVkFMSURfT09CX0NPREU6XCJpbnZhbGlkLWFjdGlvbi1jb2RlXCIsTUlTU0lOR19PT0JfQ09ERTpcImludGVybmFsLWVycm9yXCIsQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOOlwicmVxdWlyZXMtcmVjZW50LWxvZ2luXCIsSU5WQUxJRF9JRF9UT0tFTjpcImludmFsaWQtdXNlci10b2tlblwiLFRPS0VOX0VYUElSRUQ6XCJ1c2VyLXRva2VuLWV4cGlyZWRcIixVU0VSX05PVF9GT1VORDpcInVzZXItdG9rZW4tZXhwaXJlZFwiLENPUlNfVU5TVVBQT1JURUQ6XCJjb3JzLXVuc3VwcG9ydGVkXCIsVE9PX01BTllfQVRURU1QVFNfVFJZX0xBVEVSOlwidG9vLW1hbnktcmVxdWVzdHNcIixXRUFLX1BBU1NXT1JEOlwid2Vhay1wYXNzd29yZFwiLE9QRVJBVElPTl9OT1RfQUxMT1dFRDpcIm9wZXJhdGlvbi1ub3QtYWxsb3dlZFwiLFxuVVNFUl9DQU5DRUxMRUQ6XCJ1c2VyLWNhbmNlbGxlZFwifTtiPShiPWMubWF0Y2goL15bXlxcc10rXFxzKjpcXHMqKC4qKSQvKSkmJjE8Yi5sZW5ndGg/YlsxXTp2b2lkIDA7Zm9yKHZhciBlIGluIGQpaWYoMD09PWMuaW5kZXhPZihlKSlyZXR1cm4gbmV3IFIoZFtlXSxiKTshYiYmYSYmKGI9eWYoYSkpO3JldHVybiBuZXcgUihcImludGVybmFsLWVycm9yXCIsYil9O3ZhciBOZz1mdW5jdGlvbihhKXt0aGlzLlI9YX07TmcucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUn07TmcucHJvdG90eXBlLkJkPWZ1bmN0aW9uKGEpe3RoaXMuUi5zdHlsZT1hO3JldHVybiB0aGlzfTt2YXIgT2c9ZnVuY3Rpb24oYSl7dGhpcy5SPWF8fHt9fTtPZy5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SfTtPZy5wcm90b3R5cGUuQmQ9ZnVuY3Rpb24oYSl7dGhpcy5SLnN0eWxlPWE7cmV0dXJuIHRoaXN9O3ZhciBRZz1mdW5jdGlvbihhKXt0aGlzLlNlPWE7dGhpcy56Yz1udWxsO3RoaXMucWQ9UGcodGhpcyl9O1FnLnByb3RvdHlwZS5FYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnFkfTtcbnZhciBSZz1mdW5jdGlvbihhKXt2YXIgYj1uZXcgT2c7Yi5SLndoZXJlPWRvY3VtZW50LmJvZHk7Yi5SLnVybD1hLlNlO2IuUi5tZXNzYWdlSGFuZGxlcnNGaWx0ZXI9dWYoXCJnYXBpLmlmcmFtZXMuQ1JPU1NfT1JJR0lOX0lGUkFNRVNfRklMVEVSXCIpO2IuUi5hdHRyaWJ1dGVzPWIuUi5hdHRyaWJ1dGVzfHx7fTsobmV3IE5nKGIuUi5hdHRyaWJ1dGVzKSkuQmQoe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCItMTAwcHhcIix3aWR0aDpcIjFweFwiLGhlaWdodDpcIjFweFwifSk7Yi5SLmRvbnRjbGVhcj0hMDtyZXR1cm4gYn0sUGc9ZnVuY3Rpb24oYSl7cmV0dXJuIFNnKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBuZXcgSShmdW5jdGlvbihiLGMpe3VmKFwiZ2FwaS5pZnJhbWVzLmdldENvbnRleHRcIikoKS5vcGVuKFJnKGEpLnZhbHVlKCksZnVuY3Rpb24oZCl7YS56Yz1kO2EuemMucmVzdHlsZSh7c2V0SGlkZU9uTGVhdmU6ITF9KTt2YXIgZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YyhFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfSxcbjVFMyksZj1mdW5jdGlvbigpe2NsZWFyVGltZW91dChlKTtiKCl9O2QucGluZyhmKS50aGVuKGYsZnVuY3Rpb24oKXtjKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9KX0pfSl9KX0sVGc9ZnVuY3Rpb24oYSxiKXthLnFkLnRoZW4oZnVuY3Rpb24oKXthLnpjLnJlZ2lzdGVyKFwiYXV0aEV2ZW50XCIsYix1ZihcImdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVJcIikpfSl9LFVnPVwiX19pZnJhbWVmY2JcIitNYXRoLmZsb29yKDFFNipNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpLFNnPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJKGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXtCZigpO3VmKFwiZ2FwaS5sb2FkXCIpKFwiZ2FwaS5pZnJhbWVzXCIse2NhbGxiYWNrOmEsb250aW1lb3V0OmZ1bmN0aW9uKCl7QmYoKTtiKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9LHRpbWVvdXQ6M0UzfSl9O3VmKFwiZ2FwaS5pZnJhbWVzLklmcmFtZVwiKT9hKCk6dWYoXCJnYXBpLmxvYWRcIik/YygpOlxuKGxbVWddPWZ1bmN0aW9uKCl7dWYoXCJnYXBpLmxvYWRcIik/YygpOmIoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX0sSihPZChcImh0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2FwaS5qcz9vbmxvYWQ9XCIrVWcpKS5sKGZ1bmN0aW9uKCl7YihFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfSkpfSl9O3ZhciBXZz1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLlg9YTt0aGlzLnY9Yjt0aGlzLmVhPWM7ZD10aGlzLnlhPWR8fG51bGw7YT1iZihhLFwiL19fL2F1dGgvaWZyYW1lXCIpO1AoYSxcImFwaUtleVwiLGIpO1AoYSxcImFwcE5hbWVcIixjKTtkJiZQKGEsXCJ2XCIsZCk7dGhpcy5uZT1hLnRvU3RyaW5nKCk7dGhpcy5rZD1uZXcgUWcodGhpcy5uZSk7dGhpcy5CYj1bXTtWZyh0aGlzKX07V2cucHJvdG90eXBlLkVjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2QuRWMoKX07XG52YXIgWGc9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLHIpe2E9YmYoYSxcIi9fXy9hdXRoL2hhbmRsZXJcIik7UChhLFwiYXBpS2V5XCIsYik7UChhLFwiYXBwTmFtZVwiLGMpO1AoYSxcImF1dGhUeXBlXCIsZCk7UChhLFwicHJvdmlkZXJJZFwiLGUpO2YmJmYubGVuZ3RoJiZQKGEsXCJzY29wZXNcIixmLmpvaW4oXCIsXCIpKTtnJiZQKGEsXCJyZWRpcmVjdFVybFwiLGcpO2smJlAoYSxcImV2ZW50SWRcIixrKTtyJiZQKGEsXCJ2XCIscik7cmV0dXJuIGEudG9TdHJpbmcoKX0sVmc9ZnVuY3Rpb24oYSl7VGcoYS5rZCxmdW5jdGlvbihiKXt2YXIgYz17fTtpZihiJiZiLmF1dGhFdmVudCl7dmFyIGQ9ITE7Yj1iLmF1dGhFdmVudHx8e307aWYoYi50eXBlKXtpZihjPWIuZXJyb3IpdmFyIGU9KGM9Yi5lcnJvcikmJihjLm5hbWV8fGMuY29kZSksYz1lP25ldyBSKGUuc3Vic3RyaW5nKDUpLGMubWVzc2FnZSk6bnVsbDtiPW5ldyBLZihiLnR5cGUsYi5ldmVudElkLGIudXJsUmVzcG9uc2UsYi5zZXNzaW9uSWQsYyl9ZWxzZSBiPVxubnVsbDtmb3IoYz0wO2M8YS5CYi5sZW5ndGg7YysrKWQ9YS5CYltjXShiKXx8ZDtjPXt9O2Muc3RhdHVzPWQ/XCJBQ0tcIjpcIkVSUk9SXCI7cmV0dXJuIEooYyl9Yy5zdGF0dXM9XCJFUlJPUlwiO3JldHVybiBKKGMpfSl9LFlnPWZ1bmN0aW9uKGEsYil7TWEoYS5CYixmdW5jdGlvbihhKXtyZXR1cm4gYT09Yn0pfTt2YXIgWmc9ZnVuY3Rpb24oYSl7dGhpcy51PWF8fGZpcmViYXNlLklOVEVSTkFMLnJlYWN0TmF0aXZlJiZmaXJlYmFzZS5JTlRFUk5BTC5yZWFjdE5hdGl2ZS5Bc3luY1N0b3JhZ2U7aWYoIXRoaXMudSl0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIsXCJUaGUgUmVhY3QgTmF0aXZlIGNvbXBhdGliaWxpdHkgbGlicmFyeSB3YXMgbm90IGZvdW5kLlwiKTt9O2g9WmcucHJvdG90eXBlO2guZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBKKHRoaXMudS5nZXRJdGVtKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhJiZ6ZihhKX0pfTtoLnNldD1mdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMudS5zZXRJdGVtKGEseWYoYikpKX07aC5yZW1vdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcy51LnJlbW92ZUl0ZW0oYSkpfTtoLkxhPWZ1bmN0aW9uKCl7fTtoLiRhPWZ1bmN0aW9uKCl7fTt2YXIgJGc9ZnVuY3Rpb24oKXt0aGlzLnU9e319O2g9JGcucHJvdG90eXBlO2guZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBKKHRoaXMudVthXSl9O2guc2V0PWZ1bmN0aW9uKGEsYil7dGhpcy51W2FdPWI7cmV0dXJuIEooKX07aC5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMudVthXTtyZXR1cm4gSigpfTtoLkxhPWZ1bmN0aW9uKCl7fTtoLiRhPWZ1bmN0aW9uKCl7fTt2YXIgYmg9ZnVuY3Rpb24oKXtpZighYWgoKSl7aWYoXCJOb2RlXCI9PXJmKCkpdGhyb3cgbmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiLFwiVGhlIExvY2FsU3RvcmFnZSBjb21wYXRpYmlsaXR5IGxpYnJhcnkgd2FzIG5vdCBmb3VuZC5cIik7dGhyb3cgbmV3IFIoXCJ3ZWItc3RvcmFnZS11bnN1cHBvcnRlZFwiKTt9dGhpcy51PWwubG9jYWxTdG9yYWdlfHxmaXJlYmFzZS5JTlRFUk5BTC5ub2RlLmxvY2FsU3RvcmFnZX0sYWg9ZnVuY3Rpb24oKXt2YXIgYT1cIk5vZGVcIj09cmYoKSxhPWwubG9jYWxTdG9yYWdlfHxhJiZmaXJlYmFzZS5JTlRFUk5BTC5ub2RlJiZmaXJlYmFzZS5JTlRFUk5BTC5ub2RlLmxvY2FsU3RvcmFnZTtpZighYSlyZXR1cm4hMTt0cnl7cmV0dXJuIGEuc2V0SXRlbShcIl9fc2FrXCIsXCIxXCIpLGEucmVtb3ZlSXRlbShcIl9fc2FrXCIpLCEwfWNhdGNoKGIpe3JldHVybiExfX07aD1iaC5wcm90b3R5cGU7XG5oLmdldD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBKKCkudGhlbihmdW5jdGlvbigpe3ZhciBjPWIudS5nZXRJdGVtKGEpO3JldHVybiB6ZihjKX0pfTtoLnNldD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIEooKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGQ9eWYoYik7bnVsbD09PWQ/Yy5yZW1vdmUoYSk6Yy51LnNldEl0ZW0oYSxkKX0pfTtoLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBKKCkudGhlbihmdW5jdGlvbigpe2IudS5yZW1vdmVJdGVtKGEpfSl9O2guTGE9ZnVuY3Rpb24oYSl7bC53aW5kb3cmJkxiKGwud2luZG93LFwic3RvcmFnZVwiLGEpfTtoLiRhPWZ1bmN0aW9uKGEpe2wud2luZG93JiZVYihsLndpbmRvdyxcInN0b3JhZ2VcIixhKX07dmFyIGNoPWZ1bmN0aW9uKCl7dGhpcy51PXt9fTtoPWNoLnByb3RvdHlwZTtoLmdldD1mdW5jdGlvbigpe3JldHVybiBKKG51bGwpfTtoLnNldD1mdW5jdGlvbigpe3JldHVybiBKKCl9O2gucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIEooKX07aC5MYT1mdW5jdGlvbigpe307aC4kYT1mdW5jdGlvbigpe307dmFyIGVoPWZ1bmN0aW9uKCl7aWYoIWRoKCkpe2lmKFwiTm9kZVwiPT1yZigpKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIixcIlRoZSBTZXNzaW9uU3RvcmFnZSBjb21wYXRpYmlsaXR5IGxpYnJhcnkgd2FzIG5vdCBmb3VuZC5cIik7dGhyb3cgbmV3IFIoXCJ3ZWItc3RvcmFnZS11bnN1cHBvcnRlZFwiKTt9dGhpcy51PWwuc2Vzc2lvblN0b3JhZ2V8fGZpcmViYXNlLklOVEVSTkFMLm5vZGUuc2Vzc2lvblN0b3JhZ2V9LGRoPWZ1bmN0aW9uKCl7dmFyIGE9XCJOb2RlXCI9PXJmKCksYT1sLnNlc3Npb25TdG9yYWdlfHxhJiZmaXJlYmFzZS5JTlRFUk5BTC5ub2RlJiZmaXJlYmFzZS5JTlRFUk5BTC5ub2RlLnNlc3Npb25TdG9yYWdlO2lmKCFhKXJldHVybiExO3RyeXtyZXR1cm4gYS5zZXRJdGVtKFwiX19zYWtcIixcIjFcIiksYS5yZW1vdmVJdGVtKFwiX19zYWtcIiksITB9Y2F0Y2goYil7cmV0dXJuITF9fTtoPWVoLnByb3RvdHlwZTtcbmguZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIEooKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGM9Yi51LmdldEl0ZW0oYSk7cmV0dXJuIHpmKGMpfSl9O2guc2V0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gSigpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZD15ZihiKTtudWxsPT09ZD9jLnJlbW92ZShhKTpjLnUuc2V0SXRlbShhLGQpfSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIEooKS50aGVuKGZ1bmN0aW9uKCl7Yi51LnJlbW92ZUl0ZW0oYSl9KX07aC5MYT1mdW5jdGlvbigpe307aC4kYT1mdW5jdGlvbigpe307dmFyIGZoPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZighd2luZG93LmluZGV4ZWREQil0aHJvdyBuZXcgUihcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCIpO3RoaXMuV2Q9YTt0aGlzLkRjPWI7dGhpcy50Yz1jO3RoaXMuSGQ9ZDt0aGlzLm5hPWU7dGhpcy5PPXt9O3RoaXMueGI9W107dGhpcy50Yj0wO3RoaXMub2U9Znx8bC5pbmRleGVkREJ9LGdoLGhoPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgSShmdW5jdGlvbihiLGMpe3ZhciBkPWEub2Uub3BlbihhLldkLGEubmEpO2Qub25lcnJvcj1mdW5jdGlvbihhKXtjKEVycm9yKGEudGFyZ2V0LmVycm9yQ29kZSkpfTtkLm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbihiKXtiPWIudGFyZ2V0LnJlc3VsdDt0cnl7Yi5jcmVhdGVPYmplY3RTdG9yZShhLkRjLHtrZXlQYXRoOmEudGN9KX1jYXRjaChmKXtjKGYpfX07ZC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7YihhLnRhcmdldC5yZXN1bHQpfX0pfSxpaD1mdW5jdGlvbihhKXthLmxkfHwoYS5sZD1cbmhoKGEpKTtyZXR1cm4gYS5sZH0samg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5vYmplY3RTdG9yZShhLkRjKX0sa2g9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiLnRyYW5zYWN0aW9uKFthLkRjXSxjP1wicmVhZHdyaXRlXCI6XCJyZWFkb25seVwiKX0sbGg9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBJKGZ1bmN0aW9uKGIsYyl7YS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7YSYmYS50YXJnZXQ/YihhLnRhcmdldC5yZXN1bHQpOmIoKX07YS5vbmVycm9yPWZ1bmN0aW9uKGEpe2MoRXJyb3IoYS50YXJnZXQuZXJyb3JDb2RlKSl9fSl9O2g9ZmgucHJvdG90eXBlO1xuaC5zZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMSxkLGU9dGhpcztyZXR1cm4geGQoaWgodGhpcykudGhlbihmdW5jdGlvbihiKXtkPWI7Yj1qaChlLGtoKGUsZCwhMCkpO3JldHVybiBsaChiLmdldChhKSl9KS50aGVuKGZ1bmN0aW9uKGYpe3ZhciBnPWpoKGUsa2goZSxkLCEwKSk7aWYoZilyZXR1cm4gZi52YWx1ZT1iLGxoKGcucHV0KGYpKTtlLnRiKys7Yz0hMDtmPXt9O2ZbZS50Y109YTtmW2UuSGRdPWI7cmV0dXJuIGxoKGcuYWRkKGYpKX0pLnRoZW4oZnVuY3Rpb24oKXtlLk9bYV09Yn0pLGZ1bmN0aW9uKCl7YyYmZS50Yi0tfSl9O2guZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIGloKHRoaXMpLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIGxoKGpoKGIsa2goYixjLCExKSkuZ2V0KGEpKX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEudmFsdWV9KX07XG5oLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj0hMSxjPXRoaXM7cmV0dXJuIHhkKGloKHRoaXMpLnRoZW4oZnVuY3Rpb24oZCl7Yj0hMDtjLnRiKys7cmV0dXJuIGxoKGpoKGMsa2goYyxkLCEwKSlbXCJkZWxldGVcIl0oYSkpfSkudGhlbihmdW5jdGlvbigpe2RlbGV0ZSBjLk9bYV19KSxmdW5jdGlvbigpe2ImJmMudGItLX0pfTtcbmguS2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBpaCh0aGlzKS50aGVuKGZ1bmN0aW9uKGIpe3ZhciBjPWpoKGEsa2goYSxiLCExKSk7cmV0dXJuIGMuZ2V0QWxsP2xoKGMuZ2V0QWxsKCkpOm5ldyBJKGZ1bmN0aW9uKGEsYil7dmFyIGQ9W10sZT1jLm9wZW5DdXJzb3IoKTtlLm9uc3VjY2Vzcz1mdW5jdGlvbihiKXsoYj1iLnRhcmdldC5yZXN1bHQpPyhkLnB1c2goYi52YWx1ZSksYltcImNvbnRpbnVlXCJdKCkpOmEoZCl9O2Uub25lcnJvcj1mdW5jdGlvbihhKXtiKEVycm9yKGEudGFyZ2V0LmVycm9yQ29kZSkpfX0pfSkudGhlbihmdW5jdGlvbihiKXt2YXIgYz17fSxkPVtdO2lmKDA9PWEudGIpe2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspY1tiW2RdW2EudGNdXT1iW2RdW2EuSGRdO2Q9a2YoYS5PLGMpO2EuTz1jfXJldHVybiBkfSl9O2guTGE9ZnVuY3Rpb24oYSl7MD09dGhpcy54Yi5sZW5ndGgmJnRoaXMuUWMoKTt0aGlzLnhiLnB1c2goYSl9O1xuaC4kYT1mdW5jdGlvbihhKXtNYSh0aGlzLnhiLGZ1bmN0aW9uKGIpe3JldHVybiBiPT1hfSk7MD09dGhpcy54Yi5sZW5ndGgmJnRoaXMuZ2MoKX07aC5RYz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5nYygpO3ZhciBiPWZ1bmN0aW9uKCl7YS5JYz14ZSg4MDApLnRoZW4ocShhLktlLGEpKS50aGVuKGZ1bmN0aW9uKGIpezA8Yi5sZW5ndGgmJngoYS54YixmdW5jdGlvbihhKXthKGIpfSl9KS50aGVuKGIpLmwoZnVuY3Rpb24oYSl7XCJTVE9QX0VWRU5UXCIhPWEubWVzc2FnZSYmYigpfSk7cmV0dXJuIGEuSWN9O2IoKX07aC5nYz1mdW5jdGlvbigpe3RoaXMuSWMmJnRoaXMuSWMuY2FuY2VsKFwiU1RPUF9FVkVOVFwiKX07dmFyIHBoPWZ1bmN0aW9uKCl7dGhpcy5iZD17QnJvd3NlcjptaCxOb2RlOm5oLFJlYWN0TmF0aXZlOm9ofVtyZigpXX0scWgsbWg9e1Y6YmgsU2M6ZWh9LG5oPXtWOmJoLFNjOmVofSxvaD17VjpaZyxTYzpjaH07dmFyIHJoPVwiRmlyc3QgU2Vjb25kIFRoaXJkIEZvdXJ0aCBGaWZ0aCBTaXh0aCBTZXZlbnRoIEVpZ2h0aCBOaW50aFwiLnNwbGl0KFwiIFwiKSxVPWZ1bmN0aW9uKGEsYil7cmV0dXJue25hbWU6YXx8XCJcIixjYTpcImEgdmFsaWQgc3RyaW5nXCIsb3B0aW9uYWw6ISFiLGRhOm59fSxzaD1mdW5jdGlvbihhKXtyZXR1cm57bmFtZTphfHxcIlwiLGNhOlwiYSB2YWxpZCBvYmplY3RcIixvcHRpb25hbDohMSxkYTpoYX19LHRoPWZ1bmN0aW9uKGEsYil7cmV0dXJue25hbWU6YXx8XCJcIixjYTpcImEgZnVuY3Rpb25cIixvcHRpb25hbDohIWIsZGE6cH19LHVoPWZ1bmN0aW9uKCl7cmV0dXJue25hbWU6XCJcIixjYTpcIm51bGxcIixvcHRpb25hbDohMSxkYTpkYX19LHZoPWZ1bmN0aW9uKCl7cmV0dXJue25hbWU6XCJjcmVkZW50aWFsXCIsY2E6XCJhIHZhbGlkIGNyZWRlbnRpYWxcIixvcHRpb25hbDohMSxkYTpmdW5jdGlvbihhKXtyZXR1cm4hKCFhfHwhYS5JYil9fX0sd2g9ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTpcImF1dGhQcm92aWRlclwiLFxuY2E6XCJhIHZhbGlkIEF1dGggcHJvdmlkZXJcIixvcHRpb25hbDohMSxkYTpmdW5jdGlvbihhKXtyZXR1cm4hIShhJiZhLnByb3ZpZGVySWQmJmEuaGFzT3duUHJvcGVydHkmJmEuaGFzT3duUHJvcGVydHkoXCJpc09BdXRoUHJvdmlkZXJcIikpfX19LHhoPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybntuYW1lOmN8fFwiXCIsY2E6YS5jYStcIiBvciBcIitiLmNhLG9wdGlvbmFsOiEhZCxkYTpmdW5jdGlvbihjKXtyZXR1cm4gYS5kYShjKXx8Yi5kYShjKX19fTt2YXIgemg9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYil7dmFyIGQ9YltjXS5uYW1lO2FbZF09eWgoZCxhW2NdLGJbY10uYil9fSxWPWZ1bmN0aW9uKGEsYixjLGQpe2FbYl09eWgoYixjLGQpfSx5aD1mdW5jdGlvbihhLGIsYyl7aWYoIWMpcmV0dXJuIGI7dmFyIGQ9QWgoYSk7YT1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZTthOntlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEpO3ZhciBrO2s9MDtmb3IodmFyIHI9ITEsc2E9MDtzYTxjLmxlbmd0aDtzYSsrKWlmKGNbc2FdLm9wdGlvbmFsKXI9ITA7ZWxzZXtpZihyKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIixcIkFyZ3VtZW50IHZhbGlkYXRvciBlbmNvdW50ZXJlZCBhIHJlcXVpcmVkIGFyZ3VtZW50IGFmdGVyIGFuIG9wdGlvbmFsIGFyZ3VtZW50LlwiKTtrKyt9cj1jLmxlbmd0aDtpZihlLmxlbmd0aDxrfHxyPGUubGVuZ3RoKWU9XCJFeHBlY3RlZCBcIisoaz09XG5yPzE9PWs/XCIxIGFyZ3VtZW50XCI6aytcIiBhcmd1bWVudHNcIjprK1wiLVwiK3IrXCIgYXJndW1lbnRzXCIpK1wiIGJ1dCBnb3QgXCIrZS5sZW5ndGgrXCIuXCI7ZWxzZXtmb3Ioaz0wO2s8ZS5sZW5ndGg7aysrKWlmKHI9Y1trXS5vcHRpb25hbCYmdm9pZCAwPT09ZVtrXSwhY1trXS5kYShlW2tdKSYmIXIpe2U9Y1trXTtpZigwPmt8fGs+PXJoLmxlbmd0aCl0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIsXCJBcmd1bWVudCB2YWxpZGF0b3IgcmVjZWl2ZWQgYW4gdW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7ZT1yaFtrXStcIiBhcmd1bWVudCBcIisoZS5uYW1lPydcIicrZS5uYW1lKydcIiAnOlwiXCIpK1wibXVzdCBiZSBcIitlLmNhK1wiLlwiO2JyZWFrIGF9ZT1udWxsfX1pZihlKXRocm93IG5ldyBSKFwiYXJndW1lbnQtZXJyb3JcIixkK1wiIGZhaWxlZDogXCIrZSk7cmV0dXJuIGIuYXBwbHkodGhpcyxhKX07Zm9yKHZhciBlIGluIGIpYVtlXT1iW2VdO2ZvcihlIGluIGIucHJvdG90eXBlKWEucHJvdG90eXBlW2VdPVxuYi5wcm90b3R5cGVbZV07cmV0dXJuIGF9LEFoPWZ1bmN0aW9uKGEpe2E9YS5zcGxpdChcIi5cIik7cmV0dXJuIGFbYS5sZW5ndGgtMV19O3ZhciBCaD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLnllPWE7dGhpcy56ZD1iO3RoaXMuRWU9Yzt0aGlzLmZiPWQ7dGhpcy5OPXt9O3FofHwocWg9bmV3IHBoKTthPXFoO3RyeXt2YXIgZTtoZigpPyhnaHx8KGdoPW5ldyBmaChcImZpcmViYXNlTG9jYWxTdG9yYWdlRGJcIixcImZpcmViYXNlTG9jYWxTdG9yYWdlXCIsXCJmYmFzZV9rZXlcIixcInZhbHVlXCIsMSkpLGU9Z2gpOmU9bmV3IGEuYmQuVjt0aGlzLlVhPWV9Y2F0Y2goZil7dGhpcy5VYT1uZXcgJGcsdGhpcy5mYj0hMH10cnl7dGhpcy5pYz1uZXcgYS5iZC5TY31jYXRjaChmKXt0aGlzLmljPW5ldyAkZ310aGlzLkNkPXEodGhpcy5EZCx0aGlzKTt0aGlzLk89e319LENoLERoPWZ1bmN0aW9uKCl7Q2h8fChDaD1uZXcgQmgoXCJmaXJlYmFzZVwiLFwiOlwiLCFBZihnZigpKSYmbC53aW5kb3cmJmwud2luZG93IT1sLndpbmRvdy50b3A/ITA6ITEseGYoKSkpO3JldHVybiBDaH07aD1CaC5wcm90b3R5cGU7XG5oLks9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy55ZSt0aGlzLnpkK2EubmFtZSsoYj90aGlzLnpkK2I6XCJcIil9O2guZ2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEuVj90aGlzLlVhOnRoaXMuaWMpLmdldCh0aGlzLksoYSxiKSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEsYil7Yj10aGlzLksoYSxiKTthLlYmJiF0aGlzLmZiJiYodGhpcy5PW2JdPW51bGwpO3JldHVybihhLlY/dGhpcy5VYTp0aGlzLmljKS5yZW1vdmUoYil9O2guc2V0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLksoYSxjKSxlPXRoaXMsZj1hLlY/dGhpcy5VYTp0aGlzLmljO3JldHVybiBmLnNldChkLGIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZi5nZXQoZCl9KS50aGVuKGZ1bmN0aW9uKGIpe2EuViYmIXRoaXMuZmImJihlLk9bZF09Yil9KX07XG5oLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjKXthPXRoaXMuSyhhLGIpO3RoaXMuZmJ8fCh0aGlzLk9bYV09bC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShhKSk7VWEodGhpcy5OKSYmdGhpcy5RYygpO3RoaXMuTlthXXx8KHRoaXMuTlthXT1bXSk7dGhpcy5OW2FdLnB1c2goYyl9O2gucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe2E9dGhpcy5LKGEsYik7dGhpcy5OW2FdJiYoTWEodGhpcy5OW2FdLGZ1bmN0aW9uKGEpe3JldHVybiBhPT1jfSksMD09dGhpcy5OW2FdLmxlbmd0aCYmZGVsZXRlIHRoaXMuTlthXSk7VWEodGhpcy5OKSYmdGhpcy5nYygpfTtoLlFjPWZ1bmN0aW9uKCl7dGhpcy5VYS5MYSh0aGlzLkNkKTt0aGlzLmZifHxFaCh0aGlzKX07XG52YXIgRWg9ZnVuY3Rpb24oYSl7RmgoYSk7YS5DYz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2Zvcih2YXIgYiBpbiBhLk4pe3ZhciBjPWwubG9jYWxTdG9yYWdlLmdldEl0ZW0oYik7YyE9YS5PW2JdJiYoYS5PW2JdPWMsYz1uZXcgQWIoe3R5cGU6XCJzdG9yYWdlXCIsa2V5OmIsdGFyZ2V0OndpbmRvdyxvbGRWYWx1ZTphLk9bYl0sbmV3VmFsdWU6Y30pLGEuRGQoYykpfX0sMUUzKX0sRmg9ZnVuY3Rpb24oYSl7YS5DYyYmKGNsZWFySW50ZXJ2YWwoYS5DYyksYS5DYz1udWxsKX07QmgucHJvdG90eXBlLmdjPWZ1bmN0aW9uKCl7dGhpcy5VYS4kYSh0aGlzLkNkKTt0aGlzLmZifHxGaCh0aGlzKX07XG5CaC5wcm90b3R5cGUuRGQ9ZnVuY3Rpb24oYSl7aWYoYSYmYS5mZSl7dmFyIGI9YS5tYi5rZXk7aWYodGhpcy5FZSl7dmFyIGM9bC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShiKTthPWEubWIubmV3VmFsdWU7YSE9YyYmKGE/bC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShiLGEpOmF8fGwubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYikpfXRoaXMuT1tiXT1sLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGIpO3RoaXMuWGMoYil9ZWxzZSB4KGEscSh0aGlzLlhjLHRoaXMpKX07QmgucHJvdG90eXBlLlhjPWZ1bmN0aW9uKGEpe3RoaXMuTlthXSYmeCh0aGlzLk5bYV0sZnVuY3Rpb24oYSl7YSgpfSl9O3ZhciBHaD1mdW5jdGlvbihhKXt0aGlzLkI9YTt0aGlzLkE9RGgoKX0sSGg9e25hbWU6XCJwZW5kaW5nUmVkaXJlY3RcIixWOiExfSxJaD1mdW5jdGlvbihhKXtyZXR1cm4gYS5BLnNldChIaCxcInBlbmRpbmdcIixhLkIpfSxKaD1mdW5jdGlvbihhKXtyZXR1cm4gYS5BLnJlbW92ZShIaCxhLkIpfSxLaD1mdW5jdGlvbihhKXtyZXR1cm4gYS5BLmdldChIaCxhLkIpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuXCJwZW5kaW5nXCI9PWF9KX07dmFyIE5oPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9KHRoaXMueWE9ZmlyZWJhc2UuU0RLX1ZFUlNJT058fG51bGwpP3RmKHRoaXMueWEpOm51bGw7dGhpcy5mPW5ldyBUKGIsbnVsbCxlKTt0aGlzLnFhPW51bGw7dGhpcy5YPWE7dGhpcy52PWI7dGhpcy5lYT1jO3RoaXMueWI9W107dGhpcy5SYj0hMTt0aGlzLlRjPXEodGhpcy5nZSx0aGlzKTt0aGlzLlhhPW5ldyBMaCh0aGlzKTt0aGlzLnRkPW5ldyBNaCh0aGlzKTt0aGlzLkhjPW5ldyBHaCh0aGlzLnYrXCI6XCIrdGhpcy5lYSk7dGhpcy5oYj17fTt0aGlzLmhiLnVua25vd249dGhpcy5YYTt0aGlzLmhiLnNpZ25JblZpYVJlZGlyZWN0PXRoaXMuWGE7dGhpcy5oYi5saW5rVmlhUmVkaXJlY3Q9dGhpcy5YYTt0aGlzLmhiLnNpZ25JblZpYVBvcHVwPXRoaXMudGQ7dGhpcy5oYi5saW5rVmlhUG9wdXA9dGhpcy50ZDt0aGlzLmJjPXRoaXMuY2I9bnVsbDt0aGlzLldiPW5ldyBJKGZ1bmN0aW9uKGEsYil7ZC5jYj1hO2QuYmM9Yn0pfTtcbk5oLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5xYT1udWxsO3RoaXMuV2IuY2FuY2VsKCk7dGhpcy5SYj0hMTt0aGlzLmJjPXRoaXMuY2I9bnVsbDt0aGlzLk9iJiZZZyh0aGlzLk9iLHRoaXMuVGMpO3RoaXMuV2I9bmV3IEkoZnVuY3Rpb24oYixjKXthLmNiPWI7YS5iYz1jfSl9O1xudmFyIE9oPWZ1bmN0aW9uKGEpe3ZhciBiPWpmKCk7cmV0dXJuIHNnKGEpLnRoZW4oZnVuY3Rpb24oYSl7YTp7Zm9yKHZhciBjPWFmKGIpLmdhLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY7dmFyIGc9YVtlXTtmPWM7dmFyIGs9TWMoZyk7az9mPShmPU1jKGYpKT9rLkdiKGYpOiExOihrPWcuc3BsaXQoXCIuXCIpLmpvaW4oXCJcXFxcLlwiKSxmPShuZXcgUmVnRXhwKFwiXiguK1xcXFwuXCIraytcInxcIitrK1wiKSRcIixcImlcIikpLnRlc3QoZikpO2lmKGYpe2E9ITA7YnJlYWsgYX19YT0hMX1pZighYSl0aHJvdyBuZXcgTGYoamYoKSk7fSl9LFBoPWZ1bmN0aW9uKGEpe2EuUmJ8fChhLlJiPSEwLHFmKCkudGhlbihmdW5jdGlvbigpe2EuT2I9bmV3IFdnKGEuWCxhLnYsYS5lYSxhLnlhKTthLk9iLkVjKCkubChmdW5jdGlvbigpe2EuYmMobmV3IFIoXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpKTthLnJlc2V0KCl9KTthLk9iLkJiLnB1c2goYS5UYyl9KSk7cmV0dXJuIGEuV2J9O1xuTmgucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihhKXtKYSh0aGlzLnliLGEpfHx0aGlzLnliLnB1c2goYSk7aWYoIXRoaXMuUmIpe3ZhciBiPXRoaXMsYz1mdW5jdGlvbigpe3ZhciBhPWdmKCk7eGYoYSl8fEFmKGEpP1FoKGIuWGEpOlBoKGIpfTtLaCh0aGlzLkhjKS50aGVuKGZ1bmN0aW9uKGEpe2E/SmgoYi5IYykudGhlbihmdW5jdGlvbigpe1BoKGIpfSk6YygpfSkubChmdW5jdGlvbigpe2MoKX0pfX07TmgucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGEpe01hKHRoaXMueWIsZnVuY3Rpb24oYil7cmV0dXJuIGI9PWF9KX07XG5OaC5wcm90b3R5cGUuZ2U9ZnVuY3Rpb24oYSl7aWYoIWEpdGhyb3cgbmV3IFIoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIik7dGhpcy5jYiYmKHRoaXMuY2IoKSx0aGlzLmNiPW51bGwpO2Zvcih2YXIgYj0hMSxjPTA7Yzx0aGlzLnliLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMueWJbY107aWYoZC5ZYyhhLndhLGEuQWEpKXsoYj10aGlzLmhiW2Eud2FdKSYmYi51ZChhLGQpO2I9ITA7YnJlYWt9fVFoKHRoaXMuWGEpO3JldHVybiBifTtOaC5wcm90b3R5cGUuZ2V0UmVkaXJlY3RSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5YYS5nZXRSZWRpcmVjdFJlc3VsdCgpfTtcbnZhciBTaD1mdW5jdGlvbihhLGIsYyxkLGUsZil7aWYoIWIpcmV0dXJuIEsobmV3IFIoXCJwb3B1cC1ibG9ja2VkXCIpKTtpZihmKXJldHVybiBQaChhKSxKKCk7YS5xYXx8KGEucWE9T2goYS5mKSk7cmV0dXJuIGEucWEudGhlbihmdW5jdGlvbigpe3JldHVybiBQaChhKX0pLnRoZW4oZnVuY3Rpb24oKXtSaChkKTt2YXIgZj1YZyhhLlgsYS52LGEuZWEsYyxkLnByb3ZpZGVySWQsZC5KYigpLG51bGwsZSxhLnlhKTsoYnx8bC53aW5kb3cpLmxvY2F0aW9uLmhyZWY9ZGMoZ2MoZikpfSkubChmdW5jdGlvbihiKXtcImF1dGgvbmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiPT1iLmNvZGUmJihhLnFhPW51bGwpO3Rocm93IGI7fSl9LFRoPWZ1bmN0aW9uKGEsYixjLGQpe2EucWF8fChhLnFhPU9oKGEuZikpO3JldHVybiBhLnFhLnRoZW4oZnVuY3Rpb24oKXtSaChjKTt2YXIgZT1YZyhhLlgsYS52LGEuZWEsYixjLnByb3ZpZGVySWQsYy5KYigpLGpmKCksZCxhLnlhKTtJaChhLkhjKS50aGVuKGZ1bmN0aW9uKCl7bC53aW5kb3cubG9jYXRpb24uaHJlZj1cbmRjKGdjKGUpKX0pfSl9LFVoPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bmV3IFIoXCJwb3B1cC1jbG9zZWQtYnktdXNlclwiKTtyZXR1cm4gYS5XYi5sKGZ1bmN0aW9uKCl7fSkudGhlbihmdW5jdGlvbigpe3JldHVybiBwZihkKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4geGUoMkUzKS50aGVuKGZ1bmN0aW9uKCl7Yi5JYShjLG51bGwsZixlKX0pfSl9LFJoPWZ1bmN0aW9uKGEpe2lmKCFhLmlzT0F1dGhQcm92aWRlcil0aHJvdyBuZXcgUihcImludmFsaWQtb2F1dGgtcHJvdmlkZXJcIik7fSxWaD17fSxXaD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YitcIjpcIitjO1ZoW2RdfHwoVmhbZF09bmV3IE5oKGEsYixjKSk7cmV0dXJuIFZoW2RdfSxMaD1mdW5jdGlvbihhKXt0aGlzLkE9YTt0aGlzLndiPXRoaXMuYWM9dGhpcy5ZYT10aGlzLlc9bnVsbDt0aGlzLkxjPSExfTtcbkxoLnByb3RvdHlwZS51ZD1mdW5jdGlvbihhLGIpe2lmKCFhKXJldHVybiBLKG5ldyBSKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKTt0aGlzLkxjPSEwO3ZhciBjPWEud2EsZD1hLkFhO1widW5rbm93blwiPT1jPyh0aGlzLld8fFhoKHRoaXMsITEsbnVsbCxudWxsKSxhPUooKSk6YT1hLko/dGhpcy5KYyhhLGIpOmIubmIoYyxkKT90aGlzLktjKGEsYik6SyhuZXcgUihcImludmFsaWQtYXV0aC1ldmVudFwiKSk7cmV0dXJuIGF9O3ZhciBRaD1mdW5jdGlvbihhKXthLkxjfHwoYS5MYz0hMCxYaChhLCExLG51bGwsbnVsbCkpfTtMaC5wcm90b3R5cGUuSmM9ZnVuY3Rpb24oYSl7dGhpcy5XfHxYaCh0aGlzLCEwLG51bGwsYS5nZXRFcnJvcigpKTtyZXR1cm4gSigpfTtcbkxoLnByb3RvdHlwZS5LYz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1hLndhO2I9Yi5uYihkLGEuQWEpO3ZhciBlPWEuaWI7YT1hLmVjO3ZhciBmPVwic2lnbkluVmlhUmVkaXJlY3RcIj09ZHx8XCJsaW5rVmlhUmVkaXJlY3RcIj09ZDtpZih0aGlzLlcpcmV0dXJuIEooKTt0aGlzLndiJiZ0aGlzLndiLmNhbmNlbCgpO3JldHVybiBiKGUsYSkudGhlbihmdW5jdGlvbihhKXtjLld8fFhoKGMsZixhLG51bGwpfSkubChmdW5jdGlvbihhKXtjLld8fFhoKGMsZixudWxsLGEpfSl9O3ZhciBYaD1mdW5jdGlvbihhLGIsYyxkKXtiP2Q/KGEuVz1mdW5jdGlvbigpe3JldHVybiBLKGQpfSxhLmFjJiZhLmFjKGQpKTooYS5XPWZ1bmN0aW9uKCl7cmV0dXJuIEooYyl9LGEuWWEmJmEuWWEoYykpOihhLlc9ZnVuY3Rpb24oKXtyZXR1cm4gSih7dXNlcjpudWxsfSl9LGEuWWEmJmEuWWEoe3VzZXI6bnVsbH0pKTthLllhPW51bGw7YS5hYz1udWxsfTtcbkxoLnByb3RvdHlwZS5nZXRSZWRpcmVjdFJlc3VsdD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5XY3x8KHRoaXMuV2M9bmV3IEkoZnVuY3Rpb24oYixjKXthLlc/YS5XKCkudGhlbihiLGMpOihhLllhPWIsYS5hYz1jLFloKGEpKX0pKTtyZXR1cm4gdGhpcy5XY307dmFyIFloPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBSKFwidGltZW91dFwiKTthLndiJiZhLndiLmNhbmNlbCgpO2Eud2I9eGUoMUU0KS50aGVuKGZ1bmN0aW9uKCl7YS5XfHxYaChhLCEwLG51bGwsYil9KX0sTWg9ZnVuY3Rpb24oYSl7dGhpcy5BPWF9O01oLnByb3RvdHlwZS51ZD1mdW5jdGlvbihhLGIpe2lmKCFhKXJldHVybiBLKG5ldyBSKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKTt2YXIgYz1hLndhLGQ9YS5BYTtyZXR1cm4gYS5KP3RoaXMuSmMoYSxiKTpiLm5iKGMsZCk/dGhpcy5LYyhhLGIpOksobmV3IFIoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIikpfTtcbk1oLnByb3RvdHlwZS5KYz1mdW5jdGlvbihhLGIpe2IuSWEoYS53YSxudWxsLGEuZ2V0RXJyb3IoKSxhLkFhKTtyZXR1cm4gSigpfTtNaC5wcm90b3R5cGUuS2M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLkFhLGQ9YS53YTtyZXR1cm4gYi5uYihkLGMpKGEuaWIsYS5lYykudGhlbihmdW5jdGlvbihhKXtiLklhKGQsYSxudWxsLGMpfSkubChmdW5jdGlvbihhKXtiLklhKGQsbnVsbCxhLGMpfSl9O3ZhciBaaD1mdW5jdGlvbihhKXt0aGlzLmY9YTt0aGlzLnhhPXRoaXMuUz1udWxsO3RoaXMuUWE9MH07WmgucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXtyZXR1cm57YXBpS2V5OnRoaXMuZi52LHJlZnJlc2hUb2tlbjp0aGlzLlMsYWNjZXNzVG9rZW46dGhpcy54YSxleHBpcmF0aW9uVGltZTp0aGlzLlFhfX07XG52YXIgYWk9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmlkVG9rZW4sZD1iLnJlZnJlc2hUb2tlbjtiPSRoKGIuZXhwaXJlc0luKTthLnhhPWM7YS5RYT1iO2EuUz1kfSwkaD1mdW5jdGlvbihhKXtyZXR1cm4gbGEoKSsxRTMqcGFyc2VJbnQoYSwxMCl9LGJpPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGtnKGEuZixiKS50aGVuKGZ1bmN0aW9uKGIpe2EueGE9Yi5hY2Nlc3NfdG9rZW47YS5RYT0kaChiLmV4cGlyZXNfaW4pO2EuUz1iLnJlZnJlc2hfdG9rZW47cmV0dXJue2FjY2Vzc1Rva2VuOmEueGEsZXhwaXJhdGlvblRpbWU6YS5RYSxyZWZyZXNoVG9rZW46YS5TfX0pLmwoZnVuY3Rpb24oYil7XCJhdXRoL3VzZXItdG9rZW4tZXhwaXJlZFwiPT1iLmNvZGUmJihhLlM9bnVsbCk7dGhyb3cgYjt9KX0sY2k9ZnVuY3Rpb24oYSl7cmV0dXJuISghYS54YXx8YS5TKX07XG5aaC5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24oYSl7YT0hIWE7cmV0dXJuIGNpKHRoaXMpP0sobmV3IFIoXCJ1c2VyLXRva2VuLWV4cGlyZWRcIikpOmF8fCF0aGlzLnhhfHxsYSgpPnRoaXMuUWEtM0U0P3RoaXMuUz9iaSh0aGlzLHtncmFudF90eXBlOlwicmVmcmVzaF90b2tlblwiLHJlZnJlc2hfdG9rZW46dGhpcy5TfSk6SihudWxsKTpKKHthY2Nlc3NUb2tlbjp0aGlzLnhhLGV4cGlyYXRpb25UaW1lOnRoaXMuUWEscmVmcmVzaFRva2VuOnRoaXMuU30pfTt2YXIgZGk9ZnVuY3Rpb24oYSxiLGMsZCxlKXtFZih0aGlzLHt1aWQ6YSxkaXNwbGF5TmFtZTpkfHxudWxsLHBob3RvVVJMOmV8fG51bGwsZW1haWw6Y3x8bnVsbCxwcm92aWRlcklkOmJ9KX0sZWk9ZnVuY3Rpb24oYSxiKXt6Yi5jYWxsKHRoaXMsYSk7Zm9yKHZhciBjIGluIGIpdGhpc1tjXT1iW2NdfTt0KGVpLHpiKTtcbnZhciBXPWZ1bmN0aW9uKGEsYixjKXt0aGlzLlU9W107dGhpcy52PWEuYXBpS2V5O3RoaXMuZWE9YS5hcHBOYW1lO3RoaXMuWD1hLmF1dGhEb21haW58fG51bGw7YT1maXJlYmFzZS5TREtfVkVSU0lPTj90ZihmaXJlYmFzZS5TREtfVkVSU0lPTik6bnVsbDt0aGlzLmY9bmV3IFQodGhpcy52LG51bGwsYSk7dGhpcy5iYT1uZXcgWmgodGhpcy5mKTtmaSh0aGlzLGIuaWRUb2tlbik7YWkodGhpcy5iYSxiKTtRKHRoaXMsXCJyZWZyZXNoVG9rZW5cIix0aGlzLmJhLlMpO2dpKHRoaXMsY3x8e30pOyRkLmNhbGwodGhpcyk7dGhpcy5YYj0hMTt0aGlzLlgmJndmKCkmJih0aGlzLm09V2godGhpcy5YLHRoaXMudix0aGlzLmVhKSk7dGhpcy5mYz1bXTt0aGlzLnBjPUooKX07dChXLCRkKTtcblcucHJvdG90eXBlLnNhPWZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGQ9dGhpcztyZXR1cm4gdGhpcy5wYz10aGlzLnBjLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShkLGMpfSxmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGQsYyl9KX07XG52YXIgZmk9ZnVuY3Rpb24oYSxiKXthLm1kPWI7UShhLFwiX2xhdFwiLGIpfSxoaT1mdW5jdGlvbihhLGIpe01hKGEuZmMsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PWJ9KX0saWk9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuZmMubGVuZ3RoO2MrKyliLnB1c2goYS5mY1tjXShhKSk7cmV0dXJuIHVkKGIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pfSxqaT1mdW5jdGlvbihhKXthLm0mJiFhLlhiJiYoYS5YYj0hMCxhLm0uc3Vic2NyaWJlKGEpKX0sZ2k9ZnVuY3Rpb24oYSxiKXtFZihhLHt1aWQ6Yi51aWQsZGlzcGxheU5hbWU6Yi5kaXNwbGF5TmFtZXx8bnVsbCxwaG90b1VSTDpiLnBob3RvVVJMfHxudWxsLGVtYWlsOmIuZW1haWx8fG51bGwsZW1haWxWZXJpZmllZDpiLmVtYWlsVmVyaWZpZWR8fCExLGlzQW5vbnltb3VzOmIuaXNBbm9ueW1vdXN8fCExLHByb3ZpZGVyRGF0YTpbXX0pfTtRKFcucHJvdG90eXBlLFwicHJvdmlkZXJJZFwiLFwiZmlyZWJhc2VcIik7XG52YXIga2k9ZnVuY3Rpb24oKXt9LGxpPWZ1bmN0aW9uKGEpe3JldHVybiBKKCkudGhlbihmdW5jdGlvbigpe2lmKGEuWWQpdGhyb3cgbmV3IFIoXCJhcHAtZGVsZXRlZFwiKTt9KX0sbWk9ZnVuY3Rpb24oYSl7cmV0dXJuIEZhKGEucHJvdmlkZXJEYXRhLGZ1bmN0aW9uKGEpe3JldHVybiBhLnByb3ZpZGVySWR9KX0sb2k9ZnVuY3Rpb24oYSxiKXtiJiYobmkoYSxiLnByb3ZpZGVySWQpLGEucHJvdmlkZXJEYXRhLnB1c2goYikpfSxuaT1mdW5jdGlvbihhLGIpe01hKGEucHJvdmlkZXJEYXRhLGZ1bmN0aW9uKGEpe3JldHVybiBhLnByb3ZpZGVySWQ9PWJ9KX0scGk9ZnVuY3Rpb24oYSxiLGMpeyhcInVpZFwiIT1ifHxjKSYmYS5oYXNPd25Qcm9wZXJ0eShiKSYmUShhLGIsYyl9O1xuVy5wcm90b3R5cGUuY29weT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2IhPWEmJihFZih0aGlzLHt1aWQ6YS51aWQsZGlzcGxheU5hbWU6YS5kaXNwbGF5TmFtZSxwaG90b1VSTDphLnBob3RvVVJMLGVtYWlsOmEuZW1haWwsZW1haWxWZXJpZmllZDphLmVtYWlsVmVyaWZpZWQsaXNBbm9ueW1vdXM6YS5pc0Fub255bW91cyxwcm92aWRlckRhdGE6W119KSx4KGEucHJvdmlkZXJEYXRhLGZ1bmN0aW9uKGEpe29pKGIsYSl9KSx0aGlzLmJhPWEuYmEsUSh0aGlzLFwicmVmcmVzaFRva2VuXCIsdGhpcy5iYS5TKSl9O1cucHJvdG90eXBlLnJlbG9hZD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGxpKHRoaXMpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcWkoYSkudGhlbihmdW5jdGlvbigpe3JldHVybiBpaShhKX0pLnRoZW4oa2kpfSl9O1xudmFyIHFpPWZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihiKXt2YXIgYz1hLmlzQW5vbnltb3VzO3JldHVybiByaShhLGIpLnRoZW4oZnVuY3Rpb24oKXtjfHxwaShhLFwiaXNBbm9ueW1vdXNcIiwhMSk7cmV0dXJuIGJ9KS5sKGZ1bmN0aW9uKGIpe1wiYXV0aC91c2VyLXRva2VuLWV4cGlyZWRcIj09Yi5jb2RlJiYoYS5kaXNwYXRjaEV2ZW50KG5ldyBlaShcInVzZXJEZWxldGVkXCIpKSxzaShhKSk7dGhyb3cgYjt9KX0pfTtcblcucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1jaSh0aGlzLmJhKTtyZXR1cm4gbGkodGhpcykudGhlbihmdW5jdGlvbigpe3JldHVybiBiLmJhLmdldFRva2VuKGEpfSkudGhlbihmdW5jdGlvbihhKXtpZighYSl0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIpO2EuYWNjZXNzVG9rZW4hPWIubWQmJihmaShiLGEuYWNjZXNzVG9rZW4pLGIuRWEoKSk7cGkoYixcInJlZnJlc2hUb2tlblwiLGEucmVmcmVzaFRva2VuKTtyZXR1cm4gYS5hY2Nlc3NUb2tlbn0pLmwoZnVuY3Rpb24oYSl7aWYoXCJhdXRoL3VzZXItdG9rZW4tZXhwaXJlZFwiPT1hLmNvZGUmJiFjKXJldHVybiBpaShiKS50aGVuKGZ1bmN0aW9uKCl7cGkoYixcInJlZnJlc2hUb2tlblwiLG51bGwpO3Rocm93IGE7fSk7dGhyb3cgYTt9KX07XG52YXIgdGk9ZnVuY3Rpb24oYSxiKXtiLmlkVG9rZW4mJmEubWQhPWIuaWRUb2tlbiYmKGFpKGEuYmEsYiksYS5FYSgpLGZpKGEsYi5pZFRva2VuKSxwaShhLFwicmVmcmVzaFRva2VuXCIsYS5iYS5TKSl9O1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBlaShcInRva2VuQ2hhbmdlZFwiKSl9O3ZhciByaT1mdW5jdGlvbihhLGIpe3JldHVybiBTKGEuZixMZyx7aWRUb2tlbjpifSkudGhlbihxKGEuQmUsYSkpfTtcblcucHJvdG90eXBlLkJlPWZ1bmN0aW9uKGEpe2E9YS51c2VycztpZighYXx8IWEubGVuZ3RoKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIik7YT1hWzBdO2dpKHRoaXMse3VpZDphLmxvY2FsSWQsZGlzcGxheU5hbWU6YS5kaXNwbGF5TmFtZSxwaG90b1VSTDphLnBob3RvVXJsLGVtYWlsOmEuZW1haWwsZW1haWxWZXJpZmllZDohIWEuZW1haWxWZXJpZmllZH0pO2Zvcih2YXIgYj11aShhKSxjPTA7YzxiLmxlbmd0aDtjKyspb2kodGhpcyxiW2NdKTtwaSh0aGlzLFwiaXNBbm9ueW1vdXNcIiwhKHRoaXMuZW1haWwmJmEucGFzc3dvcmRIYXNoKSYmISh0aGlzLnByb3ZpZGVyRGF0YSYmdGhpcy5wcm92aWRlckRhdGEubGVuZ3RoKSl9O1xudmFyIHVpPWZ1bmN0aW9uKGEpe3JldHVybihhPWEucHJvdmlkZXJVc2VySW5mbykmJmEubGVuZ3RoP0ZhKGEsZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBkaShhLnJhd0lkLGEucHJvdmlkZXJJZCxhLmVtYWlsLGEuZGlzcGxheU5hbWUsYS5waG90b1VybCl9KTpbXX07Vy5wcm90b3R5cGUucmVhdXRoZW50aWNhdGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5jKGEuSWIodGhpcy5mKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBjO2E6e3ZhciBlPWEuaWRUb2tlbi5zcGxpdChcIi5cIik7aWYoMz09ZS5sZW5ndGgpe2Zvcih2YXIgZT1lWzFdLGY9KDQtZS5sZW5ndGglNCklNCxnPTA7ZzxmO2crKyllKz1cIi5cIjt0cnl7dmFyIGs9aWModWIoZSkpO2lmKGsuc3ViJiZrLmlzcyYmay5hdWQmJmsuZXhwKXtjPW5ldyBNZihrKTticmVhayBhfX1jYXRjaChyKXt9fWM9bnVsbH1pZighY3x8Yi51aWQhPWMudmUpdGhyb3cgbmV3IFIoXCJ1c2VyLW1pc21hdGNoXCIpO3RpKGIsYSk7cmV0dXJuIGIucmVsb2FkKCl9KSl9O1xudmFyIHZpPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHFpKGEpLnRoZW4oZnVuY3Rpb24oKXtpZihKYShtaShhKSxiKSlyZXR1cm4gaWkoYSkudGhlbihmdW5jdGlvbigpe3Rocm93IG5ldyBSKFwicHJvdmlkZXItYWxyZWFkeS1saW5rZWRcIik7fSl9KX07aD1XLnByb3RvdHlwZTtoLnRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMuYyh2aSh0aGlzLGEucHJvdmlkZXIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYi5nZXRUb2tlbigpfSkudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gYS5vZChiLmYsYyl9KS50aGVuKHEodGhpcy5kZCx0aGlzKSkpfTtoLmxpbms9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2EodGhpcy50ZSxhKX07aC5kZD1mdW5jdGlvbihhKXt0aSh0aGlzLGEpO3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMucmVsb2FkKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBifSl9O1xuaC5QZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLmModGhpcy5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIGIuZi51cGRhdGVFbWFpbChjLGEpfSkudGhlbihmdW5jdGlvbihhKXt0aShiLGEpO3JldHVybiBiLnJlbG9hZCgpfSkpfTtoLnVwZGF0ZUVtYWlsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNhKHRoaXMuUGUsYSl9O2guUWU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5jKHRoaXMuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGMpe3JldHVybiBiLmYudXBkYXRlUGFzc3dvcmQoYyxhKX0pLnRoZW4oZnVuY3Rpb24oYSl7dGkoYixhKTtyZXR1cm4gYi5yZWxvYWQoKX0pKX07aC51cGRhdGVQYXNzd29yZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zYSh0aGlzLlFlLGEpfTtcbmguUmU9ZnVuY3Rpb24oYSl7aWYodm9pZCAwPT09YS5kaXNwbGF5TmFtZSYmdm9pZCAwPT09YS5waG90b1VSTClyZXR1cm4gbGkodGhpcyk7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5jKHRoaXMuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGMpe3JldHVybiBiLmYudXBkYXRlUHJvZmlsZShjLHtkaXNwbGF5TmFtZTphLmRpc3BsYXlOYW1lLHBob3RvVXJsOmEucGhvdG9VUkx9KX0pLnRoZW4oZnVuY3Rpb24oYSl7dGkoYixhKTtwaShiLFwiZGlzcGxheU5hbWVcIixhLmRpc3BsYXlOYW1lfHxudWxsKTtwaShiLFwicGhvdG9VUkxcIixhLnBob3RvVXJsfHxudWxsKTtyZXR1cm4gaWkoYil9KS50aGVuKGtpKSl9O2gudXBkYXRlUHJvZmlsZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zYSh0aGlzLlJlLGEpfTtcbmguT2U9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5jKHFpKHRoaXMpLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIEphKG1pKGIpLGEpP0FnKGIuZixjLFthXSkudGhlbihmdW5jdGlvbihhKXt2YXIgYz17fTt4KGEucHJvdmlkZXJVc2VySW5mb3x8W10sZnVuY3Rpb24oYSl7Y1thLnByb3ZpZGVySWRdPSEwfSk7eChtaShiKSxmdW5jdGlvbihhKXtjW2FdfHxuaShiLGEpfSk7cmV0dXJuIGlpKGIpfSk6aWkoYikudGhlbihmdW5jdGlvbigpe3Rocm93IG5ldyBSKFwibm8tc3VjaC1wcm92aWRlclwiKTt9KX0pKX07aC51bmxpbms9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2EodGhpcy5PZSxhKX07aC5YZD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuYyh0aGlzLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihiKXtyZXR1cm4gUyhhLmYsS2cse2lkVG9rZW46Yn0pfSkudGhlbihmdW5jdGlvbigpe2EuZGlzcGF0Y2hFdmVudChuZXcgZWkoXCJ1c2VyRGVsZXRlZFwiKSl9KSkudGhlbihmdW5jdGlvbigpe3NpKGEpfSl9O1xuaC5kZWxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zYSh0aGlzLlhkKX07aC5ZYz1mdW5jdGlvbihhLGIpe3JldHVyblwibGlua1ZpYVBvcHVwXCI9PWEmJih0aGlzLmlhfHxudWxsKT09YiYmdGhpcy4kfHxcImxpbmtWaWFSZWRpcmVjdFwiPT1hJiYodGhpcy4kYnx8bnVsbCk9PWI/ITA6ITF9O2guSWE9ZnVuY3Rpb24oYSxiLGMsZCl7XCJsaW5rVmlhUG9wdXBcIj09YSYmZD09KHRoaXMuaWF8fG51bGwpJiYoYyYmdGhpcy5HYT90aGlzLkdhKGMpOmImJiFjJiZ0aGlzLiQmJnRoaXMuJChiKSx0aGlzLkMmJih0aGlzLkMuY2FuY2VsKCksdGhpcy5DPW51bGwpLGRlbGV0ZSB0aGlzLiQsZGVsZXRlIHRoaXMuR2EpfTtoLm5iPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCJsaW5rVmlhUG9wdXBcIj09YSYmYj09KHRoaXMuaWF8fG51bGwpfHxcImxpbmtWaWFSZWRpcmVjdFwiPT1hJiYodGhpcy4kYnx8bnVsbCk9PWI/cSh0aGlzLmFlLHRoaXMpOm51bGx9O1xuaC5IYj1mdW5jdGlvbigpe3JldHVybiB2Zih0aGlzLnVpZCtcIjo6OlwiKX07XG52YXIgeGk9ZnVuY3Rpb24oYSxiKXtpZighd2YoKSlyZXR1cm4gSyhuZXcgUihcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO3ZhciBjPUlmKGIucHJvdmlkZXJJZCksZD1hLkhiKCksZT1udWxsOyF4ZigpJiZhLlgmJmIuaXNPQXV0aFByb3ZpZGVyJiYoZT1YZyhhLlgsYS52LGEuZWEsXCJsaW5rVmlhUG9wdXBcIixiLnByb3ZpZGVySWQsYi5KYigpLG51bGwsZCxmaXJlYmFzZS5TREtfVkVSU0lPTnx8bnVsbCkpO3ZhciBmPW9mKGUsYyYmYy52YixjJiZjLnViKSxjPXZpKGEsYi5wcm92aWRlcklkKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGlpKGEpfSkudGhlbihmdW5jdGlvbigpe3dpKGEpO3JldHVybiBhLmdldFRva2VuKCl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFNoKGEubSxmLFwibGlua1ZpYVBvcHVwXCIsYixkLCEhZSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJKGZ1bmN0aW9uKGIsYyl7YS5JYShcImxpbmtWaWFQb3B1cFwiLG51bGwsXG5uZXcgUihcImNhbmNlbGxlZC1wb3B1cC1yZXF1ZXN0XCIpLGEuaWF8fG51bGwpO2EuJD1iO2EuR2E9YzthLmlhPWQ7YS5DPVVoKGEubSxhLFwibGlua1ZpYVBvcHVwXCIsZixkKX0pfSkudGhlbihmdW5jdGlvbihhKXtmJiZuZihmKTtyZXR1cm4gYX0pLmwoZnVuY3Rpb24oYSl7ZiYmbmYoZik7dGhyb3cgYTt9KTtyZXR1cm4gYS5jKGMpfTtXLnByb3RvdHlwZS5saW5rV2l0aFBvcHVwPWZ1bmN0aW9uKGEpe3ZhciBiPXhpKHRoaXMsYSk7cmV0dXJuIHRoaXMuc2EoZnVuY3Rpb24oKXtyZXR1cm4gYn0pfTtcblcucHJvdG90eXBlLnVlPWZ1bmN0aW9uKGEpe2lmKCF3ZigpKXJldHVybiBLKG5ldyBSKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7dmFyIGI9dGhpcyxjPW51bGwsZD10aGlzLkhiKCksZT12aSh0aGlzLGEucHJvdmlkZXJJZCkudGhlbihmdW5jdGlvbigpe3dpKGIpO3JldHVybiBiLmdldFRva2VuKCl9KS50aGVuKGZ1bmN0aW9uKCl7Yi4kYj1kO3JldHVybiBpaShiKX0pLnRoZW4oZnVuY3Rpb24oYSl7Yi5IYSYmKGE9Yi5IYSxhPWEuQS5zZXQoeWksYi5HKCksYS5CKSk7cmV0dXJuIGF9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFRoKGIubSxcImxpbmtWaWFSZWRpcmVjdFwiLGEsZCl9KS5sKGZ1bmN0aW9uKGEpe2M9YTtpZihiLkhhKXJldHVybiB6aShiLkhhKTt0aHJvdyBjO30pLnRoZW4oZnVuY3Rpb24oKXtpZihjKXRocm93IGM7fSk7cmV0dXJuIHRoaXMuYyhlKX07XG5XLnByb3RvdHlwZS5saW5rV2l0aFJlZGlyZWN0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNhKHRoaXMudWUsYSl9O3ZhciB3aT1mdW5jdGlvbihhKXtpZighYS5tfHwhYS5YYil7aWYoYS5tJiYhYS5YYil0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIpO3Rocm93IG5ldyBSKFwiYXV0aC1kb21haW4tY29uZmlnLXJlcXVpcmVkXCIpO319O1cucHJvdG90eXBlLmFlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt0aGlzLkMmJih0aGlzLkMuY2FuY2VsKCksdGhpcy5DPW51bGwpO3ZhciBkPW51bGwsZT10aGlzLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihkKXtyZXR1cm4gUWYoYy5mLHtyZXF1ZXN0VXJpOmEsc2Vzc2lvbklkOmIsaWRUb2tlbjpkfSl9KS50aGVuKGZ1bmN0aW9uKGEpe2Q9YWcoYSk7cmV0dXJuIGMuZGQoYSl9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybnt1c2VyOmEsY3JlZGVudGlhbDpkfX0pO3JldHVybiB0aGlzLmMoZSl9O1xuVy5wcm90b3R5cGUuc2VuZEVtYWlsVmVyaWZpY2F0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5jKHRoaXMuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGIpe3JldHVybiBhLmYuc2VuZEVtYWlsVmVyaWZpY2F0aW9uKGIpfSkudGhlbihmdW5jdGlvbihiKXtpZihhLmVtYWlsIT1iKXJldHVybiBhLnJlbG9hZCgpfSkudGhlbihmdW5jdGlvbigpe30pKX07dmFyIHNpPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5VLmxlbmd0aDtiKyspYS5VW2JdLmNhbmNlbChcImFwcC1kZWxldGVkXCIpO2EuVT1bXTthLllkPSEwO1EoYSxcInJlZnJlc2hUb2tlblwiLG51bGwpO2EubSYmYS5tLnVuc3Vic2NyaWJlKGEpfTtXLnByb3RvdHlwZS5jPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5VLnB1c2goYSk7eGQoYSxmdW5jdGlvbigpe0xhKGIuVSxhKX0pO3JldHVybiBhfTtXLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HKCl9O1xuVy5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3ZhciBhPXt1aWQ6dGhpcy51aWQsZGlzcGxheU5hbWU6dGhpcy5kaXNwbGF5TmFtZSxwaG90b1VSTDp0aGlzLnBob3RvVVJMLGVtYWlsOnRoaXMuZW1haWwsZW1haWxWZXJpZmllZDp0aGlzLmVtYWlsVmVyaWZpZWQsaXNBbm9ueW1vdXM6dGhpcy5pc0Fub255bW91cyxwcm92aWRlckRhdGE6W10sYXBpS2V5OnRoaXMudixhcHBOYW1lOnRoaXMuZWEsYXV0aERvbWFpbjp0aGlzLlgsc3RzVG9rZW5NYW5hZ2VyOnRoaXMuYmEuRygpLHJlZGlyZWN0RXZlbnRJZDp0aGlzLiRifHxudWxsfTt4KHRoaXMucHJvdmlkZXJEYXRhLGZ1bmN0aW9uKGIpe2EucHJvdmlkZXJEYXRhLnB1c2goRmYoYikpfSk7cmV0dXJuIGF9O1xudmFyIEFpPWZ1bmN0aW9uKGEpe2lmKCFhLmFwaUtleSlyZXR1cm4gbnVsbDt2YXIgYj17YXBpS2V5OmEuYXBpS2V5LGF1dGhEb21haW46YS5hdXRoRG9tYWluLGFwcE5hbWU6YS5hcHBOYW1lfSxjPXt9O2lmKGEuc3RzVG9rZW5NYW5hZ2VyJiZhLnN0c1Rva2VuTWFuYWdlci5hY2Nlc3NUb2tlbiYmYS5zdHNUb2tlbk1hbmFnZXIuZXhwaXJhdGlvblRpbWUpYy5pZFRva2VuPWEuc3RzVG9rZW5NYW5hZ2VyLmFjY2Vzc1Rva2VuLGMucmVmcmVzaFRva2VuPWEuc3RzVG9rZW5NYW5hZ2VyLnJlZnJlc2hUb2tlbnx8bnVsbCxjLmV4cGlyZXNJbj0oYS5zdHNUb2tlbk1hbmFnZXIuZXhwaXJhdGlvblRpbWUtbGEoKSkvMUUzO2Vsc2UgcmV0dXJuIG51bGw7dmFyIGQ9bmV3IFcoYixjLGEpO2EucHJvdmlkZXJEYXRhJiZ4KGEucHJvdmlkZXJEYXRhLGZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPXt9O0VmKGIsYSk7b2koZCxiKX19KTthLnJlZGlyZWN0RXZlbnRJZCYmKGQuJGI9YS5yZWRpcmVjdEV2ZW50SWQpO1xucmV0dXJuIGR9LEJpPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgVyhhLGIpO2MmJihkLkhhPWMpO3JldHVybiBkLnJlbG9hZCgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZH0pfTt2YXIgQ2k9ZnVuY3Rpb24oYSl7dGhpcy5CPWE7dGhpcy5BPURoKCl9LHlpPXtuYW1lOlwicmVkaXJlY3RVc2VyXCIsVjohMX0semk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuQS5yZW1vdmUoeWksYS5CKX0sRGk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5BLmdldCh5aSxhLkIpLnRoZW4oZnVuY3Rpb24oYSl7YSYmYiYmKGEuYXV0aERvbWFpbj1iKTtyZXR1cm4gQWkoYXx8e30pfSl9O3ZhciBFaT1mdW5jdGlvbihhKXt0aGlzLkI9YTt0aGlzLkE9RGgoKX0sRmk9e25hbWU6XCJhdXRoVXNlclwiLFY6ITB9LEdpPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuQS5zZXQoRmksYi5HKCksYS5CKX0sSGk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuQS5yZW1vdmUoRmksYS5CKX0sSWk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5BLmdldChGaSxhLkIpLnRoZW4oZnVuY3Rpb24oYSl7YSYmYiYmKGEuYXV0aERvbWFpbj1iKTtyZXR1cm4gQWkoYXx8e30pfSl9O3ZhciBZPWZ1bmN0aW9uKGEpe3RoaXMuT2E9ITE7USh0aGlzLFwiYXBwXCIsYSk7aWYoWCh0aGlzKS5vcHRpb25zJiZYKHRoaXMpLm9wdGlvbnMuYXBpS2V5KWE9ZmlyZWJhc2UuU0RLX1ZFUlNJT04/dGYoZmlyZWJhc2UuU0RLX1ZFUlNJT04pOm51bGwsdGhpcy5mPW5ldyBUKFgodGhpcykub3B0aW9ucyYmWCh0aGlzKS5vcHRpb25zLmFwaUtleSxudWxsLGEpO2Vsc2UgdGhyb3cgbmV3IFIoXCJpbnZhbGlkLWFwaS1rZXlcIik7dGhpcy5VPVtdO3RoaXMuTWE9W107dGhpcy56ZT1maXJlYmFzZS5JTlRFUk5BTC5jcmVhdGVTdWJzY3JpYmUocSh0aGlzLnBlLHRoaXMpKTtKaSh0aGlzLG51bGwpO3RoaXMubWE9bmV3IEVpKFgodGhpcykub3B0aW9ucy5hcGlLZXkrXCI6XCIrWCh0aGlzKS5uYW1lKTt0aGlzLlphPW5ldyBDaShYKHRoaXMpLm9wdGlvbnMuYXBpS2V5K1wiOlwiK1godGhpcykubmFtZSk7dGhpcy5DYj10aGlzLmMoS2kodGhpcykpO3RoaXMudGE9dGhpcy5jKExpKHRoaXMpKTt0aGlzLkJjPVxuITE7dGhpcy55Yz1xKHRoaXMuSmUsdGhpcyk7dGhpcy5GZD1xKHRoaXMuU2EsdGhpcyk7dGhpcy5HZD1xKHRoaXMubGUsdGhpcyk7dGhpcy5FZD1xKHRoaXMua2UsdGhpcyk7TWkodGhpcyk7dGhpcy5JTlRFUk5BTD17fTt0aGlzLklOVEVSTkFMLmRlbGV0ZT1xKHRoaXMuZGVsZXRlLHRoaXMpfTtZLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57YXBpS2V5OlgodGhpcykub3B0aW9ucy5hcGlLZXksYXV0aERvbWFpbjpYKHRoaXMpLm9wdGlvbnMuYXV0aERvbWFpbixhcHBOYW1lOlgodGhpcykubmFtZSxjdXJyZW50VXNlcjpaKHRoaXMpJiZaKHRoaXMpLkcoKX19O1xudmFyIE5pPWZ1bmN0aW9uKGEpe3JldHVybiBhLlpkfHxLKG5ldyBSKFwiYXV0aC1kb21haW4tY29uZmlnLXJlcXVpcmVkXCIpKX0sTWk9ZnVuY3Rpb24oYSl7dmFyIGI9WChhKS5vcHRpb25zLmF1dGhEb21haW4sYz1YKGEpLm9wdGlvbnMuYXBpS2V5O2ImJndmKCkmJihhLlpkPWEuQ2IudGhlbihmdW5jdGlvbigpe2lmKCFhLk9hKXJldHVybiBhLm09V2goYixjLFgoYSkubmFtZSksYS5tLnN1YnNjcmliZShhKSxaKGEpJiZqaShaKGEpKSxhLk1jJiYoamkoYS5NYyksYS5NYz1udWxsKSxhLm19KSl9O2g9WS5wcm90b3R5cGU7aC5ZYz1mdW5jdGlvbihhLGIpe3N3aXRjaChhKXtjYXNlIFwidW5rbm93blwiOmNhc2UgXCJzaWduSW5WaWFSZWRpcmVjdFwiOnJldHVybiEwO2Nhc2UgXCJzaWduSW5WaWFQb3B1cFwiOnJldHVybiB0aGlzLmlhPT1iJiYhIXRoaXMuJDtkZWZhdWx0OnJldHVybiExfX07XG5oLklhPWZ1bmN0aW9uKGEsYixjLGQpe1wic2lnbkluVmlhUG9wdXBcIj09YSYmdGhpcy5pYT09ZCYmKGMmJnRoaXMuR2E/dGhpcy5HYShjKTpiJiYhYyYmdGhpcy4kJiZ0aGlzLiQoYiksdGhpcy5DJiYodGhpcy5DLmNhbmNlbCgpLHRoaXMuQz1udWxsKSxkZWxldGUgdGhpcy4kLGRlbGV0ZSB0aGlzLkdhKX07aC5uYj1mdW5jdGlvbihhLGIpe3JldHVyblwic2lnbkluVmlhUmVkaXJlY3RcIj09YXx8XCJzaWduSW5WaWFQb3B1cFwiPT1hJiZ0aGlzLmlhPT1iJiZ0aGlzLiQ/cSh0aGlzLmJlLHRoaXMpOm51bGx9O1xuaC5iZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7YT17cmVxdWVzdFVyaTphLHNlc3Npb25JZDpifTt0aGlzLkMmJih0aGlzLkMuY2FuY2VsKCksdGhpcy5DPW51bGwpO3ZhciBkPW51bGwsZT1PZihjLmYsYSkudGhlbihmdW5jdGlvbihhKXtkPWFnKGEpO3JldHVybiBhfSk7YT1jLkNiLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIE9pKGMsYSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJue3VzZXI6WihjKSxjcmVkZW50aWFsOmR9fSk7cmV0dXJuIHRoaXMuYyhhKX07aC5IYj1mdW5jdGlvbigpe3JldHVybiB2ZigpfTtcbmguc2lnbkluV2l0aFBvcHVwPWZ1bmN0aW9uKGEpe2lmKCF3ZigpKXJldHVybiBLKG5ldyBSKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7dmFyIGI9dGhpcyxjPUlmKGEucHJvdmlkZXJJZCksZD10aGlzLkhiKCksZT1udWxsOyF4ZigpJiZYKHRoaXMpLm9wdGlvbnMuYXV0aERvbWFpbiYmYS5pc09BdXRoUHJvdmlkZXImJihlPVhnKFgodGhpcykub3B0aW9ucy5hdXRoRG9tYWluLFgodGhpcykub3B0aW9ucy5hcGlLZXksWCh0aGlzKS5uYW1lLFwic2lnbkluVmlhUG9wdXBcIixhLnByb3ZpZGVySWQsYS5KYigpLG51bGwsZCxmaXJlYmFzZS5TREtfVkVSU0lPTnx8bnVsbCkpO3ZhciBmPW9mKGUsYyYmYy52YixjJiZjLnViKSxjPU5pKHRoaXMpLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIFNoKGIsZixcInNpZ25JblZpYVBvcHVwXCIsYSxkLCEhZSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJKGZ1bmN0aW9uKGEsYyl7Yi5JYShcInNpZ25JblZpYVBvcHVwXCIsXG5udWxsLG5ldyBSKFwiY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3RcIiksYi5pYSk7Yi4kPWE7Yi5HYT1jO2IuaWE9ZDtiLkM9VWgoYi5tLGIsXCJzaWduSW5WaWFQb3B1cFwiLGYsZCl9KX0pLnRoZW4oZnVuY3Rpb24oYSl7ZiYmbmYoZik7cmV0dXJuIGF9KS5sKGZ1bmN0aW9uKGEpe2YmJm5mKGYpO3Rocm93IGE7fSk7cmV0dXJuIHRoaXMuYyhjKX07aC5zaWduSW5XaXRoUmVkaXJlY3Q9ZnVuY3Rpb24oYSl7aWYoIXdmKCkpcmV0dXJuIEsobmV3IFIoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTt2YXIgYj10aGlzLGM9TmkodGhpcykudGhlbihmdW5jdGlvbigpe3JldHVybiBUaChiLm0sXCJzaWduSW5WaWFSZWRpcmVjdFwiLGEpfSk7cmV0dXJuIHRoaXMuYyhjKX07XG5oLmdldFJlZGlyZWN0UmVzdWx0PWZ1bmN0aW9uKCl7aWYoIXdmKCkpcmV0dXJuIEsobmV3IFIoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTt2YXIgYT10aGlzLGI9TmkodGhpcykudGhlbihmdW5jdGlvbigpe3JldHVybiBhLm0uZ2V0UmVkaXJlY3RSZXN1bHQoKX0pO3JldHVybiB0aGlzLmMoYil9O1xudmFyIE9pPWZ1bmN0aW9uKGEsYil7dmFyIGM9e307Yy5hcGlLZXk9WChhKS5vcHRpb25zLmFwaUtleTtjLmF1dGhEb21haW49WChhKS5vcHRpb25zLmF1dGhEb21haW47Yy5hcHBOYW1lPVgoYSkubmFtZTtyZXR1cm4gYS5DYi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIEJpKGMsYixhLlphKX0pLnRoZW4oZnVuY3Rpb24oYil7aWYoWihhKSYmYi51aWQ9PVooYSkudWlkKXJldHVybiBaKGEpLmNvcHkoYiksYS5TYShiKTtKaShhLGIpO2ppKGIpO3JldHVybiBhLlNhKGIpfSkudGhlbihmdW5jdGlvbigpe2EuRWEoKX0pfSxKaT1mdW5jdGlvbihhLGIpe1ooYSkmJihoaShaKGEpLGEuRmQpLFViKFooYSksXCJ0b2tlbkNoYW5nZWRcIixhLkdkKSxVYihaKGEpLFwidXNlckRlbGV0ZWRcIixhLkVkKSk7YiYmKGIuZmMucHVzaChhLkZkKSxMYihiLFwidG9rZW5DaGFuZ2VkXCIsYS5HZCksTGIoYixcInVzZXJEZWxldGVkXCIsYS5FZCkpO1EoYSxcImN1cnJlbnRVc2VyXCIsYil9O1xuWS5wcm90b3R5cGUuc2lnbk91dD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLnRhLnRoZW4oZnVuY3Rpb24oKXtpZighWihhKSlyZXR1cm4gSigpO0ppKGEsbnVsbCk7cmV0dXJuIEhpKGEubWEpLnRoZW4oZnVuY3Rpb24oKXthLkVhKCl9KX0pO3JldHVybiB0aGlzLmMoYil9O1xudmFyIFBpPWZ1bmN0aW9uKGEpe3ZhciBiPURpKGEuWmEsWChhKS5vcHRpb25zLmF1dGhEb21haW4pLnRoZW4oZnVuY3Rpb24oYil7aWYoYS5NYz1iKWIuSGE9YS5aYTtyZXR1cm4gemkoYS5aYSl9KTtyZXR1cm4gYS5jKGIpfSxLaT1mdW5jdGlvbihhKXt2YXIgYj1YKGEpLm9wdGlvbnMuYXV0aERvbWFpbixjPVBpKGEpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gSWkoYS5tYSxiKX0pLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIGI/KGIuSGE9YS5aYSxiLnJlbG9hZCgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gR2koYS5tYSxiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KX0pLmwoZnVuY3Rpb24oYyl7cmV0dXJuXCJhdXRoL25ldHdvcmstcmVxdWVzdC1mYWlsZWRcIj09Yy5jb2RlP2I6SGkoYS5tYSl9KSk6bnVsbH0pLnRoZW4oZnVuY3Rpb24oYil7SmkoYSxifHxudWxsKX0pO3JldHVybiBhLmMoYyl9LExpPWZ1bmN0aW9uKGEpe3JldHVybiBhLkNiLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRSZWRpcmVjdFJlc3VsdCgpfSkubChmdW5jdGlvbigpe30pLnRoZW4oZnVuY3Rpb24oKXtpZighYS5PYSlyZXR1cm4gYS55YygpfSkubChmdW5jdGlvbigpe30pLnRoZW4oZnVuY3Rpb24oKXtpZighYS5PYSl7YS5CYz1cbiEwO3ZhciBiPWEubWE7Yi5BLmFkZExpc3RlbmVyKEZpLGIuQixhLnljKX19KX07WS5wcm90b3R5cGUuSmU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBJaSh0aGlzLm1hLFgodGhpcykub3B0aW9ucy5hdXRoRG9tYWluKS50aGVuKGZ1bmN0aW9uKGIpe2lmKCFhLk9hKXt2YXIgYztpZihjPVooYSkmJmIpe2M9WihhKS51aWQ7dmFyIGQ9Yi51aWQ7Yz12b2lkIDA9PT1jfHxudWxsPT09Y3x8XCJcIj09PWN8fHZvaWQgMD09PWR8fG51bGw9PT1kfHxcIlwiPT09ZD8hMTpjPT1kfWlmKGMpcmV0dXJuIFooYSkuY29weShiKSxaKGEpLmdldFRva2VuKCk7aWYoWihhKXx8YilKaShhLGIpLGImJihqaShiKSxiLkhhPWEuWmEpLGEubSYmYS5tLnN1YnNjcmliZShhKSxhLkVhKCl9fSl9O1kucHJvdG90eXBlLlNhPWZ1bmN0aW9uKGEpe3JldHVybiBHaSh0aGlzLm1hLGEpfTtZLnByb3RvdHlwZS5sZT1mdW5jdGlvbigpe3RoaXMuRWEoKTt0aGlzLlNhKFoodGhpcykpfTtcblkucHJvdG90eXBlLmtlPWZ1bmN0aW9uKCl7dGhpcy5zaWduT3V0KCl9O3ZhciBRaT1mdW5jdGlvbihhLGIpe3JldHVybiBhLmMoYi50aGVuKGZ1bmN0aW9uKGIpe3JldHVybiBPaShhLGIpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBaKGEpfSkpfTtoPVkucHJvdG90eXBlO2gucGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLmFkZEF1dGhUb2tlbkxpc3RlbmVyKGZ1bmN0aW9uKCl7YS5uZXh0KFooYikpfSl9O2gub25BdXRoU3RhdGVDaGFuZ2VkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzO3RoaXMuQmMmJmZpcmViYXNlLlByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXtwKGEpP2EoWihkKSk6cChhLm5leHQpJiZhLm5leHQoWihkKSl9KTtyZXR1cm4gdGhpcy56ZShhLGIsYyl9O1xuaC5nZXRUb2tlbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9dGhpcy50YS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFooYik/WihiKS5nZXRUb2tlbihhKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybnthY2Nlc3NUb2tlbjphfX0pOm51bGx9KTtyZXR1cm4gdGhpcy5jKGMpfTtoLnNpZ25JbldpdGhDdXN0b21Ub2tlbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLnRhLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUWkoYixTKGIuZixNZyx7dG9rZW46YX0pKX0pLnRoZW4oZnVuY3Rpb24oYSl7cGkoYSxcImlzQW5vbnltb3VzXCIsITEpO3JldHVybiBiLlNhKGEpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBaKGIpfSl9O2guc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3JldHVybiB0aGlzLnRhLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUWkoYyxTKGMuZixYZix7ZW1haWw6YSxwYXNzd29yZDpifSkpfSl9O1xuaC5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3JldHVybiB0aGlzLnRhLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUWkoYyxTKGMuZixKZyx7ZW1haWw6YSxwYXNzd29yZDpifSkpfSl9O2guc2lnbkluV2l0aENyZWRlbnRpYWw9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy50YS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFFpKGIsYS5JYihiLmYpKX0pfTtoLnNpZ25JbkFub255bW91c2x5PWZ1bmN0aW9uKCl7dmFyIGE9Wih0aGlzKSxiPXRoaXM7cmV0dXJuIGEmJmEuaXNBbm9ueW1vdXM/SihhKTp0aGlzLnRhLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUWkoYixiLmYuc2lnbkluQW5vbnltb3VzbHkoKSl9KS50aGVuKGZ1bmN0aW9uKGEpe3BpKGEsXCJpc0Fub255bW91c1wiLCEwKTtyZXR1cm4gYi5TYShhKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gWihiKX0pfTtcbnZhciBYPWZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcH0sWj1mdW5jdGlvbihhKXtyZXR1cm4gYS5jdXJyZW50VXNlcn07aD1ZLnByb3RvdHlwZTtoLkVhPWZ1bmN0aW9uKCl7aWYodGhpcy5CYylmb3IodmFyIGE9MDthPHRoaXMuTWEubGVuZ3RoO2ErKylpZih0aGlzLk1hW2FdKXRoaXMuTWFbYV0oWih0aGlzKSYmWih0aGlzKS5fbGF0fHxudWxsKX07aC5hZGRBdXRoVG9rZW5MaXN0ZW5lcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMuTWEucHVzaChhKTt0aGlzLmModGhpcy50YS50aGVuKGZ1bmN0aW9uKCl7Yi5PYXx8SmEoYi5NYSxhKSYmYShaKGIpJiZaKGIpLl9sYXR8fG51bGwpfSkpfTtoLnJlbW92ZUF1dGhUb2tlbkxpc3RlbmVyPWZ1bmN0aW9uKGEpe01hKHRoaXMuTWEsZnVuY3Rpb24oYil7cmV0dXJuIGI9PWF9KX07XG5oLmRlbGV0ZT1mdW5jdGlvbigpe3RoaXMuT2E9ITA7Zm9yKHZhciBhPTA7YTx0aGlzLlUubGVuZ3RoO2ErKyl0aGlzLlVbYV0uY2FuY2VsKFwiYXBwLWRlbGV0ZWRcIik7dGhpcy5VPVtdO3RoaXMubWEmJihhPXRoaXMubWEsYS5BLnJlbW92ZUxpc3RlbmVyKEZpLGEuQix0aGlzLnljKSk7dGhpcy5tJiZ0aGlzLm0udW5zdWJzY3JpYmUodGhpcyk7cmV0dXJuIGZpcmViYXNlLlByb21pc2UucmVzb2x2ZSgpfTtoLmM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLlUucHVzaChhKTt4ZChhLGZ1bmN0aW9uKCl7TGEoYi5VLGEpfSk7cmV0dXJuIGF9O2guZmV0Y2hQcm92aWRlcnNGb3JFbWFpbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jKHFnKHRoaXMuZixhKSl9O2gudmVyaWZ5UGFzc3dvcmRSZXNldENvZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2hlY2tBY3Rpb25Db2RlKGEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGF0YS5lbWFpbH0pfTtcbmguY29uZmlybVBhc3N3b3JkUmVzZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jKHRoaXMuZi5jb25maXJtUGFzc3dvcmRSZXNldChhLGIpLnRoZW4oZnVuY3Rpb24oKXt9KSl9O2guY2hlY2tBY3Rpb25Db2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmModGhpcy5mLmNoZWNrQWN0aW9uQ29kZShhKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybntkYXRhOntlbWFpbDphLmVtYWlsfX19KSl9O2guYXBwbHlBY3Rpb25Db2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmModGhpcy5mLmFwcGx5QWN0aW9uQ29kZShhKS50aGVuKGZ1bmN0aW9uKCl7fSkpfTtoLnNlbmRQYXNzd29yZFJlc2V0RW1haWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYyh0aGlzLmYuc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChhKS50aGVuKGZ1bmN0aW9uKCl7fSkpfTt6aChZLnByb3RvdHlwZSx7YXBwbHlBY3Rpb25Db2RlOntuYW1lOlwiYXBwbHlBY3Rpb25Db2RlXCIsYjpbVShcImNvZGVcIildfSxjaGVja0FjdGlvbkNvZGU6e25hbWU6XCJjaGVja0FjdGlvbkNvZGVcIixiOltVKFwiY29kZVwiKV19LGNvbmZpcm1QYXNzd29yZFJlc2V0OntuYW1lOlwiY29uZmlybVBhc3N3b3JkUmVzZXRcIixiOltVKFwiY29kZVwiKSxVKFwibmV3UGFzc3dvcmRcIildfSxjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQ6e25hbWU6XCJjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmRcIixiOltVKFwiZW1haWxcIiksVShcInBhc3N3b3JkXCIpXX0sZmV0Y2hQcm92aWRlcnNGb3JFbWFpbDp7bmFtZTpcImZldGNoUHJvdmlkZXJzRm9yRW1haWxcIixiOltVKFwiZW1haWxcIildfSxnZXRSZWRpcmVjdFJlc3VsdDp7bmFtZTpcImdldFJlZGlyZWN0UmVzdWx0XCIsYjpbXX0sb25BdXRoU3RhdGVDaGFuZ2VkOntuYW1lOlwib25BdXRoU3RhdGVDaGFuZ2VkXCIsYjpbeGgoc2goKSx0aCgpLFwibmV4dE9yT2JzZXJ2ZXJcIiksXG50aChcIm9wdF9lcnJvclwiLCEwKSx0aChcIm9wdF9jb21wbGV0ZWRcIiwhMCldfSxzZW5kUGFzc3dvcmRSZXNldEVtYWlsOntuYW1lOlwic2VuZFBhc3N3b3JkUmVzZXRFbWFpbFwiLGI6W1UoXCJlbWFpbFwiKV19LHNpZ25JbkFub255bW91c2x5OntuYW1lOlwic2lnbkluQW5vbnltb3VzbHlcIixiOltdfSxzaWduSW5XaXRoQ3JlZGVudGlhbDp7bmFtZTpcInNpZ25JbldpdGhDcmVkZW50aWFsXCIsYjpbdmgoKV19LHNpZ25JbldpdGhDdXN0b21Ub2tlbjp7bmFtZTpcInNpZ25JbldpdGhDdXN0b21Ub2tlblwiLGI6W1UoXCJ0b2tlblwiKV19LHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkOntuYW1lOlwic2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmRcIixiOltVKFwiZW1haWxcIiksVShcInBhc3N3b3JkXCIpXX0sc2lnbkluV2l0aFBvcHVwOntuYW1lOlwic2lnbkluV2l0aFBvcHVwXCIsYjpbd2goKV19LHNpZ25JbldpdGhSZWRpcmVjdDp7bmFtZTpcInNpZ25JbldpdGhSZWRpcmVjdFwiLGI6W3doKCldfSxzaWduT3V0OntuYW1lOlwic2lnbk91dFwiLFxuYjpbXX0sdG9KU09OOntuYW1lOlwidG9KU09OXCIsYjpbVShudWxsLCEwKV19LHZlcmlmeVBhc3N3b3JkUmVzZXRDb2RlOntuYW1lOlwidmVyaWZ5UGFzc3dvcmRSZXNldENvZGVcIixiOltVKFwiY29kZVwiKV19fSk7XG56aChXLnByb3RvdHlwZSx7XCJkZWxldGVcIjp7bmFtZTpcImRlbGV0ZVwiLGI6W119LGdldFRva2VuOntuYW1lOlwiZ2V0VG9rZW5cIixiOlt7bmFtZTpcIm9wdF9mb3JjZVJlZnJlc2hcIixjYTpcImEgYm9vbGVhblwiLG9wdGlvbmFsOiEwLGRhOmZ1bmN0aW9uKGEpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYX19XX0sbGluazp7bmFtZTpcImxpbmtcIixiOlt2aCgpXX0sbGlua1dpdGhQb3B1cDp7bmFtZTpcImxpbmtXaXRoUG9wdXBcIixiOlt3aCgpXX0sbGlua1dpdGhSZWRpcmVjdDp7bmFtZTpcImxpbmtXaXRoUmVkaXJlY3RcIixiOlt3aCgpXX0scmVhdXRoZW50aWNhdGU6e25hbWU6XCJyZWF1dGhlbnRpY2F0ZVwiLGI6W3ZoKCldfSxyZWxvYWQ6e25hbWU6XCJyZWxvYWRcIixiOltdfSxzZW5kRW1haWxWZXJpZmljYXRpb246e25hbWU6XCJzZW5kRW1haWxWZXJpZmljYXRpb25cIixiOltdfSx0b0pTT046e25hbWU6XCJ0b0pTT05cIixiOltVKG51bGwsITApXX0sdW5saW5rOntuYW1lOlwidW5saW5rXCIsYjpbVShcInByb3ZpZGVyXCIpXX0sXG51cGRhdGVFbWFpbDp7bmFtZTpcInVwZGF0ZUVtYWlsXCIsYjpbVShcImVtYWlsXCIpXX0sdXBkYXRlUGFzc3dvcmQ6e25hbWU6XCJ1cGRhdGVQYXNzd29yZFwiLGI6W1UoXCJwYXNzd29yZFwiKV19LHVwZGF0ZVByb2ZpbGU6e25hbWU6XCJ1cGRhdGVQcm9maWxlXCIsYjpbc2goXCJwcm9maWxlXCIpXX19KTt6aChJLnByb3RvdHlwZSx7bDp7bmFtZTpcImNhdGNoXCJ9LHRoZW46e25hbWU6XCJ0aGVuXCJ9fSk7VihaZixcImNyZWRlbnRpYWxcIixmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgV2YoYSxiKX0sW1UoXCJlbWFpbFwiKSxVKFwicGFzc3dvcmRcIildKTt6aChTZi5wcm90b3R5cGUse2FkZFNjb3BlOntuYW1lOlwiYWRkU2NvcGVcIixiOltVKFwic2NvcGVcIildfX0pO1YoU2YsXCJjcmVkZW50aWFsXCIsU2YuY3JlZGVudGlhbCxbeGgoVSgpLHNoKCksXCJ0b2tlblwiKV0pO3poKFRmLnByb3RvdHlwZSx7YWRkU2NvcGU6e25hbWU6XCJhZGRTY29wZVwiLGI6W1UoXCJzY29wZVwiKV19fSk7XG5WKFRmLFwiY3JlZGVudGlhbFwiLFRmLmNyZWRlbnRpYWwsW3hoKFUoKSxzaCgpLFwidG9rZW5cIildKTt6aChVZi5wcm90b3R5cGUse2FkZFNjb3BlOntuYW1lOlwiYWRkU2NvcGVcIixiOltVKFwic2NvcGVcIildfX0pO1YoVWYsXCJjcmVkZW50aWFsXCIsVWYuY3JlZGVudGlhbCxbeGgoVSgpLHhoKHNoKCksdWgoKSksXCJpZFRva2VuXCIpLHhoKFUoKSx1aCgpLFwiYWNjZXNzVG9rZW5cIiwhMCldKTtWKFZmLFwiY3JlZGVudGlhbFwiLFZmLmNyZWRlbnRpYWwsW3hoKFUoKSxzaCgpLFwidG9rZW5cIiksVShcInNlY3JldFwiLCEwKV0pO1xuKGZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBmaXJlYmFzZSYmZmlyZWJhc2UuSU5URVJOQUwmJmZpcmViYXNlLklOVEVSTkFMLnJlZ2lzdGVyU2VydmljZSl7dmFyIGE9e0F1dGg6WSxFcnJvcjpSfTtWKGEsXCJFbWFpbEF1dGhQcm92aWRlclwiLFpmLFtdKTtWKGEsXCJGYWNlYm9va0F1dGhQcm92aWRlclwiLFNmLFtdKTtWKGEsXCJHaXRodWJBdXRoUHJvdmlkZXJcIixUZixbXSk7VihhLFwiR29vZ2xlQXV0aFByb3ZpZGVyXCIsVWYsW10pO1YoYSxcIlR3aXR0ZXJBdXRoUHJvdmlkZXJcIixWZixbXSk7ZmlyZWJhc2UuSU5URVJOQUwucmVnaXN0ZXJTZXJ2aWNlKFwiYXV0aFwiLGZ1bmN0aW9uKGEsYyl7YT1uZXcgWShhKTtjKHtJTlRFUk5BTDp7Z2V0VG9rZW46cShhLmdldFRva2VuLGEpLGFkZEF1dGhUb2tlbkxpc3RlbmVyOnEoYS5hZGRBdXRoVG9rZW5MaXN0ZW5lcixhKSxyZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcjpxKGEucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIsYSl9fSk7cmV0dXJuIGF9LFxuYSxmdW5jdGlvbihhLGMpe2lmKFwiY3JlYXRlXCI9PT1hKXRyeXtjLmF1dGgoKX1jYXRjaChkKXt9fSk7ZmlyZWJhc2UuSU5URVJOQUwuZXh0ZW5kTmFtZXNwYWNlKHtVc2VyOld9KX1lbHNlIHRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgdGhlIGZpcmViYXNlIG5hbWVzcGFjZTsgYmUgc3VyZSB0byBpbmNsdWRlIGZpcmViYXNlLWFwcC5qcyBiZWZvcmUgdGhpcyBsaWJyYXJ5LlwiKTt9KSgpO30pKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZpcmViYXNlLmF1dGg7XG4iLCJ2YXIgZmlyZWJhc2UgPSByZXF1aXJlKCcuL2FwcCcpO1xuLyohIEBsaWNlbnNlIEZpcmViYXNlIHYzLjQuMVxuICAgIEJ1aWxkOiAzLjQuMS1yYy4yXG4gICAgVGVybXM6IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Rlcm1zICovXG4oZnVuY3Rpb24oKSB7dmFyIGcsbj10aGlzO2Z1bmN0aW9uIHAoYSl7cmV0dXJuIHZvaWQgMCE9PWF9ZnVuY3Rpb24gYWEoKXt9ZnVuY3Rpb24gYmEoYSl7YS5XYj1mdW5jdGlvbigpe3JldHVybiBhLmJmP2EuYmY6YS5iZj1uZXcgYX19XG5mdW5jdGlvbiBjYShhKXt2YXIgYj10eXBlb2YgYTtpZihcIm9iamVjdFwiPT1iKWlmKGEpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm5cImFycmF5XCI7aWYoYSBpbnN0YW5jZW9mIE9iamVjdClyZXR1cm4gYjt2YXIgYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7aWYoXCJbb2JqZWN0IFdpbmRvd11cIj09YylyZXR1cm5cIm9iamVjdFwiO2lmKFwiW29iamVjdCBBcnJheV1cIj09Y3x8XCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RoJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zcGxpY2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInNwbGljZVwiKSlyZXR1cm5cImFycmF5XCI7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1jfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jYWxsJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO1xuZWxzZSBpZihcImZ1bmN0aW9uXCI9PWImJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBhLmNhbGwpcmV0dXJuXCJvYmplY3RcIjtyZXR1cm4gYn1mdW5jdGlvbiBkYShhKXtyZXR1cm5cImFycmF5XCI9PWNhKGEpfWZ1bmN0aW9uIGVhKGEpe3ZhciBiPWNhKGEpO3JldHVyblwiYXJyYXlcIj09Ynx8XCJvYmplY3RcIj09YiYmXCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RofWZ1bmN0aW9uIHEoYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGF9ZnVuY3Rpb24gZmEoYSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGF9ZnVuY3Rpb24gZ2EoYSl7cmV0dXJuXCJmdW5jdGlvblwiPT1jYShhKX1mdW5jdGlvbiBoYShhKXt2YXIgYj10eXBlb2YgYTtyZXR1cm5cIm9iamVjdFwiPT1iJiZudWxsIT1hfHxcImZ1bmN0aW9uXCI9PWJ9ZnVuY3Rpb24gaWEoYSxiLGMpe3JldHVybiBhLmNhbGwuYXBwbHkoYS5iaW5kLGFyZ3VtZW50cyl9XG5mdW5jdGlvbiBqYShhLGIsYyl7aWYoIWEpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGMsZCk7cmV0dXJuIGEuYXBwbHkoYixjKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX1mdW5jdGlvbiByKGEsYixjKXtyPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kJiYtMSE9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQudG9TdHJpbmcoKS5pbmRleE9mKFwibmF0aXZlIGNvZGVcIik/aWE6amE7cmV0dXJuIHIuYXBwbHkobnVsbCxhcmd1bWVudHMpfVxuZnVuY3Rpb24ga2EoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuSWc9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkVnPWZ1bmN0aW9uKGEsYyxmKXtmb3IodmFyIGg9QXJyYXkoYXJndW1lbnRzLmxlbmd0aC0yKSxrPTI7azxhcmd1bWVudHMubGVuZ3RoO2srKyloW2stMl09YXJndW1lbnRzW2tdO3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLGgpfX07ZnVuY3Rpb24gbGEoKXt0aGlzLllhPS0xfTtmdW5jdGlvbiBtYSgpe3RoaXMuWWE9LTE7dGhpcy5ZYT02NDt0aGlzLk49W107dGhpcy5XZD1bXTt0aGlzLkpmPVtdO3RoaXMuemQ9W107dGhpcy56ZFswXT0xMjg7Zm9yKHZhciBhPTE7YTx0aGlzLllhOysrYSl0aGlzLnpkW2FdPTA7dGhpcy5QZD10aGlzLmFjPTA7dGhpcy5yZXNldCgpfWthKG1hLGxhKTttYS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLk5bMF09MTczMjU4NDE5Mzt0aGlzLk5bMV09NDAyMzIzMzQxNzt0aGlzLk5bMl09MjU2MjM4MzEwMjt0aGlzLk5bM109MjcxNzMzODc4O3RoaXMuTls0XT0zMjg1Mzc3NTIwO3RoaXMuUGQ9dGhpcy5hYz0wfTtcbmZ1bmN0aW9uIG5hKGEsYixjKXtjfHwoYz0wKTt2YXIgZD1hLkpmO2lmKHEoYikpZm9yKHZhciBlPTA7MTY+ZTtlKyspZFtlXT1iLmNoYXJDb2RlQXQoYyk8PDI0fGIuY2hhckNvZGVBdChjKzEpPDwxNnxiLmNoYXJDb2RlQXQoYysyKTw8OHxiLmNoYXJDb2RlQXQoYyszKSxjKz00O2Vsc2UgZm9yKGU9MDsxNj5lO2UrKylkW2VdPWJbY108PDI0fGJbYysxXTw8MTZ8YltjKzJdPDw4fGJbYyszXSxjKz00O2ZvcihlPTE2OzgwPmU7ZSsrKXt2YXIgZj1kW2UtM11eZFtlLThdXmRbZS0xNF1eZFtlLTE2XTtkW2VdPShmPDwxfGY+Pj4zMSkmNDI5NDk2NzI5NX1iPWEuTlswXTtjPWEuTlsxXTtmb3IodmFyIGg9YS5OWzJdLGs9YS5OWzNdLG09YS5OWzRdLGwsZT0wOzgwPmU7ZSsrKTQwPmU/MjA+ZT8oZj1rXmMmKGheayksbD0xNTE4NTAwMjQ5KTooZj1jXmheayxsPTE4NTk3NzUzOTMpOjYwPmU/KGY9YyZofGsmKGN8aCksbD0yNDAwOTU5NzA4KTooZj1jXmheayxsPTMzOTU0Njk3ODIpLGY9KGI8PFxuNXxiPj4+MjcpK2YrbStsK2RbZV0mNDI5NDk2NzI5NSxtPWssaz1oLGg9KGM8PDMwfGM+Pj4yKSY0Mjk0OTY3Mjk1LGM9YixiPWY7YS5OWzBdPWEuTlswXStiJjQyOTQ5NjcyOTU7YS5OWzFdPWEuTlsxXStjJjQyOTQ5NjcyOTU7YS5OWzJdPWEuTlsyXStoJjQyOTQ5NjcyOTU7YS5OWzNdPWEuTlszXStrJjQyOTQ5NjcyOTU7YS5OWzRdPWEuTls0XSttJjQyOTQ5NjcyOTV9XG5tYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7cChiKXx8KGI9YS5sZW5ndGgpO2Zvcih2YXIgYz1iLXRoaXMuWWEsZD0wLGU9dGhpcy5XZCxmPXRoaXMuYWM7ZDxiOyl7aWYoMD09Zilmb3IoO2Q8PWM7KW5hKHRoaXMsYSxkKSxkKz10aGlzLllhO2lmKHEoYSkpZm9yKDtkPGI7KXtpZihlW2ZdPWEuY2hhckNvZGVBdChkKSwrK2YsKytkLGY9PXRoaXMuWWEpe25hKHRoaXMsZSk7Zj0wO2JyZWFrfX1lbHNlIGZvcig7ZDxiOylpZihlW2ZdPWFbZF0sKytmLCsrZCxmPT10aGlzLllhKXtuYSh0aGlzLGUpO2Y9MDticmVha319dGhpcy5hYz1mO3RoaXMuUGQrPWJ9fTtmdW5jdGlvbiB0KGEsYil7Zm9yKHZhciBjIGluIGEpYi5jYWxsKHZvaWQgMCxhW2NdLGMsYSl9ZnVuY3Rpb24gb2EoYSxiKXt2YXIgYz17fSxkO2ZvcihkIGluIGEpY1tkXT1iLmNhbGwodm9pZCAwLGFbZF0sZCxhKTtyZXR1cm4gY31mdW5jdGlvbiBwYShhLGIpe2Zvcih2YXIgYyBpbiBhKWlmKCFiLmNhbGwodm9pZCAwLGFbY10sYyxhKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBxYShhKXt2YXIgYj0wLGM7Zm9yKGMgaW4gYSliKys7cmV0dXJuIGJ9ZnVuY3Rpb24gcmEoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuIGJ9ZnVuY3Rpb24gc2EoYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109YVtkXTtyZXR1cm4gYn1mdW5jdGlvbiB0YShhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1kO3JldHVybiBifWZ1bmN0aW9uIHVhKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoYVtjXT09YilyZXR1cm4hMDtyZXR1cm4hMX1cbmZ1bmN0aW9uIHZhKGEsYixjKXtmb3IodmFyIGQgaW4gYSlpZihiLmNhbGwoYyxhW2RdLGQsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gd2EoYSxiKXt2YXIgYz12YShhLGIsdm9pZCAwKTtyZXR1cm4gYyYmYVtjXX1mdW5jdGlvbiB4YShhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB5YShhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYltjXT1hW2NdO3JldHVybiBifTtmdW5jdGlvbiB6YShhKXthPVN0cmluZyhhKTtpZigvXlxccyokLy50ZXN0KGEpPzA6L15bXFxdLDp7fVxcc1xcdTIwMjhcXHUyMDI5XSokLy50ZXN0KGEucmVwbGFjZSgvXFxcXFtcIlxcXFxcXC9iZm5ydHVdL2csXCJAXCIpLnJlcGxhY2UoL1wiW15cIlxcXFxcXG5cXHJcXHUyMDI4XFx1MjAyOVxceDAwLVxceDA4XFx4MGEtXFx4MWZdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nLFwiXVwiKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpbXFxzXFx1MjAyOFxcdTIwMjldKlxcWykrL2csXCJcIikpKXRyeXtyZXR1cm4gZXZhbChcIihcIithK1wiKVwiKX1jYXRjaChiKXt9dGhyb3cgRXJyb3IoXCJJbnZhbGlkIEpTT04gc3RyaW5nOiBcIithKTt9ZnVuY3Rpb24gQWEoKXt0aGlzLkZkPXZvaWQgMH1cbmZ1bmN0aW9uIEJhKGEsYixjKXtzd2l0Y2godHlwZW9mIGIpe2Nhc2UgXCJzdHJpbmdcIjpDYShiLGMpO2JyZWFrO2Nhc2UgXCJudW1iZXJcIjpjLnB1c2goaXNGaW5pdGUoYikmJiFpc05hTihiKT9iOlwibnVsbFwiKTticmVhaztjYXNlIFwiYm9vbGVhblwiOmMucHVzaChiKTticmVhaztjYXNlIFwidW5kZWZpbmVkXCI6Yy5wdXNoKFwibnVsbFwiKTticmVhaztjYXNlIFwib2JqZWN0XCI6aWYobnVsbD09Yil7Yy5wdXNoKFwibnVsbFwiKTticmVha31pZihkYShiKSl7dmFyIGQ9Yi5sZW5ndGg7Yy5wdXNoKFwiW1wiKTtmb3IodmFyIGU9XCJcIixmPTA7ZjxkO2YrKyljLnB1c2goZSksZT1iW2ZdLEJhKGEsYS5GZD9hLkZkLmNhbGwoYixTdHJpbmcoZiksZSk6ZSxjKSxlPVwiLFwiO2MucHVzaChcIl1cIik7YnJlYWt9Yy5wdXNoKFwie1wiKTtkPVwiXCI7Zm9yKGYgaW4gYilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYixmKSYmKGU9YltmXSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoYy5wdXNoKGQpLENhKGYsYyksXG5jLnB1c2goXCI6XCIpLEJhKGEsYS5GZD9hLkZkLmNhbGwoYixmLGUpOmUsYyksZD1cIixcIikpO2MucHVzaChcIn1cIik7YnJlYWs7Y2FzZSBcImZ1bmN0aW9uXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZTogXCIrdHlwZW9mIGIpO319dmFyIERhPXsnXCInOidcXFxcXCInLFwiXFxcXFwiOlwiXFxcXFxcXFxcIixcIi9cIjpcIlxcXFwvXCIsXCJcXGJcIjpcIlxcXFxiXCIsXCJcXGZcIjpcIlxcXFxmXCIsXCJcXG5cIjpcIlxcXFxuXCIsXCJcXHJcIjpcIlxcXFxyXCIsXCJcXHRcIjpcIlxcXFx0XCIsXCJcXHgwQlwiOlwiXFxcXHUwMDBiXCJ9LEVhPS9cXHVmZmZmLy50ZXN0KFwiXFx1ZmZmZlwiKT8vW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHVmZmZmXS9nOi9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxceGZmXS9nO1xuZnVuY3Rpb24gQ2EoYSxiKXtiLnB1c2goJ1wiJyxhLnJlcGxhY2UoRWEsZnVuY3Rpb24oYSl7aWYoYSBpbiBEYSlyZXR1cm4gRGFbYV07dmFyIGI9YS5jaGFyQ29kZUF0KDApLGU9XCJcXFxcdVwiOzE2PmI/ZSs9XCIwMDBcIjoyNTY+Yj9lKz1cIjAwXCI6NDA5Nj5iJiYoZSs9XCIwXCIpO3JldHVybiBEYVthXT1lK2IudG9TdHJpbmcoMTYpfSksJ1wiJyl9O3ZhciB2O2E6e3ZhciBGYT1uLm5hdmlnYXRvcjtpZihGYSl7dmFyIEdhPUZhLnVzZXJBZ2VudDtpZihHYSl7dj1HYTticmVhayBhfX12PVwiXCJ9O2Z1bmN0aW9uIEhhKGEpe2lmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKUVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsSGEpO2Vsc2V7dmFyIGI9RXJyb3IoKS5zdGFjaztiJiYodGhpcy5zdGFjaz1iKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSl9a2EoSGEsRXJyb3IpO0hhLnByb3RvdHlwZS5uYW1lPVwiQ3VzdG9tRXJyb3JcIjt2YXIgdz1BcnJheS5wcm90b3R5cGUsSWE9dy5pbmRleE9mP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gdy5pbmRleE9mLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Yz1udWxsPT1jPzA6MD5jP01hdGgubWF4KDAsYS5sZW5ndGgrYyk6YztpZihxKGEpKXJldHVybiBxKGIpJiYxPT1iLmxlbmd0aD9hLmluZGV4T2YoYixjKTotMTtmb3IoO2M8YS5sZW5ndGg7YysrKWlmKGMgaW4gYSYmYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LEphPXcuZm9yRWFjaD9mdW5jdGlvbihhLGIsYyl7dy5mb3JFYWNoLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9cShhKT9hLnNwbGl0KFwiXCIpOmEsZj0wO2Y8ZDtmKyspZiBpbiBlJiZiLmNhbGwoYyxlW2ZdLGYsYSl9LEthPXcuZmlsdGVyP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gdy5maWx0ZXIuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1bXSxmPTAsaD1xKGEpP1xuYS5zcGxpdChcIlwiKTphLGs9MDtrPGQ7aysrKWlmKGsgaW4gaCl7dmFyIG09aFtrXTtiLmNhbGwoYyxtLGssYSkmJihlW2YrK109bSl9cmV0dXJuIGV9LExhPXcubWFwP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gdy5tYXAuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1BcnJheShkKSxmPXEoYSk/YS5zcGxpdChcIlwiKTphLGg9MDtoPGQ7aCsrKWggaW4gZiYmKGVbaF09Yi5jYWxsKGMsZltoXSxoLGEpKTtyZXR1cm4gZX0sTWE9dy5yZWR1Y2U/ZnVuY3Rpb24oYSxiLGMsZCl7Zm9yKHZhciBlPVtdLGY9MSxoPWFyZ3VtZW50cy5sZW5ndGg7ZjxoO2YrKyllLnB1c2goYXJndW1lbnRzW2ZdKTtkJiYoZVswXT1yKGIsZCkpO3JldHVybiB3LnJlZHVjZS5hcHBseShhLGUpfTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1jO0phKGEsZnVuY3Rpb24oYyxoKXtlPWIuY2FsbChkLGUsYyxoLGEpfSk7cmV0dXJuIGV9LE5hPXcuZXZlcnk/ZnVuY3Rpb24oYSxiLFxuYyl7cmV0dXJuIHcuZXZlcnkuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1xKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJiFiLmNhbGwoYyxlW2ZdLGYsYSkpcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIE9hKGEsYil7dmFyIGM9UGEoYSxiLHZvaWQgMCk7cmV0dXJuIDA+Yz9udWxsOnEoYSk/YS5jaGFyQXQoYyk6YVtjXX1mdW5jdGlvbiBQYShhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9cShhKT9hLnNwbGl0KFwiXCIpOmEsZj0wO2Y8ZDtmKyspaWYoZiBpbiBlJiZiLmNhbGwoYyxlW2ZdLGYsYSkpcmV0dXJuIGY7cmV0dXJuLTF9ZnVuY3Rpb24gUWEoYSxiKXt2YXIgYz1JYShhLGIpOzA8PWMmJncuc3BsaWNlLmNhbGwoYSxjLDEpfWZ1bmN0aW9uIFJhKGEsYixjKXtyZXR1cm4gMj49YXJndW1lbnRzLmxlbmd0aD93LnNsaWNlLmNhbGwoYSxiKTp3LnNsaWNlLmNhbGwoYSxiLGMpfVxuZnVuY3Rpb24gU2EoYSxiKXthLnNvcnQoYnx8VGEpfWZ1bmN0aW9uIFRhKGEsYil7cmV0dXJuIGE+Yj8xOmE8Yj8tMTowfTt2YXIgVWE9LTEhPXYuaW5kZXhPZihcIk9wZXJhXCIpfHwtMSE9di5pbmRleE9mKFwiT1BSXCIpLFZhPS0xIT12LmluZGV4T2YoXCJUcmlkZW50XCIpfHwtMSE9di5pbmRleE9mKFwiTVNJRVwiKSxXYT0tMSE9di5pbmRleE9mKFwiR2Vja29cIikmJi0xPT12LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKSYmISgtMSE9di5pbmRleE9mKFwiVHJpZGVudFwiKXx8LTEhPXYuaW5kZXhPZihcIk1TSUVcIikpLFhhPS0xIT12LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKTtcbihmdW5jdGlvbigpe3ZhciBhPVwiXCIsYjtpZihVYSYmbi5vcGVyYSlyZXR1cm4gYT1uLm9wZXJhLnZlcnNpb24sZ2EoYSk/YSgpOmE7V2E/Yj0vcnZcXDooW15cXCk7XSspKFxcKXw7KS86VmE/Yj0vXFxiKD86TVNJRXxydilbOiBdKFteXFwpO10rKShcXCl8OykvOlhhJiYoYj0vV2ViS2l0XFwvKFxcUyspLyk7YiYmKGE9KGE9Yi5leGVjKHYpKT9hWzFdOlwiXCIpO3JldHVybiBWYSYmKGI9KGI9bi5kb2N1bWVudCk/Yi5kb2N1bWVudE1vZGU6dm9pZCAwLGI+cGFyc2VGbG9hdChhKSk/U3RyaW5nKGIpOmF9KSgpO3ZhciBZYT1udWxsLFphPW51bGwsJGE9bnVsbDtmdW5jdGlvbiBhYihhLGIpe2lmKCFlYShhKSl0aHJvdyBFcnJvcihcImVuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlclwiKTtiYigpO2Zvcih2YXIgYz1iP1phOllhLGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSs9Myl7dmFyIGY9YVtlXSxoPWUrMTxhLmxlbmd0aCxrPWg/YVtlKzFdOjAsbT1lKzI8YS5sZW5ndGgsbD1tP2FbZSsyXTowLHU9Zj4+MixmPShmJjMpPDw0fGs+PjQsaz0oayYxNSk8PDJ8bD4+NixsPWwmNjM7bXx8KGw9NjQsaHx8KGs9NjQpKTtkLnB1c2goY1t1XSxjW2ZdLGNba10sY1tsXSl9cmV0dXJuIGQuam9pbihcIlwiKX1cbmZ1bmN0aW9uIGJiKCl7aWYoIVlhKXtZYT17fTtaYT17fTskYT17fTtmb3IodmFyIGE9MDs2NT5hO2ErKylZYVthXT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KGEpLFphW2FdPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXy5cIi5jaGFyQXQoYSksJGFbWmFbYV1dPWEsNjI8PWEmJigkYVtcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KGEpXT1hKX19O2Z1bmN0aW9uIGNiKGEpe24uc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGE7fSwwKX12YXIgZGI7XG5mdW5jdGlvbiBlYigpe3ZhciBhPW4uTWVzc2FnZUNoYW5uZWw7XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmd2luZG93LnBvc3RNZXNzYWdlJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmLTE9PXYuaW5kZXhPZihcIlByZXN0b1wiKSYmKGE9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2Euc3R5bGUuZGlzcGxheT1cIm5vbmVcIjthLnNyYz1cIlwiO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChhKTt2YXIgYj1hLmNvbnRlbnRXaW5kb3csYT1iLmRvY3VtZW50O2Eub3BlbigpO2Eud3JpdGUoXCJcIik7YS5jbG9zZSgpO3ZhciBjPVwiY2FsbEltbWVkaWF0ZVwiK01hdGgucmFuZG9tKCksZD1cImZpbGU6XCI9PWIubG9jYXRpb24ucHJvdG9jb2w/XCIqXCI6Yi5sb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrYi5sb2NhdGlvbi5ob3N0LGE9cihmdW5jdGlvbihhKXtpZigoXCIqXCI9PWR8fGEub3JpZ2luPT1cbmQpJiZhLmRhdGE9PWMpdGhpcy5wb3J0MS5vbm1lc3NhZ2UoKX0sdGhpcyk7Yi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGEsITEpO3RoaXMucG9ydDE9e307dGhpcy5wb3J0Mj17cG9zdE1lc3NhZ2U6ZnVuY3Rpb24oKXtiLnBvc3RNZXNzYWdlKGMsZCl9fX0pO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgYSYmLTE9PXYuaW5kZXhPZihcIlRyaWRlbnRcIikmJi0xPT12LmluZGV4T2YoXCJNU0lFXCIpKXt2YXIgYj1uZXcgYSxjPXt9LGQ9YztiLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe2lmKHAoYy5uZXh0KSl7Yz1jLm5leHQ7dmFyIGE9Yy5MZTtjLkxlPW51bGw7YSgpfX07cmV0dXJuIGZ1bmN0aW9uKGEpe2QubmV4dD17TGU6YX07ZD1kLm5leHQ7Yi5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oYSl7dmFyIGI9XG5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2Iub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7Yj1udWxsO2EoKTthPW51bGx9O2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChiKX06ZnVuY3Rpb24oYSl7bi5zZXRUaW1lb3V0KGEsMCl9fTtmdW5jdGlvbiBmYihhLGIpe2difHxoYigpO2lifHwoZ2IoKSxpYj0hMCk7amIucHVzaChuZXcga2IoYSxiKSl9dmFyIGdiO2Z1bmN0aW9uIGhiKCl7aWYobi5Qcm9taXNlJiZuLlByb21pc2UucmVzb2x2ZSl7dmFyIGE9bi5Qcm9taXNlLnJlc29sdmUoKTtnYj1mdW5jdGlvbigpe2EudGhlbihsYil9fWVsc2UgZ2I9ZnVuY3Rpb24oKXt2YXIgYT1sYjshZ2Eobi5zZXRJbW1lZGlhdGUpfHxuLldpbmRvdyYmbi5XaW5kb3cucHJvdG90eXBlJiZuLldpbmRvdy5wcm90b3R5cGUuc2V0SW1tZWRpYXRlPT1uLnNldEltbWVkaWF0ZT8oZGJ8fChkYj1lYigpKSxkYihhKSk6bi5zZXRJbW1lZGlhdGUoYSl9fXZhciBpYj0hMSxqYj1bXTtbXS5wdXNoKGZ1bmN0aW9uKCl7aWI9ITE7amI9W119KTtcbmZ1bmN0aW9uIGxiKCl7Zm9yKDtqYi5sZW5ndGg7KXt2YXIgYT1qYjtqYj1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTt0cnl7Yy5XZi5jYWxsKGMuc2NvcGUpfWNhdGNoKGQpe2NiKGQpfX19aWI9ITF9ZnVuY3Rpb24ga2IoYSxiKXt0aGlzLldmPWE7dGhpcy5zY29wZT1ifTtmdW5jdGlvbiBtYihhLGIpe3RoaXMuTD1uYjt0aGlzLnVmPXZvaWQgMDt0aGlzLkNhPXRoaXMuSGE9bnVsbDt0aGlzLmpkPXRoaXMuYmU9ITE7aWYoYT09b2IpcGIodGhpcyxxYixiKTtlbHNlIHRyeXt2YXIgYz10aGlzO2EuY2FsbChiLGZ1bmN0aW9uKGEpe3BiKGMscWIsYSl9LGZ1bmN0aW9uKGEpe2lmKCEoYSBpbnN0YW5jZW9mIHJiKSl0cnl7aWYoYSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGE7dGhyb3cgRXJyb3IoXCJQcm9taXNlIHJlamVjdGVkLlwiKTt9Y2F0Y2goYil7fXBiKGMsc2IsYSl9KX1jYXRjaChkKXtwYih0aGlzLHNiLGQpfX12YXIgbmI9MCxxYj0yLHNiPTM7ZnVuY3Rpb24gb2IoKXt9bWIucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0Yih0aGlzLGdhKGEpP2E6bnVsbCxnYShiKT9iOm51bGwsYyl9O21iLnByb3RvdHlwZS50aGVuPW1iLnByb3RvdHlwZS50aGVuO21iLnByb3RvdHlwZS4kZ29vZ19UaGVuYWJsZT0hMDtnPW1iLnByb3RvdHlwZTtcbmcuQWc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGIodGhpcyxudWxsLGEsYil9O2cuY2FuY2VsPWZ1bmN0aW9uKGEpe3RoaXMuTD09bmImJmZiKGZ1bmN0aW9uKCl7dmFyIGI9bmV3IHJiKGEpO3ViKHRoaXMsYil9LHRoaXMpfTtmdW5jdGlvbiB1YihhLGIpe2lmKGEuTD09bmIpaWYoYS5IYSl7dmFyIGM9YS5IYTtpZihjLkNhKXtmb3IodmFyIGQ9MCxlPS0xLGY9MCxoO2g9Yy5DYVtmXTtmKyspaWYoaD1oLmspaWYoZCsrLGg9PWEmJihlPWYpLDA8PWUmJjE8ZClicmVhazswPD1lJiYoYy5MPT1uYiYmMT09ZD91YihjLGIpOihkPWMuQ2Euc3BsaWNlKGUsMSlbMF0sdmIoYyxkLHNiLGIpKSl9YS5IYT1udWxsfWVsc2UgcGIoYSxzYixiKX1mdW5jdGlvbiB3YihhLGIpe2EuQ2EmJmEuQ2EubGVuZ3RofHxhLkwhPXFiJiZhLkwhPXNifHx4YihhKTthLkNhfHwoYS5DYT1bXSk7YS5DYS5wdXNoKGIpfVxuZnVuY3Rpb24gdGIoYSxiLGMsZCl7dmFyIGU9e2s6bnVsbCxoZjpudWxsLGtmOm51bGx9O2Uuaz1uZXcgbWIoZnVuY3Rpb24oYSxoKXtlLmhmPWI/ZnVuY3Rpb24oYyl7dHJ5e3ZhciBlPWIuY2FsbChkLGMpO2EoZSl9Y2F0Y2gobCl7aChsKX19OmE7ZS5rZj1jP2Z1bmN0aW9uKGIpe3RyeXt2YXIgZT1jLmNhbGwoZCxiKTshcChlKSYmYiBpbnN0YW5jZW9mIHJiP2goYik6YShlKX1jYXRjaChsKXtoKGwpfX06aH0pO2Uuay5IYT1hO3diKGEsZSk7cmV0dXJuIGUua31nLkNmPWZ1bmN0aW9uKGEpe3RoaXMuTD1uYjtwYih0aGlzLHFiLGEpfTtnLkRmPWZ1bmN0aW9uKGEpe3RoaXMuTD1uYjtwYih0aGlzLHNiLGEpfTtcbmZ1bmN0aW9uIHBiKGEsYixjKXtpZihhLkw9PW5iKXtpZihhPT1jKWI9c2IsYz1uZXcgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW5ub3QgcmVzb2x2ZSB0byBpdHNlbGZcIik7ZWxzZXt2YXIgZDtpZihjKXRyeXtkPSEhYy4kZ29vZ19UaGVuYWJsZX1jYXRjaChlKXtkPSExfWVsc2UgZD0hMTtpZihkKXthLkw9MTtjLnRoZW4oYS5DZixhLkRmLGEpO3JldHVybn1pZihoYShjKSl0cnl7dmFyIGY9Yy50aGVuO2lmKGdhKGYpKXt5YihhLGMsZik7cmV0dXJufX1jYXRjaChoKXtiPXNiLGM9aH19YS51Zj1jO2EuTD1iO2EuSGE9bnVsbDt4YihhKTtiIT1zYnx8YyBpbnN0YW5jZW9mIHJifHx6YihhLGMpfX1mdW5jdGlvbiB5YihhLGIsYyl7ZnVuY3Rpb24gZChiKXtmfHwoZj0hMCxhLkRmKGIpKX1mdW5jdGlvbiBlKGIpe2Z8fChmPSEwLGEuQ2YoYikpfWEuTD0xO3ZhciBmPSExO3RyeXtjLmNhbGwoYixlLGQpfWNhdGNoKGgpe2QoaCl9fVxuZnVuY3Rpb24geGIoYSl7YS5iZXx8KGEuYmU9ITAsZmIoYS5VZixhKSl9Zy5VZj1mdW5jdGlvbigpe2Zvcig7dGhpcy5DYSYmdGhpcy5DYS5sZW5ndGg7KXt2YXIgYT10aGlzLkNhO3RoaXMuQ2E9bnVsbDtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl2Yih0aGlzLGFbYl0sdGhpcy5MLHRoaXMudWYpfXRoaXMuYmU9ITF9O2Z1bmN0aW9uIHZiKGEsYixjLGQpe2lmKGM9PXFiKWIuaGYoZCk7ZWxzZXtpZihiLmspZm9yKDthJiZhLmpkO2E9YS5IYSlhLmpkPSExO2Iua2YoZCl9fWZ1bmN0aW9uIHpiKGEsYil7YS5qZD0hMDtmYihmdW5jdGlvbigpe2EuamQmJkFiLmNhbGwobnVsbCxiKX0pfXZhciBBYj1jYjtmdW5jdGlvbiByYihhKXtIYS5jYWxsKHRoaXMsYSl9a2EocmIsSGEpO3JiLnByb3RvdHlwZS5uYW1lPVwiY2FuY2VsXCI7ZnVuY3Rpb24gQmIoYSxiKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYil9ZnVuY3Rpb24geChhLGIpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpKXJldHVybiBhW2JdfWZ1bmN0aW9uIENiKGEsYil7Zm9yKHZhciBjIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYykmJmIoYyxhW2NdKX07ZnVuY3Rpb24geShhLGIsYyxkKXt2YXIgZTtkPGI/ZT1cImF0IGxlYXN0IFwiK2I6ZD5jJiYoZT0wPT09Yz9cIm5vbmVcIjpcIm5vIG1vcmUgdGhhbiBcIitjKTtpZihlKXRocm93IEVycm9yKGErXCIgZmFpbGVkOiBXYXMgY2FsbGVkIHdpdGggXCIrZCsoMT09PWQ/XCIgYXJndW1lbnQuXCI6XCIgYXJndW1lbnRzLlwiKStcIiBFeHBlY3RzIFwiK2UrXCIuXCIpO31mdW5jdGlvbiBEYihhLGIsYyl7dmFyIGQ9XCJcIjtzd2l0Y2goYil7Y2FzZSAxOmQ9Yz9cImZpcnN0XCI6XCJGaXJzdFwiO2JyZWFrO2Nhc2UgMjpkPWM/XCJzZWNvbmRcIjpcIlNlY29uZFwiO2JyZWFrO2Nhc2UgMzpkPWM/XCJ0aGlyZFwiOlwiVGhpcmRcIjticmVhaztjYXNlIDQ6ZD1jP1wiZm91cnRoXCI6XCJGb3VydGhcIjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiZXJyb3JQcmVmaXggY2FsbGVkIHdpdGggYXJndW1lbnROdW1iZXIgPiA0LiAgTmVlZCB0byB1cGRhdGUgaXQ/XCIpO31yZXR1cm4gYT1hK1wiIGZhaWxlZDogXCIrKGQrXCIgYXJndW1lbnQgXCIpfVxuZnVuY3Rpb24gQShhLGIsYyxkKXtpZigoIWR8fHAoYykpJiYhZ2EoYykpdGhyb3cgRXJyb3IoRGIoYSxiLGQpK1wibXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLlwiKTt9ZnVuY3Rpb24gRWIoYSxiLGMpe2lmKHAoYykmJighaGEoYyl8fG51bGw9PT1jKSl0aHJvdyBFcnJvcihEYihhLGIsITApK1wibXVzdCBiZSBhIHZhbGlkIGNvbnRleHQgb2JqZWN0LlwiKTt9O2Z1bmN0aW9uIEZiKGEpe3ZhciBiPVtdO0NiKGEsZnVuY3Rpb24oYSxkKXtkYShkKT9KYShkLGZ1bmN0aW9uKGQpe2IucHVzaChlbmNvZGVVUklDb21wb25lbnQoYSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGQpKX0pOmIucHVzaChlbmNvZGVVUklDb21wb25lbnQoYSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGQpKX0pO3JldHVybiBiLmxlbmd0aD9cIiZcIitiLmpvaW4oXCImXCIpOlwiXCJ9O3ZhciBHYj1uLlByb21pc2V8fG1iO21iLnByb3RvdHlwZVtcImNhdGNoXCJdPW1iLnByb3RvdHlwZS5BZztmdW5jdGlvbiBIYigpe3ZhciBhPXRoaXM7dGhpcy5yZWplY3Q9dGhpcy5yZXNvbHZlPW51bGw7dGhpcy5zYT1uZXcgR2IoZnVuY3Rpb24oYixjKXthLnJlc29sdmU9YjthLnJlamVjdD1jfSl9ZnVuY3Rpb24gSWIoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtjP2EucmVqZWN0KGMpOmEucmVzb2x2ZShkKTtnYShiKSYmKEpiKGEuc2EpLDE9PT1iLmxlbmd0aD9iKGMpOmIoYyxkKSl9fWZ1bmN0aW9uIEpiKGEpe2EudGhlbih2b2lkIDAsYWEpfTtmdW5jdGlvbiBLYihhLGIpe2lmKCFhKXRocm93IExiKGIpO31mdW5jdGlvbiBMYihhKXtyZXR1cm4gRXJyb3IoXCJGaXJlYmFzZSBEYXRhYmFzZSAoXCIrZmlyZWJhc2UuU0RLX1ZFUlNJT04rXCIpIElOVEVSTkFMIEFTU0VSVCBGQUlMRUQ6IFwiK2EpfTtmdW5jdGlvbiBNYihhKXtmb3IodmFyIGI9W10sYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YS5jaGFyQ29kZUF0KGQpOzU1Mjk2PD1lJiY1NjMxOT49ZSYmKGUtPTU1Mjk2LGQrKyxLYihkPGEubGVuZ3RoLFwiU3Vycm9nYXRlIHBhaXIgbWlzc2luZyB0cmFpbCBzdXJyb2dhdGUuXCIpLGU9NjU1MzYrKGU8PDEwKSsoYS5jaGFyQ29kZUF0KGQpLTU2MzIwKSk7MTI4PmU/YltjKytdPWU6KDIwNDg+ZT9iW2MrK109ZT4+NnwxOTI6KDY1NTM2PmU/YltjKytdPWU+PjEyfDIyNDooYltjKytdPWU+PjE4fDI0MCxiW2MrK109ZT4+MTImNjN8MTI4KSxiW2MrK109ZT4+NiY2M3wxMjgpLGJbYysrXT1lJjYzfDEyOCl9cmV0dXJuIGJ9ZnVuY3Rpb24gTmIoYSl7Zm9yKHZhciBiPTAsYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hLmNoYXJDb2RlQXQoYyk7MTI4PmQ/YisrOjIwNDg+ZD9iKz0yOjU1Mjk2PD1kJiY1NjMxOT49ZD8oYis9NCxjKyspOmIrPTN9cmV0dXJuIGJ9O2Z1bmN0aW9uIE9iKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgSlNPTiYmcChKU09OLnBhcnNlKT9KU09OLnBhcnNlKGEpOnphKGEpfWZ1bmN0aW9uIEIoYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBKU09OJiZwKEpTT04uc3RyaW5naWZ5KSlhPUpTT04uc3RyaW5naWZ5KGEpO2Vsc2V7dmFyIGI9W107QmEobmV3IEFhLGEsYik7YT1iLmpvaW4oXCJcIil9cmV0dXJuIGF9O2Z1bmN0aW9uIFBiKGEsYil7dGhpcy5jb21taXR0ZWQ9YTt0aGlzLnNuYXBzaG90PWJ9O2Z1bmN0aW9uIFFiKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJiEhKHdpbmRvdy5jb3Jkb3ZhfHx3aW5kb3cucGhvbmVnYXB8fHdpbmRvdy5QaG9uZUdhcCkmJi9pb3N8aXBob25lfGlwb2R8aXBhZHxhbmRyb2lkfGJsYWNrYmVycnl8aWVtb2JpbGUvaS50ZXN0KFwidW5kZWZpbmVkXCIhPT10eXBlb2YgbmF2aWdhdG9yJiZcInN0cmluZ1wiPT09dHlwZW9mIG5hdmlnYXRvci51c2VyQWdlbnQ/bmF2aWdhdG9yLnVzZXJBZ2VudDpcIlwiKX07ZnVuY3Rpb24gUmIoYSl7dGhpcy50ZT1hO3RoaXMuQmQ9W107dGhpcy5SYj0wO3RoaXMuWWQ9LTE7dGhpcy5HYj1udWxsfWZ1bmN0aW9uIFNiKGEsYixjKXthLllkPWI7YS5HYj1jO2EuWWQ8YS5SYiYmKGEuR2IoKSxhLkdiPW51bGwpfWZ1bmN0aW9uIFRiKGEsYixjKXtmb3IoYS5CZFtiXT1jO2EuQmRbYS5SYl07KXt2YXIgZD1hLkJkW2EuUmJdO2RlbGV0ZSBhLkJkW2EuUmJdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKWlmKGRbZV0pe3ZhciBmPWE7VWIoZnVuY3Rpb24oKXtmLnRlKGRbZV0pfSl9aWYoYS5SYj09PWEuWWQpe2EuR2ImJihjbGVhclRpbWVvdXQoYS5HYiksYS5HYigpLGEuR2I9bnVsbCk7YnJlYWt9YS5SYisrfX07ZnVuY3Rpb24gVmIoKXt0aGlzLnFjPXt9fVZiLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXtudWxsPT1iP2RlbGV0ZSB0aGlzLnFjW2FdOnRoaXMucWNbYV09Yn07VmIucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gQmIodGhpcy5xYyxhKT90aGlzLnFjW2FdOm51bGx9O1ZiLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMucWNbYV19O1ZiLnByb3RvdHlwZS5jZj0hMDtmdW5jdGlvbiBXYihhKXt0aGlzLnZjPWE7dGhpcy5DZD1cImZpcmViYXNlOlwifWc9V2IucHJvdG90eXBlO2cuc2V0PWZ1bmN0aW9uKGEsYil7bnVsbD09Yj90aGlzLnZjLnJlbW92ZUl0ZW0odGhpcy5DZCthKTp0aGlzLnZjLnNldEl0ZW0odGhpcy5DZCthLEIoYikpfTtnLmdldD1mdW5jdGlvbihhKXthPXRoaXMudmMuZ2V0SXRlbSh0aGlzLkNkK2EpO3JldHVybiBudWxsPT1hP251bGw6T2IoYSl9O2cucmVtb3ZlPWZ1bmN0aW9uKGEpe3RoaXMudmMucmVtb3ZlSXRlbSh0aGlzLkNkK2EpfTtnLmNmPSExO2cudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52Yy50b1N0cmluZygpfTtmdW5jdGlvbiBYYihhKXt0cnl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93W2FdKXt2YXIgYj13aW5kb3dbYV07Yi5zZXRJdGVtKFwiZmlyZWJhc2U6c2VudGluZWxcIixcImNhY2hlXCIpO2IucmVtb3ZlSXRlbShcImZpcmViYXNlOnNlbnRpbmVsXCIpO3JldHVybiBuZXcgV2IoYil9fWNhdGNoKGMpe31yZXR1cm4gbmV3IFZifXZhciBZYj1YYihcImxvY2FsU3RvcmFnZVwiKSxaYj1YYihcInNlc3Npb25TdG9yYWdlXCIpO2Z1bmN0aW9uICRiKGEsYixjKXt0aGlzLnR5cGU9YWM7dGhpcy5zb3VyY2U9YTt0aGlzLnBhdGg9Yjt0aGlzLkphPWN9JGIucHJvdG90eXBlLk5jPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhdGguZSgpP25ldyAkYih0aGlzLnNvdXJjZSxDLHRoaXMuSmEuUihhKSk6bmV3ICRiKHRoaXMuc291cmNlLEQodGhpcy5wYXRoKSx0aGlzLkphKX07JGIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIG92ZXJ3cml0ZTogXCIrdGhpcy5KYS50b1N0cmluZygpK1wiKVwifTtmdW5jdGlvbiBiYyhhLGIpe3RoaXMudHlwZT1jYzt0aGlzLnNvdXJjZT1hO3RoaXMucGF0aD1ifWJjLnByb3RvdHlwZS5OYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGguZSgpP25ldyBiYyh0aGlzLnNvdXJjZSxDKTpuZXcgYmModGhpcy5zb3VyY2UsRCh0aGlzLnBhdGgpKX07YmMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIGxpc3Rlbl9jb21wbGV0ZSlcIn07ZnVuY3Rpb24gZGMoYSl7dGhpcy5IZT1hfWRjLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5IZS5JTlRFUk5BTC5nZXRUb2tlbihhKS50aGVuKG51bGwsZnVuY3Rpb24oYSl7cmV0dXJuIGEmJlwiYXV0aC90b2tlbi1ub3QtaW5pdGlhbGl6ZWRcIj09PWEuY29kZT8oRShcIkdvdCBhdXRoL3Rva2VuLW5vdC1pbml0aWFsaXplZCBlcnJvci4gIFRyZWF0aW5nIGFzIG51bGwgdG9rZW4uXCIpLG51bGwpOlByb21pc2UucmVqZWN0KGEpfSl9O2Z1bmN0aW9uIGVjKGEsYil7YS5IZS5JTlRFUk5BTC5hZGRBdXRoVG9rZW5MaXN0ZW5lcihiKX07ZnVuY3Rpb24gZmMoKXt0aGlzLkpkPUZ9ZmMucHJvdG90eXBlLmo9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuSmQuUShhKX07ZmMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSmQudG9TdHJpbmcoKX07ZnVuY3Rpb24gZ2MoYSxiLGMsZCxlKXt0aGlzLmhvc3Q9YS50b0xvd2VyQ2FzZSgpO3RoaXMuZG9tYWluPXRoaXMuaG9zdC5zdWJzdHIodGhpcy5ob3N0LmluZGV4T2YoXCIuXCIpKzEpO3RoaXMuU2M9Yjt0aGlzLnBlPWM7dGhpcy5DZz1kO3RoaXMubmY9ZXx8XCJcIjt0aGlzLmJiPVliLmdldChcImhvc3Q6XCIrYSl8fHRoaXMuaG9zdH1mdW5jdGlvbiBoYyhhLGIpe2IhPT1hLmJiJiYoYS5iYj1iLFwicy1cIj09PWEuYmIuc3Vic3RyKDAsMikmJlliLnNldChcImhvc3Q6XCIrYS5ob3N0LGEuYmIpKX1cbmZ1bmN0aW9uIGljKGEsYixjKXtIKFwic3RyaW5nXCI9PT10eXBlb2YgYixcInR5cGVvZiB0eXBlIG11c3QgPT0gc3RyaW5nXCIpO0goXCJvYmplY3RcIj09PXR5cGVvZiBjLFwidHlwZW9mIHBhcmFtcyBtdXN0ID09IG9iamVjdFwiKTtpZihcIndlYnNvY2tldFwiPT09YiliPShhLlNjP1wid3NzOi8vXCI6XCJ3czovL1wiKSthLmJiK1wiLy53cz9cIjtlbHNlIGlmKFwibG9uZ19wb2xsaW5nXCI9PT1iKWI9KGEuU2M/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSthLmJiK1wiLy5scD9cIjtlbHNlIHRocm93IEVycm9yKFwiVW5rbm93biBjb25uZWN0aW9uIHR5cGU6IFwiK2IpO2EuaG9zdCE9PWEuYmImJihjLm5zPWEucGUpO3ZhciBkPVtdO3QoYyxmdW5jdGlvbihhLGIpe2QucHVzaChiK1wiPVwiK2EpfSk7cmV0dXJuIGIrZC5qb2luKFwiJlwiKX1cbmdjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPSh0aGlzLlNjP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIikrdGhpcy5ob3N0O3RoaXMubmYmJihhKz1cIjxcIit0aGlzLm5mK1wiPlwiKTtyZXR1cm4gYX07ZnVuY3Rpb24gamMoKXt0aGlzLnVjPXt9fWZ1bmN0aW9uIGtjKGEsYixjKXtwKGMpfHwoYz0xKTtCYihhLnVjLGIpfHwoYS51Y1tiXT0wKTthLnVjW2JdKz1jfWpjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4geWEodGhpcy51Yyl9O2Z1bmN0aW9uIGxjKGEpe3RoaXMuTmY9YTt0aGlzLnJkPW51bGx9bGMucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuTmYuZ2V0KCksYj15YShhKTtpZih0aGlzLnJkKWZvcih2YXIgYyBpbiB0aGlzLnJkKWJbY10tPXRoaXMucmRbY107dGhpcy5yZD1hO3JldHVybiBifTtmdW5jdGlvbiBtYygpe3RoaXMud2I9W119ZnVuY3Rpb24gbmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0sZj1lLlpiKCk7bnVsbD09PWN8fGYuJChjLlpiKCkpfHwoYS53Yi5wdXNoKGMpLGM9bnVsbCk7bnVsbD09PWMmJihjPW5ldyBvYyhmKSk7Yy5hZGQoZSl9YyYmYS53Yi5wdXNoKGMpfWZ1bmN0aW9uIHBjKGEsYixjKXtuYyhhLGMpO3FjKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEuJChiKX0pfWZ1bmN0aW9uIHJjKGEsYixjKXtuYyhhLGMpO3FjKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGFpbnMoYil8fGIuY29udGFpbnMoYSl9KX1cbmZ1bmN0aW9uIHFjKGEsYil7Zm9yKHZhciBjPSEwLGQ9MDtkPGEud2IubGVuZ3RoO2QrKyl7dmFyIGU9YS53YltkXTtpZihlKWlmKGU9ZS5aYigpLGIoZSkpe2Zvcih2YXIgZT1hLndiW2RdLGY9MDtmPGUuaGQubGVuZ3RoO2YrKyl7dmFyIGg9ZS5oZFtmXTtpZihudWxsIT09aCl7ZS5oZFtmXT1udWxsO3ZhciBrPWguVWIoKTtzYyYmRShcImV2ZW50OiBcIitoLnRvU3RyaW5nKCkpO1ViKGspfX1hLndiW2RdPW51bGx9ZWxzZSBjPSExfWMmJihhLndiPVtdKX1mdW5jdGlvbiBvYyhhKXt0aGlzLnJhPWE7dGhpcy5oZD1bXX1vYy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEpe3RoaXMuaGQucHVzaChhKX07b2MucHJvdG90eXBlLlpiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmF9O2Z1bmN0aW9uIHRjKGEsYixjLGQpe3RoaXMuYWU9Yjt0aGlzLk1kPWM7dGhpcy5EZD1kO3RoaXMuZ2Q9YX10Yy5wcm90b3R5cGUuWmI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLk1kLnhiKCk7cmV0dXJuXCJ2YWx1ZVwiPT09dGhpcy5nZD9hLnBhdGg6YS5nZXRQYXJlbnQoKS5wYXRofTt0Yy5wcm90b3R5cGUuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZH07dGMucHJvdG90eXBlLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWUuVWIodGhpcyl9O3RjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlpiKCkudG9TdHJpbmcoKStcIjpcIit0aGlzLmdkK1wiOlwiK0IodGhpcy5NZC5VZSgpKX07ZnVuY3Rpb24gdWMoYSxiLGMpe3RoaXMuYWU9YTt0aGlzLmVycm9yPWI7dGhpcy5wYXRoPWN9dWMucHJvdG90eXBlLlpiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aH07dWMucHJvdG90eXBlLmdlPWZ1bmN0aW9uKCl7cmV0dXJuXCJjYW5jZWxcIn07XG51Yy5wcm90b3R5cGUuVWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZS5VYih0aGlzKX07dWMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC50b1N0cmluZygpK1wiOmNhbmNlbFwifTtmdW5jdGlvbiB2Yygpe312Yy5wcm90b3R5cGUuWGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07dmMucHJvdG90eXBlLmZlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O3ZhciB3Yz1uZXcgdmM7ZnVuY3Rpb24geGMoYSxiLGMpe3RoaXMuR2Y9YTt0aGlzLk5hPWI7dGhpcy55ZD1jfXhjLnByb3RvdHlwZS5YZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLk5hLk87aWYoeWMoYixhKSlyZXR1cm4gYi5qKCkuUihhKTtiPW51bGwhPXRoaXMueWQ/bmV3IHpjKHRoaXMueWQsITAsITEpOnRoaXMuTmEudygpO3JldHVybiB0aGlzLkdmLnJjKGEsYil9O3hjLnByb3RvdHlwZS5mZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bnVsbCE9dGhpcy55ZD90aGlzLnlkOkFjKHRoaXMuTmEpO2E9dGhpcy5HZi5YZChkLGIsMSxjLGEpO3JldHVybiAwPT09YS5sZW5ndGg/bnVsbDphWzBdfTtmdW5jdGlvbiBJKGEsYixjLGQpe3RoaXMudHlwZT1hO3RoaXMuTWE9Yjt0aGlzLlphPWM7dGhpcy5xZT1kO3RoaXMuRGQ9dm9pZCAwfWZ1bmN0aW9uIEJjKGEpe3JldHVybiBuZXcgSShDYyxhKX12YXIgQ2M9XCJ2YWx1ZVwiO2Z1bmN0aW9uIHpjKGEsYixjKXt0aGlzLkE9YTt0aGlzLmVhPWI7dGhpcy5UYj1jfWZ1bmN0aW9uIERjKGEpe3JldHVybiBhLmVhfWZ1bmN0aW9uIEVjKGEpe3JldHVybiBhLlRifWZ1bmN0aW9uIEZjKGEsYil7cmV0dXJuIGIuZSgpP2EuZWEmJiFhLlRiOnljKGEsSihiKSl9ZnVuY3Rpb24geWMoYSxiKXtyZXR1cm4gYS5lYSYmIWEuVGJ8fGEuQS5GYShiKX16Yy5wcm90b3R5cGUuaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkF9O2Z1bmN0aW9uIEdjKGEsYil7cmV0dXJuIEhjKGEubmFtZSxiLm5hbWUpfWZ1bmN0aW9uIEljKGEsYil7cmV0dXJuIEhjKGEsYil9O2Z1bmN0aW9uIEsoYSxiKXt0aGlzLm5hbWU9YTt0aGlzLlM9Yn1mdW5jdGlvbiBKYyhhLGIpe3JldHVybiBuZXcgSyhhLGIpfTtmdW5jdGlvbiBLYyhhLGIpe3JldHVybiBhJiZcIm9iamVjdFwiPT09dHlwZW9mIGE/KEgoXCIuc3ZcImluIGEsXCJVbmV4cGVjdGVkIGxlYWYgbm9kZSBvciBwcmlvcml0eSBjb250ZW50c1wiKSxiW2FbXCIuc3ZcIl1dKTphfWZ1bmN0aW9uIExjKGEsYil7dmFyIGM9bmV3IE1jO05jKGEsbmV3IEwoXCJcIiksZnVuY3Rpb24oYSxlKXtPYyhjLGEsUGMoZSxiKSl9KTtyZXR1cm4gY31mdW5jdGlvbiBQYyhhLGIpe3ZhciBjPWEuQygpLkgoKSxjPUtjKGMsYiksZDtpZihhLkooKSl7dmFyIGU9S2MoYS5FYSgpLGIpO3JldHVybiBlIT09YS5FYSgpfHxjIT09YS5DKCkuSCgpP25ldyBRYyhlLE0oYykpOmF9ZD1hO2MhPT1hLkMoKS5IKCkmJihkPWQuZ2EobmV3IFFjKGMpKSk7YS5QKE4sZnVuY3Rpb24oYSxjKXt2YXIgZT1QYyhjLGIpO2UhPT1jJiYoZD1kLlUoYSxlKSl9KTtyZXR1cm4gZH07dmFyIFJjPWZ1bmN0aW9uKCl7dmFyIGE9MTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYSsrfX0oKSxIPUtiLFNjPUxiO1xuZnVuY3Rpb24gVGMoYSl7dHJ5e3ZhciBiO2JiKCk7Zm9yKHZhciBjPSRhLGQ9W10sZT0wO2U8YS5sZW5ndGg7KXt2YXIgZj1jW2EuY2hhckF0KGUrKyldLGg9ZTxhLmxlbmd0aD9jW2EuY2hhckF0KGUpXTowOysrZTt2YXIgaz1lPGEubGVuZ3RoP2NbYS5jaGFyQXQoZSldOjY0OysrZTt2YXIgbT1lPGEubGVuZ3RoP2NbYS5jaGFyQXQoZSldOjY0OysrZTtpZihudWxsPT1mfHxudWxsPT1ofHxudWxsPT1rfHxudWxsPT1tKXRocm93IEVycm9yKCk7ZC5wdXNoKGY8PDJ8aD4+NCk7NjQhPWsmJihkLnB1c2goaDw8NCYyNDB8az4+MiksNjQhPW0mJmQucHVzaChrPDw2JjE5MnxtKSl9aWYoODE5Mj5kLmxlbmd0aCliPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxkKTtlbHNle2E9XCJcIjtmb3IoYz0wO2M8ZC5sZW5ndGg7Yys9ODE5MilhKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsUmEoZCxjLGMrODE5MikpO2I9YX1yZXR1cm4gYn1jYXRjaChsKXtFKFwiYmFzZTY0RGVjb2RlIGZhaWxlZDogXCIsXG5sKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBVYyhhKXt2YXIgYj1NYihhKTthPW5ldyBtYTthLnVwZGF0ZShiKTt2YXIgYj1bXSxjPTgqYS5QZDs1Nj5hLmFjP2EudXBkYXRlKGEuemQsNTYtYS5hYyk6YS51cGRhdGUoYS56ZCxhLllhLShhLmFjLTU2KSk7Zm9yKHZhciBkPWEuWWEtMTs1Njw9ZDtkLS0pYS5XZFtkXT1jJjI1NSxjLz0yNTY7bmEoYSxhLldkKTtmb3IoZD1jPTA7NT5kO2QrKylmb3IodmFyIGU9MjQ7MDw9ZTtlLT04KWJbY109YS5OW2RdPj5lJjI1NSwrK2M7cmV0dXJuIGFiKGIpfWZ1bmN0aW9uIFZjKGEpe2Zvcih2YXIgYj1cIlwiLGM9MDtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWI9ZWEoYXJndW1lbnRzW2NdKT9iK1ZjLmFwcGx5KG51bGwsYXJndW1lbnRzW2NdKTpcIm9iamVjdFwiPT09dHlwZW9mIGFyZ3VtZW50c1tjXT9iK0IoYXJndW1lbnRzW2NdKTpiK2FyZ3VtZW50c1tjXSxiKz1cIiBcIjtyZXR1cm4gYn12YXIgc2M9bnVsbCxXYz0hMDtcbmZ1bmN0aW9uIFhjKGEsYil7S2IoIWJ8fCEwPT09YXx8ITE9PT1hLFwiQ2FuJ3QgdHVybiBvbiBjdXN0b20gbG9nZ2VycyBwZXJzaXN0ZW50bHkuXCIpOyEwPT09YT8oXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlJiYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGNvbnNvbGUubG9nP3NjPXIoY29uc29sZS5sb2csY29uc29sZSk6XCJvYmplY3RcIj09PXR5cGVvZiBjb25zb2xlLmxvZyYmKHNjPWZ1bmN0aW9uKGEpe2NvbnNvbGUubG9nKGEpfSkpLGImJlpiLnNldChcImxvZ2dpbmdfZW5hYmxlZFwiLCEwKSk6Z2EoYSk/c2M9YTooc2M9bnVsbCxaYi5yZW1vdmUoXCJsb2dnaW5nX2VuYWJsZWRcIikpfWZ1bmN0aW9uIEUoYSl7ITA9PT1XYyYmKFdjPSExLG51bGw9PT1zYyYmITA9PT1aYi5nZXQoXCJsb2dnaW5nX2VuYWJsZWRcIikmJlhjKCEwKSk7aWYoc2Mpe3ZhciBiPVZjLmFwcGx5KG51bGwsYXJndW1lbnRzKTtzYyhiKX19XG5mdW5jdGlvbiBZYyhhKXtyZXR1cm4gZnVuY3Rpb24oKXtFKGEsYXJndW1lbnRzKX19ZnVuY3Rpb24gWmMoYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlKXt2YXIgYj1cIkZJUkVCQVNFIElOVEVSTkFMIEVSUk9SOiBcIitWYy5hcHBseShudWxsLGFyZ3VtZW50cyk7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlLmVycm9yP2NvbnNvbGUuZXJyb3IoYik6Y29uc29sZS5sb2coYil9fWZ1bmN0aW9uICRjKGEpe3ZhciBiPVZjLmFwcGx5KG51bGwsYXJndW1lbnRzKTt0aHJvdyBFcnJvcihcIkZJUkVCQVNFIEZBVEFMIEVSUk9SOiBcIitiKTt9ZnVuY3Rpb24gTyhhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUpe3ZhciBiPVwiRklSRUJBU0UgV0FSTklORzogXCIrVmMuYXBwbHkobnVsbCxhcmd1bWVudHMpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZS53YXJuP2NvbnNvbGUud2FybihiKTpjb25zb2xlLmxvZyhiKX19XG5mdW5jdGlvbiBhZChhKXt2YXIgYixjLGQsZSxmLGg9YTtmPWM9YT1iPVwiXCI7ZD0hMDtlPVwiaHR0cHNcIjtpZihxKGgpKXt2YXIgaz1oLmluZGV4T2YoXCIvL1wiKTswPD1rJiYoZT1oLnN1YnN0cmluZygwLGstMSksaD1oLnN1YnN0cmluZyhrKzIpKTtrPWguaW5kZXhPZihcIi9cIik7LTE9PT1rJiYoaz1oLmxlbmd0aCk7Yj1oLnN1YnN0cmluZygwLGspO2Y9XCJcIjtoPWguc3Vic3RyaW5nKGspLnNwbGl0KFwiL1wiKTtmb3Ioaz0wO2s8aC5sZW5ndGg7aysrKWlmKDA8aFtrXS5sZW5ndGgpe3ZhciBtPWhba107dHJ5e209ZGVjb2RlVVJJQ29tcG9uZW50KG0ucmVwbGFjZSgvXFwrL2csXCIgXCIpKX1jYXRjaChsKXt9Zis9XCIvXCIrbX1oPWIuc3BsaXQoXCIuXCIpOzM9PT1oLmxlbmd0aD8oYT1oWzFdLGM9aFswXS50b0xvd2VyQ2FzZSgpKToyPT09aC5sZW5ndGgmJihhPWhbMF0pO2s9Yi5pbmRleE9mKFwiOlwiKTswPD1rJiYoZD1cImh0dHBzXCI9PT1lfHxcIndzc1wiPT09ZSl9XCJmaXJlYmFzZVwiPT09YSYmJGMoYitcIiBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIDxZT1VSIEZJUkVCQVNFPi5maXJlYmFzZWlvLmNvbSBpbnN0ZWFkXCIpO1xuYyYmXCJ1bmRlZmluZWRcIiE9Y3x8JGMoXCJDYW5ub3QgcGFyc2UgRmlyZWJhc2UgdXJsLiBQbGVhc2UgdXNlIGh0dHBzOi8vPFlPVVIgRklSRUJBU0U+LmZpcmViYXNlaW8uY29tXCIpO2R8fFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb24mJndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCYmLTEhPT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wuaW5kZXhPZihcImh0dHBzOlwiKSYmTyhcIkluc2VjdXJlIEZpcmViYXNlIGFjY2VzcyBmcm9tIGEgc2VjdXJlIHBhZ2UuIFBsZWFzZSB1c2UgaHR0cHMgaW4gY2FsbHMgdG8gbmV3IEZpcmViYXNlKCkuXCIpO3JldHVybntrYzpuZXcgZ2MoYixkLGMsXCJ3c1wiPT09ZXx8XCJ3c3NcIj09PWUpLHBhdGg6bmV3IEwoZil9fWZ1bmN0aW9uIGJkKGEpe3JldHVybiBmYShhKSYmKGEhPWF8fGE9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKX1cbmZ1bmN0aW9uIGNkKGEpe2lmKFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpYSgpO2Vsc2V7dmFyIGI9ITEsYz1mdW5jdGlvbigpe2RvY3VtZW50LmJvZHk/Ynx8KGI9ITAsYSgpKTpzZXRUaW1lb3V0KGMsTWF0aC5mbG9vcigxMCkpfTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyPyhkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGMsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGMsITEpKTpkb2N1bWVudC5hdHRhY2hFdmVudCYmKGRvY3VtZW50LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsZnVuY3Rpb24oKXtcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZjKCl9KSx3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIixjKSl9fVxuZnVuY3Rpb24gSGMoYSxiKXtpZihhPT09YilyZXR1cm4gMDtpZihcIltNSU5fTkFNRV1cIj09PWF8fFwiW01BWF9OQU1FXVwiPT09YilyZXR1cm4tMTtpZihcIltNSU5fTkFNRV1cIj09PWJ8fFwiW01BWF9OQU1FXVwiPT09YSlyZXR1cm4gMTt2YXIgYz1kZChhKSxkPWRkKGIpO3JldHVybiBudWxsIT09Yz9udWxsIT09ZD8wPT1jLWQ/YS5sZW5ndGgtYi5sZW5ndGg6Yy1kOi0xOm51bGwhPT1kPzE6YTxiPy0xOjF9ZnVuY3Rpb24gZWQoYSxiKXtpZihiJiZhIGluIGIpcmV0dXJuIGJbYV07dGhyb3cgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGtleSAoXCIrYStcIikgaW4gb2JqZWN0OiBcIitCKGIpKTt9XG5mdW5jdGlvbiBmZChhKXtpZihcIm9iamVjdFwiIT09dHlwZW9mIGF8fG51bGw9PT1hKXJldHVybiBCKGEpO3ZhciBiPVtdLGM7Zm9yKGMgaW4gYSliLnB1c2goYyk7Yi5zb3J0KCk7Yz1cIntcIjtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKykwIT09ZCYmKGMrPVwiLFwiKSxjKz1CKGJbZF0pLGMrPVwiOlwiLGMrPWZkKGFbYltkXV0pO3JldHVybiBjK1wifVwifWZ1bmN0aW9uIGdkKGEsYil7aWYoYS5sZW5ndGg8PWIpcmV0dXJuW2FdO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKz1iKWQrYj5hP2MucHVzaChhLnN1YnN0cmluZyhkLGEubGVuZ3RoKSk6Yy5wdXNoKGEuc3Vic3RyaW5nKGQsZCtiKSk7cmV0dXJuIGN9ZnVuY3Rpb24gaGQoYSxiKXtpZihkYShhKSlmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYyliKGMsYVtjXSk7ZWxzZSB0KGEsYil9XG5mdW5jdGlvbiBpZChhKXtIKCFiZChhKSxcIkludmFsaWQgSlNPTiBudW1iZXJcIik7dmFyIGIsYyxkLGU7MD09PWE/KGQ9Yz0wLGI9LUluZmluaXR5PT09MS9hPzE6MCk6KGI9MD5hLGE9TWF0aC5hYnMoYSksYT49TWF0aC5wb3coMiwtMTAyMik/KGQ9TWF0aC5taW4oTWF0aC5mbG9vcihNYXRoLmxvZyhhKS9NYXRoLkxOMiksMTAyMyksYz1kKzEwMjMsZD1NYXRoLnJvdW5kKGEqTWF0aC5wb3coMiw1Mi1kKS1NYXRoLnBvdygyLDUyKSkpOihjPTAsZD1NYXRoLnJvdW5kKGEvTWF0aC5wb3coMiwtMTA3NCkpKSk7ZT1bXTtmb3IoYT01MjthOy0tYSllLnB1c2goZCUyPzE6MCksZD1NYXRoLmZsb29yKGQvMik7Zm9yKGE9MTE7YTstLWEpZS5wdXNoKGMlMj8xOjApLGM9TWF0aC5mbG9vcihjLzIpO2UucHVzaChiPzE6MCk7ZS5yZXZlcnNlKCk7Yj1lLmpvaW4oXCJcIik7Yz1cIlwiO2ZvcihhPTA7NjQ+YTthKz04KWQ9cGFyc2VJbnQoYi5zdWJzdHIoYSw4KSwyKS50b1N0cmluZygxNiksMT09PWQubGVuZ3RoJiZcbihkPVwiMFwiK2QpLGMrPWQ7cmV0dXJuIGMudG9Mb3dlckNhc2UoKX12YXIgamQ9L14tP1xcZHsxLDEwfSQvO2Z1bmN0aW9uIGRkKGEpe3JldHVybiBqZC50ZXN0KGEpJiYoYT1OdW1iZXIoYSksLTIxNDc0ODM2NDg8PWEmJjIxNDc0ODM2NDc+PWEpP2E6bnVsbH1mdW5jdGlvbiBVYihhKXt0cnl7YSgpfWNhdGNoKGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtPKFwiRXhjZXB0aW9uIHdhcyB0aHJvd24gYnkgdXNlciBjYWxsYmFjay5cIixiLnN0YWNrfHxcIlwiKTt0aHJvdyBiO30sTWF0aC5mbG9vcigwKSl9fWZ1bmN0aW9uIGtkKGEsYixjKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6Y30pfWZ1bmN0aW9uIGxkKGEsYil7dmFyIGM9c2V0VGltZW91dChhLGIpO1wib2JqZWN0XCI9PT10eXBlb2YgYyYmYy51bnJlZiYmYy51bnJlZigpO3JldHVybiBjfTtmdW5jdGlvbiBtZChhKXt2YXIgYj17fSxjPXt9LGQ9e30sZT1cIlwiO3RyeXt2YXIgZj1hLnNwbGl0KFwiLlwiKSxiPU9iKFRjKGZbMF0pfHxcIlwiKSxjPU9iKFRjKGZbMV0pfHxcIlwiKSxlPWZbMl0sZD1jLmR8fHt9O2RlbGV0ZSBjLmR9Y2F0Y2goaCl7fXJldHVybntGZzpiLE1lOmMsZGF0YTpkLHhnOmV9fWZ1bmN0aW9uIG5kKGEpe2E9bWQoYSk7dmFyIGI9YS5NZTtyZXR1cm4hIWEueGcmJiEhYiYmXCJvYmplY3RcIj09PXR5cGVvZiBiJiZiLmhhc093blByb3BlcnR5KFwiaWF0XCIpfWZ1bmN0aW9uIG9kKGEpe2E9bWQoYSkuTWU7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiYhMD09PXgoYSxcImFkbWluXCIpfTtmdW5jdGlvbiBwZChhLGIsYyl7dGhpcy5mPVljKFwicDpyZXN0OlwiKTt0aGlzLk09YTt0aGlzLkhiPWI7dGhpcy5WZD1jO3RoaXMuYWE9e319ZnVuY3Rpb24gcWQoYSxiKXtpZihwKGIpKXJldHVyblwidGFnJFwiK2I7SChyZChhLm4pLFwic2hvdWxkIGhhdmUgYSB0YWcgaWYgaXQncyBub3QgYSBkZWZhdWx0IHF1ZXJ5LlwiKTtyZXR1cm4gYS5wYXRoLnRvU3RyaW5nKCl9Zz1wZC5wcm90b3R5cGU7XG5nLmRmPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEucGF0aC50b1N0cmluZygpO3RoaXMuZihcIkxpc3RlbiBjYWxsZWQgZm9yIFwiK2UrXCIgXCIrYS5rYSgpKTt2YXIgZj1xZChhLGMpLGg9e307dGhpcy5hYVtmXT1oO2E9c2QoYS5uKTt2YXIgaz10aGlzO3RkKHRoaXMsZStcIi5qc29uXCIsYSxmdW5jdGlvbihhLGIpe3ZhciB1PWI7NDA0PT09YSYmKGE9dT1udWxsKTtudWxsPT09YSYmay5IYihlLHUsITEsYyk7eChrLmFhLGYpPT09aCYmZChhPzQwMT09YT9cInBlcm1pc3Npb25fZGVuaWVkXCI6XCJyZXN0X2Vycm9yOlwiK2E6XCJva1wiLG51bGwpfSl9O2cuRWY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1xZChhLGIpO2RlbGV0ZSB0aGlzLmFhW2NdfTtnLnFmPWZ1bmN0aW9uKCl7fTtnLnJlPWZ1bmN0aW9uKCl7fTtnLmdmPWZ1bmN0aW9uKCl7fTtnLnhkPWZ1bmN0aW9uKCl7fTtnLnB1dD1mdW5jdGlvbigpe307Zy5lZj1mdW5jdGlvbigpe307Zy55ZT1mdW5jdGlvbigpe307XG5mdW5jdGlvbiB0ZChhLGIsYyxkKXtjPWN8fHt9O2MuZm9ybWF0PVwiZXhwb3J0XCI7YS5WZC5nZXRUb2tlbighMSkudGhlbihmdW5jdGlvbihlKXsoZT1lJiZlLmFjY2Vzc1Rva2VuKSYmKGMuYXV0aD1lKTt2YXIgZj0oYS5NLlNjP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIikrYS5NLmhvc3QrYitcIj9cIitGYihjKTthLmYoXCJTZW5kaW5nIFJFU1QgcmVxdWVzdCBmb3IgXCIrZik7dmFyIGg9bmV3IFhNTEh0dHBSZXF1ZXN0O2gub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoZCYmND09PWgucmVhZHlTdGF0ZSl7YS5mKFwiUkVTVCBSZXNwb25zZSBmb3IgXCIrZitcIiByZWNlaXZlZC4gc3RhdHVzOlwiLGguc3RhdHVzLFwicmVzcG9uc2U6XCIsaC5yZXNwb25zZVRleHQpO3ZhciBiPW51bGw7aWYoMjAwPD1oLnN0YXR1cyYmMzAwPmguc3RhdHVzKXt0cnl7Yj1PYihoLnJlc3BvbnNlVGV4dCl9Y2F0Y2goYyl7TyhcIkZhaWxlZCB0byBwYXJzZSBKU09OIHJlc3BvbnNlIGZvciBcIitmK1wiOiBcIitoLnJlc3BvbnNlVGV4dCl9ZChudWxsLFxuYil9ZWxzZSA0MDEhPT1oLnN0YXR1cyYmNDA0IT09aC5zdGF0dXMmJk8oXCJHb3QgdW5zdWNjZXNzZnVsIFJFU1QgcmVzcG9uc2UgZm9yIFwiK2YrXCIgU3RhdHVzOiBcIitoLnN0YXR1cyksZChoLnN0YXR1cyk7ZD1udWxsfX07aC5vcGVuKFwiR0VUXCIsZiwhMCk7aC5zZW5kKCl9KX07ZnVuY3Rpb24gdmQoYSxiLGMpe3RoaXMudHlwZT13ZDt0aGlzLnNvdXJjZT1hO3RoaXMucGF0aD1iO3RoaXMuY2hpbGRyZW49Y312ZC5wcm90b3R5cGUuTmM9ZnVuY3Rpb24oYSl7aWYodGhpcy5wYXRoLmUoKSlyZXR1cm4gYT10aGlzLmNoaWxkcmVuLnN1YnRyZWUobmV3IEwoYSkpLGEuZSgpP251bGw6YS52YWx1ZT9uZXcgJGIodGhpcy5zb3VyY2UsQyxhLnZhbHVlKTpuZXcgdmQodGhpcy5zb3VyY2UsQyxhKTtIKEoodGhpcy5wYXRoKT09PWEsXCJDYW4ndCBnZXQgYSBtZXJnZSBmb3IgYSBjaGlsZCBub3Qgb24gdGhlIHBhdGggb2YgdGhlIG9wZXJhdGlvblwiKTtyZXR1cm4gbmV3IHZkKHRoaXMuc291cmNlLEQodGhpcy5wYXRoKSx0aGlzLmNoaWxkcmVuKX07dmQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIG1lcmdlOiBcIit0aGlzLmNoaWxkcmVuLnRvU3RyaW5nKCkrXCIpXCJ9O2Z1bmN0aW9uIHhkKGEsYil7dGhpcy56Zj17fTt0aGlzLlZjPW5ldyBsYyhhKTt0aGlzLndhPWI7dmFyIGM9MUU0KzJFNCpNYXRoLnJhbmRvbSgpO2xkKHIodGhpcy5yZix0aGlzKSxNYXRoLmZsb29yKGMpKX14ZC5wcm90b3R5cGUucmY9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLlZjLmdldCgpLGI9e30sYz0hMSxkO2ZvcihkIGluIGEpMDxhW2RdJiZCYih0aGlzLnpmLGQpJiYoYltkXT1hW2RdLGM9ITApO2MmJnRoaXMud2EueWUoYik7bGQocih0aGlzLnJmLHRoaXMpLE1hdGguZmxvb3IoNkU1Kk1hdGgucmFuZG9tKCkpKX07dmFyIHlkPXt9LHpkPXt9O2Z1bmN0aW9uIEFkKGEpe2E9YS50b1N0cmluZygpO3lkW2FdfHwoeWRbYV09bmV3IGpjKTtyZXR1cm4geWRbYV19ZnVuY3Rpb24gQmQoYSxiKXt2YXIgYz1hLnRvU3RyaW5nKCk7emRbY118fCh6ZFtjXT1iKCkpO3JldHVybiB6ZFtjXX07dmFyIENkPW51bGw7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBNb3pXZWJTb2NrZXQ/Q2Q9TW96V2ViU29ja2V0OlwidW5kZWZpbmVkXCIhPT10eXBlb2YgV2ViU29ja2V0JiYoQ2Q9V2ViU29ja2V0KTtmdW5jdGlvbiBEZChhLGIsYyxkKXt0aGlzLlpkPWE7dGhpcy5mPVljKHRoaXMuWmQpO3RoaXMuZnJhbWVzPXRoaXMuQWM9bnVsbDt0aGlzLnFiPXRoaXMucmI9dGhpcy5GZT0wO3RoaXMuWGE9QWQoYik7YT17djpcIjVcIn07XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24uaHJlZiYmLTEhPT1sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJmaXJlYmFzZWlvLmNvbVwiKSYmKGEucj1cImZcIik7YyYmKGEucz1jKTtkJiYoYS5scz1kKTt0aGlzLk5lPWljKGIsXCJ3ZWJzb2NrZXRcIixhKX12YXIgRWQ7XG5EZC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIpe3RoaXMua2I9Yjt0aGlzLmhnPWE7dGhpcy5mKFwiV2Vic29ja2V0IGNvbm5lY3RpbmcgdG8gXCIrdGhpcy5OZSk7dGhpcy54Yz0hMTtZYi5zZXQoXCJwcmV2aW91c193ZWJzb2NrZXRfZmFpbHVyZVwiLCEwKTt0cnl7dGhpcy5MYT1uZXcgQ2QodGhpcy5OZSl9Y2F0Y2goYyl7dGhpcy5mKFwiRXJyb3IgaW5zdGFudGlhdGluZyBXZWJTb2NrZXQuXCIpO3ZhciBkPWMubWVzc2FnZXx8Yy5kYXRhO2QmJnRoaXMuZihkKTt0aGlzLmZiKCk7cmV0dXJufXZhciBlPXRoaXM7dGhpcy5MYS5vbm9wZW49ZnVuY3Rpb24oKXtlLmYoXCJXZWJzb2NrZXQgY29ubmVjdGVkLlwiKTtlLnhjPSEwfTt0aGlzLkxhLm9uY2xvc2U9ZnVuY3Rpb24oKXtlLmYoXCJXZWJzb2NrZXQgY29ubmVjdGlvbiB3YXMgZGlzY29ubmVjdGVkLlwiKTtlLkxhPW51bGw7ZS5mYigpfTt0aGlzLkxhLm9ubWVzc2FnZT1mdW5jdGlvbihhKXtpZihudWxsIT09ZS5MYSlpZihhPWEuZGF0YSxlLnFiKz1cbmEubGVuZ3RoLGtjKGUuWGEsXCJieXRlc19yZWNlaXZlZFwiLGEubGVuZ3RoKSxGZChlKSxudWxsIT09ZS5mcmFtZXMpR2QoZSxhKTtlbHNle2E6e0gobnVsbD09PWUuZnJhbWVzLFwiV2UgYWxyZWFkeSBoYXZlIGEgZnJhbWUgYnVmZmVyXCIpO2lmKDY+PWEubGVuZ3RoKXt2YXIgYj1OdW1iZXIoYSk7aWYoIWlzTmFOKGIpKXtlLkZlPWI7ZS5mcmFtZXM9W107YT1udWxsO2JyZWFrIGF9fWUuRmU9MTtlLmZyYW1lcz1bXX1udWxsIT09YSYmR2QoZSxhKX19O3RoaXMuTGEub25lcnJvcj1mdW5jdGlvbihhKXtlLmYoXCJXZWJTb2NrZXQgZXJyb3IuICBDbG9zaW5nIGNvbm5lY3Rpb24uXCIpOyhhPWEubWVzc2FnZXx8YS5kYXRhKSYmZS5mKGEpO2UuZmIoKX19O0RkLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe307XG5EZC5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3ZhciBhPSExO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50KXt2YXIgYj1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkIChbMC05XXswLH1cXC5bMC05XXswLH0pLyk7YiYmMTxiLmxlbmd0aCYmNC40PnBhcnNlRmxvYXQoYlsxXSkmJihhPSEwKX1yZXR1cm4hYSYmbnVsbCE9PUNkJiYhRWR9O0RkLnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHk9MjtEZC5oZWFsdGh5VGltZW91dD0zRTQ7Zz1EZC5wcm90b3R5cGU7Zy5zZD1mdW5jdGlvbigpe1liLnJlbW92ZShcInByZXZpb3VzX3dlYnNvY2tldF9mYWlsdXJlXCIpfTtmdW5jdGlvbiBHZChhLGIpe2EuZnJhbWVzLnB1c2goYik7aWYoYS5mcmFtZXMubGVuZ3RoPT1hLkZlKXt2YXIgYz1hLmZyYW1lcy5qb2luKFwiXCIpO2EuZnJhbWVzPW51bGw7Yz1PYihjKTthLmhnKGMpfX1cbmcuc2VuZD1mdW5jdGlvbihhKXtGZCh0aGlzKTthPUIoYSk7dGhpcy5yYis9YS5sZW5ndGg7a2ModGhpcy5YYSxcImJ5dGVzX3NlbnRcIixhLmxlbmd0aCk7YT1nZChhLDE2Mzg0KTsxPGEubGVuZ3RoJiZIZCh0aGlzLFN0cmluZyhhLmxlbmd0aCkpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKUhkKHRoaXMsYVtiXSl9O2cuVGM9ZnVuY3Rpb24oKXt0aGlzLkJiPSEwO3RoaXMuQWMmJihjbGVhckludGVydmFsKHRoaXMuQWMpLHRoaXMuQWM9bnVsbCk7dGhpcy5MYSYmKHRoaXMuTGEuY2xvc2UoKSx0aGlzLkxhPW51bGwpfTtnLmZiPWZ1bmN0aW9uKCl7dGhpcy5CYnx8KHRoaXMuZihcIldlYlNvY2tldCBpcyBjbG9zaW5nIGl0c2VsZlwiKSx0aGlzLlRjKCksdGhpcy5rYiYmKHRoaXMua2IodGhpcy54YyksdGhpcy5rYj1udWxsKSl9O2cuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLkJifHwodGhpcy5mKFwiV2ViU29ja2V0IGlzIGJlaW5nIGNsb3NlZFwiKSx0aGlzLlRjKCkpfTtcbmZ1bmN0aW9uIEZkKGEpe2NsZWFySW50ZXJ2YWwoYS5BYyk7YS5BYz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2EuTGEmJkhkKGEsXCIwXCIpO0ZkKGEpfSxNYXRoLmZsb29yKDQ1RTMpKX1mdW5jdGlvbiBIZChhLGIpe3RyeXthLkxhLnNlbmQoYil9Y2F0Y2goYyl7YS5mKFwiRXhjZXB0aW9uIHRocm93biBmcm9tIFdlYlNvY2tldC5zZW5kKCk6XCIsYy5tZXNzYWdlfHxjLmRhdGEsXCJDbG9zaW5nIGNvbm5lY3Rpb24uXCIpLHNldFRpbWVvdXQocihhLmZiLGEpLDApfX07ZnVuY3Rpb24gSWQoKXt0aGlzLmhiPXt9fVxuZnVuY3Rpb24gSmQoYSxiKXt2YXIgYz1iLnR5cGUsZD1iLlphO0goXCJjaGlsZF9hZGRlZFwiPT1jfHxcImNoaWxkX2NoYW5nZWRcIj09Y3x8XCJjaGlsZF9yZW1vdmVkXCI9PWMsXCJPbmx5IGNoaWxkIGNoYW5nZXMgc3VwcG9ydGVkIGZvciB0cmFja2luZ1wiKTtIKFwiLnByaW9yaXR5XCIhPT1kLFwiT25seSBub24tcHJpb3JpdHkgY2hpbGQgY2hhbmdlcyBjYW4gYmUgdHJhY2tlZC5cIik7dmFyIGU9eChhLmhiLGQpO2lmKGUpe3ZhciBmPWUudHlwZTtpZihcImNoaWxkX2FkZGVkXCI9PWMmJlwiY2hpbGRfcmVtb3ZlZFwiPT1mKWEuaGJbZF09bmV3IEkoXCJjaGlsZF9jaGFuZ2VkXCIsYi5NYSxkLGUuTWEpO2Vsc2UgaWYoXCJjaGlsZF9yZW1vdmVkXCI9PWMmJlwiY2hpbGRfYWRkZWRcIj09ZilkZWxldGUgYS5oYltkXTtlbHNlIGlmKFwiY2hpbGRfcmVtb3ZlZFwiPT1jJiZcImNoaWxkX2NoYW5nZWRcIj09ZilhLmhiW2RdPW5ldyBJKFwiY2hpbGRfcmVtb3ZlZFwiLGUucWUsZCk7ZWxzZSBpZihcImNoaWxkX2NoYW5nZWRcIj09YyYmXG5cImNoaWxkX2FkZGVkXCI9PWYpYS5oYltkXT1uZXcgSShcImNoaWxkX2FkZGVkXCIsYi5NYSxkKTtlbHNlIGlmKFwiY2hpbGRfY2hhbmdlZFwiPT1jJiZcImNoaWxkX2NoYW5nZWRcIj09ZilhLmhiW2RdPW5ldyBJKFwiY2hpbGRfY2hhbmdlZFwiLGIuTWEsZCxlLnFlKTtlbHNlIHRocm93IFNjKFwiSWxsZWdhbCBjb21iaW5hdGlvbiBvZiBjaGFuZ2VzOiBcIitiK1wiIG9jY3VycmVkIGFmdGVyIFwiK2UpO31lbHNlIGEuaGJbZF09Yn07ZnVuY3Rpb24gS2QoYSl7dGhpcy5XPWE7dGhpcy5nPWEubi5nfWZ1bmN0aW9uIExkKGEsYixjLGQpe3ZhciBlPVtdLGY9W107SmEoYixmdW5jdGlvbihiKXtcImNoaWxkX2NoYW5nZWRcIj09PWIudHlwZSYmYS5nLm5kKGIucWUsYi5NYSkmJmYucHVzaChuZXcgSShcImNoaWxkX21vdmVkXCIsYi5NYSxiLlphKSl9KTtNZChhLGUsXCJjaGlsZF9yZW1vdmVkXCIsYixkLGMpO01kKGEsZSxcImNoaWxkX2FkZGVkXCIsYixkLGMpO01kKGEsZSxcImNoaWxkX21vdmVkXCIsZixkLGMpO01kKGEsZSxcImNoaWxkX2NoYW5nZWRcIixiLGQsYyk7TWQoYSxlLENjLGIsZCxjKTtyZXR1cm4gZX1mdW5jdGlvbiBNZChhLGIsYyxkLGUsZil7ZD1LYShkLGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1jfSk7U2EoZCxyKGEuT2YsYSkpO0phKGQsZnVuY3Rpb24oYyl7dmFyIGQ9TmQoYSxjLGYpO0phKGUsZnVuY3Rpb24oZSl7ZS50ZihjLnR5cGUpJiZiLnB1c2goZS5jcmVhdGVFdmVudChkLGEuVykpfSl9KX1cbmZ1bmN0aW9uIE5kKGEsYixjKXtcInZhbHVlXCIhPT1iLnR5cGUmJlwiY2hpbGRfcmVtb3ZlZFwiIT09Yi50eXBlJiYoYi5EZD1jLlplKGIuWmEsYi5NYSxhLmcpKTtyZXR1cm4gYn1LZC5wcm90b3R5cGUuT2Y9ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1hLlphfHxudWxsPT1iLlphKXRocm93IFNjKFwiU2hvdWxkIG9ubHkgY29tcGFyZSBjaGlsZF8gZXZlbnRzLlwiKTtyZXR1cm4gdGhpcy5nLmNvbXBhcmUobmV3IEsoYS5aYSxhLk1hKSxuZXcgSyhiLlphLGIuTWEpKX07ZnVuY3Rpb24gT2QoYSxiKXt0aGlzLlNkPWE7dGhpcy5NZj1ifWZ1bmN0aW9uIFBkKGEpe3RoaXMuVj1hfVxuUGQucHJvdG90eXBlLmdiPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW5ldyBJZCxmO2lmKGIudHlwZT09PWFjKWIuc291cmNlLmVlP2M9UWQodGhpcyxhLGIucGF0aCxiLkphLGMsZCxlKTooSChiLnNvdXJjZS5XZSxcIlVua25vd24gc291cmNlLlwiKSxmPWIuc291cmNlLkVlfHxFYyhhLncoKSkmJiFiLnBhdGguZSgpLGM9UmQodGhpcyxhLGIucGF0aCxiLkphLGMsZCxmLGUpKTtlbHNlIGlmKGIudHlwZT09PXdkKWIuc291cmNlLmVlP2M9U2QodGhpcyxhLGIucGF0aCxiLmNoaWxkcmVuLGMsZCxlKTooSChiLnNvdXJjZS5XZSxcIlVua25vd24gc291cmNlLlwiKSxmPWIuc291cmNlLkVlfHxFYyhhLncoKSksYz1UZCh0aGlzLGEsYi5wYXRoLGIuY2hpbGRyZW4sYyxkLGYsZSkpO2Vsc2UgaWYoYi50eXBlPT09VWQpaWYoYi5JZClpZihiPWIucGF0aCxudWxsIT1jLm1jKGIpKWM9YTtlbHNle2Y9bmV3IHhjKGMsYSxkKTtkPWEuTy5qKCk7aWYoYi5lKCl8fFwiLnByaW9yaXR5XCI9PT1KKGIpKURjKGEudygpKT9cbmI9Yy5CYShBYyhhKSk6KGI9YS53KCkuaigpLEgoYiBpbnN0YW5jZW9mIFAsXCJzZXJ2ZXJDaGlsZHJlbiB3b3VsZCBiZSBjb21wbGV0ZSBpZiBsZWFmIG5vZGVcIiksYj1jLnNjKGIpKSxiPXRoaXMuVi56YShkLGIsZSk7ZWxzZXt2YXIgaD1KKGIpLGs9Yy5yYyhoLGEudygpKTtudWxsPT1rJiZ5YyhhLncoKSxoKSYmKGs9ZC5SKGgpKTtiPW51bGwhPWs/dGhpcy5WLkYoZCxoLGssRChiKSxmLGUpOmEuTy5qKCkuRmEoaCk/dGhpcy5WLkYoZCxoLEYsRChiKSxmLGUpOmQ7Yi5lKCkmJkRjKGEudygpKSYmKGQ9Yy5CYShBYyhhKSksZC5KKCkmJihiPXRoaXMuVi56YShiLGQsZSkpKX1kPURjKGEudygpKXx8bnVsbCE9Yy5tYyhDKTtjPVZkKGEsYixkLHRoaXMuVi5RYSgpKX1lbHNlIGM9V2QodGhpcyxhLGIucGF0aCxiLlBiLGMsZCxlKTtlbHNlIGlmKGIudHlwZT09PWNjKWQ9Yi5wYXRoLGI9YS53KCksZj1iLmooKSxoPWIuZWF8fGQuZSgpLGM9WGQodGhpcyxuZXcgWWQoYS5PLG5ldyB6YyhmLFxuaCxiLlRiKSksZCxjLHdjLGUpO2Vsc2UgdGhyb3cgU2MoXCJVbmtub3duIG9wZXJhdGlvbiB0eXBlOiBcIitiLnR5cGUpO2U9c2EoZS5oYik7ZD1jO2I9ZC5PO2IuZWEmJihmPWIuaigpLkooKXx8Yi5qKCkuZSgpLGg9WmQoYSksKDA8ZS5sZW5ndGh8fCFhLk8uZWF8fGYmJiFiLmooKS4kKGgpfHwhYi5qKCkuQygpLiQoaC5DKCkpKSYmZS5wdXNoKEJjKFpkKGQpKSkpO3JldHVybiBuZXcgT2QoYyxlKX07XG5mdW5jdGlvbiBYZChhLGIsYyxkLGUsZil7dmFyIGg9Yi5PO2lmKG51bGwhPWQubWMoYykpcmV0dXJuIGI7dmFyIGs7aWYoYy5lKCkpSChEYyhiLncoKSksXCJJZiBjaGFuZ2UgcGF0aCBpcyBlbXB0eSwgd2UgbXVzdCBoYXZlIGNvbXBsZXRlIHNlcnZlciBkYXRhXCIpLEVjKGIudygpKT8oZT1BYyhiKSxkPWQuc2MoZSBpbnN0YW5jZW9mIFA/ZTpGKSk6ZD1kLkJhKEFjKGIpKSxmPWEuVi56YShiLk8uaigpLGQsZik7ZWxzZXt2YXIgbT1KKGMpO2lmKFwiLnByaW9yaXR5XCI9PW0pSCgxPT0kZChjKSxcIkNhbid0IGhhdmUgYSBwcmlvcml0eSB3aXRoIGFkZGl0aW9uYWwgcGF0aCBjb21wb25lbnRzXCIpLGY9aC5qKCksaz1iLncoKS5qKCksZD1kLiRjKGMsZixrKSxmPW51bGwhPWQ/YS5WLmdhKGYsZCk6aC5qKCk7ZWxzZXt2YXIgbD1EKGMpO3ljKGgsbSk/KGs9Yi53KCkuaigpLGQ9ZC4kYyhjLGguaigpLGspLGQ9bnVsbCE9ZD9oLmooKS5SKG0pLkYobCxkKTpoLmooKS5SKG0pKTpkPWQucmMobSxcbmIudygpKTtmPW51bGwhPWQ/YS5WLkYoaC5qKCksbSxkLGwsZSxmKTpoLmooKX19cmV0dXJuIFZkKGIsZixoLmVhfHxjLmUoKSxhLlYuUWEoKSl9ZnVuY3Rpb24gUmQoYSxiLGMsZCxlLGYsaCxrKXt2YXIgbT1iLncoKTtoPWg/YS5WOmEuVi5WYigpO2lmKGMuZSgpKWQ9aC56YShtLmooKSxkLG51bGwpO2Vsc2UgaWYoaC5RYSgpJiYhbS5UYilkPW0uaigpLkYoYyxkKSxkPWguemEobS5qKCksZCxudWxsKTtlbHNle3ZhciBsPUooYyk7aWYoIUZjKG0sYykmJjE8JGQoYykpcmV0dXJuIGI7dmFyIHU9RChjKTtkPW0uaigpLlIobCkuRih1LGQpO2Q9XCIucHJpb3JpdHlcIj09bD9oLmdhKG0uaigpLGQpOmguRihtLmooKSxsLGQsdSx3YyxudWxsKX1tPW0uZWF8fGMuZSgpO2I9bmV3IFlkKGIuTyxuZXcgemMoZCxtLGguUWEoKSkpO3JldHVybiBYZChhLGIsYyxlLG5ldyB4YyhlLGIsZiksayl9XG5mdW5jdGlvbiBRZChhLGIsYyxkLGUsZixoKXt2YXIgaz1iLk87ZT1uZXcgeGMoZSxiLGYpO2lmKGMuZSgpKWg9YS5WLnphKGIuTy5qKCksZCxoKSxhPVZkKGIsaCwhMCxhLlYuUWEoKSk7ZWxzZSBpZihmPUooYyksXCIucHJpb3JpdHlcIj09PWYpaD1hLlYuZ2EoYi5PLmooKSxkKSxhPVZkKGIsaCxrLmVhLGsuVGIpO2Vsc2V7Yz1EKGMpO3ZhciBtPWsuaigpLlIoZik7aWYoIWMuZSgpKXt2YXIgbD1lLlhlKGYpO2Q9bnVsbCE9bD9cIi5wcmlvcml0eVwiPT09YWUoYykmJmwuUShjLnBhcmVudCgpKS5lKCk/bDpsLkYoYyxkKTpGfW0uJChkKT9hPWI6KGg9YS5WLkYoay5qKCksZixkLGMsZSxoKSxhPVZkKGIsaCxrLmVhLGEuVi5RYSgpKSl9cmV0dXJuIGF9XG5mdW5jdGlvbiBTZChhLGIsYyxkLGUsZixoKXt2YXIgaz1iO2JlKGQsZnVuY3Rpb24oZCxsKXt2YXIgdT1jLmsoZCk7eWMoYi5PLEoodSkpJiYoaz1RZChhLGssdSxsLGUsZixoKSl9KTtiZShkLGZ1bmN0aW9uKGQsbCl7dmFyIHU9Yy5rKGQpO3ljKGIuTyxKKHUpKXx8KGs9UWQoYSxrLHUsbCxlLGYsaCkpfSk7cmV0dXJuIGt9ZnVuY3Rpb24gY2UoYSxiKXtiZShiLGZ1bmN0aW9uKGIsZCl7YT1hLkYoYixkKX0pO3JldHVybiBhfVxuZnVuY3Rpb24gVGQoYSxiLGMsZCxlLGYsaCxrKXtpZihiLncoKS5qKCkuZSgpJiYhRGMoYi53KCkpKXJldHVybiBiO3ZhciBtPWI7Yz1jLmUoKT9kOmRlKFEsYyxkKTt2YXIgbD1iLncoKS5qKCk7Yy5jaGlsZHJlbi5pYShmdW5jdGlvbihjLGQpe2lmKGwuRmEoYykpe3ZhciBHPWIudygpLmooKS5SKGMpLEc9Y2UoRyxkKTttPVJkKGEsbSxuZXcgTChjKSxHLGUsZixoLGspfX0pO2MuY2hpbGRyZW4uaWEoZnVuY3Rpb24oYyxkKXt2YXIgRz0heWMoYi53KCksYykmJm51bGw9PWQudmFsdWU7bC5GYShjKXx8R3x8KEc9Yi53KCkuaigpLlIoYyksRz1jZShHLGQpLG09UmQoYSxtLG5ldyBMKGMpLEcsZSxmLGgsaykpfSk7cmV0dXJuIG19XG5mdW5jdGlvbiBXZChhLGIsYyxkLGUsZixoKXtpZihudWxsIT1lLm1jKGMpKXJldHVybiBiO3ZhciBrPUVjKGIudygpKSxtPWIudygpO2lmKG51bGwhPWQudmFsdWUpe2lmKGMuZSgpJiZtLmVhfHxGYyhtLGMpKXJldHVybiBSZChhLGIsYyxtLmooKS5RKGMpLGUsZixrLGgpO2lmKGMuZSgpKXt2YXIgbD1RO20uaigpLlAoZWUsZnVuY3Rpb24oYSxiKXtsPWwuc2V0KG5ldyBMKGEpLGIpfSk7cmV0dXJuIFRkKGEsYixjLGwsZSxmLGssaCl9cmV0dXJuIGJ9bD1RO2JlKGQsZnVuY3Rpb24oYSl7dmFyIGI9Yy5rKGEpO0ZjKG0sYikmJihsPWwuc2V0KGEsbS5qKCkuUShiKSkpfSk7cmV0dXJuIFRkKGEsYixjLGwsZSxmLGssaCl9O2Z1bmN0aW9uIGZlKGEpe3RoaXMuZz1hfWc9ZmUucHJvdG90eXBlO2cuRj1mdW5jdGlvbihhLGIsYyxkLGUsZil7SChhLnpjKHRoaXMuZyksXCJBIG5vZGUgbXVzdCBiZSBpbmRleGVkIGlmIG9ubHkgYSBjaGlsZCBpcyB1cGRhdGVkXCIpO2U9YS5SKGIpO2lmKGUuUShkKS4kKGMuUShkKSkmJmUuZSgpPT1jLmUoKSlyZXR1cm4gYTtudWxsIT1mJiYoYy5lKCk/YS5GYShiKT9KZChmLG5ldyBJKFwiY2hpbGRfcmVtb3ZlZFwiLGUsYikpOkgoYS5KKCksXCJBIGNoaWxkIHJlbW92ZSB3aXRob3V0IGFuIG9sZCBjaGlsZCBvbmx5IG1ha2VzIHNlbnNlIG9uIGEgbGVhZiBub2RlXCIpOmUuZSgpP0pkKGYsbmV3IEkoXCJjaGlsZF9hZGRlZFwiLGMsYikpOkpkKGYsbmV3IEkoXCJjaGlsZF9jaGFuZ2VkXCIsYyxiLGUpKSk7cmV0dXJuIGEuSigpJiZjLmUoKT9hOmEuVShiLGMpLm9iKHRoaXMuZyl9O1xuZy56YT1mdW5jdGlvbihhLGIsYyl7bnVsbCE9YyYmKGEuSigpfHxhLlAoTixmdW5jdGlvbihhLGUpe2IuRmEoYSl8fEpkKGMsbmV3IEkoXCJjaGlsZF9yZW1vdmVkXCIsZSxhKSl9KSxiLkooKXx8Yi5QKE4sZnVuY3Rpb24oYixlKXtpZihhLkZhKGIpKXt2YXIgZj1hLlIoYik7Zi4kKGUpfHxKZChjLG5ldyBJKFwiY2hpbGRfY2hhbmdlZFwiLGUsYixmKSl9ZWxzZSBKZChjLG5ldyBJKFwiY2hpbGRfYWRkZWRcIixlLGIpKX0pKTtyZXR1cm4gYi5vYih0aGlzLmcpfTtnLmdhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZSgpP0Y6YS5nYShiKX07Zy5RYT1mdW5jdGlvbigpe3JldHVybiExfTtnLlZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2Z1bmN0aW9uIGdlKGEpe3RoaXMuaGU9bmV3IGZlKGEuZyk7dGhpcy5nPWEuZzt2YXIgYjthLmxhPyhiPWhlKGEpLGI9YS5nLkZjKGllKGEpLGIpKTpiPWEuZy5JYygpO3RoaXMuVWM9YjthLm9hPyhiPWplKGEpLGE9YS5nLkZjKGtlKGEpLGIpKTphPWEuZy5HYygpO3RoaXMud2M9YX1nPWdlLnByb3RvdHlwZTtnLm1hdGNoZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIDA+PXRoaXMuZy5jb21wYXJlKHRoaXMuVWMsYSkmJjA+PXRoaXMuZy5jb21wYXJlKGEsdGhpcy53Yyl9O2cuRj1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5tYXRjaGVzKG5ldyBLKGIsYykpfHwoYz1GKTtyZXR1cm4gdGhpcy5oZS5GKGEsYixjLGQsZSxmKX07XG5nLnphPWZ1bmN0aW9uKGEsYixjKXtiLkooKSYmKGI9Rik7dmFyIGQ9Yi5vYih0aGlzLmcpLGQ9ZC5nYShGKSxlPXRoaXM7Yi5QKE4sZnVuY3Rpb24oYSxiKXtlLm1hdGNoZXMobmV3IEsoYSxiKSl8fChkPWQuVShhLEYpKX0pO3JldHVybiB0aGlzLmhlLnphKGEsZCxjKX07Zy5nYT1mdW5jdGlvbihhKXtyZXR1cm4gYX07Zy5RYT1mdW5jdGlvbigpe3JldHVybiEwfTtnLlZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGV9O2Z1bmN0aW9uIGxlKGEpe3RoaXMudGE9bmV3IGdlKGEpO3RoaXMuZz1hLmc7SChhLnlhLFwiT25seSB2YWxpZCBpZiBsaW1pdCBoYXMgYmVlbiBzZXRcIik7dGhpcy5wYT1hLnBhO3RoaXMuSmI9IW1lKGEpfWc9bGUucHJvdG90eXBlO2cuRj1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy50YS5tYXRjaGVzKG5ldyBLKGIsYykpfHwoYz1GKTtyZXR1cm4gYS5SKGIpLiQoYyk/YTphLkZiKCk8dGhpcy5wYT90aGlzLnRhLlZiKCkuRihhLGIsYyxkLGUsZik6bmUodGhpcyxhLGIsYyxlLGYpfTtcbmcuemE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIuSigpfHxiLmUoKSlkPUYub2IodGhpcy5nKTtlbHNlIGlmKDIqdGhpcy5wYTxiLkZiKCkmJmIuemModGhpcy5nKSl7ZD1GLm9iKHRoaXMuZyk7Yj10aGlzLkpiP2IuJGIodGhpcy50YS53Yyx0aGlzLmcpOmIuWWIodGhpcy50YS5VYyx0aGlzLmcpO2Zvcih2YXIgZT0wOzA8Yi5TYS5sZW5ndGgmJmU8dGhpcy5wYTspe3ZhciBmPVIoYiksaDtpZihoPXRoaXMuSmI/MD49dGhpcy5nLmNvbXBhcmUodGhpcy50YS5VYyxmKTowPj10aGlzLmcuY29tcGFyZShmLHRoaXMudGEud2MpKWQ9ZC5VKGYubmFtZSxmLlMpLGUrKztlbHNlIGJyZWFrfX1lbHNle2Q9Yi5vYih0aGlzLmcpO2Q9ZC5nYShGKTt2YXIgayxtLGw7aWYodGhpcy5KYil7Yj1kLiRlKHRoaXMuZyk7az10aGlzLnRhLndjO209dGhpcy50YS5VYzt2YXIgdT1vZSh0aGlzLmcpO2w9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdShiLGEpfX1lbHNlIGI9ZC5YYih0aGlzLmcpLGs9dGhpcy50YS5VYyxcbm09dGhpcy50YS53YyxsPW9lKHRoaXMuZyk7Zm9yKHZhciBlPTAsej0hMTswPGIuU2EubGVuZ3RoOylmPVIoYiksIXomJjA+PWwoayxmKSYmKHo9ITApLChoPXomJmU8dGhpcy5wYSYmMD49bChmLG0pKT9lKys6ZD1kLlUoZi5uYW1lLEYpfXJldHVybiB0aGlzLnRhLlZiKCkuemEoYSxkLGMpfTtnLmdhPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtnLlFhPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2cuVmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YS5WYigpfTtcbmZ1bmN0aW9uIG5lKGEsYixjLGQsZSxmKXt2YXIgaDtpZihhLkpiKXt2YXIgaz1vZShhLmcpO2g9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gayhiLGEpfX1lbHNlIGg9b2UoYS5nKTtIKGIuRmIoKT09YS5wYSxcIlwiKTt2YXIgbT1uZXcgSyhjLGQpLGw9YS5KYj9wZShiLGEuZyk6cWUoYixhLmcpLHU9YS50YS5tYXRjaGVzKG0pO2lmKGIuRmEoYykpe2Zvcih2YXIgej1iLlIoYyksbD1lLmZlKGEuZyxsLGEuSmIpO251bGwhPWwmJihsLm5hbWU9PWN8fGIuRmEobC5uYW1lKSk7KWw9ZS5mZShhLmcsbCxhLkpiKTtlPW51bGw9PWw/MTpoKGwsbSk7aWYodSYmIWQuZSgpJiYwPD1lKXJldHVybiBudWxsIT1mJiZKZChmLG5ldyBJKFwiY2hpbGRfY2hhbmdlZFwiLGQsYyx6KSksYi5VKGMsZCk7bnVsbCE9ZiYmSmQoZixuZXcgSShcImNoaWxkX3JlbW92ZWRcIix6LGMpKTtiPWIuVShjLEYpO3JldHVybiBudWxsIT1sJiZhLnRhLm1hdGNoZXMobCk/KG51bGwhPWYmJkpkKGYsbmV3IEkoXCJjaGlsZF9hZGRlZFwiLFxubC5TLGwubmFtZSkpLGIuVShsLm5hbWUsbC5TKSk6Yn1yZXR1cm4gZC5lKCk/Yjp1JiYwPD1oKGwsbSk/KG51bGwhPWYmJihKZChmLG5ldyBJKFwiY2hpbGRfcmVtb3ZlZFwiLGwuUyxsLm5hbWUpKSxKZChmLG5ldyBJKFwiY2hpbGRfYWRkZWRcIixkLGMpKSksYi5VKGMsZCkuVShsLm5hbWUsRikpOmJ9O2Z1bmN0aW9uIFFjKGEsYil7dGhpcy5CPWE7SChwKHRoaXMuQikmJm51bGwhPT10aGlzLkIsXCJMZWFmTm9kZSBzaG91bGRuJ3QgYmUgY3JlYXRlZCB3aXRoIG51bGwvdW5kZWZpbmVkIHZhbHVlLlwiKTt0aGlzLmJhPWJ8fEY7cmUodGhpcy5iYSk7dGhpcy5FYj1udWxsfXZhciBzZT1bXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwic3RyaW5nXCJdO2c9UWMucHJvdG90eXBlO2cuSj1mdW5jdGlvbigpe3JldHVybiEwfTtnLkM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYX07Zy5nYT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFFjKHRoaXMuQixhKX07Zy5SPWZ1bmN0aW9uKGEpe3JldHVyblwiLnByaW9yaXR5XCI9PT1hP3RoaXMuYmE6Rn07Zy5RPWZ1bmN0aW9uKGEpe3JldHVybiBhLmUoKT90aGlzOlwiLnByaW9yaXR5XCI9PT1KKGEpP3RoaXMuYmE6Rn07Zy5GYT1mdW5jdGlvbigpe3JldHVybiExfTtnLlplPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O1xuZy5VPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCIucHJpb3JpdHlcIj09PWE/dGhpcy5nYShiKTpiLmUoKSYmXCIucHJpb3JpdHlcIiE9PWE/dGhpczpGLlUoYSxiKS5nYSh0aGlzLmJhKX07Zy5GPWZ1bmN0aW9uKGEsYil7dmFyIGM9SihhKTtpZihudWxsPT09YylyZXR1cm4gYjtpZihiLmUoKSYmXCIucHJpb3JpdHlcIiE9PWMpcmV0dXJuIHRoaXM7SChcIi5wcmlvcml0eVwiIT09Y3x8MT09PSRkKGEpLFwiLnByaW9yaXR5IG11c3QgYmUgdGhlIGxhc3QgdG9rZW4gaW4gYSBwYXRoXCIpO3JldHVybiB0aGlzLlUoYyxGLkYoRChhKSxiKSl9O2cuZT1mdW5jdGlvbigpe3JldHVybiExfTtnLkZiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O2cuUD1mdW5jdGlvbigpe3JldHVybiExfTtnLkg9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJiF0aGlzLkMoKS5lKCk/e1wiLnZhbHVlXCI6dGhpcy5FYSgpLFwiLnByaW9yaXR5XCI6dGhpcy5DKCkuSCgpfTp0aGlzLkVhKCl9O1xuZy5oYXNoPWZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMuRWIpe3ZhciBhPVwiXCI7dGhpcy5iYS5lKCl8fChhKz1cInByaW9yaXR5OlwiK3RlKHRoaXMuYmEuSCgpKStcIjpcIik7dmFyIGI9dHlwZW9mIHRoaXMuQixhPWErKGIrXCI6XCIpLGE9XCJudW1iZXJcIj09PWI/YStpZCh0aGlzLkIpOmErdGhpcy5CO3RoaXMuRWI9VWMoYSl9cmV0dXJuIHRoaXMuRWJ9O2cuRWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5CfTtnLnRjPWZ1bmN0aW9uKGEpe2lmKGE9PT1GKXJldHVybiAxO2lmKGEgaW5zdGFuY2VvZiBQKXJldHVybi0xO0goYS5KKCksXCJVbmtub3duIG5vZGUgdHlwZVwiKTt2YXIgYj10eXBlb2YgYS5CLGM9dHlwZW9mIHRoaXMuQixkPUlhKHNlLGIpLGU9SWEoc2UsYyk7SCgwPD1kLFwiVW5rbm93biBsZWFmIHR5cGU6IFwiK2IpO0goMDw9ZSxcIlVua25vd24gbGVhZiB0eXBlOiBcIitjKTtyZXR1cm4gZD09PWU/XCJvYmplY3RcIj09PWM/MDp0aGlzLkI8YS5CPy0xOnRoaXMuQj09PWEuQj8wOjE6ZS1kfTtcbmcub2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307Zy56Yz1mdW5jdGlvbigpe3JldHVybiEwfTtnLiQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzPyEwOmEuSigpP3RoaXMuQj09PWEuQiYmdGhpcy5iYS4kKGEuYmEpOiExfTtnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEIodGhpcy5IKCEwKSl9O2Z1bmN0aW9uIHVlKCl7fXZhciB2ZT17fTtmdW5jdGlvbiBvZShhKXtyZXR1cm4gcihhLmNvbXBhcmUsYSl9dWUucHJvdG90eXBlLm5kPWZ1bmN0aW9uKGEsYil7cmV0dXJuIDAhPT10aGlzLmNvbXBhcmUobmV3IEsoXCJbTUlOX05BTUVdXCIsYSksbmV3IEsoXCJbTUlOX05BTUVdXCIsYikpfTt1ZS5wcm90b3R5cGUuSWM9ZnVuY3Rpb24oKXtyZXR1cm4gd2V9O2Z1bmN0aW9uIHhlKGEpe0goIWEuZSgpJiZcIi5wcmlvcml0eVwiIT09SihhKSxcIkNhbid0IGNyZWF0ZSBQYXRoSW5kZXggd2l0aCBlbXB0eSBwYXRoIG9yIC5wcmlvcml0eSBrZXlcIik7dGhpcy5jYz1hfWthKHhlLHVlKTtnPXhlLnByb3RvdHlwZTtnLnljPWZ1bmN0aW9uKGEpe3JldHVybiFhLlEodGhpcy5jYykuZSgpfTtnLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLlMuUSh0aGlzLmNjKSxkPWIuUy5RKHRoaXMuY2MpLGM9Yy50YyhkKTtyZXR1cm4gMD09PWM/SGMoYS5uYW1lLGIubmFtZSk6Y307XG5nLkZjPWZ1bmN0aW9uKGEsYil7dmFyIGM9TShhKSxjPUYuRih0aGlzLmNjLGMpO3JldHVybiBuZXcgSyhiLGMpfTtnLkdjPWZ1bmN0aW9uKCl7dmFyIGE9Ri5GKHRoaXMuY2MseWUpO3JldHVybiBuZXcgSyhcIltNQVhfTkFNRV1cIixhKX07Zy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNjLnNsaWNlKCkuam9pbihcIi9cIil9O2Z1bmN0aW9uIHplKCl7fWthKHplLHVlKTtnPXplLnByb3RvdHlwZTtnLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLlMuQygpLGQ9Yi5TLkMoKSxjPWMudGMoZCk7cmV0dXJuIDA9PT1jP0hjKGEubmFtZSxiLm5hbWUpOmN9O2cueWM9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuQygpLmUoKX07Zy5uZD1mdW5jdGlvbihhLGIpe3JldHVybiFhLkMoKS4kKGIuQygpKX07Zy5JYz1mdW5jdGlvbigpe3JldHVybiB3ZX07Zy5HYz1mdW5jdGlvbigpe3JldHVybiBuZXcgSyhcIltNQVhfTkFNRV1cIixuZXcgUWMoXCJbUFJJT1JJVFktUE9TVF1cIix5ZSkpfTtcbmcuRmM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKGEpO3JldHVybiBuZXcgSyhiLG5ldyBRYyhcIltQUklPUklUWS1QT1NUXVwiLGMpKX07Zy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiLnByaW9yaXR5XCJ9O3ZhciBOPW5ldyB6ZTtmdW5jdGlvbiBBZSgpe31rYShBZSx1ZSk7Zz1BZS5wcm90b3R5cGU7Zy5jb21wYXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEhjKGEubmFtZSxiLm5hbWUpfTtnLnljPWZ1bmN0aW9uKCl7dGhyb3cgU2MoXCJLZXlJbmRleC5pc0RlZmluZWRPbiBub3QgZXhwZWN0ZWQgdG8gYmUgY2FsbGVkLlwiKTt9O2cubmQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Zy5JYz1mdW5jdGlvbigpe3JldHVybiB3ZX07Zy5HYz1mdW5jdGlvbigpe3JldHVybiBuZXcgSyhcIltNQVhfTkFNRV1cIixGKX07Zy5GYz1mdW5jdGlvbihhKXtIKHEoYSksXCJLZXlJbmRleCBpbmRleFZhbHVlIG11c3QgYWx3YXlzIGJlIGEgc3RyaW5nLlwiKTtyZXR1cm4gbmV3IEsoYSxGKX07Zy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiLmtleVwifTtcbnZhciBlZT1uZXcgQWU7ZnVuY3Rpb24gQmUoKXt9a2EoQmUsdWUpO2c9QmUucHJvdG90eXBlO2cuY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuUy50YyhiLlMpO3JldHVybiAwPT09Yz9IYyhhLm5hbWUsYi5uYW1lKTpjfTtnLnljPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2cubmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hYS4kKGIpfTtnLkljPWZ1bmN0aW9uKCl7cmV0dXJuIHdlfTtnLkdjPWZ1bmN0aW9uKCl7cmV0dXJuIENlfTtnLkZjPWZ1bmN0aW9uKGEsYil7dmFyIGM9TShhKTtyZXR1cm4gbmV3IEsoYixjKX07Zy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiLnZhbHVlXCJ9O3ZhciBEZT1uZXcgQmU7ZnVuY3Rpb24gRWUoKXt0aGlzLlNiPXRoaXMub2E9dGhpcy5MYj10aGlzLmxhPXRoaXMueWE9ITE7dGhpcy5wYT0wO3RoaXMub2M9XCJcIjt0aGlzLmVjPW51bGw7dGhpcy5BYj1cIlwiO3RoaXMuYmM9bnVsbDt0aGlzLnliPVwiXCI7dGhpcy5nPU59dmFyIEZlPW5ldyBFZTtmdW5jdGlvbiBtZShhKXtyZXR1cm5cIlwiPT09YS5vYz9hLmxhOlwibFwiPT09YS5vY31mdW5jdGlvbiBpZShhKXtIKGEubGEsXCJPbmx5IHZhbGlkIGlmIHN0YXJ0IGhhcyBiZWVuIHNldFwiKTtyZXR1cm4gYS5lY31mdW5jdGlvbiBoZShhKXtIKGEubGEsXCJPbmx5IHZhbGlkIGlmIHN0YXJ0IGhhcyBiZWVuIHNldFwiKTtyZXR1cm4gYS5MYj9hLkFiOlwiW01JTl9OQU1FXVwifWZ1bmN0aW9uIGtlKGEpe0goYS5vYSxcIk9ubHkgdmFsaWQgaWYgZW5kIGhhcyBiZWVuIHNldFwiKTtyZXR1cm4gYS5iY31cbmZ1bmN0aW9uIGplKGEpe0goYS5vYSxcIk9ubHkgdmFsaWQgaWYgZW5kIGhhcyBiZWVuIHNldFwiKTtyZXR1cm4gYS5TYj9hLnliOlwiW01BWF9OQU1FXVwifWZ1bmN0aW9uIEdlKGEpe3ZhciBiPW5ldyBFZTtiLnlhPWEueWE7Yi5wYT1hLnBhO2IubGE9YS5sYTtiLmVjPWEuZWM7Yi5MYj1hLkxiO2IuQWI9YS5BYjtiLm9hPWEub2E7Yi5iYz1hLmJjO2IuU2I9YS5TYjtiLnliPWEueWI7Yi5nPWEuZztyZXR1cm4gYn1nPUVlLnByb3RvdHlwZTtnLm5lPWZ1bmN0aW9uKGEpe3ZhciBiPUdlKHRoaXMpO2IueWE9ITA7Yi5wYT1hO2Iub2M9XCJsXCI7cmV0dXJuIGJ9O2cub2U9ZnVuY3Rpb24oYSl7dmFyIGI9R2UodGhpcyk7Yi55YT0hMDtiLnBhPWE7Yi5vYz1cInJcIjtyZXR1cm4gYn07Zy5OZD1mdW5jdGlvbihhLGIpe3ZhciBjPUdlKHRoaXMpO2MubGE9ITA7cChhKXx8KGE9bnVsbCk7Yy5lYz1hO251bGwhPWI/KGMuTGI9ITAsYy5BYj1iKTooYy5MYj0hMSxjLkFiPVwiXCIpO3JldHVybiBjfTtcbmcuZmQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1HZSh0aGlzKTtjLm9hPSEwO3AoYSl8fChhPW51bGwpO2MuYmM9YTtwKGIpPyhjLlNiPSEwLGMueWI9Yik6KGMuSGc9ITEsYy55Yj1cIlwiKTtyZXR1cm4gY307ZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1HZShhKTtjLmc9YjtyZXR1cm4gY31mdW5jdGlvbiBJZShhKXt2YXIgYj17fTthLmxhJiYoYi5zcD1hLmVjLGEuTGImJihiLnNuPWEuQWIpKTthLm9hJiYoYi5lcD1hLmJjLGEuU2ImJihiLmVuPWEueWIpKTtpZihhLnlhKXtiLmw9YS5wYTt2YXIgYz1hLm9jO1wiXCI9PT1jJiYoYz1tZShhKT9cImxcIjpcInJcIik7Yi52Zj1jfWEuZyE9PU4mJihiLmk9YS5nLnRvU3RyaW5nKCkpO3JldHVybiBifWZ1bmN0aW9uIFMoYSl7cmV0dXJuIShhLmxhfHxhLm9hfHxhLnlhKX1mdW5jdGlvbiByZChhKXtyZXR1cm4gUyhhKSYmYS5nPT1OfVxuZnVuY3Rpb24gc2QoYSl7dmFyIGI9e307aWYocmQoYSkpcmV0dXJuIGI7dmFyIGM7YS5nPT09Tj9jPVwiJHByaW9yaXR5XCI6YS5nPT09RGU/Yz1cIiR2YWx1ZVwiOmEuZz09PWVlP2M9XCIka2V5XCI6KEgoYS5nIGluc3RhbmNlb2YgeGUsXCJVbnJlY29nbml6ZWQgaW5kZXggdHlwZSFcIiksYz1hLmcudG9TdHJpbmcoKSk7Yi5vcmRlckJ5PUIoYyk7YS5sYSYmKGIuc3RhcnRBdD1CKGEuZWMpLGEuTGImJihiLnN0YXJ0QXQrPVwiLFwiK0IoYS5BYikpKTthLm9hJiYoYi5lbmRBdD1CKGEuYmMpLGEuU2ImJihiLmVuZEF0Kz1cIixcIitCKGEueWIpKSk7YS55YSYmKG1lKGEpP2IubGltaXRUb0ZpcnN0PWEucGE6Yi5saW1pdFRvTGFzdD1hLnBhKTtyZXR1cm4gYn1nLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEIoSWUodGhpcykpfTtmdW5jdGlvbiBKZShhLGIpe3RoaXMub2Q9YTt0aGlzLmRjPWJ9SmUucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXt2YXIgYj14KHRoaXMub2QsYSk7aWYoIWIpdGhyb3cgRXJyb3IoXCJObyBpbmRleCBkZWZpbmVkIGZvciBcIithKTtyZXR1cm4gYj09PXZlP251bGw6Yn07ZnVuY3Rpb24gS2UoYSxiLGMpe3ZhciBkPW9hKGEub2QsZnVuY3Rpb24oZCxmKXt2YXIgaD14KGEuZGMsZik7SChoLFwiTWlzc2luZyBpbmRleCBpbXBsZW1lbnRhdGlvbiBmb3IgXCIrZik7aWYoZD09PXZlKXtpZihoLnljKGIuUykpe2Zvcih2YXIgaz1bXSxtPWMuWGIoSmMpLGw9UihtKTtsOylsLm5hbWUhPWIubmFtZSYmay5wdXNoKGwpLGw9UihtKTtrLnB1c2goYik7cmV0dXJuIExlKGssb2UoaCkpfXJldHVybiB2ZX1oPWMuZ2V0KGIubmFtZSk7az1kO2gmJihrPWsucmVtb3ZlKG5ldyBLKGIubmFtZSxoKSkpO3JldHVybiBrLlJhKGIsYi5TKX0pO3JldHVybiBuZXcgSmUoZCxhLmRjKX1cbmZ1bmN0aW9uIE1lKGEsYixjKXt2YXIgZD1vYShhLm9kLGZ1bmN0aW9uKGEpe2lmKGE9PT12ZSlyZXR1cm4gYTt2YXIgZD1jLmdldChiLm5hbWUpO3JldHVybiBkP2EucmVtb3ZlKG5ldyBLKGIubmFtZSxkKSk6YX0pO3JldHVybiBuZXcgSmUoZCxhLmRjKX12YXIgTmU9bmV3IEplKHtcIi5wcmlvcml0eVwiOnZlfSx7XCIucHJpb3JpdHlcIjpOfSk7ZnVuY3Rpb24gT2UoKXt0aGlzLnNldD17fX1nPU9lLnByb3RvdHlwZTtnLmFkZD1mdW5jdGlvbihhLGIpe3RoaXMuc2V0W2FdPW51bGwhPT1iP2I6ITB9O2cuY29udGFpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIEJiKHRoaXMuc2V0LGEpfTtnLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb250YWlucyhhKT90aGlzLnNldFthXTp2b2lkIDB9O2cucmVtb3ZlPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLnNldFthXX07Zy5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2V0PXt9fTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4geGEodGhpcy5zZXQpfTtnLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHFhKHRoaXMuc2V0KX07ZnVuY3Rpb24gUGUoYSxiKXt0KGEuc2V0LGZ1bmN0aW9uKGEsZCl7YihkLGEpfSl9Zy5rZXlzPWZ1bmN0aW9uKCl7dmFyIGE9W107dCh0aGlzLnNldCxmdW5jdGlvbihiLGMpe2EucHVzaChjKX0pO3JldHVybiBhfTtmdW5jdGlvbiBRZShhLGIsYyxkKXt0aGlzLlpkPWE7dGhpcy5mPVljKGEpO3RoaXMua2M9Yjt0aGlzLnFiPXRoaXMucmI9MDt0aGlzLlhhPUFkKGIpO3RoaXMuQmY9Yzt0aGlzLnhjPSExO3RoaXMuRGI9ZDt0aGlzLlljPWZ1bmN0aW9uKGEpe3JldHVybiBpYyhiLFwibG9uZ19wb2xsaW5nXCIsYSl9fXZhciBSZSxTZTtcblFlLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYil7dGhpcy5RZT0wO3RoaXMuamE9Yjt0aGlzLmZmPW5ldyBSYihhKTt0aGlzLkJiPSExO3ZhciBjPXRoaXM7dGhpcy50Yj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5mKFwiVGltZWQgb3V0IHRyeWluZyB0byBjb25uZWN0LlwiKTtjLmZiKCk7Yy50Yj1udWxsfSxNYXRoLmZsb29yKDNFNCkpO2NkKGZ1bmN0aW9uKCl7aWYoIWMuQmIpe2MuV2E9bmV3IFRlKGZ1bmN0aW9uKGEsYixkLGssbSl7VWUoYyxhcmd1bWVudHMpO2lmKGMuV2EpaWYoYy50YiYmKGNsZWFyVGltZW91dChjLnRiKSxjLnRiPW51bGwpLGMueGM9ITAsXCJzdGFydFwiPT1hKWMuaWQ9YixjLm1mPWQ7ZWxzZSBpZihcImNsb3NlXCI9PT1hKWI/KGMuV2EuS2Q9ITEsU2IoYy5mZixiLGZ1bmN0aW9uKCl7Yy5mYigpfSkpOmMuZmIoKTtlbHNlIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGNvbW1hbmQgcmVjZWl2ZWQ6IFwiK2EpO30sZnVuY3Rpb24oYSxiKXtVZShjLGFyZ3VtZW50cyk7XG5UYihjLmZmLGEsYil9LGZ1bmN0aW9uKCl7Yy5mYigpfSxjLlljKTt2YXIgYT17c3RhcnQ6XCJ0XCJ9O2Euc2VyPU1hdGguZmxvb3IoMUU4Kk1hdGgucmFuZG9tKCkpO2MuV2EuUWQmJihhLmNiPWMuV2EuUWQpO2Eudj1cIjVcIjtjLkJmJiYoYS5zPWMuQmYpO2MuRGImJihhLmxzPWMuRGIpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgbG9jYXRpb24mJmxvY2F0aW9uLmhyZWYmJi0xIT09bG9jYXRpb24uaHJlZi5pbmRleE9mKFwiZmlyZWJhc2Vpby5jb21cIikmJihhLnI9XCJmXCIpO2E9Yy5ZYyhhKTtjLmYoXCJDb25uZWN0aW5nIHZpYSBsb25nLXBvbGwgdG8gXCIrYSk7VmUoYy5XYSxhLGZ1bmN0aW9uKCl7fSl9fSl9O1xuUWUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5XYSxiPXRoaXMubWY7YS5mZz10aGlzLmlkO2EuZ2c9Yjtmb3IoYS5VZD0hMDtXZShhKTspO2E9dGhpcy5pZDtiPXRoaXMubWY7dGhpcy5nYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3ZhciBjPXtkZnJhbWU6XCJ0XCJ9O2MuaWQ9YTtjLnB3PWI7dGhpcy5nYy5zcmM9dGhpcy5ZYyhjKTt0aGlzLmdjLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmdjKX07XG5RZS5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiBSZXx8IVNlJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZudWxsIT1kb2N1bWVudC5jcmVhdGVFbGVtZW50JiYhKFwib2JqZWN0XCI9PT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY2hyb21lJiZ3aW5kb3cuY2hyb21lLmV4dGVuc2lvbiYmIS9eY2hyb21lLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSkmJiEoXCJvYmplY3RcIj09PXR5cGVvZiBXaW5kb3dzJiZcIm9iamVjdFwiPT09dHlwZW9mIFdpbmRvd3MuRGcpJiYhMH07Zz1RZS5wcm90b3R5cGU7Zy5zZD1mdW5jdGlvbigpe307Zy5UYz1mdW5jdGlvbigpe3RoaXMuQmI9ITA7dGhpcy5XYSYmKHRoaXMuV2EuY2xvc2UoKSx0aGlzLldhPW51bGwpO3RoaXMuZ2MmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZ2MpLHRoaXMuZ2M9bnVsbCk7dGhpcy50YiYmKGNsZWFyVGltZW91dCh0aGlzLnRiKSx0aGlzLnRiPW51bGwpfTtcbmcuZmI9ZnVuY3Rpb24oKXt0aGlzLkJifHwodGhpcy5mKFwiTG9uZ3BvbGwgaXMgY2xvc2luZyBpdHNlbGZcIiksdGhpcy5UYygpLHRoaXMuamEmJih0aGlzLmphKHRoaXMueGMpLHRoaXMuamE9bnVsbCkpfTtnLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5CYnx8KHRoaXMuZihcIkxvbmdwb2xsIGlzIGJlaW5nIGNsb3NlZC5cIiksdGhpcy5UYygpKX07Zy5zZW5kPWZ1bmN0aW9uKGEpe2E9QihhKTt0aGlzLnJiKz1hLmxlbmd0aDtrYyh0aGlzLlhhLFwiYnl0ZXNfc2VudFwiLGEubGVuZ3RoKTthPU1iKGEpO2E9YWIoYSwhMCk7YT1nZChhLDE4NDApO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz10aGlzLldhO2MuUWMucHVzaCh7dWc6dGhpcy5RZSxCZzphLmxlbmd0aCxTZTphW2JdfSk7Yy5VZCYmV2UoYyk7dGhpcy5RZSsrfX07ZnVuY3Rpb24gVWUoYSxiKXt2YXIgYz1CKGIpLmxlbmd0aDthLnFiKz1jO2tjKGEuWGEsXCJieXRlc19yZWNlaXZlZFwiLGMpfVxuZnVuY3Rpb24gVGUoYSxiLGMsZCl7dGhpcy5ZYz1kO3RoaXMua2I9Yzt0aGlzLnZlPW5ldyBPZTt0aGlzLlFjPVtdO3RoaXMuJGQ9TWF0aC5mbG9vcigxRTgqTWF0aC5yYW5kb20oKSk7dGhpcy5LZD0hMDt0aGlzLlFkPVJjKCk7d2luZG93W1wicExQQ29tbWFuZFwiK3RoaXMuUWRdPWE7d2luZG93W1wicFJUTFBDQlwiK3RoaXMuUWRdPWI7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2Euc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtpZihkb2N1bWVudC5ib2R5KXtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO3RyeXthLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnR8fEUoXCJObyBJRSBkb21haW4gc2V0dGluZyByZXF1aXJlZFwiKX1jYXRjaChlKXthLnNyYz1cImphdmFzY3JpcHQ6dm9pZCgoZnVuY3Rpb24oKXtkb2N1bWVudC5vcGVuKCk7ZG9jdW1lbnQuZG9tYWluPSdcIitkb2N1bWVudC5kb21haW4rXCInO2RvY3VtZW50LmNsb3NlKCk7fSkoKSlcIn19ZWxzZSB0aHJvd1wiRG9jdW1lbnQgYm9keSBoYXMgbm90IGluaXRpYWxpemVkLiBXYWl0IHRvIGluaXRpYWxpemUgRmlyZWJhc2UgdW50aWwgYWZ0ZXIgdGhlIGRvY3VtZW50IGlzIHJlYWR5LlwiO1xuYS5jb250ZW50RG9jdW1lbnQ/YS5pYj1hLmNvbnRlbnREb2N1bWVudDphLmNvbnRlbnRXaW5kb3c/YS5pYj1hLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6YS5kb2N1bWVudCYmKGEuaWI9YS5kb2N1bWVudCk7dGhpcy5HYT1hO2E9XCJcIjt0aGlzLkdhLnNyYyYmXCJqYXZhc2NyaXB0OlwiPT09dGhpcy5HYS5zcmMuc3Vic3RyKDAsMTEpJiYoYT0nPHNjcmlwdD5kb2N1bWVudC5kb21haW49XCInK2RvY3VtZW50LmRvbWFpbisnXCI7XFx4M2Mvc2NyaXB0PicpO2E9XCI8aHRtbD48Ym9keT5cIithK1wiPC9ib2R5PjwvaHRtbD5cIjt0cnl7dGhpcy5HYS5pYi5vcGVuKCksdGhpcy5HYS5pYi53cml0ZShhKSx0aGlzLkdhLmliLmNsb3NlKCl9Y2F0Y2goZil7RShcImZyYW1lIHdyaXRpbmcgZXhjZXB0aW9uXCIpLGYuc3RhY2smJkUoZi5zdGFjayksRShmKX19XG5UZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLlVkPSExO2lmKHRoaXMuR2Epe3RoaXMuR2EuaWIuYm9keS5pbm5lckhUTUw9XCJcIjt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtudWxsIT09YS5HYSYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYS5HYSksYS5HYT1udWxsKX0sTWF0aC5mbG9vcigwKSl9dmFyIGI9dGhpcy5rYjtiJiYodGhpcy5rYj1udWxsLGIoKSl9O1xuZnVuY3Rpb24gV2UoYSl7aWYoYS5VZCYmYS5LZCYmYS52ZS5jb3VudCgpPCgwPGEuUWMubGVuZ3RoPzI6MSkpe2EuJGQrKzt2YXIgYj17fTtiLmlkPWEuZmc7Yi5wdz1hLmdnO2Iuc2VyPWEuJGQ7Zm9yKHZhciBiPWEuWWMoYiksYz1cIlwiLGQ9MDswPGEuUWMubGVuZ3RoOylpZigxODcwPj1hLlFjWzBdLlNlLmxlbmd0aCszMCtjLmxlbmd0aCl7dmFyIGU9YS5RYy5zaGlmdCgpLGM9YytcIiZzZWdcIitkK1wiPVwiK2UudWcrXCImdHNcIitkK1wiPVwiK2UuQmcrXCImZFwiK2QrXCI9XCIrZS5TZTtkKyt9ZWxzZSBicmVhaztYZShhLGIrYyxhLiRkKTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBYZShhLGIsYyl7ZnVuY3Rpb24gZCgpe2EudmUucmVtb3ZlKGMpO1dlKGEpfWEudmUuYWRkKGMsMSk7dmFyIGU9c2V0VGltZW91dChkLE1hdGguZmxvb3IoMjVFMykpO1ZlKGEsYixmdW5jdGlvbigpe2NsZWFyVGltZW91dChlKTtkKCl9KX1cbmZ1bmN0aW9uIFZlKGEsYixjKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dHJ5e2lmKGEuS2Qpe3ZhciBkPWEuR2EuaWIuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtkLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtkLmFzeW5jPSEwO2Quc3JjPWI7ZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgYT1kLnJlYWR5U3RhdGU7YSYmXCJsb2FkZWRcIiE9PWEmJlwiY29tcGxldGVcIiE9PWF8fChkLm9ubG9hZD1kLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGQucGFyZW50Tm9kZSYmZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpLGMoKSl9O2Qub25lcnJvcj1mdW5jdGlvbigpe0UoXCJMb25nLXBvbGwgc2NyaXB0IGZhaWxlZCB0byBsb2FkOiBcIitiKTthLktkPSExO2EuY2xvc2UoKX07YS5HYS5pYi5ib2R5LmFwcGVuZENoaWxkKGQpfX1jYXRjaChlKXt9fSxNYXRoLmZsb29yKDEpKX07ZnVuY3Rpb24gWWUoYSl7WmUodGhpcyxhKX12YXIgJGU9W1FlLERkXTtmdW5jdGlvbiBaZShhLGIpe3ZhciBjPURkJiZEZC5pc0F2YWlsYWJsZSgpLGQ9YyYmIShZYi5jZnx8ITA9PT1ZYi5nZXQoXCJwcmV2aW91c193ZWJzb2NrZXRfZmFpbHVyZVwiKSk7Yi5DZyYmKGN8fE8oXCJ3c3M6Ly8gVVJMIHVzZWQsIGJ1dCBicm93c2VyIGlzbid0IGtub3duIHRvIHN1cHBvcnQgd2Vic29ja2V0cy4gIFRyeWluZyBhbnl3YXkuXCIpLGQ9ITApO2lmKGQpYS5XYz1bRGRdO2Vsc2V7dmFyIGU9YS5XYz1bXTtoZCgkZSxmdW5jdGlvbihhLGIpe2ImJmIuaXNBdmFpbGFibGUoKSYmZS5wdXNoKGIpfSl9fWZ1bmN0aW9uIGFmKGEpe2lmKDA8YS5XYy5sZW5ndGgpcmV0dXJuIGEuV2NbMF07dGhyb3cgRXJyb3IoXCJObyB0cmFuc3BvcnRzIGF2YWlsYWJsZVwiKTt9O2Z1bmN0aW9uIGJmKGEsYixjLGQsZSxmLGgpe3RoaXMuaWQ9YTt0aGlzLmY9WWMoXCJjOlwiK3RoaXMuaWQrXCI6XCIpO3RoaXMudGU9Yzt0aGlzLk1jPWQ7dGhpcy5qYT1lO3RoaXMuc2U9Zjt0aGlzLk09Yjt0aGlzLkFkPVtdO3RoaXMuT2U9MDt0aGlzLkFmPW5ldyBZZShiKTt0aGlzLkw9MDt0aGlzLkRiPWg7dGhpcy5mKFwiQ29ubmVjdGlvbiBjcmVhdGVkXCIpO2NmKHRoaXMpfVxuZnVuY3Rpb24gY2YoYSl7dmFyIGI9YWYoYS5BZik7YS5JPW5ldyBiKFwiYzpcIithLmlkK1wiOlwiK2EuT2UrKyxhLk0sdm9pZCAwLGEuRGIpO2EueGU9Yi5yZXNwb25zZXNSZXF1aXJlZFRvQmVIZWFsdGh5fHwwO3ZhciBjPWRmKGEsYS5JKSxkPWVmKGEsYS5JKTthLlhjPWEuSTthLlJjPWEuSTthLkQ9bnVsbDthLkNiPSExO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLkkmJmEuSS5vcGVuKGMsZCl9LE1hdGguZmxvb3IoMCkpO2I9Yi5oZWFsdGh5VGltZW91dHx8MDswPGImJihhLm1kPWxkKGZ1bmN0aW9uKCl7YS5tZD1udWxsO2EuQ2J8fChhLkkmJjEwMjQwMDxhLkkucWI/KGEuZihcIkNvbm5lY3Rpb24gZXhjZWVkZWQgaGVhbHRoeSB0aW1lb3V0IGJ1dCBoYXMgcmVjZWl2ZWQgXCIrYS5JLnFiK1wiIGJ5dGVzLiAgTWFya2luZyBjb25uZWN0aW9uIGhlYWx0aHkuXCIpLGEuQ2I9ITAsYS5JLnNkKCkpOmEuSSYmMTAyNDA8YS5JLnJiP2EuZihcIkNvbm5lY3Rpb24gZXhjZWVkZWQgaGVhbHRoeSB0aW1lb3V0IGJ1dCBoYXMgc2VudCBcIitcbmEuSS5yYitcIiBieXRlcy4gIExlYXZpbmcgY29ubmVjdGlvbiBhbGl2ZS5cIik6KGEuZihcIkNsb3NpbmcgdW5oZWFsdGh5IGNvbm5lY3Rpb24gYWZ0ZXIgdGltZW91dC5cIiksYS5jbG9zZSgpKSl9LE1hdGguZmxvb3IoYikpKX1mdW5jdGlvbiBlZihhLGIpe3JldHVybiBmdW5jdGlvbihjKXtiPT09YS5JPyhhLkk9bnVsbCxjfHwwIT09YS5MPzE9PT1hLkwmJmEuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gbG9zdC5cIik6KGEuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZmFpbGVkLlwiKSxcInMtXCI9PT1hLk0uYmIuc3Vic3RyKDAsMikmJihZYi5yZW1vdmUoXCJob3N0OlwiK2EuTS5ob3N0KSxhLk0uYmI9YS5NLmhvc3QpKSxhLmNsb3NlKCkpOmI9PT1hLkQ/KGEuZihcIlNlY29uZGFyeSBjb25uZWN0aW9uIGxvc3QuXCIpLGM9YS5ELGEuRD1udWxsLGEuWGMhPT1jJiZhLlJjIT09Y3x8YS5jbG9zZSgpKTphLmYoXCJjbG9zaW5nIGFuIG9sZCBjb25uZWN0aW9uXCIpfX1cbmZ1bmN0aW9uIGRmKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKDIhPWEuTClpZihiPT09YS5SYyl7dmFyIGQ9ZWQoXCJ0XCIsYyk7Yz1lZChcImRcIixjKTtpZihcImNcIj09ZCl7aWYoZD1lZChcInRcIixjKSxcImRcImluIGMpaWYoYz1jLmQsXCJoXCI9PT1kKXt2YXIgZD1jLnRzLGU9Yy52LGY9Yy5oO2EueWY9Yy5zO2hjKGEuTSxmKTswPT1hLkwmJihhLkkuc3RhcnQoKSxmZihhLGEuSSxkKSxcIjVcIiE9PWUmJk8oXCJQcm90b2NvbCB2ZXJzaW9uIG1pc21hdGNoIGRldGVjdGVkXCIpLGM9YS5BZiwoYz0xPGMuV2MubGVuZ3RoP2MuV2NbMV06bnVsbCkmJmdmKGEsYykpfWVsc2UgaWYoXCJuXCI9PT1kKXthLmYoXCJyZWN2ZCBlbmQgdHJhbnNtaXNzaW9uIG9uIHByaW1hcnlcIik7YS5SYz1hLkQ7Zm9yKGM9MDtjPGEuQWQubGVuZ3RoOysrYylhLndkKGEuQWRbY10pO2EuQWQ9W107aGYoYSl9ZWxzZVwic1wiPT09ZD8oYS5mKFwiQ29ubmVjdGlvbiBzaHV0ZG93biBjb21tYW5kIHJlY2VpdmVkLiBTaHV0dGluZyBkb3duLi4uXCIpLFxuYS5zZSYmKGEuc2UoYyksYS5zZT1udWxsKSxhLmphPW51bGwsYS5jbG9zZSgpKTpcInJcIj09PWQ/KGEuZihcIlJlc2V0IHBhY2tldCByZWNlaXZlZC4gIE5ldyBob3N0OiBcIitjKSxoYyhhLk0sYyksMT09PWEuTD9hLmNsb3NlKCk6KGpmKGEpLGNmKGEpKSk6XCJlXCI9PT1kP1pjKFwiU2VydmVyIEVycm9yOiBcIitjKTpcIm9cIj09PWQ/KGEuZihcImdvdCBwb25nIG9uIHByaW1hcnkuXCIpLGtmKGEpLGxmKGEpKTpaYyhcIlVua25vd24gY29udHJvbCBwYWNrZXQgY29tbWFuZDogXCIrZCl9ZWxzZVwiZFwiPT1kJiZhLndkKGMpfWVsc2UgaWYoYj09PWEuRClpZihkPWVkKFwidFwiLGMpLGM9ZWQoXCJkXCIsYyksXCJjXCI9PWQpXCJ0XCJpbiBjJiYoYz1jLnQsXCJhXCI9PT1jP21mKGEpOlwiclwiPT09Yz8oYS5mKFwiR290IGEgcmVzZXQgb24gc2Vjb25kYXJ5LCBjbG9zaW5nIGl0XCIpLGEuRC5jbG9zZSgpLGEuWGMhPT1hLkQmJmEuUmMhPT1hLkR8fGEuY2xvc2UoKSk6XCJvXCI9PT1jJiYoYS5mKFwiZ290IHBvbmcgb24gc2Vjb25kYXJ5LlwiKSxcbmEueGYtLSxtZihhKSkpO2Vsc2UgaWYoXCJkXCI9PWQpYS5BZC5wdXNoKGMpO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIHByb3RvY29sIGxheWVyOiBcIitkKTtlbHNlIGEuZihcIm1lc3NhZ2Ugb24gb2xkIGNvbm5lY3Rpb25cIil9fWJmLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtuZih0aGlzLHt0OlwiZFwiLGQ6YX0pfTtmdW5jdGlvbiBoZihhKXthLlhjPT09YS5EJiZhLlJjPT09YS5EJiYoYS5mKFwiY2xlYW5pbmcgdXAgYW5kIHByb21vdGluZyBhIGNvbm5lY3Rpb246IFwiK2EuRC5aZCksYS5JPWEuRCxhLkQ9bnVsbCl9XG5mdW5jdGlvbiBtZihhKXswPj1hLnhmPyhhLmYoXCJTZWNvbmRhcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLkNiPSEwLGEuRC5zZCgpLGEuRC5zdGFydCgpLGEuZihcInNlbmRpbmcgY2xpZW50IGFjayBvbiBzZWNvbmRhcnlcIiksYS5ELnNlbmQoe3Q6XCJjXCIsZDp7dDpcImFcIixkOnt9fX0pLGEuZihcIkVuZGluZyB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKSxhLkkuc2VuZCh7dDpcImNcIixkOnt0OlwiblwiLGQ6e319fSksYS5YYz1hLkQsaGYoYSkpOihhLmYoXCJzZW5kaW5nIHBpbmcgb24gc2Vjb25kYXJ5LlwiKSxhLkQuc2VuZCh7dDpcImNcIixkOnt0OlwicFwiLGQ6e319fSkpfWJmLnByb3RvdHlwZS53ZD1mdW5jdGlvbihhKXtrZih0aGlzKTt0aGlzLnRlKGEpfTtmdW5jdGlvbiBrZihhKXthLkNifHwoYS54ZS0tLDA+PWEueGUmJihhLmYoXCJQcmltYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksYS5DYj0hMCxhLkkuc2QoKSkpfVxuZnVuY3Rpb24gZ2YoYSxiKXthLkQ9bmV3IGIoXCJjOlwiK2EuaWQrXCI6XCIrYS5PZSsrLGEuTSxhLnlmKTthLnhmPWIucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeXx8MDthLkQub3BlbihkZihhLGEuRCksZWYoYSxhLkQpKTtsZChmdW5jdGlvbigpe2EuRCYmKGEuZihcIlRpbWVkIG91dCB0cnlpbmcgdG8gdXBncmFkZS5cIiksYS5ELmNsb3NlKCkpfSxNYXRoLmZsb29yKDZFNCkpfWZ1bmN0aW9uIGZmKGEsYixjKXthLmYoXCJSZWFsdGltZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKTthLkk9YjthLkw9MTthLk1jJiYoYS5NYyhjLGEueWYpLGEuTWM9bnVsbCk7MD09PWEueGU/KGEuZihcIlByaW1hcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLkNiPSEwKTpsZChmdW5jdGlvbigpe2xmKGEpfSxNYXRoLmZsb29yKDVFMykpfVxuZnVuY3Rpb24gbGYoYSl7YS5DYnx8MSE9PWEuTHx8KGEuZihcInNlbmRpbmcgcGluZyBvbiBwcmltYXJ5LlwiKSxuZihhLHt0OlwiY1wiLGQ6e3Q6XCJwXCIsZDp7fX19KSl9ZnVuY3Rpb24gbmYoYSxiKXtpZigxIT09YS5MKXRocm93XCJDb25uZWN0aW9uIGlzIG5vdCBjb25uZWN0ZWRcIjthLlhjLnNlbmQoYil9YmYucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7MiE9PXRoaXMuTCYmKHRoaXMuZihcIkNsb3NpbmcgcmVhbHRpbWUgY29ubmVjdGlvbi5cIiksdGhpcy5MPTIsamYodGhpcyksdGhpcy5qYSYmKHRoaXMuamEoKSx0aGlzLmphPW51bGwpKX07ZnVuY3Rpb24gamYoYSl7YS5mKFwiU2h1dHRpbmcgZG93biBhbGwgY29ubmVjdGlvbnNcIik7YS5JJiYoYS5JLmNsb3NlKCksYS5JPW51bGwpO2EuRCYmKGEuRC5jbG9zZSgpLGEuRD1udWxsKTthLm1kJiYoY2xlYXJUaW1lb3V0KGEubWQpLGEubWQ9bnVsbCl9O2Z1bmN0aW9uIEwoYSxiKXtpZigxPT1hcmd1bWVudHMubGVuZ3RoKXt0aGlzLm89YS5zcGxpdChcIi9cIik7Zm9yKHZhciBjPTAsZD0wO2Q8dGhpcy5vLmxlbmd0aDtkKyspMDx0aGlzLm9bZF0ubGVuZ3RoJiYodGhpcy5vW2NdPXRoaXMub1tkXSxjKyspO3RoaXMuby5sZW5ndGg9Yzt0aGlzLlo9MH1lbHNlIHRoaXMubz1hLHRoaXMuWj1ifWZ1bmN0aW9uIFQoYSxiKXt2YXIgYz1KKGEpO2lmKG51bGw9PT1jKXJldHVybiBiO2lmKGM9PT1KKGIpKXJldHVybiBUKEQoYSksRChiKSk7dGhyb3cgRXJyb3IoXCJJTlRFUk5BTCBFUlJPUjogaW5uZXJQYXRoIChcIitiK1wiKSBpcyBub3Qgd2l0aGluIG91dGVyUGF0aCAoXCIrYStcIilcIik7fVxuZnVuY3Rpb24gb2YoYSxiKXtmb3IodmFyIGM9YS5zbGljZSgpLGQ9Yi5zbGljZSgpLGU9MDtlPGMubGVuZ3RoJiZlPGQubGVuZ3RoO2UrKyl7dmFyIGY9SGMoY1tlXSxkW2VdKTtpZigwIT09ZilyZXR1cm4gZn1yZXR1cm4gYy5sZW5ndGg9PT1kLmxlbmd0aD8wOmMubGVuZ3RoPGQubGVuZ3RoPy0xOjF9ZnVuY3Rpb24gSihhKXtyZXR1cm4gYS5aPj1hLm8ubGVuZ3RoP251bGw6YS5vW2EuWl19ZnVuY3Rpb24gJGQoYSl7cmV0dXJuIGEuby5sZW5ndGgtYS5afWZ1bmN0aW9uIEQoYSl7dmFyIGI9YS5aO2I8YS5vLmxlbmd0aCYmYisrO3JldHVybiBuZXcgTChhLm8sYil9ZnVuY3Rpb24gYWUoYSl7cmV0dXJuIGEuWjxhLm8ubGVuZ3RoP2Eub1thLm8ubGVuZ3RoLTFdOm51bGx9Zz1MLnByb3RvdHlwZTtcbmcudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIGE9XCJcIixiPXRoaXMuWjtiPHRoaXMuby5sZW5ndGg7YisrKVwiXCIhPT10aGlzLm9bYl0mJihhKz1cIi9cIit0aGlzLm9bYl0pO3JldHVybiBhfHxcIi9cIn07Zy5zbGljZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vLnNsaWNlKHRoaXMuWisoYXx8MCkpfTtnLnBhcmVudD1mdW5jdGlvbigpe2lmKHRoaXMuWj49dGhpcy5vLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIGE9W10sYj10aGlzLlo7Yjx0aGlzLm8ubGVuZ3RoLTE7YisrKWEucHVzaCh0aGlzLm9bYl0pO3JldHVybiBuZXcgTChhLDApfTtcbmcuaz1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz10aGlzLlo7Yzx0aGlzLm8ubGVuZ3RoO2MrKyliLnB1c2godGhpcy5vW2NdKTtpZihhIGluc3RhbmNlb2YgTClmb3IoYz1hLlo7YzxhLm8ubGVuZ3RoO2MrKyliLnB1c2goYS5vW2NdKTtlbHNlIGZvcihhPWEuc3BsaXQoXCIvXCIpLGM9MDtjPGEubGVuZ3RoO2MrKykwPGFbY10ubGVuZ3RoJiZiLnB1c2goYVtjXSk7cmV0dXJuIG5ldyBMKGIsMCl9O2cuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlo+PXRoaXMuby5sZW5ndGh9O2cuJD1mdW5jdGlvbihhKXtpZigkZCh0aGlzKSE9PSRkKGEpKXJldHVybiExO2Zvcih2YXIgYj10aGlzLlosYz1hLlo7Yjw9dGhpcy5vLmxlbmd0aDtiKyssYysrKWlmKHRoaXMub1tiXSE9PWEub1tjXSlyZXR1cm4hMTtyZXR1cm4hMH07XG5nLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuWixjPWEuWjtpZigkZCh0aGlzKT4kZChhKSlyZXR1cm4hMTtmb3IoO2I8dGhpcy5vLmxlbmd0aDspe2lmKHRoaXMub1tiXSE9PWEub1tjXSlyZXR1cm4hMTsrK2I7KytjfXJldHVybiEwfTt2YXIgQz1uZXcgTChcIlwiKTtmdW5jdGlvbiBwZihhLGIpe3RoaXMuVGE9YS5zbGljZSgpO3RoaXMuS2E9TWF0aC5tYXgoMSx0aGlzLlRhLmxlbmd0aCk7dGhpcy5UZT1iO2Zvcih2YXIgYz0wO2M8dGhpcy5UYS5sZW5ndGg7YysrKXRoaXMuS2ErPU5iKHRoaXMuVGFbY10pO3FmKHRoaXMpfXBmLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEpezA8dGhpcy5UYS5sZW5ndGgmJih0aGlzLkthKz0xKTt0aGlzLlRhLnB1c2goYSk7dGhpcy5LYSs9TmIoYSk7cWYodGhpcyl9O3BmLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLlRhLnBvcCgpO3RoaXMuS2EtPU5iKGEpOzA8dGhpcy5UYS5sZW5ndGgmJi0tdGhpcy5LYX07XG5mdW5jdGlvbiBxZihhKXtpZig3Njg8YS5LYSl0aHJvdyBFcnJvcihhLlRlK1wiaGFzIGEga2V5IHBhdGggbG9uZ2VyIHRoYW4gNzY4IGJ5dGVzIChcIithLkthK1wiKS5cIik7aWYoMzI8YS5UYS5sZW5ndGgpdGhyb3cgRXJyb3IoYS5UZStcInBhdGggc3BlY2lmaWVkIGV4Y2VlZHMgdGhlIG1heGltdW0gZGVwdGggdGhhdCBjYW4gYmUgd3JpdHRlbiAoMzIpIG9yIG9iamVjdCBjb250YWlucyBhIGN5Y2xlIFwiK3JmKGEpKTt9ZnVuY3Rpb24gcmYoYSl7cmV0dXJuIDA9PWEuVGEubGVuZ3RoP1wiXCI6XCJpbiBwcm9wZXJ0eSAnXCIrYS5UYS5qb2luKFwiLlwiKStcIidcIn07ZnVuY3Rpb24gc2YoYSl7YSBpbnN0YW5jZW9mIHRmfHwkYyhcIkRvbid0IGNhbGwgbmV3IERhdGFiYXNlKCkgZGlyZWN0bHkgLSBwbGVhc2UgdXNlIGZpcmViYXNlLmRhdGFiYXNlKCkuXCIpO3RoaXMudWE9YTt0aGlzLmNhPW5ldyBVKGEsQyk7dGhpcy5JTlRFUk5BTD1uZXcgdWYodGhpcyl9dmFyIHZmPXtUSU1FU1RBTVA6e1wiLnN2XCI6XCJ0aW1lc3RhbXBcIn19O2c9c2YucHJvdG90eXBlO2cuYXBwPW51bGw7Zy5wZj1mdW5jdGlvbihhKXt3Zih0aGlzLFwicmVmXCIpO3koXCJkYXRhYmFzZS5yZWZcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHAoYSk/dGhpcy5jYS5rKGEpOnRoaXMuY2F9O1xuZy5yZz1mdW5jdGlvbihhKXt3Zih0aGlzLFwiZGF0YWJhc2UucmVmRnJvbVVSTFwiKTt5KFwiZGF0YWJhc2UucmVmRnJvbVVSTFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTt2YXIgYj1hZChhKTt4ZihcImRhdGFiYXNlLnJlZkZyb21VUkxcIixiKTt2YXIgYz1iLmtjO2MuaG9zdCE9PXRoaXMudWEuTS5ob3N0JiYkYyhcImRhdGFiYXNlLnJlZkZyb21VUkw6IEhvc3QgbmFtZSBkb2VzIG5vdCBtYXRjaCB0aGUgY3VycmVudCBkYXRhYmFzZTogKGZvdW5kIFwiK2MuaG9zdCtcIiBidXQgZXhwZWN0ZWQgXCIrdGhpcy51YS5NLmhvc3QrXCIpXCIpO3JldHVybiB0aGlzLnBmKGIucGF0aC50b1N0cmluZygpKX07ZnVuY3Rpb24gd2YoYSxiKXtudWxsPT09YS51YSYmJGMoXCJDYW5ub3QgY2FsbCBcIitiK1wiIG9uIGEgZGVsZXRlZCBkYXRhYmFzZS5cIil9Zy4kZj1mdW5jdGlvbigpe3koXCJkYXRhYmFzZS5nb09mZmxpbmVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7d2YodGhpcyxcImdvT2ZmbGluZVwiKTt0aGlzLnVhLmViKCl9O1xuZy5hZz1mdW5jdGlvbigpe3koXCJkYXRhYmFzZS5nb09ubGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTt3Zih0aGlzLFwiZ29PbmxpbmVcIik7dGhpcy51YS5sYygpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoc2YucHJvdG90eXBlLFwiYXBwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVhLmFwcH19KTtmdW5jdGlvbiB1ZihhKXt0aGlzLiRhPWF9dWYucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbigpe3dmKHRoaXMuJGEsXCJkZWxldGVcIik7dmFyIGE9eWYuV2IoKSxiPXRoaXMuJGEudWE7eChhLm5iLGIuYXBwLm5hbWUpIT09YiYmJGMoXCJEYXRhYmFzZSBcIitiLmFwcC5uYW1lK1wiIGhhcyBhbHJlYWR5IGJlZW4gZGVsZXRlZC5cIik7Yi5lYigpO2RlbGV0ZSBhLm5iW2IuYXBwLm5hbWVdO3RoaXMuJGEudWE9bnVsbDt0aGlzLiRhLmNhPW51bGw7dGhpcy4kYT10aGlzLiRhLklOVEVSTkFMPW51bGw7cmV0dXJuIGZpcmViYXNlLlByb21pc2UucmVzb2x2ZSgpfTtcbnNmLnByb3RvdHlwZS5yZWY9c2YucHJvdG90eXBlLnBmO3NmLnByb3RvdHlwZS5yZWZGcm9tVVJMPXNmLnByb3RvdHlwZS5yZztzZi5wcm90b3R5cGUuZ29PbmxpbmU9c2YucHJvdG90eXBlLmFnO3NmLnByb3RvdHlwZS5nb09mZmxpbmU9c2YucHJvdG90eXBlLiRmO3VmLnByb3RvdHlwZVtcImRlbGV0ZVwiXT11Zi5wcm90b3R5cGUuZGVsZXRlO2Z1bmN0aW9uIE1jKCl7dGhpcy5tPXRoaXMuQj1udWxsfU1jLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuQilyZXR1cm4gdGhpcy5CLlEoYSk7aWYoYS5lKCl8fG51bGw9PXRoaXMubSlyZXR1cm4gbnVsbDt2YXIgYj1KKGEpO2E9RChhKTtyZXR1cm4gdGhpcy5tLmNvbnRhaW5zKGIpP3RoaXMubS5nZXQoYikuZmluZChhKTpudWxsfTtmdW5jdGlvbiBPYyhhLGIsYyl7aWYoYi5lKCkpYS5CPWMsYS5tPW51bGw7ZWxzZSBpZihudWxsIT09YS5CKWEuQj1hLkIuRihiLGMpO2Vsc2V7bnVsbD09YS5tJiYoYS5tPW5ldyBPZSk7dmFyIGQ9SihiKTthLm0uY29udGFpbnMoZCl8fGEubS5hZGQoZCxuZXcgTWMpO2E9YS5tLmdldChkKTtiPUQoYik7T2MoYSxiLGMpfX1cbmZ1bmN0aW9uIHpmKGEsYil7aWYoYi5lKCkpcmV0dXJuIGEuQj1udWxsLGEubT1udWxsLCEwO2lmKG51bGwhPT1hLkIpe2lmKGEuQi5KKCkpcmV0dXJuITE7dmFyIGM9YS5CO2EuQj1udWxsO2MuUChOLGZ1bmN0aW9uKGIsYyl7T2MoYSxuZXcgTChiKSxjKX0pO3JldHVybiB6ZihhLGIpfXJldHVybiBudWxsIT09YS5tPyhjPUooYiksYj1EKGIpLGEubS5jb250YWlucyhjKSYmemYoYS5tLmdldChjKSxiKSYmYS5tLnJlbW92ZShjKSxhLm0uZSgpPyhhLm09bnVsbCwhMCk6ITEpOiEwfWZ1bmN0aW9uIE5jKGEsYixjKXtudWxsIT09YS5CP2MoYixhLkIpOmEuUChmdW5jdGlvbihhLGUpe3ZhciBmPW5ldyBMKGIudG9TdHJpbmcoKStcIi9cIithKTtOYyhlLGYsYyl9KX1NYy5wcm90b3R5cGUuUD1mdW5jdGlvbihhKXtudWxsIT09dGhpcy5tJiZQZSh0aGlzLm0sZnVuY3Rpb24oYixjKXthKGIsYyl9KX07dmFyIEFmPS9bXFxbXFxdLiMkXFwvXFx1MDAwMC1cXHUwMDFGXFx1MDA3Rl0vLEJmPS9bXFxbXFxdLiMkXFx1MDAwMC1cXHUwMDFGXFx1MDA3Rl0vO2Z1bmN0aW9uIENmKGEpe3JldHVybiBxKGEpJiYwIT09YS5sZW5ndGgmJiFBZi50ZXN0KGEpfWZ1bmN0aW9uIERmKGEpe3JldHVybiBudWxsPT09YXx8cShhKXx8ZmEoYSkmJiFiZChhKXx8aGEoYSkmJkJiKGEsXCIuc3ZcIil9ZnVuY3Rpb24gRWYoYSxiLGMsZCl7ZCYmIXAoYil8fEZmKERiKGEsMSxkKSxiLGMpfVxuZnVuY3Rpb24gRmYoYSxiLGMpe2MgaW5zdGFuY2VvZiBMJiYoYz1uZXcgcGYoYyxhKSk7aWYoIXAoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIHVuZGVmaW5lZCBcIityZihjKSk7aWYoZ2EoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIGEgZnVuY3Rpb24gXCIrcmYoYykrXCIgd2l0aCBjb250ZW50czogXCIrYi50b1N0cmluZygpKTtpZihiZChiKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgXCIrYi50b1N0cmluZygpK1wiIFwiK3JmKGMpKTtpZihxKGIpJiZiLmxlbmd0aD4xMDQ4NTc2MC8zJiYxMDQ4NTc2MDxOYihiKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgYSBzdHJpbmcgZ3JlYXRlciB0aGFuIDEwNDg1NzYwIHV0ZjggYnl0ZXMgXCIrcmYoYykrXCIgKCdcIitiLnN1YnN0cmluZygwLDUwKStcIi4uLicpXCIpO2lmKGhhKGIpKXt2YXIgZD0hMSxlPSExO0NiKGIsZnVuY3Rpb24oYixoKXtpZihcIi52YWx1ZVwiPT09YilkPSEwO2Vsc2UgaWYoXCIucHJpb3JpdHlcIiE9PWImJlwiLnN2XCIhPT1iJiYoZT1cbiEwLCFDZihiKSkpdGhyb3cgRXJyb3IoYStcIiBjb250YWlucyBhbiBpbnZhbGlkIGtleSAoXCIrYitcIikgXCIrcmYoYykrJy4gIEtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCInKTtjLnB1c2goYik7RmYoYSxoLGMpO2MucG9wKCl9KTtpZihkJiZlKXRocm93IEVycm9yKGErJyBjb250YWlucyBcIi52YWx1ZVwiIGNoaWxkICcrcmYoYykrXCIgaW4gYWRkaXRpb24gdG8gYWN0dWFsIGNoaWxkcmVuLlwiKTt9fVxuZnVuY3Rpb24gR2YoYSxiKXt2YXIgYyxkO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspe2Q9YltjXTtmb3IodmFyIGU9ZC5zbGljZSgpLGY9MDtmPGUubGVuZ3RoO2YrKylpZigoXCIucHJpb3JpdHlcIiE9PWVbZl18fGYhPT1lLmxlbmd0aC0xKSYmIUNmKGVbZl0pKXRocm93IEVycm9yKGErXCJjb250YWlucyBhbiBpbnZhbGlkIGtleSAoXCIrZVtmXStcIikgaW4gcGF0aCBcIitkLnRvU3RyaW5nKCkrJy4gS2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIicpO31iLnNvcnQob2YpO2U9bnVsbDtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKXtkPWJbY107aWYobnVsbCE9PWUmJmUuY29udGFpbnMoZCkpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIGEgcGF0aCBcIitlLnRvU3RyaW5nKCkrXCIgdGhhdCBpcyBhbmNlc3RvciBvZiBhbm90aGVyIHBhdGggXCIrZC50b1N0cmluZygpKTtlPWR9fVxuZnVuY3Rpb24gSGYoYSxiLGMpe3ZhciBkPURiKGEsMSwhMSk7aWYoIWhhKGIpfHxkYShiKSl0aHJvdyBFcnJvcihkK1wiIG11c3QgYmUgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNoaWxkcmVuIHRvIHJlcGxhY2UuXCIpO3ZhciBlPVtdO0NiKGIsZnVuY3Rpb24oYSxiKXt2YXIgaz1uZXcgTChhKTtGZihkLGIsYy5rKGspKTtpZihcIi5wcmlvcml0eVwiPT09YWUoaykmJiFEZihiKSl0aHJvdyBFcnJvcihkK1wiY29udGFpbnMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgJ1wiK2sudG9TdHJpbmcoKStcIicsIHdoaWNoIG11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpO2UucHVzaChrKX0pO0dmKGQsZSl9XG5mdW5jdGlvbiBJZihhLGIsYyl7aWYoYmQoYykpdGhyb3cgRXJyb3IoRGIoYSxiLCExKStcImlzIFwiK2MudG9TdHJpbmcoKStcIiwgYnV0IG11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpO2lmKCFEZihjKSl0aHJvdyBFcnJvcihEYihhLGIsITEpK1wibXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7fVxuZnVuY3Rpb24gSmYoYSxiLGMpe2lmKCFjfHxwKGIpKXN3aXRjaChiKXtjYXNlIFwidmFsdWVcIjpjYXNlIFwiY2hpbGRfYWRkZWRcIjpjYXNlIFwiY2hpbGRfcmVtb3ZlZFwiOmNhc2UgXCJjaGlsZF9jaGFuZ2VkXCI6Y2FzZSBcImNoaWxkX21vdmVkXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihEYihhLDEsYykrJ211c3QgYmUgYSB2YWxpZCBldmVudCB0eXBlOiBcInZhbHVlXCIsIFwiY2hpbGRfYWRkZWRcIiwgXCJjaGlsZF9yZW1vdmVkXCIsIFwiY2hpbGRfY2hhbmdlZFwiLCBvciBcImNoaWxkX21vdmVkXCIuJyk7fX1mdW5jdGlvbiBLZihhLGIpe2lmKHAoYikmJiFDZihiKSl0aHJvdyBFcnJvcihEYihhLDIsITApKyd3YXMgYW4gaW52YWxpZCBrZXk6IFwiJytiKydcIi4gIEZpcmViYXNlIGtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCIpLicpO31cbmZ1bmN0aW9uIExmKGEsYil7aWYoIXEoYil8fDA9PT1iLmxlbmd0aHx8QmYudGVzdChiKSl0aHJvdyBFcnJvcihEYihhLDEsITEpKyd3YXMgYW4gaW52YWxpZCBwYXRoOiBcIicrYisnXCIuIFBhdGhzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3MgYW5kIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIltcIiwgb3IgXCJdXCInKTt9ZnVuY3Rpb24gTWYoYSxiKXtpZihcIi5pbmZvXCI9PT1KKGIpKXRocm93IEVycm9yKGErXCIgZmFpbGVkOiBDYW4ndCBtb2RpZnkgZGF0YSB1bmRlciAvLmluZm8vXCIpO31cbmZ1bmN0aW9uIHhmKGEsYil7dmFyIGM9Yi5wYXRoLnRvU3RyaW5nKCksZDshKGQ9IXEoYi5rYy5ob3N0KXx8MD09PWIua2MuaG9zdC5sZW5ndGh8fCFDZihiLmtjLnBlKSkmJihkPTAhPT1jLmxlbmd0aCkmJihjJiYoYz1jLnJlcGxhY2UoL15cXC8qXFwuaW5mbyhcXC98JCkvLFwiL1wiKSksZD0hKHEoYykmJjAhPT1jLmxlbmd0aCYmIUJmLnRlc3QoYykpKTtpZihkKXRocm93IEVycm9yKERiKGEsMSwhMSkrJ211c3QgYmUgYSB2YWxpZCBmaXJlYmFzZSBVUkwgYW5kIHRoZSBwYXRoIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIltcIiwgb3IgXCJdXCIuJyk7fTtmdW5jdGlvbiBWKGEsYil7dGhpcy51YT1hO3RoaXMucmE9Yn1WLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oYSl7eShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLmNhbmNlbFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuY2FuY2VsXCIsMSxhLCEwKTt2YXIgYj1uZXcgSGI7dGhpcy51YS54ZCh0aGlzLnJhLEliKGIsYSkpO3JldHVybiBiLnNhfTtWLnByb3RvdHlwZS5jYW5jZWw9Vi5wcm90b3R5cGUuY2FuY2VsO1YucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXt5KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO01mKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsdGhpcy5yYSk7QShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnJlbW92ZVwiLDEsYSwhMCk7dmFyIGI9bmV3IEhiO05mKHRoaXMudWEsdGhpcy5yYSxudWxsLEliKGIsYSkpO3JldHVybiBiLnNhfTtcblYucHJvdG90eXBlLnJlbW92ZT1WLnByb3RvdHlwZS5yZW1vdmU7Vi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7eShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtNZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLHRoaXMucmEpO0VmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsYSx0aGlzLnJhLCExKTtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsMixiLCEwKTt2YXIgYz1uZXcgSGI7TmYodGhpcy51YSx0aGlzLnJhLGEsSWIoYyxiKSk7cmV0dXJuIGMuc2F9O1YucHJvdG90eXBlLnNldD1WLnByb3RvdHlwZS5zZXQ7XG5WLnByb3RvdHlwZS5LYj1mdW5jdGlvbihhLGIsYyl7eShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKTtNZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLHRoaXMucmEpO0VmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsYSx0aGlzLnJhLCExKTtJZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDIsYik7QShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDMsYywhMCk7dmFyIGQ9bmV3IEhiO09mKHRoaXMudWEsdGhpcy5yYSxhLGIsSWIoZCxjKSk7cmV0dXJuIGQuc2F9O1YucHJvdG90eXBlLnNldFdpdGhQcmlvcml0eT1WLnByb3RvdHlwZS5LYjtcblYucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3koXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7TWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIix0aGlzLnJhKTtpZihkYShhKSl7Zm9yKHZhciBjPXt9LGQ9MDtkPGEubGVuZ3RoOysrZCljW1wiXCIrZF09YVtkXTthPWM7TyhcIlBhc3NpbmcgYW4gQXJyYXkgdG8gRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlKCkgaXMgZGVwcmVjYXRlZC4gVXNlIHNldCgpIGlmIHlvdSB3YW50IHRvIG92ZXJ3cml0ZSB0aGUgZXhpc3RpbmcgZGF0YSwgb3IgYW4gT2JqZWN0IHdpdGggaW50ZWdlciBrZXlzIGlmIHlvdSByZWFsbHkgZG8gd2FudCB0byBvbmx5IHVwZGF0ZSBzb21lIG9mIHRoZSBjaGlsZHJlbi5cIil9SGYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIixhLHRoaXMucmEpO0EoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIiwyLGIsITApO1xuYz1uZXcgSGI7UGYodGhpcy51YSx0aGlzLnJhLGEsSWIoYyxiKSk7cmV0dXJuIGMuc2F9O1YucHJvdG90eXBlLnVwZGF0ZT1WLnByb3RvdHlwZS51cGRhdGU7ZnVuY3Rpb24gUWYoYSl7SChkYShhKSYmMDxhLmxlbmd0aCxcIlJlcXVpcmVzIGEgbm9uLWVtcHR5IGFycmF5XCIpO3RoaXMuS2Y9YTt0aGlzLkVjPXt9fVFmLnByb3RvdHlwZS5HZT1mdW5jdGlvbihhLGIpe3ZhciBjO2M9dGhpcy5FY1thXXx8W107dmFyIGQ9Yy5sZW5ndGg7aWYoMDxkKXtmb3IodmFyIGU9QXJyYXkoZCksZj0wO2Y8ZDtmKyspZVtmXT1jW2ZdO2M9ZX1lbHNlIGM9W107Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyljW2RdLktlLmFwcGx5KGNbZF0uUGEsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX07UWYucHJvdG90eXBlLmhjPWZ1bmN0aW9uKGEsYixjKXtSZih0aGlzLGEpO3RoaXMuRWNbYV09dGhpcy5FY1thXXx8W107dGhpcy5FY1thXS5wdXNoKHtLZTpiLFBhOmN9KTsoYT10aGlzLlllKGEpKSYmYi5hcHBseShjLGEpfTtcblFmLnByb3RvdHlwZS5KYz1mdW5jdGlvbihhLGIsYyl7UmYodGhpcyxhKTthPXRoaXMuRWNbYV18fFtdO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGFbZF0uS2U9PT1iJiYoIWN8fGM9PT1hW2RdLlBhKSl7YS5zcGxpY2UoZCwxKTticmVha319O2Z1bmN0aW9uIFJmKGEsYil7SChPYShhLktmLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0pLFwiVW5rbm93biBldmVudDogXCIrYil9O2Z1bmN0aW9uIFNmKCl7UWYuY2FsbCh0aGlzLFtcIm9ubGluZVwiXSk7dGhpcy5pYz0hMDtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmIVFiKCkpe3ZhciBhPXRoaXM7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIixmdW5jdGlvbigpe2EuaWN8fChhLmljPSEwLGEuR2UoXCJvbmxpbmVcIiwhMCkpfSwhMSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsZnVuY3Rpb24oKXthLmljJiYoYS5pYz0hMSxhLkdlKFwib25saW5lXCIsITEpKX0sITEpfX1rYShTZixRZik7U2YucHJvdG90eXBlLlllPWZ1bmN0aW9uKGEpe0goXCJvbmxpbmVcIj09PWEsXCJVbmtub3duIGV2ZW50IHR5cGU6IFwiK2EpO3JldHVyblt0aGlzLmljXX07YmEoU2YpO2Z1bmN0aW9uIFRmKCl7UWYuY2FsbCh0aGlzLFtcInZpc2libGVcIl0pO3ZhciBhLGI7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudCYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyJiYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5oaWRkZW4/KGI9XCJ2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cImhpZGRlblwiKTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50Lm1vekhpZGRlbj8oYj1cIm1venZpc2liaWxpdHljaGFuZ2VcIixhPVwibW96SGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQubXNIaWRkZW4/KGI9XCJtc3Zpc2liaWxpdHljaGFuZ2VcIixhPVwibXNIaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC53ZWJraXRIaWRkZW4mJihiPVwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJ3ZWJraXRIaWRkZW5cIikpO3RoaXMuTmI9ITA7aWYoYil7dmFyIGM9dGhpcztkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGIsXG5mdW5jdGlvbigpe3ZhciBiPSFkb2N1bWVudFthXTtiIT09Yy5OYiYmKGMuTmI9YixjLkdlKFwidmlzaWJsZVwiLGIpKX0sITEpfX1rYShUZixRZik7VGYucHJvdG90eXBlLlllPWZ1bmN0aW9uKGEpe0goXCJ2aXNpYmxlXCI9PT1hLFwiVW5rbm93biBldmVudCB0eXBlOiBcIithKTtyZXR1cm5bdGhpcy5OYl19O2JhKFRmKTt2YXIgVWY9ZnVuY3Rpb24oKXt2YXIgYT0wLGI9W107cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWM9PT1hO2E9Yztmb3IodmFyIGU9QXJyYXkoOCksZj03OzA8PWY7Zi0tKWVbZl09XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGMlNjQpLGM9TWF0aC5mbG9vcihjLzY0KTtIKDA9PT1jLFwiQ2Fubm90IHB1c2ggYXQgdGltZSA9PSAwXCIpO2M9ZS5qb2luKFwiXCIpO2lmKGQpe2ZvcihmPTExOzA8PWYmJjYzPT09YltmXTtmLS0pYltmXT0wO2JbZl0rK31lbHNlIGZvcihmPTA7MTI+ZjtmKyspYltmXT1NYXRoLmZsb29yKDY0Kk1hdGgucmFuZG9tKCkpO2ZvcihmPTA7MTI+ZjtmKyspYys9XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGJbZl0pO0goMjA9PT1jLmxlbmd0aCxcIm5leHRQdXNoSWQ6IExlbmd0aCBzaG91bGQgYmUgMjAuXCIpO1xucmV0dXJuIGN9fSgpO2Z1bmN0aW9uIFZmKGEsYil7dGhpcy5PYT1hO3RoaXMuY2E9Yj9iOldmfWc9VmYucHJvdG90eXBlO2cuUmE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFZmKHRoaXMuT2EsdGhpcy5jYS5SYShhLGIsdGhpcy5PYSkuWShudWxsLG51bGwsITEsbnVsbCxudWxsKSl9O2cucmVtb3ZlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgVmYodGhpcy5PYSx0aGlzLmNhLnJlbW92ZShhLHRoaXMuT2EpLlkobnVsbCxudWxsLCExLG51bGwsbnVsbCkpfTtnLmdldD1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLmNhOyFjLmUoKTspe2I9dGhpcy5PYShhLGMua2V5KTtpZigwPT09YilyZXR1cm4gYy52YWx1ZTswPmI/Yz1jLmxlZnQ6MDxiJiYoYz1jLnJpZ2h0KX1yZXR1cm4gbnVsbH07XG5mdW5jdGlvbiBYZihhLGIpe2Zvcih2YXIgYyxkPWEuY2EsZT1udWxsOyFkLmUoKTspe2M9YS5PYShiLGQua2V5KTtpZigwPT09Yyl7aWYoZC5sZWZ0LmUoKSlyZXR1cm4gZT9lLmtleTpudWxsO2ZvcihkPWQubGVmdDshZC5yaWdodC5lKCk7KWQ9ZC5yaWdodDtyZXR1cm4gZC5rZXl9MD5jP2Q9ZC5sZWZ0OjA8YyYmKGU9ZCxkPWQucmlnaHQpfXRocm93IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGZpbmQgcHJlZGVjZXNzb3Iga2V5IGZvciBhIG5vbmV4aXN0ZW50IGtleS4gIFdoYXQgZ2l2ZXM/XCIpO31nLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYS5lKCl9O2cuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYS5jb3VudCgpfTtnLkhjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2EuSGMoKX07Zy5mYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhLmZjKCl9O2cuaWE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2EuaWEoYSl9O1xuZy5YYj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFlmKHRoaXMuY2EsbnVsbCx0aGlzLk9hLCExLGEpfTtnLlliPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBZZih0aGlzLmNhLGEsdGhpcy5PYSwhMSxiKX07Zy4kYj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgWWYodGhpcy5jYSxhLHRoaXMuT2EsITAsYil9O2cuJGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBZZih0aGlzLmNhLG51bGwsdGhpcy5PYSwhMCxhKX07ZnVuY3Rpb24gWWYoYSxiLGMsZCxlKXt0aGlzLkhkPWV8fG51bGw7dGhpcy5sZT1kO3RoaXMuU2E9W107Zm9yKGU9MTshYS5lKCk7KWlmKGU9Yj9jKGEua2V5LGIpOjEsZCYmKGUqPS0xKSwwPmUpYT10aGlzLmxlP2EubGVmdDphLnJpZ2h0O2Vsc2UgaWYoMD09PWUpe3RoaXMuU2EucHVzaChhKTticmVha31lbHNlIHRoaXMuU2EucHVzaChhKSxhPXRoaXMubGU/YS5yaWdodDphLmxlZnR9XG5mdW5jdGlvbiBSKGEpe2lmKDA9PT1hLlNhLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgYj1hLlNhLnBvcCgpLGM7Yz1hLkhkP2EuSGQoYi5rZXksYi52YWx1ZSk6e2tleTpiLmtleSx2YWx1ZTpiLnZhbHVlfTtpZihhLmxlKWZvcihiPWIubGVmdDshYi5lKCk7KWEuU2EucHVzaChiKSxiPWIucmlnaHQ7ZWxzZSBmb3IoYj1iLnJpZ2h0OyFiLmUoKTspYS5TYS5wdXNoKGIpLGI9Yi5sZWZ0O3JldHVybiBjfWZ1bmN0aW9uIFpmKGEpe2lmKDA9PT1hLlNhLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgYjtiPWEuU2E7Yj1iW2IubGVuZ3RoLTFdO3JldHVybiBhLkhkP2EuSGQoYi5rZXksYi52YWx1ZSk6e2tleTpiLmtleSx2YWx1ZTpiLnZhbHVlfX1mdW5jdGlvbiAkZihhLGIsYyxkLGUpe3RoaXMua2V5PWE7dGhpcy52YWx1ZT1iO3RoaXMuY29sb3I9bnVsbCE9Yz9jOiEwO3RoaXMubGVmdD1udWxsIT1kP2Q6V2Y7dGhpcy5yaWdodD1udWxsIT1lP2U6V2Z9Zz0kZi5wcm90b3R5cGU7XG5nLlk9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gbmV3ICRmKG51bGwhPWE/YTp0aGlzLmtleSxudWxsIT1iP2I6dGhpcy52YWx1ZSxudWxsIT1jP2M6dGhpcy5jb2xvcixudWxsIT1kP2Q6dGhpcy5sZWZ0LG51bGwhPWU/ZTp0aGlzLnJpZ2h0KX07Zy5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlZnQuY291bnQoKSsxK3RoaXMucmlnaHQuY291bnQoKX07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2cuaWE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubGVmdC5pYShhKXx8YSh0aGlzLmtleSx0aGlzLnZhbHVlKXx8dGhpcy5yaWdodC5pYShhKX07ZnVuY3Rpb24gYWcoYSl7cmV0dXJuIGEubGVmdC5lKCk/YTphZyhhLmxlZnQpfWcuSGM9ZnVuY3Rpb24oKXtyZXR1cm4gYWcodGhpcykua2V5fTtnLmZjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmlnaHQuZSgpP3RoaXMua2V5OnRoaXMucmlnaHQuZmMoKX07XG5nLlJhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2U9dGhpcztkPWMoYSxlLmtleSk7ZT0wPmQ/ZS5ZKG51bGwsbnVsbCxudWxsLGUubGVmdC5SYShhLGIsYyksbnVsbCk6MD09PWQ/ZS5ZKG51bGwsYixudWxsLG51bGwsbnVsbCk6ZS5ZKG51bGwsbnVsbCxudWxsLG51bGwsZS5yaWdodC5SYShhLGIsYykpO3JldHVybiBiZyhlKX07ZnVuY3Rpb24gY2coYSl7aWYoYS5sZWZ0LmUoKSlyZXR1cm4gV2Y7YS5sZWZ0LmZhKCl8fGEubGVmdC5sZWZ0LmZhKCl8fChhPWRnKGEpKTthPWEuWShudWxsLG51bGwsbnVsbCxjZyhhLmxlZnQpLG51bGwpO3JldHVybiBiZyhhKX1cbmcucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtjPXRoaXM7aWYoMD5iKGEsYy5rZXkpKWMubGVmdC5lKCl8fGMubGVmdC5mYSgpfHxjLmxlZnQubGVmdC5mYSgpfHwoYz1kZyhjKSksYz1jLlkobnVsbCxudWxsLG51bGwsYy5sZWZ0LnJlbW92ZShhLGIpLG51bGwpO2Vsc2V7Yy5sZWZ0LmZhKCkmJihjPWVnKGMpKTtjLnJpZ2h0LmUoKXx8Yy5yaWdodC5mYSgpfHxjLnJpZ2h0LmxlZnQuZmEoKXx8KGM9ZmcoYyksYy5sZWZ0LmxlZnQuZmEoKSYmKGM9ZWcoYyksYz1mZyhjKSkpO2lmKDA9PT1iKGEsYy5rZXkpKXtpZihjLnJpZ2h0LmUoKSlyZXR1cm4gV2Y7ZD1hZyhjLnJpZ2h0KTtjPWMuWShkLmtleSxkLnZhbHVlLG51bGwsbnVsbCxjZyhjLnJpZ2h0KSl9Yz1jLlkobnVsbCxudWxsLG51bGwsbnVsbCxjLnJpZ2h0LnJlbW92ZShhLGIpKX1yZXR1cm4gYmcoYyl9O2cuZmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xvcn07XG5mdW5jdGlvbiBiZyhhKXthLnJpZ2h0LmZhKCkmJiFhLmxlZnQuZmEoKSYmKGE9Z2coYSkpO2EubGVmdC5mYSgpJiZhLmxlZnQubGVmdC5mYSgpJiYoYT1lZyhhKSk7YS5sZWZ0LmZhKCkmJmEucmlnaHQuZmEoKSYmKGE9ZmcoYSkpO3JldHVybiBhfWZ1bmN0aW9uIGRnKGEpe2E9ZmcoYSk7YS5yaWdodC5sZWZ0LmZhKCkmJihhPWEuWShudWxsLG51bGwsbnVsbCxudWxsLGVnKGEucmlnaHQpKSxhPWdnKGEpLGE9ZmcoYSkpO3JldHVybiBhfWZ1bmN0aW9uIGdnKGEpe3JldHVybiBhLnJpZ2h0LlkobnVsbCxudWxsLGEuY29sb3IsYS5ZKG51bGwsbnVsbCwhMCxudWxsLGEucmlnaHQubGVmdCksbnVsbCl9ZnVuY3Rpb24gZWcoYSl7cmV0dXJuIGEubGVmdC5ZKG51bGwsbnVsbCxhLmNvbG9yLG51bGwsYS5ZKG51bGwsbnVsbCwhMCxhLmxlZnQucmlnaHQsbnVsbCkpfVxuZnVuY3Rpb24gZmcoYSl7cmV0dXJuIGEuWShudWxsLG51bGwsIWEuY29sb3IsYS5sZWZ0LlkobnVsbCxudWxsLCFhLmxlZnQuY29sb3IsbnVsbCxudWxsKSxhLnJpZ2h0LlkobnVsbCxudWxsLCFhLnJpZ2h0LmNvbG9yLG51bGwsbnVsbCkpfWZ1bmN0aW9uIGhnKCl7fWc9aGcucHJvdG90eXBlO2cuWT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtnLlJhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyAkZihhLGIsbnVsbCl9O2cucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2cuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2cuaWE9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Zy5IYz1mdW5jdGlvbigpe3JldHVybiBudWxsfTtnLmZjPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2cuZmE9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIFdmPW5ldyBoZztmdW5jdGlvbiBQKGEsYixjKXt0aGlzLm09YTsodGhpcy5iYT1iKSYmcmUodGhpcy5iYSk7YS5lKCkmJkgoIXRoaXMuYmF8fHRoaXMuYmEuZSgpLFwiQW4gZW1wdHkgbm9kZSBjYW5ub3QgaGF2ZSBhIHByaW9yaXR5XCIpO3RoaXMuemI9Yzt0aGlzLkViPW51bGx9Zz1QLnByb3RvdHlwZTtnLko9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Zy5DPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmF8fEZ9O2cuZ2E9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubS5lKCk/dGhpczpuZXcgUCh0aGlzLm0sYSx0aGlzLnpiKX07Zy5SPWZ1bmN0aW9uKGEpe2lmKFwiLnByaW9yaXR5XCI9PT1hKXJldHVybiB0aGlzLkMoKTthPXRoaXMubS5nZXQoYSk7cmV0dXJuIG51bGw9PT1hP0Y6YX07Zy5RPWZ1bmN0aW9uKGEpe3ZhciBiPUooYSk7cmV0dXJuIG51bGw9PT1iP3RoaXM6dGhpcy5SKGIpLlEoRChhKSl9O2cuRmE9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT10aGlzLm0uZ2V0KGEpfTtcbmcuVT1mdW5jdGlvbihhLGIpe0goYixcIldlIHNob3VsZCBhbHdheXMgYmUgcGFzc2luZyBzbmFwc2hvdCBub2Rlc1wiKTtpZihcIi5wcmlvcml0eVwiPT09YSlyZXR1cm4gdGhpcy5nYShiKTt2YXIgYz1uZXcgSyhhLGIpLGQsZTtiLmUoKT8oZD10aGlzLm0ucmVtb3ZlKGEpLGM9TWUodGhpcy56YixjLHRoaXMubSkpOihkPXRoaXMubS5SYShhLGIpLGM9S2UodGhpcy56YixjLHRoaXMubSkpO2U9ZC5lKCk/Rjp0aGlzLmJhO3JldHVybiBuZXcgUChkLGUsYyl9O2cuRj1mdW5jdGlvbihhLGIpe3ZhciBjPUooYSk7aWYobnVsbD09PWMpcmV0dXJuIGI7SChcIi5wcmlvcml0eVwiIT09SihhKXx8MT09PSRkKGEpLFwiLnByaW9yaXR5IG11c3QgYmUgdGhlIGxhc3QgdG9rZW4gaW4gYSBwYXRoXCIpO3ZhciBkPXRoaXMuUihjKS5GKEQoYSksYik7cmV0dXJuIHRoaXMuVShjLGQpfTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tLmUoKX07Zy5GYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm0uY291bnQoKX07XG52YXIgaWc9L14oMHxbMS05XVxcZCopJC87Zz1QLnByb3RvdHlwZTtnLkg9ZnVuY3Rpb24oYSl7aWYodGhpcy5lKCkpcmV0dXJuIG51bGw7dmFyIGI9e30sYz0wLGQ9MCxlPSEwO3RoaXMuUChOLGZ1bmN0aW9uKGYsaCl7YltmXT1oLkgoYSk7YysrO2UmJmlnLnRlc3QoZik/ZD1NYXRoLm1heChkLE51bWJlcihmKSk6ZT0hMX0pO2lmKCFhJiZlJiZkPDIqYyl7dmFyIGY9W10saDtmb3IoaCBpbiBiKWZbaF09YltoXTtyZXR1cm4gZn1hJiYhdGhpcy5DKCkuZSgpJiYoYltcIi5wcmlvcml0eVwiXT10aGlzLkMoKS5IKCkpO3JldHVybiBifTtnLmhhc2g9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5FYil7dmFyIGE9XCJcIjt0aGlzLkMoKS5lKCl8fChhKz1cInByaW9yaXR5OlwiK3RlKHRoaXMuQygpLkgoKSkrXCI6XCIpO3RoaXMuUChOLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5oYXNoKCk7XCJcIiE9PWQmJihhKz1cIjpcIitiK1wiOlwiK2QpfSk7dGhpcy5FYj1cIlwiPT09YT9cIlwiOlVjKGEpfXJldHVybiB0aGlzLkVifTtcbmcuWmU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybihjPWpnKHRoaXMsYykpPyhhPVhmKGMsbmV3IEsoYSxiKSkpP2EubmFtZTpudWxsOlhmKHRoaXMubSxhKX07ZnVuY3Rpb24gcGUoYSxiKXt2YXIgYztjPShjPWpnKGEsYikpPyhjPWMuSGMoKSkmJmMubmFtZTphLm0uSGMoKTtyZXR1cm4gYz9uZXcgSyhjLGEubS5nZXQoYykpOm51bGx9ZnVuY3Rpb24gcWUoYSxiKXt2YXIgYztjPShjPWpnKGEsYikpPyhjPWMuZmMoKSkmJmMubmFtZTphLm0uZmMoKTtyZXR1cm4gYz9uZXcgSyhjLGEubS5nZXQoYykpOm51bGx9Zy5QPWZ1bmN0aW9uKGEsYil7dmFyIGM9amcodGhpcyxhKTtyZXR1cm4gYz9jLmlhKGZ1bmN0aW9uKGEpe3JldHVybiBiKGEubmFtZSxhLlMpfSk6dGhpcy5tLmlhKGIpfTtnLlhiPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLlliKGEuSWMoKSxhKX07XG5nLlliPWZ1bmN0aW9uKGEsYil7dmFyIGM9amcodGhpcyxiKTtpZihjKXJldHVybiBjLlliKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtmb3IodmFyIGM9dGhpcy5tLlliKGEubmFtZSxKYyksZD1aZihjKTtudWxsIT1kJiYwPmIuY29tcGFyZShkLGEpOylSKGMpLGQ9WmYoYyk7cmV0dXJuIGN9O2cuJGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJGIoYS5HYygpLGEpfTtnLiRiPWZ1bmN0aW9uKGEsYil7dmFyIGM9amcodGhpcyxiKTtpZihjKXJldHVybiBjLiRiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtmb3IodmFyIGM9dGhpcy5tLiRiKGEubmFtZSxKYyksZD1aZihjKTtudWxsIT1kJiYwPGIuY29tcGFyZShkLGEpOylSKGMpLGQ9WmYoYyk7cmV0dXJuIGN9O2cudGM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZSgpP2EuZSgpPzA6LTE6YS5KKCl8fGEuZSgpPzE6YT09PXllPy0xOjB9O1xuZy5vYj1mdW5jdGlvbihhKXtpZihhPT09ZWV8fHVhKHRoaXMuemIuZGMsYS50b1N0cmluZygpKSlyZXR1cm4gdGhpczt2YXIgYj10aGlzLnpiLGM9dGhpcy5tO0goYSE9PWVlLFwiS2V5SW5kZXggYWx3YXlzIGV4aXN0cyBhbmQgaXNuJ3QgbWVhbnQgdG8gYmUgYWRkZWQgdG8gdGhlIEluZGV4TWFwLlwiKTtmb3IodmFyIGQ9W10sZT0hMSxjPWMuWGIoSmMpLGY9UihjKTtmOyllPWV8fGEueWMoZi5TKSxkLnB1c2goZiksZj1SKGMpO2Q9ZT9MZShkLG9lKGEpKTp2ZTtlPWEudG9TdHJpbmcoKTtjPXlhKGIuZGMpO2NbZV09YTthPXlhKGIub2QpO2FbZV09ZDtyZXR1cm4gbmV3IFAodGhpcy5tLHRoaXMuYmEsbmV3IEplKGEsYykpfTtnLnpjPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09ZWV8fHVhKHRoaXMuemIuZGMsYS50b1N0cmluZygpKX07XG5nLiQ9ZnVuY3Rpb24oYSl7aWYoYT09PXRoaXMpcmV0dXJuITA7aWYoYS5KKCkpcmV0dXJuITE7aWYodGhpcy5DKCkuJChhLkMoKSkmJnRoaXMubS5jb3VudCgpPT09YS5tLmNvdW50KCkpe3ZhciBiPXRoaXMuWGIoTik7YT1hLlhiKE4pO2Zvcih2YXIgYz1SKGIpLGQ9UihhKTtjJiZkOyl7aWYoYy5uYW1lIT09ZC5uYW1lfHwhYy5TLiQoZC5TKSlyZXR1cm4hMTtjPVIoYik7ZD1SKGEpfXJldHVybiBudWxsPT09YyYmbnVsbD09PWR9cmV0dXJuITF9O2Z1bmN0aW9uIGpnKGEsYil7cmV0dXJuIGI9PT1lZT9udWxsOmEuemIuZ2V0KGIudG9TdHJpbmcoKSl9Zy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBCKHRoaXMuSCghMCkpfTtmdW5jdGlvbiBNKGEsYil7aWYobnVsbD09PWEpcmV0dXJuIEY7dmFyIGM9bnVsbDtcIm9iamVjdFwiPT09dHlwZW9mIGEmJlwiLnByaW9yaXR5XCJpbiBhP2M9YVtcIi5wcmlvcml0eVwiXTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGImJihjPWIpO0gobnVsbD09PWN8fFwic3RyaW5nXCI9PT10eXBlb2YgY3x8XCJudW1iZXJcIj09PXR5cGVvZiBjfHxcIm9iamVjdFwiPT09dHlwZW9mIGMmJlwiLnN2XCJpbiBjLFwiSW52YWxpZCBwcmlvcml0eSB0eXBlIGZvdW5kOiBcIit0eXBlb2YgYyk7XCJvYmplY3RcIj09PXR5cGVvZiBhJiZcIi52YWx1ZVwiaW4gYSYmbnVsbCE9PWFbXCIudmFsdWVcIl0mJihhPWFbXCIudmFsdWVcIl0pO2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8XCIuc3ZcImluIGEpcmV0dXJuIG5ldyBRYyhhLE0oYykpO2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7dmFyIGQ9RixlPWE7dChlLGZ1bmN0aW9uKGEsYil7aWYoQmIoZSxiKSYmXCIuXCIhPT1iLnN1YnN0cmluZygwLDEpKXt2YXIgYz1NKGEpO2lmKGMuSigpfHwhYy5lKCkpZD1cbmQuVShiLGMpfX0pO3JldHVybiBkLmdhKE0oYykpfXZhciBmPVtdLGg9ITEsaz1hO0NiKGssZnVuY3Rpb24oYSl7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBhfHxcIi5cIiE9PWEuc3Vic3RyaW5nKDAsMSkpe3ZhciBiPU0oa1thXSk7Yi5lKCl8fChoPWh8fCFiLkMoKS5lKCksZi5wdXNoKG5ldyBLKGEsYikpKX19KTtpZigwPT1mLmxlbmd0aClyZXR1cm4gRjt2YXIgbT1MZShmLEdjLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5hbWV9LEljKTtpZihoKXt2YXIgbD1MZShmLG9lKE4pKTtyZXR1cm4gbmV3IFAobSxNKGMpLG5ldyBKZSh7XCIucHJpb3JpdHlcIjpsfSx7XCIucHJpb3JpdHlcIjpOfSkpfXJldHVybiBuZXcgUChtLE0oYyksTmUpfXZhciBrZz1NYXRoLmxvZygyKTtcbmZ1bmN0aW9uIGxnKGEpe3RoaXMuY291bnQ9cGFyc2VJbnQoTWF0aC5sb2coYSsxKS9rZywxMCk7dGhpcy5SZT10aGlzLmNvdW50LTE7dGhpcy5MZj1hKzEmcGFyc2VJbnQoQXJyYXkodGhpcy5jb3VudCsxKS5qb2luKFwiMVwiKSwyKX1mdW5jdGlvbiBtZyhhKXt2YXIgYj0hKGEuTGYmMTw8YS5SZSk7YS5SZS0tO3JldHVybiBifVxuZnVuY3Rpb24gTGUoYSxiLGMsZCl7ZnVuY3Rpb24gZShiLGQpe3ZhciBmPWQtYjtpZigwPT1mKXJldHVybiBudWxsO2lmKDE9PWYpe3ZhciBsPWFbYl0sdT1jP2MobCk6bDtyZXR1cm4gbmV3ICRmKHUsbC5TLCExLG51bGwsbnVsbCl9dmFyIGw9cGFyc2VJbnQoZi8yLDEwKStiLGY9ZShiLGwpLHo9ZShsKzEsZCksbD1hW2xdLHU9Yz9jKGwpOmw7cmV0dXJuIG5ldyAkZih1LGwuUywhMSxmLHopfWEuc29ydChiKTt2YXIgZj1mdW5jdGlvbihiKXtmdW5jdGlvbiBkKGIsaCl7dmFyIGs9dS1iLHo9dTt1LT1iO3ZhciB6PWUoaysxLHopLGs9YVtrXSxHPWM/YyhrKTprLHo9bmV3ICRmKEcsay5TLGgsbnVsbCx6KTtmP2YubGVmdD16Omw9ejtmPXp9Zm9yKHZhciBmPW51bGwsbD1udWxsLHU9YS5sZW5ndGgsej0wO3o8Yi5jb3VudDsrK3ope3ZhciBHPW1nKGIpLHVkPU1hdGgucG93KDIsYi5jb3VudC0oeisxKSk7Rz9kKHVkLCExKTooZCh1ZCwhMSksZCh1ZCwhMCkpfXJldHVybiBsfShuZXcgbGcoYS5sZW5ndGgpKTtcbnJldHVybiBudWxsIT09Zj9uZXcgVmYoZHx8YixmKTpuZXcgVmYoZHx8Yil9ZnVuY3Rpb24gdGUoYSl7cmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBhP1wibnVtYmVyOlwiK2lkKGEpOlwic3RyaW5nOlwiK2F9ZnVuY3Rpb24gcmUoYSl7aWYoYS5KKCkpe3ZhciBiPWEuSCgpO0goXCJzdHJpbmdcIj09PXR5cGVvZiBifHxcIm51bWJlclwiPT09dHlwZW9mIGJ8fFwib2JqZWN0XCI9PT10eXBlb2YgYiYmQmIoYixcIi5zdlwiKSxcIlByaW9yaXR5IG11c3QgYmUgYSBzdHJpbmcgb3IgbnVtYmVyLlwiKX1lbHNlIEgoYT09PXllfHxhLmUoKSxcInByaW9yaXR5IG9mIHVuZXhwZWN0ZWQgdHlwZS5cIik7SChhPT09eWV8fGEuQygpLmUoKSxcIlByaW9yaXR5IG5vZGVzIGNhbid0IGhhdmUgYSBwcmlvcml0eSBvZiB0aGVpciBvd24uXCIpfXZhciBGPW5ldyBQKG5ldyBWZihJYyksbnVsbCxOZSk7ZnVuY3Rpb24gbmcoKXtQLmNhbGwodGhpcyxuZXcgVmYoSWMpLEYsTmUpfWthKG5nLFApO2c9bmcucHJvdG90eXBlO1xuZy50Yz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXM/MDoxfTtnLiQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzfTtnLkM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307Zy5SPWZ1bmN0aW9uKCl7cmV0dXJuIEZ9O2cuZT1mdW5jdGlvbigpe3JldHVybiExfTt2YXIgeWU9bmV3IG5nLHdlPW5ldyBLKFwiW01JTl9OQU1FXVwiLEYpLENlPW5ldyBLKFwiW01BWF9OQU1FXVwiLHllKTtmdW5jdGlvbiBXKGEsYixjKXt0aGlzLkE9YTt0aGlzLlc9Yjt0aGlzLmc9Y31XLnByb3RvdHlwZS5IPWZ1bmN0aW9uKCl7eShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC52YWxcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5IKCl9O1cucHJvdG90eXBlLnZhbD1XLnByb3RvdHlwZS5IO1cucHJvdG90eXBlLlVlPWZ1bmN0aW9uKCl7eShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5leHBvcnRWYWxcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5IKCEwKX07Vy5wcm90b3R5cGUuZXhwb3J0VmFsPVcucHJvdG90eXBlLlVlO1cucHJvdG90eXBlLlZmPWZ1bmN0aW9uKCl7eShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5leGlzdHNcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIXRoaXMuQS5lKCl9O1cucHJvdG90eXBlLmV4aXN0cz1XLnByb3RvdHlwZS5WZjtcblcucHJvdG90eXBlLms9ZnVuY3Rpb24oYSl7eShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5jaGlsZFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtmYShhKSYmKGE9U3RyaW5nKGEpKTtMZihcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5jaGlsZFwiLGEpO3ZhciBiPW5ldyBMKGEpLGM9dGhpcy5XLmsoYik7cmV0dXJuIG5ldyBXKHRoaXMuQS5RKGIpLGMsTil9O1cucHJvdG90eXBlLmNoaWxkPVcucHJvdG90eXBlLms7Vy5wcm90b3R5cGUuRmE9ZnVuY3Rpb24oYSl7eShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5oYXNDaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtMZihcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5oYXNDaGlsZFwiLGEpO3ZhciBiPW5ldyBMKGEpO3JldHVybiF0aGlzLkEuUShiKS5lKCl9O1cucHJvdG90eXBlLmhhc0NoaWxkPVcucHJvdG90eXBlLkZhO1xuVy5wcm90b3R5cGUuQz1mdW5jdGlvbigpe3koXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZ2V0UHJpb3JpdHlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5DKCkuSCgpfTtXLnByb3RvdHlwZS5nZXRQcmlvcml0eT1XLnByb3RvdHlwZS5DO1cucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oYSl7eShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5mb3JFYWNoXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO0EoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZm9yRWFjaFwiLDEsYSwhMSk7aWYodGhpcy5BLkooKSlyZXR1cm4hMTt2YXIgYj10aGlzO3JldHVybiEhdGhpcy5BLlAodGhpcy5nLGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGEobmV3IFcoZCxiLlcuayhjKSxOKSl9KX07Vy5wcm90b3R5cGUuZm9yRWFjaD1XLnByb3RvdHlwZS5mb3JFYWNoO1xuVy5wcm90b3R5cGUua2Q9ZnVuY3Rpb24oKXt5KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkcmVuXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkEuSigpPyExOiF0aGlzLkEuZSgpfTtXLnByb3RvdHlwZS5oYXNDaGlsZHJlbj1XLnByb3RvdHlwZS5rZDtXLnByb3RvdHlwZS5nZXRLZXk9ZnVuY3Rpb24oKXt5KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmtleVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5XLmdldEtleSgpfTtrZChXLnByb3RvdHlwZSxcImtleVwiLFcucHJvdG90eXBlLmdldEtleSk7Vy5wcm90b3R5cGUuRmI9ZnVuY3Rpb24oKXt5KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm51bUNoaWxkcmVuXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkEuRmIoKX07Vy5wcm90b3R5cGUubnVtQ2hpbGRyZW49Vy5wcm90b3R5cGUuRmI7XG5XLnByb3RvdHlwZS54Yj1mdW5jdGlvbigpe3koXCJGaXJlYmFzZS5EYXRhU25hcHNob3QucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLld9O2tkKFcucHJvdG90eXBlLFwicmVmXCIsVy5wcm90b3R5cGUueGIpO2Z1bmN0aW9uIFlkKGEsYil7dGhpcy5PPWE7dGhpcy5MZD1ifWZ1bmN0aW9uIFZkKGEsYixjLGQpe3JldHVybiBuZXcgWWQobmV3IHpjKGIsYyxkKSxhLkxkKX1mdW5jdGlvbiBaZChhKXtyZXR1cm4gYS5PLmVhP2EuTy5qKCk6bnVsbH1ZZC5wcm90b3R5cGUudz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkxkfTtmdW5jdGlvbiBBYyhhKXtyZXR1cm4gYS5MZC5lYT9hLkxkLmooKTpudWxsfTtmdW5jdGlvbiBvZyhhLGIpe3RoaXMuVz1hO3ZhciBjPWEubixkPW5ldyBmZShjLmcpLGM9UyhjKT9uZXcgZmUoYy5nKTpjLnlhP25ldyBsZShjKTpuZXcgZ2UoYyk7dGhpcy5vZj1uZXcgUGQoYyk7dmFyIGU9Yi53KCksZj1iLk8saD1kLnphKEYsZS5qKCksbnVsbCksaz1jLnphKEYsZi5qKCksbnVsbCk7dGhpcy5OYT1uZXcgWWQobmV3IHpjKGssZi5lYSxjLlFhKCkpLG5ldyB6YyhoLGUuZWEsZC5RYSgpKSk7dGhpcy5hYj1bXTt0aGlzLlNmPW5ldyBLZChhKX1mdW5jdGlvbiBwZyhhKXtyZXR1cm4gYS5XfWc9b2cucHJvdG90eXBlO2cudz1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5hLncoKS5qKCl9O2cuamI9ZnVuY3Rpb24oYSl7dmFyIGI9QWModGhpcy5OYSk7cmV0dXJuIGImJihTKHRoaXMuVy5uKXx8IWEuZSgpJiYhYi5SKEooYSkpLmUoKSk/Yi5RKGEpOm51bGx9O2cuZT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5hYi5sZW5ndGh9O2cuT2I9ZnVuY3Rpb24oYSl7dGhpcy5hYi5wdXNoKGEpfTtcbmcubWI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtpZihiKXtIKG51bGw9PWEsXCJBIGNhbmNlbCBzaG91bGQgY2FuY2VsIGFsbCBldmVudCByZWdpc3RyYXRpb25zLlwiKTt2YXIgZD10aGlzLlcucGF0aDtKYSh0aGlzLmFiLGZ1bmN0aW9uKGEpeyhhPWEuUGUoYixkKSkmJmMucHVzaChhKX0pfWlmKGEpe2Zvcih2YXIgZT1bXSxmPTA7Zjx0aGlzLmFiLmxlbmd0aDsrK2Ype3ZhciBoPXRoaXMuYWJbZl07aWYoIWgubWF0Y2hlcyhhKSllLnB1c2goaCk7ZWxzZSBpZihhLmFmKCkpe2U9ZS5jb25jYXQodGhpcy5hYi5zbGljZShmKzEpKTticmVha319dGhpcy5hYj1lfWVsc2UgdGhpcy5hYj1bXTtyZXR1cm4gY307XG5nLmdiPWZ1bmN0aW9uKGEsYixjKXthLnR5cGU9PT13ZCYmbnVsbCE9PWEuc291cmNlLkliJiYoSChBYyh0aGlzLk5hKSxcIldlIHNob3VsZCBhbHdheXMgaGF2ZSBhIGZ1bGwgY2FjaGUgYmVmb3JlIGhhbmRsaW5nIG1lcmdlc1wiKSxIKFpkKHRoaXMuTmEpLFwiTWlzc2luZyBldmVudCBjYWNoZSwgZXZlbiB0aG91Z2ggd2UgaGF2ZSBhIHNlcnZlciBjYWNoZVwiKSk7dmFyIGQ9dGhpcy5OYTthPXRoaXMub2YuZ2IoZCxhLGIsYyk7Yj10aGlzLm9mO2M9YS5TZDtIKGMuTy5qKCkuemMoYi5WLmcpLFwiRXZlbnQgc25hcCBub3QgaW5kZXhlZFwiKTtIKGMudygpLmooKS56YyhiLlYuZyksXCJTZXJ2ZXIgc25hcCBub3QgaW5kZXhlZFwiKTtIKERjKGEuU2QudygpKXx8IURjKGQudygpKSxcIk9uY2UgYSBzZXJ2ZXIgc25hcCBpcyBjb21wbGV0ZSwgaXQgc2hvdWxkIG5ldmVyIGdvIGJhY2tcIik7dGhpcy5OYT1hLlNkO3JldHVybiBxZyh0aGlzLGEuTWYsYS5TZC5PLmooKSxudWxsKX07XG5mdW5jdGlvbiByZyhhLGIpe3ZhciBjPWEuTmEuTyxkPVtdO2MuaigpLkooKXx8Yy5qKCkuUChOLGZ1bmN0aW9uKGEsYil7ZC5wdXNoKG5ldyBJKFwiY2hpbGRfYWRkZWRcIixiLGEpKX0pO2MuZWEmJmQucHVzaChCYyhjLmooKSkpO3JldHVybiBxZyhhLGQsYy5qKCksYil9ZnVuY3Rpb24gcWcoYSxiLGMsZCl7cmV0dXJuIExkKGEuU2YsYixjLGQ/W2RdOmEuYWIpfTtmdW5jdGlvbiBzZyhhLGIsYyl7dGhpcy5RYj1hO3RoaXMuc2I9Yjt0aGlzLnViPWN8fG51bGx9Zz1zZy5wcm90b3R5cGU7Zy50Zj1mdW5jdGlvbihhKXtyZXR1cm5cInZhbHVlXCI9PT1hfTtnLmNyZWF0ZUV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5uLmc7cmV0dXJuIG5ldyB0YyhcInZhbHVlXCIsdGhpcyxuZXcgVyhhLk1hLGIueGIoKSxjKSl9O2cuVWI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy51YjtpZihcImNhbmNlbFwiPT09YS5nZSgpKXtIKHRoaXMuc2IsXCJSYWlzaW5nIGEgY2FuY2VsIGV2ZW50IG9uIGEgbGlzdGVuZXIgd2l0aCBubyBjYW5jZWwgY2FsbGJhY2tcIik7dmFyIGM9dGhpcy5zYjtyZXR1cm4gZnVuY3Rpb24oKXtjLmNhbGwoYixhLmVycm9yKX19dmFyIGQ9dGhpcy5RYjtyZXR1cm4gZnVuY3Rpb24oKXtkLmNhbGwoYixhLk1kKX19O2cuUGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5zYj9uZXcgdWModGhpcyxhLGIpOm51bGx9O1xuZy5tYXRjaGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2Ygc2c/YS5RYiYmdGhpcy5RYj9hLlFiPT09dGhpcy5RYiYmYS51Yj09PXRoaXMudWI6ITA6ITF9O2cuYWY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuUWJ9O2Z1bmN0aW9uIHRnKGEsYixjKXt0aGlzLmhhPWE7dGhpcy5zYj1iO3RoaXMudWI9Y31nPXRnLnByb3RvdHlwZTtnLnRmPWZ1bmN0aW9uKGEpe2E9XCJjaGlsZHJlbl9hZGRlZFwiPT09YT9cImNoaWxkX2FkZGVkXCI6YTtyZXR1cm4oXCJjaGlsZHJlbl9yZW1vdmVkXCI9PT1hP1wiY2hpbGRfcmVtb3ZlZFwiOmEpaW4gdGhpcy5oYX07Zy5QZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNiP25ldyB1Yyh0aGlzLGEsYik6bnVsbH07XG5nLmNyZWF0ZUV2ZW50PWZ1bmN0aW9uKGEsYil7SChudWxsIT1hLlphLFwiQ2hpbGQgZXZlbnRzIHNob3VsZCBoYXZlIGEgY2hpbGROYW1lLlwiKTt2YXIgYz1iLnhiKCkuayhhLlphKTtyZXR1cm4gbmV3IHRjKGEudHlwZSx0aGlzLG5ldyBXKGEuTWEsYyxiLm4uZyksYS5EZCl9O2cuVWI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy51YjtpZihcImNhbmNlbFwiPT09YS5nZSgpKXtIKHRoaXMuc2IsXCJSYWlzaW5nIGEgY2FuY2VsIGV2ZW50IG9uIGEgbGlzdGVuZXIgd2l0aCBubyBjYW5jZWwgY2FsbGJhY2tcIik7dmFyIGM9dGhpcy5zYjtyZXR1cm4gZnVuY3Rpb24oKXtjLmNhbGwoYixhLmVycm9yKX19dmFyIGQ9dGhpcy5oYVthLmdkXTtyZXR1cm4gZnVuY3Rpb24oKXtkLmNhbGwoYixhLk1kLGEuRGQpfX07XG5nLm1hdGNoZXM9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIHRnKXtpZighdGhpcy5oYXx8IWEuaGEpcmV0dXJuITA7aWYodGhpcy51Yj09PWEudWIpe3ZhciBiPXFhKGEuaGEpO2lmKGI9PT1xYSh0aGlzLmhhKSl7aWYoMT09PWIpe3ZhciBiPXJhKGEuaGEpLGM9cmEodGhpcy5oYSk7cmV0dXJuIGM9PT1iJiYoIWEuaGFbYl18fCF0aGlzLmhhW2NdfHxhLmhhW2JdPT09dGhpcy5oYVtjXSl9cmV0dXJuIHBhKHRoaXMuaGEsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5oYVtjXT09PWJ9KX19fXJldHVybiExfTtnLmFmPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmhhfTtmdW5jdGlvbiBYKGEsYixjLGQpe3RoaXMudT1hO3RoaXMucGF0aD1iO3RoaXMubj1jO3RoaXMuT2M9ZH1cbmZ1bmN0aW9uIHVnKGEpe3ZhciBiPW51bGwsYz1udWxsO2EubGEmJihiPWllKGEpKTthLm9hJiYoYz1rZShhKSk7aWYoYS5nPT09ZWUpe2lmKGEubGEpe2lmKFwiW01JTl9OQU1FXVwiIT1oZShhKSl0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgeW91IG1heSBvbmx5IHBhc3Mgb25lIGFyZ3VtZW50IHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpLlwiKTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGIpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgc3RyaW5nLlwiKTt9aWYoYS5vYSl7aWYoXCJbTUFYX05BTUVdXCIhPWplKGEpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB5b3UgbWF5IG9ubHkgcGFzcyBvbmUgYXJndW1lbnQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkuXCIpO2lmKFwic3RyaW5nXCIhPT1cbnR5cGVvZiBjKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB0aGUgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSxvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHN0cmluZy5cIik7fX1lbHNlIGlmKGEuZz09PU4pe2lmKG51bGwhPWImJiFEZihiKXx8bnVsbCE9YyYmIURmKGMpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkgcHJpb3JpdHksIHRoZSBmaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHZhbGlkIHByaW9yaXR5IHZhbHVlIChudWxsLCBhIG51bWJlciwgb3IgYSBzdHJpbmcpLlwiKTt9ZWxzZSBpZihIKGEuZyBpbnN0YW5jZW9mIHhlfHxhLmc9PT1EZSxcInVua25vd24gaW5kZXggdHlwZS5cIiksbnVsbCE9YiYmXCJvYmplY3RcIj09PXR5cGVvZiBifHxudWxsIT1jJiZcIm9iamVjdFwiPT09dHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJRdWVyeTogRmlyc3QgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpIGNhbm5vdCBiZSBhbiBvYmplY3QuXCIpO1xufWZ1bmN0aW9uIHZnKGEpe2lmKGEubGEmJmEub2EmJmEueWEmJighYS55YXx8XCJcIj09PWEub2MpKXRocm93IEVycm9yKFwiUXVlcnk6IENhbid0IGNvbWJpbmUgc3RhcnRBdCgpLCBlbmRBdCgpLCBhbmQgbGltaXQoKS4gVXNlIGxpbWl0VG9GaXJzdCgpIG9yIGxpbWl0VG9MYXN0KCkgaW5zdGVhZC5cIik7fWZ1bmN0aW9uIHdnKGEsYil7aWYoITA9PT1hLk9jKXRocm93IEVycm9yKGIrXCI6IFlvdSBjYW4ndCBjb21iaW5lIG11bHRpcGxlIG9yZGVyQnkgY2FsbHMuXCIpO31nPVgucHJvdG90eXBlO2cueGI9ZnVuY3Rpb24oKXt5KFwiUXVlcnkucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiBuZXcgVSh0aGlzLnUsdGhpcy5wYXRoKX07XG5nLmhjPWZ1bmN0aW9uKGEsYixjLGQpe3koXCJRdWVyeS5vblwiLDIsNCxhcmd1bWVudHMubGVuZ3RoKTtKZihcIlF1ZXJ5Lm9uXCIsYSwhMSk7QShcIlF1ZXJ5Lm9uXCIsMixiLCExKTt2YXIgZT14ZyhcIlF1ZXJ5Lm9uXCIsYyxkKTtpZihcInZhbHVlXCI9PT1hKXlnKHRoaXMudSx0aGlzLG5ldyBzZyhiLGUuY2FuY2VsfHxudWxsLGUuUGF8fG51bGwpKTtlbHNle3ZhciBmPXt9O2ZbYV09Yjt5Zyh0aGlzLnUsdGhpcyxuZXcgdGcoZixlLmNhbmNlbCxlLlBhKSl9cmV0dXJuIGJ9O1xuZy5KYz1mdW5jdGlvbihhLGIsYyl7eShcIlF1ZXJ5Lm9mZlwiLDAsMyxhcmd1bWVudHMubGVuZ3RoKTtKZihcIlF1ZXJ5Lm9mZlwiLGEsITApO0EoXCJRdWVyeS5vZmZcIiwyLGIsITApO0ViKFwiUXVlcnkub2ZmXCIsMyxjKTt2YXIgZD1udWxsLGU9bnVsbDtcInZhbHVlXCI9PT1hP2Q9bmV3IHNnKGJ8fG51bGwsbnVsbCxjfHxudWxsKTphJiYoYiYmKGU9e30sZVthXT1iKSxkPW5ldyB0ZyhlLG51bGwsY3x8bnVsbCkpO2U9dGhpcy51O2Q9XCIuaW5mb1wiPT09Sih0aGlzLnBhdGgpP2UucGQubWIodGhpcyxkKTplLksubWIodGhpcyxkKTtwYyhlLmRhLHRoaXMucGF0aCxkKX07XG5nLmtnPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhrKXtmJiYoZj0hMSxlLkpjKGEsYyksYiYmYi5jYWxsKGQuUGEsayksaC5yZXNvbHZlKGspKX15KFwiUXVlcnkub25jZVwiLDEsNCxhcmd1bWVudHMubGVuZ3RoKTtKZihcIlF1ZXJ5Lm9uY2VcIixhLCExKTtBKFwiUXVlcnkub25jZVwiLDIsYiwhMCk7dmFyIGQ9eGcoXCJRdWVyeS5vbmNlXCIsYXJndW1lbnRzWzJdLGFyZ3VtZW50c1szXSksZT10aGlzLGY9ITAsaD1uZXcgSGI7SmIoaC5zYSk7dGhpcy5oYyhhLGMsZnVuY3Rpb24oYil7ZS5KYyhhLGMpO2QuY2FuY2VsJiZkLmNhbmNlbC5jYWxsKGQuUGEsYik7aC5yZWplY3QoYil9KTtyZXR1cm4gaC5zYX07XG5nLm5lPWZ1bmN0aW9uKGEpe3koXCJRdWVyeS5saW1pdFRvRmlyc3RcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIWZhKGEpfHxNYXRoLmZsb29yKGEpIT09YXx8MD49YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9GaXJzdDogRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIuXCIpO2lmKHRoaXMubi55YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9GaXJzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCx0aGlzLm4ubmUoYSksdGhpcy5PYyl9O1xuZy5vZT1mdW5jdGlvbihhKXt5KFwiUXVlcnkubGltaXRUb0xhc3RcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIWZhKGEpfHxNYXRoLmZsb29yKGEpIT09YXx8MD49YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9MYXN0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy5uLnlhKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0xhc3Q6IExpbWl0IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGxpbWl0LCBsaW1pdFRvRmlyc3QsIG9yIGxpbWl0VG9MYXN0KS5cIik7cmV0dXJuIG5ldyBYKHRoaXMudSx0aGlzLnBhdGgsdGhpcy5uLm9lKGEpLHRoaXMuT2MpfTtcbmcubGc9ZnVuY3Rpb24oYSl7eShcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZihcIiRrZXlcIj09PWEpdGhyb3cgRXJyb3IoJ1F1ZXJ5Lm9yZGVyQnlDaGlsZDogXCIka2V5XCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5S2V5KCkgaW5zdGVhZC4nKTtpZihcIiRwcmlvcml0eVwiPT09YSl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiRwcmlvcml0eVwiIGlzIGludmFsaWQuICBVc2UgUXVlcnkub3JkZXJCeVByaW9yaXR5KCkgaW5zdGVhZC4nKTtpZihcIiR2YWx1ZVwiPT09YSl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiR2YWx1ZVwiIGlzIGludmFsaWQuICBVc2UgUXVlcnkub3JkZXJCeVZhbHVlKCkgaW5zdGVhZC4nKTtMZihcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiLGEpO3dnKHRoaXMsXCJRdWVyeS5vcmRlckJ5Q2hpbGRcIik7dmFyIGI9bmV3IEwoYSk7aWYoYi5lKCkpdGhyb3cgRXJyb3IoXCJRdWVyeS5vcmRlckJ5Q2hpbGQ6IGNhbm5vdCBwYXNzIGluIGVtcHR5IHBhdGguICBVc2UgUXVlcnkub3JkZXJCeVZhbHVlKCkgaW5zdGVhZC5cIik7XG5iPW5ldyB4ZShiKTtiPUhlKHRoaXMubixiKTt1ZyhiKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCxiLCEwKX07Zy5tZz1mdW5jdGlvbigpe3koXCJRdWVyeS5vcmRlckJ5S2V5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3dnKHRoaXMsXCJRdWVyeS5vcmRlckJ5S2V5XCIpO3ZhciBhPUhlKHRoaXMubixlZSk7dWcoYSk7cmV0dXJuIG5ldyBYKHRoaXMudSx0aGlzLnBhdGgsYSwhMCl9O2cubmc9ZnVuY3Rpb24oKXt5KFwiUXVlcnkub3JkZXJCeVByaW9yaXR5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3dnKHRoaXMsXCJRdWVyeS5vcmRlckJ5UHJpb3JpdHlcIik7dmFyIGE9SGUodGhpcy5uLE4pO3VnKGEpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLGEsITApfTtcbmcub2c9ZnVuY3Rpb24oKXt5KFwiUXVlcnkub3JkZXJCeVZhbHVlXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3dnKHRoaXMsXCJRdWVyeS5vcmRlckJ5VmFsdWVcIik7dmFyIGE9SGUodGhpcy5uLERlKTt1ZyhhKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCxhLCEwKX07Zy5OZD1mdW5jdGlvbihhLGIpe3koXCJRdWVyeS5zdGFydEF0XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpO0VmKFwiUXVlcnkuc3RhcnRBdFwiLGEsdGhpcy5wYXRoLCEwKTtLZihcIlF1ZXJ5LnN0YXJ0QXRcIixiKTt2YXIgYz10aGlzLm4uTmQoYSxiKTt2ZyhjKTt1ZyhjKTtpZih0aGlzLm4ubGEpdGhyb3cgRXJyb3IoXCJRdWVyeS5zdGFydEF0OiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBzdGFydEF0IG9yIGVxdWFsVG8pLlwiKTtwKGEpfHwoYj1hPW51bGwpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLGMsdGhpcy5PYyl9O1xuZy5mZD1mdW5jdGlvbihhLGIpe3koXCJRdWVyeS5lbmRBdFwiLDAsMixhcmd1bWVudHMubGVuZ3RoKTtFZihcIlF1ZXJ5LmVuZEF0XCIsYSx0aGlzLnBhdGgsITApO0tmKFwiUXVlcnkuZW5kQXRcIixiKTt2YXIgYz10aGlzLm4uZmQoYSxiKTt2ZyhjKTt1ZyhjKTtpZih0aGlzLm4ub2EpdGhyb3cgRXJyb3IoXCJRdWVyeS5lbmRBdDogRW5kaW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGVuZEF0IG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCxjLHRoaXMuT2MpfTtcbmcuUmY9ZnVuY3Rpb24oYSxiKXt5KFwiUXVlcnkuZXF1YWxUb1wiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtFZihcIlF1ZXJ5LmVxdWFsVG9cIixhLHRoaXMucGF0aCwhMSk7S2YoXCJRdWVyeS5lcXVhbFRvXCIsYik7aWYodGhpcy5uLmxhKXRocm93IEVycm9yKFwiUXVlcnkuZXF1YWxUbzogU3RhcnRpbmcgcG9pbnQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gZW5kQXQgb3IgZXF1YWxUbykuXCIpO2lmKHRoaXMubi5vYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmVxdWFsVG86IEVuZGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCBvciBlcXVhbFRvKS5cIik7cmV0dXJuIHRoaXMuTmQoYSxiKS5mZChhLGIpfTtcbmcudG9TdHJpbmc9ZnVuY3Rpb24oKXt5KFwiUXVlcnkudG9TdHJpbmdcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7Zm9yKHZhciBhPXRoaXMucGF0aCxiPVwiXCIsYz1hLlo7YzxhLm8ubGVuZ3RoO2MrKylcIlwiIT09YS5vW2NdJiYoYis9XCIvXCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhhLm9bY10pKSk7cmV0dXJuIHRoaXMudS50b1N0cmluZygpKyhifHxcIi9cIil9O2cua2E9ZnVuY3Rpb24oKXt2YXIgYT1mZChJZSh0aGlzLm4pKTtyZXR1cm5cInt9XCI9PT1hP1wiZGVmYXVsdFwiOmF9O1xuZy5pc0VxdWFsPWZ1bmN0aW9uKGEpe3koXCJRdWVyeS5pc0VxdWFsXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO2lmKCEoYSBpbnN0YW5jZW9mIFgpKXRocm93IEVycm9yKFwiUXVlcnkuaXNFcXVhbCBmYWlsZWQ6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgZmlyZWJhc2UuZGF0YWJhc2UuUXVlcnkuXCIpO3ZhciBiPXRoaXMudT09PWEudSxjPXRoaXMucGF0aC4kKGEucGF0aCksZD10aGlzLmthKCk9PT1hLmthKCk7cmV0dXJuIGImJmMmJmR9O1xuZnVuY3Rpb24geGcoYSxiLGMpe3ZhciBkPXtjYW5jZWw6bnVsbCxQYTpudWxsfTtpZihiJiZjKWQuY2FuY2VsPWIsQShhLDMsZC5jYW5jZWwsITApLGQuUGE9YyxFYihhLDQsZC5QYSk7ZWxzZSBpZihiKWlmKFwib2JqZWN0XCI9PT10eXBlb2YgYiYmbnVsbCE9PWIpZC5QYT1iO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGIpZC5jYW5jZWw9YjtlbHNlIHRocm93IEVycm9yKERiKGEsMywhMCkrXCIgbXVzdCBlaXRoZXIgYmUgYSBjYW5jZWwgY2FsbGJhY2sgb3IgYSBjb250ZXh0IG9iamVjdC5cIik7cmV0dXJuIGR9WC5wcm90b3R5cGUub249WC5wcm90b3R5cGUuaGM7WC5wcm90b3R5cGUub2ZmPVgucHJvdG90eXBlLkpjO1gucHJvdG90eXBlLm9uY2U9WC5wcm90b3R5cGUua2c7WC5wcm90b3R5cGUubGltaXRUb0ZpcnN0PVgucHJvdG90eXBlLm5lO1gucHJvdG90eXBlLmxpbWl0VG9MYXN0PVgucHJvdG90eXBlLm9lO1gucHJvdG90eXBlLm9yZGVyQnlDaGlsZD1YLnByb3RvdHlwZS5sZztcblgucHJvdG90eXBlLm9yZGVyQnlLZXk9WC5wcm90b3R5cGUubWc7WC5wcm90b3R5cGUub3JkZXJCeVByaW9yaXR5PVgucHJvdG90eXBlLm5nO1gucHJvdG90eXBlLm9yZGVyQnlWYWx1ZT1YLnByb3RvdHlwZS5vZztYLnByb3RvdHlwZS5zdGFydEF0PVgucHJvdG90eXBlLk5kO1gucHJvdG90eXBlLmVuZEF0PVgucHJvdG90eXBlLmZkO1gucHJvdG90eXBlLmVxdWFsVG89WC5wcm90b3R5cGUuUmY7WC5wcm90b3R5cGUudG9TdHJpbmc9WC5wcm90b3R5cGUudG9TdHJpbmc7WC5wcm90b3R5cGUuaXNFcXVhbD1YLnByb3RvdHlwZS5pc0VxdWFsO2tkKFgucHJvdG90eXBlLFwicmVmXCIsWC5wcm90b3R5cGUueGIpO2Z1bmN0aW9uIHpnKGEsYil7dGhpcy52YWx1ZT1hO3RoaXMuY2hpbGRyZW49Ynx8QWd9dmFyIEFnPW5ldyBWZihmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yj8wOmE8Yj8tMToxfSk7ZnVuY3Rpb24gQmcoYSl7dmFyIGI9UTt0KGEsZnVuY3Rpb24oYSxkKXtiPWIuc2V0KG5ldyBMKGQpLGEpfSk7cmV0dXJuIGJ9Zz16Zy5wcm90b3R5cGU7Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnZhbHVlJiZ0aGlzLmNoaWxkcmVuLmUoKX07ZnVuY3Rpb24gQ2coYSxiLGMpe2lmKG51bGwhPWEudmFsdWUmJmMoYS52YWx1ZSkpcmV0dXJue3BhdGg6Qyx2YWx1ZTphLnZhbHVlfTtpZihiLmUoKSlyZXR1cm4gbnVsbDt2YXIgZD1KKGIpO2E9YS5jaGlsZHJlbi5nZXQoZCk7cmV0dXJuIG51bGwhPT1hPyhiPUNnKGEsRChiKSxjKSxudWxsIT1iP3twYXRoOihuZXcgTChkKSkuayhiLnBhdGgpLHZhbHVlOmIudmFsdWV9Om51bGwpOm51bGx9XG5mdW5jdGlvbiBEZyhhLGIpe3JldHVybiBDZyhhLGIsZnVuY3Rpb24oKXtyZXR1cm4hMH0pfWcuc3VidHJlZT1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gdGhpczt2YXIgYj10aGlzLmNoaWxkcmVuLmdldChKKGEpKTtyZXR1cm4gbnVsbCE9PWI/Yi5zdWJ0cmVlKEQoYSkpOlF9O2cuc2V0PWZ1bmN0aW9uKGEsYil7aWYoYS5lKCkpcmV0dXJuIG5ldyB6ZyhiLHRoaXMuY2hpbGRyZW4pO3ZhciBjPUooYSksZD0odGhpcy5jaGlsZHJlbi5nZXQoYyl8fFEpLnNldChEKGEpLGIpLGM9dGhpcy5jaGlsZHJlbi5SYShjLGQpO3JldHVybiBuZXcgemcodGhpcy52YWx1ZSxjKX07XG5nLnJlbW92ZT1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gdGhpcy5jaGlsZHJlbi5lKCk/UTpuZXcgemcobnVsbCx0aGlzLmNoaWxkcmVuKTt2YXIgYj1KKGEpLGM9dGhpcy5jaGlsZHJlbi5nZXQoYik7cmV0dXJuIGM/KGE9Yy5yZW1vdmUoRChhKSksYj1hLmUoKT90aGlzLmNoaWxkcmVuLnJlbW92ZShiKTp0aGlzLmNoaWxkcmVuLlJhKGIsYSksbnVsbD09PXRoaXMudmFsdWUmJmIuZSgpP1E6bmV3IHpnKHRoaXMudmFsdWUsYikpOnRoaXN9O2cuZ2V0PWZ1bmN0aW9uKGEpe2lmKGEuZSgpKXJldHVybiB0aGlzLnZhbHVlO3ZhciBiPXRoaXMuY2hpbGRyZW4uZ2V0KEooYSkpO3JldHVybiBiP2IuZ2V0KEQoYSkpOm51bGx9O1xuZnVuY3Rpb24gZGUoYSxiLGMpe2lmKGIuZSgpKXJldHVybiBjO3ZhciBkPUooYik7Yj1kZShhLmNoaWxkcmVuLmdldChkKXx8USxEKGIpLGMpO2Q9Yi5lKCk/YS5jaGlsZHJlbi5yZW1vdmUoZCk6YS5jaGlsZHJlbi5SYShkLGIpO3JldHVybiBuZXcgemcoYS52YWx1ZSxkKX1mdW5jdGlvbiBFZyhhLGIpe3JldHVybiBGZyhhLEMsYil9ZnVuY3Rpb24gRmcoYSxiLGMpe3ZhciBkPXt9O2EuY2hpbGRyZW4uaWEoZnVuY3Rpb24oYSxmKXtkW2FdPUZnKGYsYi5rKGEpLGMpfSk7cmV0dXJuIGMoYixhLnZhbHVlLGQpfWZ1bmN0aW9uIEdnKGEsYixjKXtyZXR1cm4gSGcoYSxiLEMsYyl9ZnVuY3Rpb24gSGcoYSxiLGMsZCl7dmFyIGU9YS52YWx1ZT9kKGMsYS52YWx1ZSk6ITE7aWYoZSlyZXR1cm4gZTtpZihiLmUoKSlyZXR1cm4gbnVsbDtlPUooYik7cmV0dXJuKGE9YS5jaGlsZHJlbi5nZXQoZSkpP0hnKGEsRChiKSxjLmsoZSksZCk6bnVsbH1cbmZ1bmN0aW9uIElnKGEsYixjKXtKZyhhLGIsQyxjKX1mdW5jdGlvbiBKZyhhLGIsYyxkKXtpZihiLmUoKSlyZXR1cm4gYTthLnZhbHVlJiZkKGMsYS52YWx1ZSk7dmFyIGU9SihiKTtyZXR1cm4oYT1hLmNoaWxkcmVuLmdldChlKSk/SmcoYSxEKGIpLGMuayhlKSxkKTpRfWZ1bmN0aW9uIGJlKGEsYil7S2coYSxDLGIpfWZ1bmN0aW9uIEtnKGEsYixjKXthLmNoaWxkcmVuLmlhKGZ1bmN0aW9uKGEsZSl7S2coZSxiLmsoYSksYyl9KTthLnZhbHVlJiZjKGIsYS52YWx1ZSl9ZnVuY3Rpb24gTGcoYSxiKXthLmNoaWxkcmVuLmlhKGZ1bmN0aW9uKGEsZCl7ZC52YWx1ZSYmYihhLGQudmFsdWUpfSl9dmFyIFE9bmV3IHpnKG51bGwpO3pnLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPXt9O2JlKHRoaXMsZnVuY3Rpb24oYixjKXthW2IudG9TdHJpbmcoKV09Yy50b1N0cmluZygpfSk7cmV0dXJuIEIoYSl9O2Z1bmN0aW9uIE1nKGEsYixjKXt0aGlzLnR5cGU9VWQ7dGhpcy5zb3VyY2U9Tmc7dGhpcy5wYXRoPWE7dGhpcy5QYj1iO3RoaXMuSWQ9Y31NZy5wcm90b3R5cGUuTmM9ZnVuY3Rpb24oYSl7aWYodGhpcy5wYXRoLmUoKSl7aWYobnVsbCE9dGhpcy5QYi52YWx1ZSlyZXR1cm4gSCh0aGlzLlBiLmNoaWxkcmVuLmUoKSxcImFmZmVjdGVkVHJlZSBzaG91bGQgbm90IGhhdmUgb3ZlcmxhcHBpbmcgYWZmZWN0ZWQgcGF0aHMuXCIpLHRoaXM7YT10aGlzLlBiLnN1YnRyZWUobmV3IEwoYSkpO3JldHVybiBuZXcgTWcoQyxhLHRoaXMuSWQpfUgoSih0aGlzLnBhdGgpPT09YSxcIm9wZXJhdGlvbkZvckNoaWxkIGNhbGxlZCBmb3IgdW5yZWxhdGVkIGNoaWxkLlwiKTtyZXR1cm4gbmV3IE1nKEQodGhpcy5wYXRoKSx0aGlzLlBiLHRoaXMuSWQpfTtcbk1nLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiT3BlcmF0aW9uKFwiK3RoaXMucGF0aCtcIjogXCIrdGhpcy5zb3VyY2UudG9TdHJpbmcoKStcIiBhY2sgd3JpdGUgcmV2ZXJ0PVwiK3RoaXMuSWQrXCIgYWZmZWN0ZWRUcmVlPVwiK3RoaXMuUGIrXCIpXCJ9O3ZhciBhYz0wLHdkPTEsVWQ9MixjYz0zO2Z1bmN0aW9uIE9nKGEsYixjLGQpe3RoaXMuZWU9YTt0aGlzLldlPWI7dGhpcy5JYj1jO3RoaXMuRWU9ZDtIKCFkfHxiLFwiVGFnZ2VkIHF1ZXJpZXMgbXVzdCBiZSBmcm9tIHNlcnZlci5cIil9dmFyIE5nPW5ldyBPZyghMCwhMSxudWxsLCExKSxQZz1uZXcgT2coITEsITAsbnVsbCwhMSk7T2cucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWU/XCJ1c2VyXCI6dGhpcy5FZT9cInNlcnZlcihxdWVyeUlEPVwiK3RoaXMuSWIrXCIpXCI6XCJzZXJ2ZXJcIn07ZnVuY3Rpb24gUWcoYSl7dGhpcy5YPWF9dmFyIFJnPW5ldyBRZyhuZXcgemcobnVsbCkpO2Z1bmN0aW9uIFNnKGEsYixjKXtpZihiLmUoKSlyZXR1cm4gbmV3IFFnKG5ldyB6ZyhjKSk7dmFyIGQ9RGcoYS5YLGIpO2lmKG51bGwhPWQpe3ZhciBlPWQucGF0aCxkPWQudmFsdWU7Yj1UKGUsYik7ZD1kLkYoYixjKTtyZXR1cm4gbmV3IFFnKGEuWC5zZXQoZSxkKSl9YT1kZShhLlgsYixuZXcgemcoYykpO3JldHVybiBuZXcgUWcoYSl9ZnVuY3Rpb24gVGcoYSxiLGMpe3ZhciBkPWE7Q2IoYyxmdW5jdGlvbihhLGMpe2Q9U2coZCxiLmsoYSksYyl9KTtyZXR1cm4gZH1RZy5wcm90b3R5cGUuRWQ9ZnVuY3Rpb24oYSl7aWYoYS5lKCkpcmV0dXJuIFJnO2E9ZGUodGhpcy5YLGEsUSk7cmV0dXJuIG5ldyBRZyhhKX07ZnVuY3Rpb24gVWcoYSxiKXt2YXIgYz1EZyhhLlgsYik7cmV0dXJuIG51bGwhPWM/YS5YLmdldChjLnBhdGgpLlEoVChjLnBhdGgsYikpOm51bGx9XG5mdW5jdGlvbiBWZyhhKXt2YXIgYj1bXSxjPWEuWC52YWx1ZTtudWxsIT1jP2MuSigpfHxjLlAoTixmdW5jdGlvbihhLGMpe2IucHVzaChuZXcgSyhhLGMpKX0pOmEuWC5jaGlsZHJlbi5pYShmdW5jdGlvbihhLGMpe251bGwhPWMudmFsdWUmJmIucHVzaChuZXcgSyhhLGMudmFsdWUpKX0pO3JldHVybiBifWZ1bmN0aW9uIFdnKGEsYil7aWYoYi5lKCkpcmV0dXJuIGE7dmFyIGM9VWcoYSxiKTtyZXR1cm4gbnVsbCE9Yz9uZXcgUWcobmV3IHpnKGMpKTpuZXcgUWcoYS5YLnN1YnRyZWUoYikpfVFnLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWC5lKCl9O1FnLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihhKXtyZXR1cm4gWGcoQyx0aGlzLlgsYSl9O1xuZnVuY3Rpb24gWGcoYSxiLGMpe2lmKG51bGwhPWIudmFsdWUpcmV0dXJuIGMuRihhLGIudmFsdWUpO3ZhciBkPW51bGw7Yi5jaGlsZHJlbi5pYShmdW5jdGlvbihiLGYpe1wiLnByaW9yaXR5XCI9PT1iPyhIKG51bGwhPT1mLnZhbHVlLFwiUHJpb3JpdHkgd3JpdGVzIG11c3QgYWx3YXlzIGJlIGxlYWYgbm9kZXNcIiksZD1mLnZhbHVlKTpjPVhnKGEuayhiKSxmLGMpfSk7Yy5RKGEpLmUoKXx8bnVsbD09PWR8fChjPWMuRihhLmsoXCIucHJpb3JpdHlcIiksZCkpO3JldHVybiBjfTtmdW5jdGlvbiBZZygpe3RoaXMuQWE9e319Zz1ZZy5wcm90b3R5cGU7Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuIHhhKHRoaXMuQWEpfTtnLmdiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnNvdXJjZS5JYjtpZihudWxsIT09ZClyZXR1cm4gZD14KHRoaXMuQWEsZCksSChudWxsIT1kLFwiU3luY1RyZWUgZ2F2ZSB1cyBhbiBvcCBmb3IgYW4gaW52YWxpZCBxdWVyeS5cIiksZC5nYihhLGIsYyk7dmFyIGU9W107dCh0aGlzLkFhLGZ1bmN0aW9uKGQpe2U9ZS5jb25jYXQoZC5nYihhLGIsYykpfSk7cmV0dXJuIGV9O2cuT2I9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmthKCksaD14KHRoaXMuQWEsZik7aWYoIWgpe3ZhciBoPWMuQmEoZT9kOm51bGwpLGs9ITE7aD9rPSEwOihoPWQgaW5zdGFuY2VvZiBQP2Muc2MoZCk6RixrPSExKTtoPW5ldyBvZyhhLG5ldyBZZChuZXcgemMoaCxrLCExKSxuZXcgemMoZCxlLCExKSkpO3RoaXMuQWFbZl09aH1oLk9iKGIpO3JldHVybiByZyhoLGIpfTtcbmcubWI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEua2EoKSxlPVtdLGY9W10saD1udWxsIT1aZyh0aGlzKTtpZihcImRlZmF1bHRcIj09PWQpe3ZhciBrPXRoaXM7dCh0aGlzLkFhLGZ1bmN0aW9uKGEsZCl7Zj1mLmNvbmNhdChhLm1iKGIsYykpO2EuZSgpJiYoZGVsZXRlIGsuQWFbZF0sUyhhLlcubil8fGUucHVzaChhLlcpKX0pfWVsc2V7dmFyIG09eCh0aGlzLkFhLGQpO20mJihmPWYuY29uY2F0KG0ubWIoYixjKSksbS5lKCkmJihkZWxldGUgdGhpcy5BYVtkXSxTKG0uVy5uKXx8ZS5wdXNoKG0uVykpKX1oJiZudWxsPT1aZyh0aGlzKSYmZS5wdXNoKG5ldyBVKGEudSxhLnBhdGgpKTtyZXR1cm57c2c6ZSxUZjpmfX07ZnVuY3Rpb24gJGcoYSl7cmV0dXJuIEthKHNhKGEuQWEpLGZ1bmN0aW9uKGEpe3JldHVybiFTKGEuVy5uKX0pfWcuamI9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDt0KHRoaXMuQWEsZnVuY3Rpb24oYyl7Yj1ifHxjLmpiKGEpfSk7cmV0dXJuIGJ9O1xuZnVuY3Rpb24gYWgoYSxiKXtpZihTKGIubikpcmV0dXJuIFpnKGEpO3ZhciBjPWIua2EoKTtyZXR1cm4geChhLkFhLGMpfWZ1bmN0aW9uIFpnKGEpe3JldHVybiB3YShhLkFhLGZ1bmN0aW9uKGEpe3JldHVybiBTKGEuVy5uKX0pfHxudWxsfTtmdW5jdGlvbiBiaCgpe3RoaXMuVD1SZzt0aGlzLm1hPVtdO3RoaXMuQ2M9LTF9ZnVuY3Rpb24gY2goYSxiKXtmb3IodmFyIGM9MDtjPGEubWEubGVuZ3RoO2MrKyl7dmFyIGQ9YS5tYVtjXTtpZihkLlpjPT09YilyZXR1cm4gZH1yZXR1cm4gbnVsbH1nPWJoLnByb3RvdHlwZTtcbmcuRWQ9ZnVuY3Rpb24oYSl7dmFyIGI9UGEodGhpcy5tYSxmdW5jdGlvbihiKXtyZXR1cm4gYi5aYz09PWF9KTtIKDA8PWIsXCJyZW1vdmVXcml0ZSBjYWxsZWQgd2l0aCBub25leGlzdGVudCB3cml0ZUlkLlwiKTt2YXIgYz10aGlzLm1hW2JdO3RoaXMubWEuc3BsaWNlKGIsMSk7Zm9yKHZhciBkPWMudmlzaWJsZSxlPSExLGY9dGhpcy5tYS5sZW5ndGgtMTtkJiYwPD1mOyl7dmFyIGg9dGhpcy5tYVtmXTtoLnZpc2libGUmJihmPj1iJiZkaChoLGMucGF0aCk/ZD0hMTpjLnBhdGguY29udGFpbnMoaC5wYXRoKSYmKGU9ITApKTtmLS19aWYoZCl7aWYoZSl0aGlzLlQ9ZWgodGhpcy5tYSxmaCxDKSx0aGlzLkNjPTA8dGhpcy5tYS5sZW5ndGg/dGhpcy5tYVt0aGlzLm1hLmxlbmd0aC0xXS5aYzotMTtlbHNlIGlmKGMuSmEpdGhpcy5UPXRoaXMuVC5FZChjLnBhdGgpO2Vsc2V7dmFyIGs9dGhpczt0KGMuY2hpbGRyZW4sZnVuY3Rpb24oYSxiKXtrLlQ9ay5ULkVkKGMucGF0aC5rKGIpKX0pfXJldHVybiEwfXJldHVybiExfTtcbmcuQmE9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoY3x8ZCl7dmFyIGU9V2codGhpcy5ULGEpO3JldHVybiFkJiZlLmUoKT9iOmR8fG51bGwhPWJ8fG51bGwhPVVnKGUsQyk/KGU9ZWgodGhpcy5tYSxmdW5jdGlvbihiKXtyZXR1cm4oYi52aXNpYmxlfHxkKSYmKCFjfHwhKDA8PUlhKGMsYi5aYykpKSYmKGIucGF0aC5jb250YWlucyhhKXx8YS5jb250YWlucyhiLnBhdGgpKX0sYSksYj1ifHxGLGUuYXBwbHkoYikpOm51bGx9ZT1VZyh0aGlzLlQsYSk7aWYobnVsbCE9ZSlyZXR1cm4gZTtlPVdnKHRoaXMuVCxhKTtyZXR1cm4gZS5lKCk/YjpudWxsIT1ifHxudWxsIT1VZyhlLEMpPyhiPWJ8fEYsZS5hcHBseShiKSk6bnVsbH07XG5nLnNjPWZ1bmN0aW9uKGEsYil7dmFyIGM9RixkPVVnKHRoaXMuVCxhKTtpZihkKWQuSigpfHxkLlAoTixmdW5jdGlvbihhLGIpe2M9Yy5VKGEsYil9KTtlbHNlIGlmKGIpe3ZhciBlPVdnKHRoaXMuVCxhKTtiLlAoTixmdW5jdGlvbihhLGIpe3ZhciBkPVdnKGUsbmV3IEwoYSkpLmFwcGx5KGIpO2M9Yy5VKGEsZCl9KTtKYShWZyhlKSxmdW5jdGlvbihhKXtjPWMuVShhLm5hbWUsYS5TKX0pfWVsc2UgZT1XZyh0aGlzLlQsYSksSmEoVmcoZSksZnVuY3Rpb24oYSl7Yz1jLlUoYS5uYW1lLGEuUyl9KTtyZXR1cm4gY307Zy4kYz1mdW5jdGlvbihhLGIsYyxkKXtIKGN8fGQsXCJFaXRoZXIgZXhpc3RpbmdFdmVudFNuYXAgb3IgZXhpc3RpbmdTZXJ2ZXJTbmFwIG11c3QgZXhpc3RcIik7YT1hLmsoYik7aWYobnVsbCE9VWcodGhpcy5ULGEpKXJldHVybiBudWxsO2E9V2codGhpcy5ULGEpO3JldHVybiBhLmUoKT9kLlEoYik6YS5hcHBseShkLlEoYikpfTtcbmcucmM9ZnVuY3Rpb24oYSxiLGMpe2E9YS5rKGIpO3ZhciBkPVVnKHRoaXMuVCxhKTtyZXR1cm4gbnVsbCE9ZD9kOnljKGMsYik/V2codGhpcy5ULGEpLmFwcGx5KGMuaigpLlIoYikpOm51bGx9O2cubWM9ZnVuY3Rpb24oYSl7cmV0dXJuIFVnKHRoaXMuVCxhKX07Zy5YZD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGg7YT1XZyh0aGlzLlQsYSk7aD1VZyhhLEMpO2lmKG51bGw9PWgpaWYobnVsbCE9YiloPWEuYXBwbHkoYik7ZWxzZSByZXR1cm5bXTtoPWgub2IoZik7aWYoaC5lKCl8fGguSigpKXJldHVybltdO2I9W107YT1vZShmKTtlPWU/aC4kYihjLGYpOmguWWIoYyxmKTtmb3IoZj1SKGUpO2YmJmIubGVuZ3RoPGQ7KTAhPT1hKGYsYykmJmIucHVzaChmKSxmPVIoZSk7cmV0dXJuIGJ9O1xuZnVuY3Rpb24gZGgoYSxiKXtyZXR1cm4gYS5KYT9hLnBhdGguY29udGFpbnMoYik6ISF2YShhLmNoaWxkcmVuLGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGEucGF0aC5rKGQpLmNvbnRhaW5zKGIpfSl9ZnVuY3Rpb24gZmgoYSl7cmV0dXJuIGEudmlzaWJsZX1cbmZ1bmN0aW9uIGVoKGEsYixjKXtmb3IodmFyIGQ9UmcsZT0wO2U8YS5sZW5ndGg7KytlKXt2YXIgZj1hW2VdO2lmKGIoZikpe3ZhciBoPWYucGF0aDtpZihmLkphKWMuY29udGFpbnMoaCk/KGg9VChjLGgpLGQ9U2coZCxoLGYuSmEpKTpoLmNvbnRhaW5zKGMpJiYoaD1UKGgsYyksZD1TZyhkLEMsZi5KYS5RKGgpKSk7ZWxzZSBpZihmLmNoaWxkcmVuKWlmKGMuY29udGFpbnMoaCkpaD1UKGMsaCksZD1UZyhkLGgsZi5jaGlsZHJlbik7ZWxzZXtpZihoLmNvbnRhaW5zKGMpKWlmKGg9VChoLGMpLGguZSgpKWQ9VGcoZCxDLGYuY2hpbGRyZW4pO2Vsc2UgaWYoZj14KGYuY2hpbGRyZW4sSihoKSkpZj1mLlEoRChoKSksZD1TZyhkLEMsZil9ZWxzZSB0aHJvdyBTYyhcIldyaXRlUmVjb3JkIHNob3VsZCBoYXZlIC5zbmFwIG9yIC5jaGlsZHJlblwiKTt9fXJldHVybiBkfWZ1bmN0aW9uIGdoKGEsYil7dGhpcy5NYj1hO3RoaXMuWD1ifWc9Z2gucHJvdG90eXBlO1xuZy5CYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuWC5CYSh0aGlzLk1iLGEsYixjKX07Zy5zYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5YLnNjKHRoaXMuTWIsYSl9O2cuJGM9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLlguJGModGhpcy5NYixhLGIsYyl9O2cubWM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuWC5tYyh0aGlzLk1iLmsoYSkpfTtnLlhkPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRoaXMuWC5YZCh0aGlzLk1iLGEsYixjLGQsZSl9O2cucmM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5YLnJjKHRoaXMuTWIsYSxiKX07Zy5rPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZ2godGhpcy5NYi5rKGEpLHRoaXMuWCl9O2Z1bmN0aW9uIGhoKCl7dGhpcy5jaGlsZHJlbj17fTt0aGlzLmFkPTA7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIGloKGEsYixjKXt0aGlzLnVkPWE/YTpcIlwiO3RoaXMuSGE9Yj9iOm51bGw7dGhpcy5BPWM/YzpuZXcgaGh9ZnVuY3Rpb24gamgoYSxiKXtmb3IodmFyIGM9YiBpbnN0YW5jZW9mIEw/YjpuZXcgTChiKSxkPWEsZTtudWxsIT09KGU9SihjKSk7KWQ9bmV3IGloKGUsZCx4KGQuQS5jaGlsZHJlbixlKXx8bmV3IGhoKSxjPUQoYyk7cmV0dXJuIGR9Zz1paC5wcm90b3R5cGU7Zy5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkEudmFsdWV9O2Z1bmN0aW9uIGtoKGEsYil7SChcInVuZGVmaW5lZFwiIT09dHlwZW9mIGIsXCJDYW5ub3Qgc2V0IHZhbHVlIHRvIHVuZGVmaW5lZFwiKTthLkEudmFsdWU9YjtsaChhKX1nLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5BLnZhbHVlPW51bGw7dGhpcy5BLmNoaWxkcmVuPXt9O3RoaXMuQS5hZD0wO2xoKHRoaXMpfTtcbmcua2Q9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLkEuYWR9O2cuZT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5FYSgpJiYhdGhpcy5rZCgpfTtnLlA9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0KHRoaXMuQS5jaGlsZHJlbixmdW5jdGlvbihjLGQpe2EobmV3IGloKGQsYixjKSl9KX07ZnVuY3Rpb24gbWgoYSxiLGMsZCl7YyYmIWQmJmIoYSk7YS5QKGZ1bmN0aW9uKGEpe21oKGEsYiwhMCxkKX0pO2MmJmQmJmIoYSl9ZnVuY3Rpb24gbmgoYSxiKXtmb3IodmFyIGM9YS5wYXJlbnQoKTtudWxsIT09YyYmIWIoYyk7KWM9Yy5wYXJlbnQoKX1nLnBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEwobnVsbD09PXRoaXMuSGE/dGhpcy51ZDp0aGlzLkhhLnBhdGgoKStcIi9cIit0aGlzLnVkKX07Zy5uYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWR9O2cucGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSGF9O1xuZnVuY3Rpb24gbGgoYSl7aWYobnVsbCE9PWEuSGEpe3ZhciBiPWEuSGEsYz1hLnVkLGQ9YS5lKCksZT1CYihiLkEuY2hpbGRyZW4sYyk7ZCYmZT8oZGVsZXRlIGIuQS5jaGlsZHJlbltjXSxiLkEuYWQtLSxsaChiKSk6ZHx8ZXx8KGIuQS5jaGlsZHJlbltjXT1hLkEsYi5BLmFkKyssbGgoYikpfX07ZnVuY3Rpb24gb2goYSxiLGMsZCxlLGYpe3RoaXMuaWQ9cGgrKzt0aGlzLmY9WWMoXCJwOlwiK3RoaXMuaWQrXCI6XCIpO3RoaXMucWQ9e307dGhpcy5hYT17fTt0aGlzLnFhPVtdO3RoaXMuUGM9MDt0aGlzLkxjPVtdO3RoaXMubmE9ITE7dGhpcy5WYT0xRTM7dGhpcy50ZD0zRTU7dGhpcy5IYj1iO3RoaXMuS2M9Yzt0aGlzLnVlPWQ7dGhpcy5NPWE7dGhpcy5wYj10aGlzLklhPXRoaXMuRGI9dGhpcy56ZT1udWxsO3RoaXMuVmQ9ZTt0aGlzLmRlPSExO3RoaXMua2U9MDtpZihmKXRocm93IEVycm9yKFwiQXV0aCBvdmVycmlkZSBzcGVjaWZpZWQgaW4gb3B0aW9ucywgYnV0IG5vdCBzdXBwb3J0ZWQgb24gbm9uIE5vZGUuanMgcGxhdGZvcm1zXCIpO3RoaXMuSmU9Znx8bnVsbDt0aGlzLnZiPW51bGw7dGhpcy5OYj0hMTt0aGlzLkdkPXt9O3RoaXMudGc9MDt0aGlzLlZlPSEwO3RoaXMuQmM9dGhpcy5tZT1udWxsO3FoKHRoaXMsMCk7VGYuV2IoKS5oYyhcInZpc2libGVcIix0aGlzLmpnLHRoaXMpOy0xPT09XG5hLmhvc3QuaW5kZXhPZihcImZibG9jYWxcIikmJlNmLldiKCkuaGMoXCJvbmxpbmVcIix0aGlzLmlnLHRoaXMpfXZhciBwaD0wLHJoPTA7Zz1vaC5wcm90b3R5cGU7Zy52YT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Kyt0aGlzLnRnO2E9e3I6ZCxhOmEsYjpifTt0aGlzLmYoQihhKSk7SCh0aGlzLm5hLFwic2VuZFJlcXVlc3QgY2FsbCB3aGVuIHdlJ3JlIG5vdCBjb25uZWN0ZWQgbm90IGFsbG93ZWQuXCIpO3RoaXMuSWEudmEoYSk7YyYmKHRoaXMuR2RbZF09Yyl9O1xuZy5kZj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLmthKCksZj1hLnBhdGgudG9TdHJpbmcoKTt0aGlzLmYoXCJMaXN0ZW4gY2FsbGVkIGZvciBcIitmK1wiIFwiK2UpO3RoaXMuYWFbZl09dGhpcy5hYVtmXXx8e307SChyZChhLm4pfHwhUyhhLm4pLFwibGlzdGVuKCkgY2FsbGVkIGZvciBub24tZGVmYXVsdCBidXQgY29tcGxldGUgcXVlcnlcIik7SCghdGhpcy5hYVtmXVtlXSxcImxpc3RlbigpIGNhbGxlZCB0d2ljZSBmb3Igc2FtZSBwYXRoL3F1ZXJ5SWQuXCIpO2E9e0c6ZCxsZDpiLHBnOmEsdGFnOmN9O3RoaXMuYWFbZl1bZV09YTt0aGlzLm5hJiZzaCh0aGlzLGEpfTtcbmZ1bmN0aW9uIHNoKGEsYil7dmFyIGM9Yi5wZyxkPWMucGF0aC50b1N0cmluZygpLGU9Yy5rYSgpO2EuZihcIkxpc3RlbiBvbiBcIitkK1wiIGZvciBcIitlKTt2YXIgZj17cDpkfTtiLnRhZyYmKGYucT1JZShjLm4pLGYudD1iLnRhZyk7Zi5oPWIubGQoKTthLnZhKFwicVwiLGYsZnVuY3Rpb24oZil7dmFyIGs9Zi5kLG09Zi5zO2lmKGsmJlwib2JqZWN0XCI9PT10eXBlb2YgayYmQmIoayxcIndcIikpe3ZhciBsPXgoayxcIndcIik7ZGEobCkmJjA8PUlhKGwsXCJub19pbmRleFwiKSYmTyhcIlVzaW5nIGFuIHVuc3BlY2lmaWVkIGluZGV4LiBDb25zaWRlciBhZGRpbmcgXCIrKCdcIi5pbmRleE9uXCI6IFwiJytjLm4uZy50b1N0cmluZygpKydcIicpK1wiIGF0IFwiK2MucGF0aC50b1N0cmluZygpK1wiIHRvIHlvdXIgc2VjdXJpdHkgcnVsZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZVwiKX0oYS5hYVtkXSYmYS5hYVtkXVtlXSk9PT1iJiYoYS5mKFwibGlzdGVuIHJlc3BvbnNlXCIsZiksXCJva1wiIT09bSYmdGgoYSxkLGUpLGIuRyYmXG5iLkcobSxrKSl9KX1nLnFmPWZ1bmN0aW9uKGEpe3RoaXMucGI9YTt0aGlzLmYoXCJBdXRoIHRva2VuIHJlZnJlc2hlZFwiKTt0aGlzLnBiP3VoKHRoaXMpOnRoaXMubmEmJnRoaXMudmEoXCJ1bmF1dGhcIix7fSxmdW5jdGlvbigpe30pO2lmKGEmJjQwPT09YS5sZW5ndGh8fG9kKGEpKXRoaXMuZihcIkFkbWluIGF1dGggY3JlZGVudGlhbCBkZXRlY3RlZC4gIFJlZHVjaW5nIG1heCByZWNvbm5lY3QgdGltZS5cIiksdGhpcy50ZD0zRTR9O2Z1bmN0aW9uIHVoKGEpe2lmKGEubmEmJmEucGIpe3ZhciBiPWEucGIsYz1uZChiKT9cImF1dGhcIjpcImdhdXRoXCIsZD17Y3JlZDpifTthLkplJiYoZC5hdXRodmFyPWEuSmUpO2EudmEoYyxkLGZ1bmN0aW9uKGMpe3ZhciBkPWMucztjPWMuZHx8XCJlcnJvclwiO2EucGI9PT1iJiYoXCJva1wiPT09ZD9hLmtlPTA6dmgoYSxkLGMpKX0pfX1cbmcuRWY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnBhdGgudG9TdHJpbmcoKSxkPWEua2EoKTt0aGlzLmYoXCJVbmxpc3RlbiBjYWxsZWQgZm9yIFwiK2MrXCIgXCIrZCk7SChyZChhLm4pfHwhUyhhLm4pLFwidW5saXN0ZW4oKSBjYWxsZWQgZm9yIG5vbi1kZWZhdWx0IGJ1dCBjb21wbGV0ZSBxdWVyeVwiKTtpZih0aCh0aGlzLGMsZCkmJnRoaXMubmEpe3ZhciBlPUllKGEubik7dGhpcy5mKFwiVW5saXN0ZW4gb24gXCIrYytcIiBmb3IgXCIrZCk7Yz17cDpjfTtiJiYoYy5xPWUsYy50PWIpO3RoaXMudmEoXCJuXCIsYyl9fTtnLnJlPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm5hP3doKHRoaXMsXCJvXCIsYSxiLGMpOnRoaXMuTGMucHVzaCh7d2U6YSxhY3Rpb246XCJvXCIsZGF0YTpiLEc6Y30pfTtnLmdmPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm5hP3doKHRoaXMsXCJvbVwiLGEsYixjKTp0aGlzLkxjLnB1c2goe3dlOmEsYWN0aW9uOlwib21cIixkYXRhOmIsRzpjfSl9O1xuZy54ZD1mdW5jdGlvbihhLGIpe3RoaXMubmE/d2godGhpcyxcIm9jXCIsYSxudWxsLGIpOnRoaXMuTGMucHVzaCh7d2U6YSxhY3Rpb246XCJvY1wiLGRhdGE6bnVsbCxHOmJ9KX07ZnVuY3Rpb24gd2goYSxiLGMsZCxlKXtjPXtwOmMsZDpkfTthLmYoXCJvbkRpc2Nvbm5lY3QgXCIrYixjKTthLnZhKGIsYyxmdW5jdGlvbihhKXtlJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShhLnMsYS5kKX0sTWF0aC5mbG9vcigwKSl9KX1nLnB1dD1mdW5jdGlvbihhLGIsYyxkKXt4aCh0aGlzLFwicFwiLGEsYixjLGQpfTtnLmVmPWZ1bmN0aW9uKGEsYixjLGQpe3hoKHRoaXMsXCJtXCIsYSxiLGMsZCl9O2Z1bmN0aW9uIHhoKGEsYixjLGQsZSxmKXtkPXtwOmMsZDpkfTtwKGYpJiYoZC5oPWYpO2EucWEucHVzaCh7YWN0aW9uOmIsc2Y6ZCxHOmV9KTthLlBjKys7Yj1hLnFhLmxlbmd0aC0xO2EubmE/eWgoYSxiKTphLmYoXCJCdWZmZXJpbmcgcHV0OiBcIitjKX1cbmZ1bmN0aW9uIHloKGEsYil7dmFyIGM9YS5xYVtiXS5hY3Rpb24sZD1hLnFhW2JdLnNmLGU9YS5xYVtiXS5HO2EucWFbYl0ucWc9YS5uYTthLnZhKGMsZCxmdW5jdGlvbihkKXthLmYoYytcIiByZXNwb25zZVwiLGQpO2RlbGV0ZSBhLnFhW2JdO2EuUGMtLTswPT09YS5QYyYmKGEucWE9W10pO2UmJmUoZC5zLGQuZCl9KX1nLnllPWZ1bmN0aW9uKGEpe3RoaXMubmEmJihhPXtjOmF9LHRoaXMuZihcInJlcG9ydFN0YXRzXCIsYSksdGhpcy52YShcInNcIixhLGZ1bmN0aW9uKGEpe1wib2tcIiE9PWEucyYmdGhpcy5mKFwicmVwb3J0U3RhdHNcIixcIkVycm9yIHNlbmRpbmcgc3RhdHM6IFwiK2EuZCl9KSl9O1xuZy53ZD1mdW5jdGlvbihhKXtpZihcInJcImluIGEpe3RoaXMuZihcImZyb20gc2VydmVyOiBcIitCKGEpKTt2YXIgYj1hLnIsYz10aGlzLkdkW2JdO2MmJihkZWxldGUgdGhpcy5HZFtiXSxjKGEuYikpfWVsc2V7aWYoXCJlcnJvclwiaW4gYSl0aHJvd1wiQSBzZXJ2ZXItc2lkZSBlcnJvciBoYXMgb2NjdXJyZWQ6IFwiK2EuZXJyb3I7XCJhXCJpbiBhJiYoYj1hLmEsYT1hLmIsdGhpcy5mKFwiaGFuZGxlU2VydmVyTWVzc2FnZVwiLGIsYSksXCJkXCI9PT1iP3RoaXMuSGIoYS5wLGEuZCwhMSxhLnQpOlwibVwiPT09Yj90aGlzLkhiKGEucCxhLmQsITAsYS50KTpcImNcIj09PWI/emgodGhpcyxhLnAsYS5xKTpcImFjXCI9PT1iP3ZoKHRoaXMsYS5zLGEuZCk6XCJzZFwiPT09Yj90aGlzLnplP3RoaXMuemUoYSk6XCJtc2dcImluIGEmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2coXCJGSVJFQkFTRTogXCIrYS5tc2cucmVwbGFjZShcIlxcblwiLFwiXFxuRklSRUJBU0U6IFwiKSk6WmMoXCJVbnJlY29nbml6ZWQgYWN0aW9uIHJlY2VpdmVkIGZyb20gc2VydmVyOiBcIitcbkIoYikrXCJcXG5BcmUgeW91IHVzaW5nIHRoZSBsYXRlc3QgY2xpZW50P1wiKSl9fTtnLk1jPWZ1bmN0aW9uKGEsYil7dGhpcy5mKFwiY29ubmVjdGlvbiByZWFkeVwiKTt0aGlzLm5hPSEwO3RoaXMuQmM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy51ZSh7c2VydmVyVGltZU9mZnNldDphLShuZXcgRGF0ZSkuZ2V0VGltZSgpfSk7dGhpcy5EYj1iO2lmKHRoaXMuVmUpe3ZhciBjPXt9O2NbXCJzZGsuanMuXCIrZmlyZWJhc2UuU0RLX1ZFUlNJT04ucmVwbGFjZSgvXFwuL2csXCItXCIpXT0xO1FiKCk/Y1tcImZyYW1ld29yay5jb3Jkb3ZhXCJdPTE6XCJvYmplY3RcIj09PXR5cGVvZiBuYXZpZ2F0b3ImJlwiUmVhY3ROYXRpdmVcIj09PW5hdmlnYXRvci5wcm9kdWN0JiYoY1tcImZyYW1ld29yay5yZWFjdG5hdGl2ZVwiXT0xKTt0aGlzLnllKGMpfUFoKHRoaXMpO3RoaXMuVmU9ITE7dGhpcy5LYyghMCl9O1xuZnVuY3Rpb24gcWgoYSxiKXtIKCFhLklhLFwiU2NoZWR1bGluZyBhIGNvbm5lY3Qgd2hlbiB3ZSdyZSBhbHJlYWR5IGNvbm5lY3RlZC9pbmc/XCIpO2EudmImJmNsZWFyVGltZW91dChhLnZiKTthLnZiPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnZiPW51bGw7QmgoYSl9LE1hdGguZmxvb3IoYikpfWcuamc9ZnVuY3Rpb24oYSl7YSYmIXRoaXMuTmImJnRoaXMuVmE9PT10aGlzLnRkJiYodGhpcy5mKFwiV2luZG93IGJlY2FtZSB2aXNpYmxlLiAgUmVkdWNpbmcgZGVsYXkuXCIpLHRoaXMuVmE9MUUzLHRoaXMuSWF8fHFoKHRoaXMsMCkpO3RoaXMuTmI9YX07Zy5pZz1mdW5jdGlvbihhKXthPyh0aGlzLmYoXCJCcm93c2VyIHdlbnQgb25saW5lLlwiKSx0aGlzLlZhPTFFMyx0aGlzLklhfHxxaCh0aGlzLDApKToodGhpcy5mKFwiQnJvd3NlciB3ZW50IG9mZmxpbmUuICBLaWxsaW5nIGNvbm5lY3Rpb24uXCIpLHRoaXMuSWEmJnRoaXMuSWEuY2xvc2UoKSl9O1xuZy5qZj1mdW5jdGlvbigpe3RoaXMuZihcImRhdGEgY2xpZW50IGRpc2Nvbm5lY3RlZFwiKTt0aGlzLm5hPSExO3RoaXMuSWE9bnVsbDtmb3IodmFyIGE9MDthPHRoaXMucWEubGVuZ3RoO2ErKyl7dmFyIGI9dGhpcy5xYVthXTtiJiZcImhcImluIGIuc2YmJmIucWcmJihiLkcmJmIuRyhcImRpc2Nvbm5lY3RcIiksZGVsZXRlIHRoaXMucWFbYV0sdGhpcy5QYy0tKX0wPT09dGhpcy5QYyYmKHRoaXMucWE9W10pO3RoaXMuR2Q9e307Q2godGhpcykmJih0aGlzLk5iP3RoaXMuQmMmJigzRTQ8KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5CYyYmKHRoaXMuVmE9MUUzKSx0aGlzLkJjPW51bGwpOih0aGlzLmYoXCJXaW5kb3cgaXNuJ3QgdmlzaWJsZS4gIERlbGF5aW5nIHJlY29ubmVjdC5cIiksdGhpcy5WYT10aGlzLnRkLHRoaXMubWU9KG5ldyBEYXRlKS5nZXRUaW1lKCkpLGE9TWF0aC5tYXgoMCx0aGlzLlZhLSgobmV3IERhdGUpLmdldFRpbWUoKS10aGlzLm1lKSksYSo9TWF0aC5yYW5kb20oKSx0aGlzLmYoXCJUcnlpbmcgdG8gcmVjb25uZWN0IGluIFwiK1xuYStcIm1zXCIpLHFoKHRoaXMsYSksdGhpcy5WYT1NYXRoLm1pbih0aGlzLnRkLDEuMyp0aGlzLlZhKSk7dGhpcy5LYyghMSl9O1xuZnVuY3Rpb24gQmgoYSl7aWYoQ2goYSkpe2EuZihcIk1ha2luZyBhIGNvbm5lY3Rpb24gYXR0ZW1wdFwiKTthLm1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2EuQmM9bnVsbDt2YXIgYj1yKGEud2QsYSksYz1yKGEuTWMsYSksZD1yKGEuamYsYSksZT1hLmlkK1wiOlwiK3JoKyssZj1hLkRiLGg9ITEsaz1udWxsLG09ZnVuY3Rpb24oKXtrP2suY2xvc2UoKTooaD0hMCxkKCkpfTthLklhPXtjbG9zZTptLHZhOmZ1bmN0aW9uKGEpe0goayxcInNlbmRSZXF1ZXN0IGNhbGwgd2hlbiB3ZSdyZSBub3QgY29ubmVjdGVkIG5vdCBhbGxvd2VkLlwiKTtrLnZhKGEpfX07dmFyIGw9YS5kZTthLmRlPSExO2EuVmQuZ2V0VG9rZW4obCkudGhlbihmdW5jdGlvbihsKXtoP0UoXCJnZXRUb2tlbigpIGNvbXBsZXRlZCBidXQgd2FzIGNhbmNlbGVkXCIpOihFKFwiZ2V0VG9rZW4oKSBjb21wbGV0ZWQuIENyZWF0aW5nIGNvbm5lY3Rpb24uXCIpLGEucGI9bCYmbC5hY2Nlc3NUb2tlbixrPW5ldyBiZihlLGEuTSxiLGMsZCxmdW5jdGlvbihiKXtPKGIrXG5cIiAoXCIrYS5NLnRvU3RyaW5nKCkrXCIpXCIpO2EuZWIoXCJzZXJ2ZXJfa2lsbFwiKX0sZikpfSkudGhlbihudWxsLGZ1bmN0aW9uKGIpe2EuZihcIkZhaWxlZCB0byBnZXQgdG9rZW46IFwiK2IpO2h8fG0oKX0pfX1nLmViPWZ1bmN0aW9uKGEpe0UoXCJJbnRlcnJ1cHRpbmcgY29ubmVjdGlvbiBmb3IgcmVhc29uOiBcIithKTt0aGlzLnFkW2FdPSEwO3RoaXMuSWE/dGhpcy5JYS5jbG9zZSgpOih0aGlzLnZiJiYoY2xlYXJUaW1lb3V0KHRoaXMudmIpLHRoaXMudmI9bnVsbCksdGhpcy5uYSYmdGhpcy5qZigpKX07Zy5sYz1mdW5jdGlvbihhKXtFKFwiUmVzdW1pbmcgY29ubmVjdGlvbiBmb3IgcmVhc29uOiBcIithKTtkZWxldGUgdGhpcy5xZFthXTt4YSh0aGlzLnFkKSYmKHRoaXMuVmE9MUUzLHRoaXMuSWF8fHFoKHRoaXMsMCkpfTtcbmZ1bmN0aW9uIHpoKGEsYixjKXtjPWM/TGEoYyxmdW5jdGlvbihhKXtyZXR1cm4gZmQoYSl9KS5qb2luKFwiJFwiKTpcImRlZmF1bHRcIjsoYT10aChhLGIsYykpJiZhLkcmJmEuRyhcInBlcm1pc3Npb25fZGVuaWVkXCIpfWZ1bmN0aW9uIHRoKGEsYixjKXtiPShuZXcgTChiKSkudG9TdHJpbmcoKTt2YXIgZDtwKGEuYWFbYl0pPyhkPWEuYWFbYl1bY10sZGVsZXRlIGEuYWFbYl1bY10sMD09PXFhKGEuYWFbYl0pJiZkZWxldGUgYS5hYVtiXSk6ZD12b2lkIDA7cmV0dXJuIGR9XG5mdW5jdGlvbiB2aChhLGIsYyl7RShcIkF1dGggdG9rZW4gcmV2b2tlZDogXCIrYitcIi9cIitjKTthLnBiPW51bGw7YS5kZT0hMDthLklhLmNsb3NlKCk7XCJpbnZhbGlkX3Rva2VuXCI9PT1iJiYoYS5rZSsrLDM8PWEua2UmJihhLlZhPTNFNCxPKFwiUHJvdmlkZWQgYXV0aGVudGljYXRpb24gY3JlZGVudGlhbHMgYXJlIGludmFsaWQuIFRoaXMgdXN1YWxseSBpbmRpY2F0ZXMgeW91ciBGaXJlYmFzZUFwcCBpbnN0YW5jZSB3YXMgbm90IGluaXRpYWxpemVkIGNvcnJlY3RseS4gTWFrZSBzdXJlIHlvdXIgYXBpS2V5IGFuZCBkYXRhYmFzZVVSTCBtYXRjaCB0aGUgdmFsdWVzIHByb3ZpZGVkIGZvciB5b3VyIGFwcCBhdCBodHRwczovL2NvbnNvbGUuZmlyZWJhc2UuZ29vZ2xlLmNvbS8sIG9yIGlmIHlvdSdyZSB1c2luZyBhIHNlcnZpY2UgYWNjb3VudCwgbWFrZSBzdXJlIGl0J3MgYXV0aG9yaXplZCB0byBhY2Nlc3MgdGhlIHNwZWNpZmllZCBkYXRhYmFzZVVSTCBhbmQgaXMgZnJvbSB0aGUgY29ycmVjdCBwcm9qZWN0LlwiKSkpfVxuZnVuY3Rpb24gQWgoYSl7dWgoYSk7dChhLmFhLGZ1bmN0aW9uKGIpe3QoYixmdW5jdGlvbihiKXtzaChhLGIpfSl9KTtmb3IodmFyIGI9MDtiPGEucWEubGVuZ3RoO2IrKylhLnFhW2JdJiZ5aChhLGIpO2Zvcig7YS5MYy5sZW5ndGg7KWI9YS5MYy5zaGlmdCgpLHdoKGEsYi5hY3Rpb24sYi53ZSxiLmRhdGEsYi5HKX1mdW5jdGlvbiBDaChhKXt2YXIgYjtiPVNmLldiKCkuaWM7cmV0dXJuIHhhKGEucWQpJiZifTt2YXIgWT17WGY6ZnVuY3Rpb24oKXtSZT1FZD0hMH19O1kuZm9yY2VMb25nUG9sbGluZz1ZLlhmO1kuWWY9ZnVuY3Rpb24oKXtTZT0hMH07WS5mb3JjZVdlYlNvY2tldHM9WS5ZZjtZLmRnPWZ1bmN0aW9uKCl7cmV0dXJuIERkLmlzQXZhaWxhYmxlKCl9O1kuaXNXZWJTb2NrZXRzQXZhaWxhYmxlPVkuZGc7WS53Zz1mdW5jdGlvbihhLGIpe2EudS5VYS56ZT1ifTtZLnNldFNlY3VyaXR5RGVidWdDYWxsYmFjaz1ZLndnO1kuQmU9ZnVuY3Rpb24oYSxiKXthLnUuQmUoYil9O1kuc3RhdHM9WS5CZTtZLkNlPWZ1bmN0aW9uKGEsYil7YS51LkNlKGIpfTtZLnN0YXRzSW5jcmVtZW50Q291bnRlcj1ZLkNlO1kuZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudS5lZH07WS5kYXRhVXBkYXRlQ291bnQ9WS5lZDtZLmNnPWZ1bmN0aW9uKGEsYil7YS51LmplPWJ9O1kuaW50ZXJjZXB0U2VydmVyRGF0YT1ZLmNnO2Z1bmN0aW9uIERoKGEpe3RoaXMueGE9UTt0aGlzLmxiPW5ldyBiaDt0aGlzLkRlPXt9O3RoaXMuamM9e307dGhpcy5EYz1hfWZ1bmN0aW9uIEVoKGEsYixjLGQsZSl7dmFyIGY9YS5sYixoPWU7SChkPmYuQ2MsXCJTdGFja2luZyBhbiBvbGRlciB3cml0ZSBvbiB0b3Agb2YgbmV3ZXIgb25lc1wiKTtwKGgpfHwoaD0hMCk7Zi5tYS5wdXNoKHtwYXRoOmIsSmE6YyxaYzpkLHZpc2libGU6aH0pO2gmJihmLlQ9U2coZi5ULGIsYykpO2YuQ2M9ZDtyZXR1cm4gZT9GaChhLG5ldyAkYihOZyxiLGMpKTpbXX1mdW5jdGlvbiBHaChhLGIsYyxkKXt2YXIgZT1hLmxiO0goZD5lLkNjLFwiU3RhY2tpbmcgYW4gb2xkZXIgbWVyZ2Ugb24gdG9wIG9mIG5ld2VyIG9uZXNcIik7ZS5tYS5wdXNoKHtwYXRoOmIsY2hpbGRyZW46YyxaYzpkLHZpc2libGU6ITB9KTtlLlQ9VGcoZS5ULGIsYyk7ZS5DYz1kO2M9QmcoYyk7cmV0dXJuIEZoKGEsbmV3IHZkKE5nLGIsYykpfVxuZnVuY3Rpb24gSGgoYSxiLGMpe2M9Y3x8ITE7dmFyIGQ9Y2goYS5sYixiKTtpZihhLmxiLkVkKGIpKXt2YXIgZT1RO251bGwhPWQuSmE/ZT1lLnNldChDLCEwKTpDYihkLmNoaWxkcmVuLGZ1bmN0aW9uKGEsYil7ZT1lLnNldChuZXcgTChhKSxiKX0pO3JldHVybiBGaChhLG5ldyBNZyhkLnBhdGgsZSxjKSl9cmV0dXJuW119ZnVuY3Rpb24gSWgoYSxiLGMpe2M9QmcoYyk7cmV0dXJuIEZoKGEsbmV3IHZkKFBnLGIsYykpfWZ1bmN0aW9uIEpoKGEsYixjLGQpe2Q9S2goYSxkKTtpZihudWxsIT1kKXt2YXIgZT1MaChkKTtkPWUucGF0aDtlPWUuSWI7Yj1UKGQsYik7Yz1uZXcgJGIobmV3IE9nKCExLCEwLGUsITApLGIsYyk7cmV0dXJuIE1oKGEsZCxjKX1yZXR1cm5bXX1cbmZ1bmN0aW9uIE5oKGEsYixjLGQpe2lmKGQ9S2goYSxkKSl7dmFyIGU9TGgoZCk7ZD1lLnBhdGg7ZT1lLkliO2I9VChkLGIpO2M9QmcoYyk7Yz1uZXcgdmQobmV3IE9nKCExLCEwLGUsITApLGIsYyk7cmV0dXJuIE1oKGEsZCxjKX1yZXR1cm5bXX1cbkRoLnByb3RvdHlwZS5PYj1mdW5jdGlvbihhLGIpe3ZhciBjPWEucGF0aCxkPW51bGwsZT0hMTtJZyh0aGlzLnhhLGMsZnVuY3Rpb24oYSxiKXt2YXIgZj1UKGEsYyk7ZD1kfHxiLmpiKGYpO2U9ZXx8bnVsbCE9WmcoYil9KTt2YXIgZj10aGlzLnhhLmdldChjKTtmPyhlPWV8fG51bGwhPVpnKGYpLGQ9ZHx8Zi5qYihDKSk6KGY9bmV3IFlnLHRoaXMueGE9dGhpcy54YS5zZXQoYyxmKSk7dmFyIGg7bnVsbCE9ZD9oPSEwOihoPSExLGQ9RixMZyh0aGlzLnhhLnN1YnRyZWUoYyksZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmpiKEMpO2MmJihkPWQuVShhLGMpKX0pKTt2YXIgaz1udWxsIT1haChmLGEpO2lmKCFrJiYhUyhhLm4pKXt2YXIgbT1PaChhKTtIKCEobSBpbiB0aGlzLmpjKSxcIlZpZXcgZG9lcyBub3QgZXhpc3QsIGJ1dCB3ZSBoYXZlIGEgdGFnXCIpO3ZhciBsPVBoKys7dGhpcy5qY1ttXT1sO3RoaXMuRGVbXCJfXCIrbF09bX1oPWYuT2IoYSxiLG5ldyBnaChjLHRoaXMubGIpLGQsaCk7a3x8XG5lfHwoZj1haChmLGEpLGg9aC5jb25jYXQoUWgodGhpcyxhLGYpKSk7cmV0dXJuIGh9O1xuRGgucHJvdG90eXBlLm1iPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnBhdGgsZT10aGlzLnhhLmdldChkKSxmPVtdO2lmKGUmJihcImRlZmF1bHRcIj09PWEua2EoKXx8bnVsbCE9YWgoZSxhKSkpe2Y9ZS5tYihhLGIsYyk7ZS5lKCkmJih0aGlzLnhhPXRoaXMueGEucmVtb3ZlKGQpKTtlPWYuc2c7Zj1mLlRmO2I9LTEhPT1QYShlLGZ1bmN0aW9uKGEpe3JldHVybiBTKGEubil9KTt2YXIgaD1HZyh0aGlzLnhhLGQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9WmcoYil9KTtpZihiJiYhaCYmKGQ9dGhpcy54YS5zdWJ0cmVlKGQpLCFkLmUoKSkpZm9yKHZhciBkPVJoKGQpLGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIG09ZFtrXSxsPW0uVyxtPVNoKHRoaXMsbSk7dGhpcy5EYy5BZShUaChsKSxVaCh0aGlzLGwpLG0ubGQsbS5HKX1pZighaCYmMDxlLmxlbmd0aCYmIWMpaWYoYil0aGlzLkRjLk9kKFRoKGEpLG51bGwpO2Vsc2V7dmFyIHU9dGhpcztKYShlLGZ1bmN0aW9uKGEpe2Eua2EoKTtcbnZhciBiPXUuamNbT2goYSldO3UuRGMuT2QoVGgoYSksYil9KX1WaCh0aGlzLGUpfXJldHVybiBmfTtEaC5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmxiLGQ9R2codGhpcy54YSxhLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9VChiLGEpO2lmKGQ9Yy5qYihkKSlyZXR1cm4gZH0pO3JldHVybiBjLkJhKGEsZCxiLCEwKX07ZnVuY3Rpb24gUmgoYSl7cmV0dXJuIEVnKGEsZnVuY3Rpb24oYSxjLGQpe2lmKGMmJm51bGwhPVpnKGMpKXJldHVybltaZyhjKV07dmFyIGU9W107YyYmKGU9JGcoYykpO3QoZCxmdW5jdGlvbihhKXtlPWUuY29uY2F0KGEpfSk7cmV0dXJuIGV9KX1mdW5jdGlvbiBWaChhLGIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1iW2NdO2lmKCFTKGQubikpe3ZhciBkPU9oKGQpLGU9YS5qY1tkXTtkZWxldGUgYS5qY1tkXTtkZWxldGUgYS5EZVtcIl9cIitlXX19fVxuZnVuY3Rpb24gVGgoYSl7cmV0dXJuIFMoYS5uKSYmIXJkKGEubik/YS54YigpOmF9ZnVuY3Rpb24gUWgoYSxiLGMpe3ZhciBkPWIucGF0aCxlPVVoKGEsYik7Yz1TaChhLGMpO2I9YS5EYy5BZShUaChiKSxlLGMubGQsYy5HKTtkPWEueGEuc3VidHJlZShkKTtpZihlKUgobnVsbD09WmcoZC52YWx1ZSksXCJJZiB3ZSdyZSBhZGRpbmcgYSBxdWVyeSwgaXQgc2hvdWxkbid0IGJlIHNoYWRvd2VkXCIpO2Vsc2UgZm9yKGU9RWcoZCxmdW5jdGlvbihhLGIsYyl7aWYoIWEuZSgpJiZiJiZudWxsIT1aZyhiKSlyZXR1cm5bcGcoWmcoYikpXTt2YXIgZD1bXTtiJiYoZD1kLmNvbmNhdChMYSgkZyhiKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5XfSkpKTt0KGMsZnVuY3Rpb24oYSl7ZD1kLmNvbmNhdChhKX0pO3JldHVybiBkfSksZD0wO2Q8ZS5sZW5ndGg7KytkKWM9ZVtkXSxhLkRjLk9kKFRoKGMpLFVoKGEsYykpO3JldHVybiBifVxuZnVuY3Rpb24gU2goYSxiKXt2YXIgYz1iLlcsZD1VaChhLGMpO3JldHVybntsZDpmdW5jdGlvbigpe3JldHVybihiLncoKXx8RikuaGFzaCgpfSxHOmZ1bmN0aW9uKGIpe2lmKFwib2tcIj09PWIpe2lmKGQpe3ZhciBmPWMucGF0aDtpZihiPUtoKGEsZCkpe3ZhciBoPUxoKGIpO2I9aC5wYXRoO2g9aC5JYjtmPVQoYixmKTtmPW5ldyBiYyhuZXcgT2coITEsITAsaCwhMCksZik7Yj1NaChhLGIsZil9ZWxzZSBiPVtdfWVsc2UgYj1GaChhLG5ldyBiYyhQZyxjLnBhdGgpKTtyZXR1cm4gYn1mPVwiVW5rbm93biBFcnJvclwiO1widG9vX2JpZ1wiPT09Yj9mPVwiVGhlIGRhdGEgcmVxdWVzdGVkIGV4Y2VlZHMgdGhlIG1heGltdW0gc2l6ZSB0aGF0IGNhbiBiZSBhY2Nlc3NlZCB3aXRoIGEgc2luZ2xlIHJlcXVlc3QuXCI6XCJwZXJtaXNzaW9uX2RlbmllZFwiPT1iP2Y9XCJDbGllbnQgZG9lc24ndCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoZSBkZXNpcmVkIGRhdGEuXCI6XCJ1bmF2YWlsYWJsZVwiPT1iJiZcbihmPVwiVGhlIHNlcnZpY2UgaXMgdW5hdmFpbGFibGVcIik7Zj1FcnJvcihiK1wiIGF0IFwiK2MucGF0aC50b1N0cmluZygpK1wiOiBcIitmKTtmLmNvZGU9Yi50b1VwcGVyQ2FzZSgpO3JldHVybiBhLm1iKGMsbnVsbCxmKX19fWZ1bmN0aW9uIE9oKGEpe3JldHVybiBhLnBhdGgudG9TdHJpbmcoKStcIiRcIithLmthKCl9ZnVuY3Rpb24gTGgoYSl7dmFyIGI9YS5pbmRleE9mKFwiJFwiKTtIKC0xIT09YiYmYjxhLmxlbmd0aC0xLFwiQmFkIHF1ZXJ5S2V5LlwiKTtyZXR1cm57SWI6YS5zdWJzdHIoYisxKSxwYXRoOm5ldyBMKGEuc3Vic3RyKDAsYikpfX1mdW5jdGlvbiBLaChhLGIpe3ZhciBjPWEuRGUsZD1cIl9cIitiO3JldHVybiBkIGluIGM/Y1tkXTp2b2lkIDB9ZnVuY3Rpb24gVWgoYSxiKXt2YXIgYz1PaChiKTtyZXR1cm4geChhLmpjLGMpfXZhciBQaD0xO1xuZnVuY3Rpb24gTWgoYSxiLGMpe3ZhciBkPWEueGEuZ2V0KGIpO0goZCxcIk1pc3Npbmcgc3luYyBwb2ludCBmb3IgcXVlcnkgdGFnIHRoYXQgd2UncmUgdHJhY2tpbmdcIik7cmV0dXJuIGQuZ2IoYyxuZXcgZ2goYixhLmxiKSxudWxsKX1mdW5jdGlvbiBGaChhLGIpe3JldHVybiBXaChhLGIsYS54YSxudWxsLG5ldyBnaChDLGEubGIpKX1mdW5jdGlvbiBXaChhLGIsYyxkLGUpe2lmKGIucGF0aC5lKCkpcmV0dXJuIFhoKGEsYixjLGQsZSk7dmFyIGY9Yy5nZXQoQyk7bnVsbD09ZCYmbnVsbCE9ZiYmKGQ9Zi5qYihDKSk7dmFyIGg9W10saz1KKGIucGF0aCksbT1iLk5jKGspO2lmKChjPWMuY2hpbGRyZW4uZ2V0KGspKSYmbSl2YXIgbD1kP2QuUihrKTpudWxsLGs9ZS5rKGspLGg9aC5jb25jYXQoV2goYSxtLGMsbCxrKSk7ZiYmKGg9aC5jb25jYXQoZi5nYihiLGUsZCkpKTtyZXR1cm4gaH1cbmZ1bmN0aW9uIFhoKGEsYixjLGQsZSl7dmFyIGY9Yy5nZXQoQyk7bnVsbD09ZCYmbnVsbCE9ZiYmKGQ9Zi5qYihDKSk7dmFyIGg9W107Yy5jaGlsZHJlbi5pYShmdW5jdGlvbihjLGYpe3ZhciBsPWQ/ZC5SKGMpOm51bGwsdT1lLmsoYyksej1iLk5jKGMpO3omJihoPWguY29uY2F0KFhoKGEseixmLGwsdSkpKX0pO2YmJihoPWguY29uY2F0KGYuZ2IoYixlLGQpKSk7cmV0dXJuIGh9O2Z1bmN0aW9uIHRmKGEsYixjKXt0aGlzLmFwcD1jO3ZhciBkPW5ldyBkYyhjKTt0aGlzLk09YTt0aGlzLlhhPUFkKGEpO3RoaXMuVmM9bnVsbDt0aGlzLmRhPW5ldyBtYzt0aGlzLnZkPTE7dGhpcy5VYT1udWxsO2lmKGJ8fDA8PShcIm9iamVjdFwiPT09dHlwZW9mIHdpbmRvdyYmd2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnR8fFwiXCIpLnNlYXJjaCgvZ29vZ2xlYm90fGdvb2dsZSB3ZWJtYXN0ZXIgdG9vbHN8YmluZ2JvdHx5YWhvbyEgc2x1cnB8YmFpZHVzcGlkZXJ8eWFuZGV4Ym90fGR1Y2tkdWNrYm90L2kpKXRoaXMud2E9bmV3IHBkKHRoaXMuTSxyKHRoaXMuSGIsdGhpcyksZCksc2V0VGltZW91dChyKHRoaXMuS2MsdGhpcywhMCksMCk7ZWxzZXtiPWMub3B0aW9ucy5kYXRhYmFzZUF1dGhWYXJpYWJsZU92ZXJyaWRlfHxudWxsO2lmKG51bGwhPT1iKXtpZihcIm9iamVjdFwiIT09Y2EoYikpdGhyb3cgRXJyb3IoXCJPbmx5IG9iamVjdHMgYXJlIHN1cHBvcnRlZCBmb3Igb3B0aW9uIGRhdGFiYXNlQXV0aFZhcmlhYmxlT3ZlcnJpZGVcIik7XG50cnl7QihiKX1jYXRjaChlKXt0aHJvdyBFcnJvcihcIkludmFsaWQgYXV0aE92ZXJyaWRlIHByb3ZpZGVkOiBcIitlKTt9fXRoaXMud2E9dGhpcy5VYT1uZXcgb2godGhpcy5NLHIodGhpcy5IYix0aGlzKSxyKHRoaXMuS2MsdGhpcykscih0aGlzLnVlLHRoaXMpLGQsYil9dmFyIGY9dGhpcztlYyhkLGZ1bmN0aW9uKGEpe2Yud2EucWYoYSl9KTt0aGlzLnpnPUJkKGEscihmdW5jdGlvbigpe3JldHVybiBuZXcgeGQodGhpcy5YYSx0aGlzLndhKX0sdGhpcykpO3RoaXMubmM9bmV3IGloO3RoaXMuaWU9bmV3IGZjO3RoaXMucGQ9bmV3IERoKHtBZTpmdW5jdGlvbihhLGIsYyxkKXtiPVtdO2M9Zi5pZS5qKGEucGF0aCk7Yy5lKCl8fChiPUZoKGYucGQsbmV3ICRiKFBnLGEucGF0aCxjKSksc2V0VGltZW91dChmdW5jdGlvbigpe2QoXCJva1wiKX0sMCkpO3JldHVybiBifSxPZDphYX0pO1loKHRoaXMsXCJjb25uZWN0ZWRcIiwhMSk7dGhpcy5qYT1uZXcgTWM7dGhpcy4kYT1uZXcgc2YodGhpcyk7dGhpcy5lZD1cbjA7dGhpcy5qZT1udWxsO3RoaXMuSz1uZXcgRGgoe0FlOmZ1bmN0aW9uKGEsYixjLGQpe2Yud2EuZGYoYSxjLGIsZnVuY3Rpb24oYixjKXt2YXIgZT1kKGIsYyk7cmMoZi5kYSxhLnBhdGgsZSl9KTtyZXR1cm5bXX0sT2Q6ZnVuY3Rpb24oYSxiKXtmLndhLkVmKGEsYil9fSl9Zz10Zi5wcm90b3R5cGU7Zy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybih0aGlzLk0uU2M/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLk0uaG9zdH07Zy5uYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTS5wZX07ZnVuY3Rpb24gWmgoYSl7YT1hLmllLmoobmV3IEwoXCIuaW5mby9zZXJ2ZXJUaW1lT2Zmc2V0XCIpKS5IKCl8fDA7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCkrYX1mdW5jdGlvbiAkaChhKXthPWE9e3RpbWVzdGFtcDpaaChhKX07YS50aW1lc3RhbXA9YS50aW1lc3RhbXB8fChuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiBhfVxuZy5IYj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmVkKys7dmFyIGU9bmV3IEwoYSk7Yj10aGlzLmplP3RoaXMuamUoYSxiKTpiO2E9W107ZD9jPyhiPW9hKGIsZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSl9KSxhPU5oKHRoaXMuSyxlLGIsZCkpOihiPU0oYiksYT1KaCh0aGlzLkssZSxiLGQpKTpjPyhkPW9hKGIsZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSl9KSxhPUloKHRoaXMuSyxlLGQpKTooZD1NKGIpLGE9RmgodGhpcy5LLG5ldyAkYihQZyxlLGQpKSk7ZD1lOzA8YS5sZW5ndGgmJihkPWFpKHRoaXMsZSkpO3JjKHRoaXMuZGEsZCxhKX07Zy5LYz1mdW5jdGlvbihhKXtZaCh0aGlzLFwiY29ubmVjdGVkXCIsYSk7ITE9PT1hJiZiaSh0aGlzKX07Zy51ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2hkKGEsZnVuY3Rpb24oYSxkKXtZaChiLGQsYSl9KX07XG5mdW5jdGlvbiBZaChhLGIsYyl7Yj1uZXcgTChcIi8uaW5mby9cIitiKTtjPU0oYyk7dmFyIGQ9YS5pZTtkLkpkPWQuSmQuRihiLGMpO2M9RmgoYS5wZCxuZXcgJGIoUGcsYixjKSk7cmMoYS5kYSxiLGMpfWcuS2I9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5mKFwic2V0XCIse3BhdGg6YS50b1N0cmluZygpLHZhbHVlOmIsR2c6Y30pO3ZhciBlPSRoKHRoaXMpO2I9TShiLGMpO3ZhciBlPVBjKGIsZSksZj10aGlzLnZkKyssZT1FaCh0aGlzLkssYSxlLGYsITApO25jKHRoaXMuZGEsZSk7dmFyIGg9dGhpczt0aGlzLndhLnB1dChhLnRvU3RyaW5nKCksYi5IKCEwKSxmdW5jdGlvbihiLGMpe3ZhciBlPVwib2tcIj09PWI7ZXx8TyhcInNldCBhdCBcIithK1wiIGZhaWxlZDogXCIrYik7ZT1IaChoLkssZiwhZSk7cmMoaC5kYSxhLGUpO2NpKGQsYixjKX0pO2U9ZGkodGhpcyxhKTthaSh0aGlzLGUpO3JjKHRoaXMuZGEsZSxbXSl9O1xuZy51cGRhdGU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZihcInVwZGF0ZVwiLHtwYXRoOmEudG9TdHJpbmcoKSx2YWx1ZTpifSk7dmFyIGQ9ITAsZT0kaCh0aGlzKSxmPXt9O3QoYixmdW5jdGlvbihhLGIpe2Q9ITE7dmFyIGM9TShhKTtmW2JdPVBjKGMsZSl9KTtpZihkKUUoXCJ1cGRhdGUoKSBjYWxsZWQgd2l0aCBlbXB0eSBkYXRhLiAgRG9uJ3QgZG8gYW55dGhpbmcuXCIpLGNpKGMsXCJva1wiKTtlbHNle3ZhciBoPXRoaXMudmQrKyxrPUdoKHRoaXMuSyxhLGYsaCk7bmModGhpcy5kYSxrKTt2YXIgbT10aGlzO3RoaXMud2EuZWYoYS50b1N0cmluZygpLGIsZnVuY3Rpb24oYixkKXt2YXIgZT1cIm9rXCI9PT1iO2V8fE8oXCJ1cGRhdGUgYXQgXCIrYStcIiBmYWlsZWQ6IFwiK2IpO3ZhciBlPUhoKG0uSyxoLCFlKSxmPWE7MDxlLmxlbmd0aCYmKGY9YWkobSxhKSk7cmMobS5kYSxmLGUpO2NpKGMsYixkKX0pO3QoYixmdW5jdGlvbihiLGMpe3ZhciBkPWRpKG0sYS5rKGMpKTthaShtLGQpfSk7cmModGhpcy5kYSxcbmEsW10pfX07ZnVuY3Rpb24gYmkoYSl7YS5mKFwib25EaXNjb25uZWN0RXZlbnRzXCIpO3ZhciBiPSRoKGEpLGM9W107TmMoTGMoYS5qYSxiKSxDLGZ1bmN0aW9uKGIsZSl7Yz1jLmNvbmNhdChGaChhLkssbmV3ICRiKFBnLGIsZSkpKTt2YXIgZj1kaShhLGIpO2FpKGEsZil9KTthLmphPW5ldyBNYztyYyhhLmRhLEMsYyl9Zy54ZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dGhpcy53YS54ZChhLnRvU3RyaW5nKCksZnVuY3Rpb24oZCxlKXtcIm9rXCI9PT1kJiZ6ZihjLmphLGEpO2NpKGIsZCxlKX0pfTtmdW5jdGlvbiBOZihhLGIsYyxkKXt2YXIgZT1NKGMpO2Eud2EucmUoYi50b1N0cmluZygpLGUuSCghMCksZnVuY3Rpb24oYyxoKXtcIm9rXCI9PT1jJiZPYyhhLmphLGIsZSk7Y2koZCxjLGgpfSl9XG5mdW5jdGlvbiBPZihhLGIsYyxkLGUpe3ZhciBmPU0oYyxkKTthLndhLnJlKGIudG9TdHJpbmcoKSxmLkgoITApLGZ1bmN0aW9uKGMsZCl7XCJva1wiPT09YyYmT2MoYS5qYSxiLGYpO2NpKGUsYyxkKX0pfWZ1bmN0aW9uIFBmKGEsYixjLGQpe3ZhciBlPSEwLGY7Zm9yKGYgaW4gYyllPSExO2U/KEUoXCJvbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBjYWxsZWQgd2l0aCBlbXB0eSBkYXRhLiAgRG9uJ3QgZG8gYW55dGhpbmcuXCIpLGNpKGQsXCJva1wiKSk6YS53YS5nZihiLnRvU3RyaW5nKCksYyxmdW5jdGlvbihlLGYpe2lmKFwib2tcIj09PWUpZm9yKHZhciBtIGluIGMpe3ZhciBsPU0oY1ttXSk7T2MoYS5qYSxiLmsobSksbCl9Y2koZCxlLGYpfSl9ZnVuY3Rpb24geWcoYSxiLGMpe2M9XCIuaW5mb1wiPT09SihiLnBhdGgpP2EucGQuT2IoYixjKTphLksuT2IoYixjKTtwYyhhLmRhLGIucGF0aCxjKX1nLmViPWZ1bmN0aW9uKCl7dGhpcy5VYSYmdGhpcy5VYS5lYihcInJlcG9faW50ZXJydXB0XCIpfTtcbmcubGM9ZnVuY3Rpb24oKXt0aGlzLlVhJiZ0aGlzLlVhLmxjKFwicmVwb19pbnRlcnJ1cHRcIil9O2cuQmU9ZnVuY3Rpb24oYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlKXthPyh0aGlzLlZjfHwodGhpcy5WYz1uZXcgbGModGhpcy5YYSkpLGE9dGhpcy5WYy5nZXQoKSk6YT10aGlzLlhhLmdldCgpO3ZhciBiPU1hKHRhKGEpLGZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGgubWF4KGIubGVuZ3RoLGEpfSwwKSxjO2ZvcihjIGluIGEpe2Zvcih2YXIgZD1hW2NdLGU9Yy5sZW5ndGg7ZTxiKzI7ZSsrKWMrPVwiIFwiO2NvbnNvbGUubG9nKGMrZCl9fX07Zy5DZT1mdW5jdGlvbihhKXtrYyh0aGlzLlhhLGEpO3RoaXMuemcuemZbYV09ITB9O2cuZj1mdW5jdGlvbihhKXt2YXIgYj1cIlwiO3RoaXMuVWEmJihiPXRoaXMuVWEuaWQrXCI6XCIpO0UoYixhcmd1bWVudHMpfTtcbmZ1bmN0aW9uIGNpKGEsYixjKXthJiZVYihmdW5jdGlvbigpe2lmKFwib2tcIj09YilhKG51bGwpO2Vsc2V7dmFyIGQ9KGJ8fFwiZXJyb3JcIikudG9VcHBlckNhc2UoKSxlPWQ7YyYmKGUrPVwiOiBcIitjKTtlPUVycm9yKGUpO2UuY29kZT1kO2EoZSl9fSl9O2Z1bmN0aW9uIGVpKGEsYixjLGQsZSl7ZnVuY3Rpb24gZigpe31hLmYoXCJ0cmFuc2FjdGlvbiBvbiBcIitiKTt2YXIgaD1uZXcgVShhLGIpO2guaGMoXCJ2YWx1ZVwiLGYpO2M9e3BhdGg6Yix1cGRhdGU6YyxHOmQsc3RhdHVzOm51bGwsbGY6UmMoKSxJZTplLHdmOjAsUmQ6ZnVuY3Rpb24oKXtoLkpjKFwidmFsdWVcIixmKX0sVGQ6bnVsbCxEYTpudWxsLGJkOm51bGwsY2Q6bnVsbCxkZDpudWxsfTtkPWEuSy5CYShiLHZvaWQgMCl8fEY7Yy5iZD1kO2Q9Yy51cGRhdGUoZC5IKCkpO2lmKHAoZCkpe0ZmKFwidHJhbnNhY3Rpb24gZmFpbGVkOiBEYXRhIHJldHVybmVkIFwiLGQsYy5wYXRoKTtjLnN0YXR1cz0xO2U9amgoYS5uYyxiKTt2YXIgaz1lLkVhKCl8fFtdO2sucHVzaChjKTtraChlLGspO1wib2JqZWN0XCI9PT10eXBlb2YgZCYmbnVsbCE9PWQmJkJiKGQsXCIucHJpb3JpdHlcIik/KGs9eChkLFwiLnByaW9yaXR5XCIpLEgoRGYoayksXCJJbnZhbGlkIHByaW9yaXR5IHJldHVybmVkIGJ5IHRyYW5zYWN0aW9uLiBQcmlvcml0eSBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nLCBmaW5pdGUgbnVtYmVyLCBzZXJ2ZXIgdmFsdWUsIG9yIG51bGwuXCIpKTpcbms9KGEuSy5CYShiKXx8RikuQygpLkgoKTtlPSRoKGEpO2Q9TShkLGspO2U9UGMoZCxlKTtjLmNkPWQ7Yy5kZD1lO2MuRGE9YS52ZCsrO2M9RWgoYS5LLGIsZSxjLkRhLGMuSWUpO3JjKGEuZGEsYixjKTtmaShhKX1lbHNlIGMuUmQoKSxjLmNkPW51bGwsYy5kZD1udWxsLGMuRyYmKGE9bmV3IFcoYy5iZCxuZXcgVShhLGMucGF0aCksTiksYy5HKG51bGwsITEsYSkpfWZ1bmN0aW9uIGZpKGEsYil7dmFyIGM9Ynx8YS5uYztifHxnaShhLGMpO2lmKG51bGwhPT1jLkVhKCkpe3ZhciBkPWhpKGEsYyk7SCgwPGQubGVuZ3RoLFwiU2VuZGluZyB6ZXJvIGxlbmd0aCB0cmFuc2FjdGlvbiBxdWV1ZVwiKTtOYShkLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5zdGF0dXN9KSYmaWkoYSxjLnBhdGgoKSxkKX1lbHNlIGMua2QoKSYmYy5QKGZ1bmN0aW9uKGIpe2ZpKGEsYil9KX1cbmZ1bmN0aW9uIGlpKGEsYixjKXtmb3IodmFyIGQ9TGEoYyxmdW5jdGlvbihhKXtyZXR1cm4gYS5EYX0pLGU9YS5LLkJhKGIsZCl8fEYsZD1lLGU9ZS5oYXNoKCksZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgaD1jW2ZdO0goMT09PWguc3RhdHVzLFwidHJ5VG9TZW5kVHJhbnNhY3Rpb25RdWV1ZV86IGl0ZW1zIGluIHF1ZXVlIHNob3VsZCBhbGwgYmUgcnVuLlwiKTtoLnN0YXR1cz0yO2gud2YrKzt2YXIgaz1UKGIsaC5wYXRoKSxkPWQuRihrLGguY2QpfWQ9ZC5IKCEwKTthLndhLnB1dChiLnRvU3RyaW5nKCksZCxmdW5jdGlvbihkKXthLmYoXCJ0cmFuc2FjdGlvbiBwdXQgcmVzcG9uc2VcIix7cGF0aDpiLnRvU3RyaW5nKCksc3RhdHVzOmR9KTt2YXIgZT1bXTtpZihcIm9rXCI9PT1kKXtkPVtdO2ZvcihmPTA7ZjxjLmxlbmd0aDtmKyspe2NbZl0uc3RhdHVzPTM7ZT1lLmNvbmNhdChIaChhLkssY1tmXS5EYSkpO2lmKGNbZl0uRyl7dmFyIGg9Y1tmXS5kZCxrPW5ldyBVKGEsY1tmXS5wYXRoKTtkLnB1c2gocihjW2ZdLkcsXG5udWxsLG51bGwsITAsbmV3IFcoaCxrLE4pKSl9Y1tmXS5SZCgpfWdpKGEsamgoYS5uYyxiKSk7ZmkoYSk7cmMoYS5kYSxiLGUpO2ZvcihmPTA7ZjxkLmxlbmd0aDtmKyspVWIoZFtmXSl9ZWxzZXtpZihcImRhdGFzdGFsZVwiPT09ZClmb3IoZj0wO2Y8Yy5sZW5ndGg7ZisrKWNbZl0uc3RhdHVzPTQ9PT1jW2ZdLnN0YXR1cz81OjE7ZWxzZSBmb3IoTyhcInRyYW5zYWN0aW9uIGF0IFwiK2IudG9TdHJpbmcoKStcIiBmYWlsZWQ6IFwiK2QpLGY9MDtmPGMubGVuZ3RoO2YrKyljW2ZdLnN0YXR1cz01LGNbZl0uVGQ9ZDthaShhLGIpfX0sZSl9ZnVuY3Rpb24gYWkoYSxiKXt2YXIgYz1qaShhLGIpLGQ9Yy5wYXRoKCksYz1oaShhLGMpO2tpKGEsYyxkKTtyZXR1cm4gZH1cbmZ1bmN0aW9uIGtpKGEsYixjKXtpZigwIT09Yi5sZW5ndGgpe2Zvcih2YXIgZD1bXSxlPVtdLGY9S2EoYixmdW5jdGlvbihhKXtyZXR1cm4gMT09PWEuc3RhdHVzfSksZj1MYShmLGZ1bmN0aW9uKGEpe3JldHVybiBhLkRhfSksaD0wO2g8Yi5sZW5ndGg7aCsrKXt2YXIgaz1iW2hdLG09VChjLGsucGF0aCksbD0hMSx1O0gobnVsbCE9PW0sXCJyZXJ1blRyYW5zYWN0aW9uc1VuZGVyTm9kZV86IHJlbGF0aXZlUGF0aCBzaG91bGQgbm90IGJlIG51bGwuXCIpO2lmKDU9PT1rLnN0YXR1cylsPSEwLHU9ay5UZCxlPWUuY29uY2F0KEhoKGEuSyxrLkRhLCEwKSk7ZWxzZSBpZigxPT09ay5zdGF0dXMpaWYoMjU8PWsud2YpbD0hMCx1PVwibWF4cmV0cnlcIixlPWUuY29uY2F0KEhoKGEuSyxrLkRhLCEwKSk7ZWxzZXt2YXIgej1hLksuQmEoay5wYXRoLGYpfHxGO2suYmQ9ejt2YXIgRz1iW2hdLnVwZGF0ZSh6LkgoKSk7cChHKT8oRmYoXCJ0cmFuc2FjdGlvbiBmYWlsZWQ6IERhdGEgcmV0dXJuZWQgXCIsRyxcbmsucGF0aCksbT1NKEcpLFwib2JqZWN0XCI9PT10eXBlb2YgRyYmbnVsbCE9RyYmQmIoRyxcIi5wcmlvcml0eVwiKXx8KG09bS5nYSh6LkMoKSkpLHo9ay5EYSxHPSRoKGEpLEc9UGMobSxHKSxrLmNkPW0say5kZD1HLGsuRGE9YS52ZCsrLFFhKGYseiksZT1lLmNvbmNhdChFaChhLkssay5wYXRoLEcsay5EYSxrLkllKSksZT1lLmNvbmNhdChIaChhLksseiwhMCkpKToobD0hMCx1PVwibm9kYXRhXCIsZT1lLmNvbmNhdChIaChhLkssay5EYSwhMCkpKX1yYyhhLmRhLGMsZSk7ZT1bXTtsJiYoYltoXS5zdGF0dXM9MyxzZXRUaW1lb3V0KGJbaF0uUmQsTWF0aC5mbG9vcigwKSksYltoXS5HJiYoXCJub2RhdGFcIj09PXU/KGs9bmV3IFUoYSxiW2hdLnBhdGgpLGQucHVzaChyKGJbaF0uRyxudWxsLG51bGwsITEsbmV3IFcoYltoXS5iZCxrLE4pKSkpOmQucHVzaChyKGJbaF0uRyxudWxsLEVycm9yKHUpLCExLG51bGwpKSkpfWdpKGEsYS5uYyk7Zm9yKGg9MDtoPGQubGVuZ3RoO2grKylVYihkW2hdKTtmaShhKX19XG5mdW5jdGlvbiBqaShhLGIpe2Zvcih2YXIgYyxkPWEubmM7bnVsbCE9PShjPUooYikpJiZudWxsPT09ZC5FYSgpOylkPWpoKGQsYyksYj1EKGIpO3JldHVybiBkfWZ1bmN0aW9uIGhpKGEsYil7dmFyIGM9W107bGkoYSxiLGMpO2Muc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLmxmLWIubGZ9KTtyZXR1cm4gY31mdW5jdGlvbiBsaShhLGIsYyl7dmFyIGQ9Yi5FYSgpO2lmKG51bGwhPT1kKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWMucHVzaChkW2VdKTtiLlAoZnVuY3Rpb24oYil7bGkoYSxiLGMpfSl9ZnVuY3Rpb24gZ2koYSxiKXt2YXIgYz1iLkVhKCk7aWYoYyl7Zm9yKHZhciBkPTAsZT0wO2U8Yy5sZW5ndGg7ZSsrKTMhPT1jW2VdLnN0YXR1cyYmKGNbZF09Y1tlXSxkKyspO2MubGVuZ3RoPWQ7a2goYiwwPGMubGVuZ3RoP2M6bnVsbCl9Yi5QKGZ1bmN0aW9uKGIpe2dpKGEsYil9KX1cbmZ1bmN0aW9uIGRpKGEsYil7dmFyIGM9amkoYSxiKS5wYXRoKCksZD1qaChhLm5jLGIpO25oKGQsZnVuY3Rpb24oYil7bWkoYSxiKX0pO21pKGEsZCk7bWgoZCxmdW5jdGlvbihiKXttaShhLGIpfSk7cmV0dXJuIGN9XG5mdW5jdGlvbiBtaShhLGIpe3ZhciBjPWIuRWEoKTtpZihudWxsIT09Yyl7Zm9yKHZhciBkPVtdLGU9W10sZj0tMSxoPTA7aDxjLmxlbmd0aDtoKyspNCE9PWNbaF0uc3RhdHVzJiYoMj09PWNbaF0uc3RhdHVzPyhIKGY9PT1oLTEsXCJBbGwgU0VOVCBpdGVtcyBzaG91bGQgYmUgYXQgYmVnaW5uaW5nIG9mIHF1ZXVlLlwiKSxmPWgsY1toXS5zdGF0dXM9NCxjW2hdLlRkPVwic2V0XCIpOihIKDE9PT1jW2hdLnN0YXR1cyxcIlVuZXhwZWN0ZWQgdHJhbnNhY3Rpb24gc3RhdHVzIGluIGFib3J0XCIpLGNbaF0uUmQoKSxlPWUuY29uY2F0KEhoKGEuSyxjW2hdLkRhLCEwKSksY1toXS5HJiZkLnB1c2gocihjW2hdLkcsbnVsbCxFcnJvcihcInNldFwiKSwhMSxudWxsKSkpKTstMT09PWY/a2goYixudWxsKTpjLmxlbmd0aD1mKzE7cmMoYS5kYSxiLnBhdGgoKSxlKTtmb3IoaD0wO2g8ZC5sZW5ndGg7aCsrKVViKGRbaF0pfX07ZnVuY3Rpb24geWYoKXt0aGlzLm5iPXt9O3RoaXMuRmY9ITF9eWYucHJvdG90eXBlLmViPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMubmIpdGhpcy5uYlthXS5lYigpfTt5Zi5wcm90b3R5cGUubGM9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5uYil0aGlzLm5iW2FdLmxjKCl9O3lmLnByb3RvdHlwZS5jZT1mdW5jdGlvbihhKXt0aGlzLkZmPWF9O2JhKHlmKTt5Zi5wcm90b3R5cGUuaW50ZXJydXB0PXlmLnByb3RvdHlwZS5lYjt5Zi5wcm90b3R5cGUucmVzdW1lPXlmLnByb3RvdHlwZS5sYzt2YXIgWj17fTtaLnBjPW9oO1ouRGF0YUNvbm5lY3Rpb249Wi5wYztvaC5wcm90b3R5cGUueWc9ZnVuY3Rpb24oYSxiKXt0aGlzLnZhKFwicVwiLHtwOmF9LGIpfTtaLnBjLnByb3RvdHlwZS5zaW1wbGVMaXN0ZW49Wi5wYy5wcm90b3R5cGUueWc7b2gucHJvdG90eXBlLlFmPWZ1bmN0aW9uKGEsYil7dGhpcy52YShcImVjaG9cIix7ZDphfSxiKX07Wi5wYy5wcm90b3R5cGUuZWNobz1aLnBjLnByb3RvdHlwZS5RZjtvaC5wcm90b3R5cGUuaW50ZXJydXB0PW9oLnByb3RvdHlwZS5lYjtaLklmPWJmO1ouUmVhbFRpbWVDb25uZWN0aW9uPVouSWY7YmYucHJvdG90eXBlLnNlbmRSZXF1ZXN0PWJmLnByb3RvdHlwZS52YTtiZi5wcm90b3R5cGUuY2xvc2U9YmYucHJvdG90eXBlLmNsb3NlO1xuWi5iZz1mdW5jdGlvbihhKXt2YXIgYj1vaC5wcm90b3R5cGUucHV0O29oLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oYyxkLGUsZil7cChmKSYmKGY9YSgpKTtiLmNhbGwodGhpcyxjLGQsZSxmKX07cmV0dXJuIGZ1bmN0aW9uKCl7b2gucHJvdG90eXBlLnB1dD1ifX07Wi5oaWphY2tIYXNoPVouYmc7Wi5IZj1nYztaLkNvbm5lY3Rpb25UYXJnZXQ9Wi5IZjtaLmthPWZ1bmN0aW9uKGEpe3JldHVybiBhLmthKCl9O1oucXVlcnlJZGVudGlmaWVyPVoua2E7Wi5lZz1mdW5jdGlvbihhKXtyZXR1cm4gYS51LlVhLmFhfTtaLmxpc3RlbnM9Wi5lZztaLmNlPWZ1bmN0aW9uKGEpe3lmLldiKCkuY2UoYSl9O1ouZm9yY2VSZXN0Q2xpZW50PVouY2U7Wi5Db250ZXh0PXlmO2Z1bmN0aW9uIFUoYSxiKXtpZighKGEgaW5zdGFuY2VvZiB0ZikpdGhyb3cgRXJyb3IoXCJuZXcgRmlyZWJhc2UoKSBubyBsb25nZXIgc3VwcG9ydGVkIC0gdXNlIGFwcC5kYXRhYmFzZSgpLlwiKTtYLmNhbGwodGhpcyxhLGIsRmUsITEpO3RoaXMudGhlbj12b2lkIDA7dGhpc1tcImNhdGNoXCJdPXZvaWQgMH1rYShVLFgpO2c9VS5wcm90b3R5cGU7Zy5nZXRLZXk9ZnVuY3Rpb24oKXt5KFwiRmlyZWJhc2Uua2V5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLnBhdGguZSgpP251bGw6YWUodGhpcy5wYXRoKX07XG5nLms9ZnVuY3Rpb24oYSl7eShcIkZpcmViYXNlLmNoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO2lmKGZhKGEpKWE9U3RyaW5nKGEpO2Vsc2UgaWYoIShhIGluc3RhbmNlb2YgTCkpaWYobnVsbD09PUoodGhpcy5wYXRoKSl7dmFyIGI9YTtiJiYoYj1iLnJlcGxhY2UoL15cXC8qXFwuaW5mbyhcXC98JCkvLFwiL1wiKSk7TGYoXCJGaXJlYmFzZS5jaGlsZFwiLGIpfWVsc2UgTGYoXCJGaXJlYmFzZS5jaGlsZFwiLGEpO3JldHVybiBuZXcgVSh0aGlzLnUsdGhpcy5wYXRoLmsoYSkpfTtnLmdldFBhcmVudD1mdW5jdGlvbigpe3koXCJGaXJlYmFzZS5wYXJlbnRcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7dmFyIGE9dGhpcy5wYXRoLnBhcmVudCgpO3JldHVybiBudWxsPT09YT9udWxsOm5ldyBVKHRoaXMudSxhKX07XG5nLlpmPWZ1bmN0aW9uKCl7eShcIkZpcmViYXNlLnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIGE9dGhpcztudWxsIT09YS5nZXRQYXJlbnQoKTspYT1hLmdldFBhcmVudCgpO3JldHVybiBhfTtnLlBmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudS4kYX07Zy5zZXQ9ZnVuY3Rpb24oYSxiKXt5KFwiRmlyZWJhc2Uuc2V0XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO01mKFwiRmlyZWJhc2Uuc2V0XCIsdGhpcy5wYXRoKTtFZihcIkZpcmViYXNlLnNldFwiLGEsdGhpcy5wYXRoLCExKTtBKFwiRmlyZWJhc2Uuc2V0XCIsMixiLCEwKTt2YXIgYz1uZXcgSGI7dGhpcy51LktiKHRoaXMucGF0aCxhLG51bGwsSWIoYyxiKSk7cmV0dXJuIGMuc2F9O1xuZy51cGRhdGU9ZnVuY3Rpb24oYSxiKXt5KFwiRmlyZWJhc2UudXBkYXRlXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO01mKFwiRmlyZWJhc2UudXBkYXRlXCIsdGhpcy5wYXRoKTtpZihkYShhKSl7Zm9yKHZhciBjPXt9LGQ9MDtkPGEubGVuZ3RoOysrZCljW1wiXCIrZF09YVtkXTthPWM7TyhcIlBhc3NpbmcgYW4gQXJyYXkgdG8gRmlyZWJhc2UudXBkYXRlKCkgaXMgZGVwcmVjYXRlZC4gVXNlIHNldCgpIGlmIHlvdSB3YW50IHRvIG92ZXJ3cml0ZSB0aGUgZXhpc3RpbmcgZGF0YSwgb3IgYW4gT2JqZWN0IHdpdGggaW50ZWdlciBrZXlzIGlmIHlvdSByZWFsbHkgZG8gd2FudCB0byBvbmx5IHVwZGF0ZSBzb21lIG9mIHRoZSBjaGlsZHJlbi5cIil9SGYoXCJGaXJlYmFzZS51cGRhdGVcIixhLHRoaXMucGF0aCk7QShcIkZpcmViYXNlLnVwZGF0ZVwiLDIsYiwhMCk7Yz1uZXcgSGI7dGhpcy51LnVwZGF0ZSh0aGlzLnBhdGgsYSxJYihjLGIpKTtyZXR1cm4gYy5zYX07XG5nLktiPWZ1bmN0aW9uKGEsYixjKXt5KFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpO01mKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsdGhpcy5wYXRoKTtFZihcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLGEsdGhpcy5wYXRoLCExKTtJZihcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLDIsYik7QShcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLDMsYywhMCk7aWYoXCIubGVuZ3RoXCI9PT10aGlzLmdldEtleSgpfHxcIi5rZXlzXCI9PT10aGlzLmdldEtleSgpKXRocm93XCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHkgZmFpbGVkOiBcIit0aGlzLmdldEtleSgpK1wiIGlzIGEgcmVhZC1vbmx5IG9iamVjdC5cIjt2YXIgZD1uZXcgSGI7dGhpcy51LktiKHRoaXMucGF0aCxhLGIsSWIoZCxjKSk7cmV0dXJuIGQuc2F9O1xuZy5yZW1vdmU9ZnVuY3Rpb24oYSl7eShcIkZpcmViYXNlLnJlbW92ZVwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtNZihcIkZpcmViYXNlLnJlbW92ZVwiLHRoaXMucGF0aCk7QShcIkZpcmViYXNlLnJlbW92ZVwiLDEsYSwhMCk7cmV0dXJuIHRoaXMuc2V0KG51bGwsYSl9O1xuZy50cmFuc2FjdGlvbj1mdW5jdGlvbihhLGIsYyl7eShcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMSwzLGFyZ3VtZW50cy5sZW5ndGgpO01mKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIix0aGlzLnBhdGgpO0EoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDEsYSwhMSk7QShcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMixiLCEwKTtpZihwKGMpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGMpdGhyb3cgRXJyb3IoRGIoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDMsITApK1wibXVzdCBiZSBhIGJvb2xlYW4uXCIpO2lmKFwiLmxlbmd0aFwiPT09dGhpcy5nZXRLZXkoKXx8XCIua2V5c1wiPT09dGhpcy5nZXRLZXkoKSl0aHJvd1wiRmlyZWJhc2UudHJhbnNhY3Rpb24gZmFpbGVkOiBcIit0aGlzLmdldEtleSgpK1wiIGlzIGEgcmVhZC1vbmx5IG9iamVjdC5cIjtcInVuZGVmaW5lZFwiPT09dHlwZW9mIGMmJihjPSEwKTt2YXIgZD1uZXcgSGI7Z2EoYikmJkpiKGQuc2EpO2VpKHRoaXMudSx0aGlzLnBhdGgsYSxmdW5jdGlvbihhLGMsXG5oKXthP2QucmVqZWN0KGEpOmQucmVzb2x2ZShuZXcgUGIoYyxoKSk7Z2EoYikmJmIoYSxjLGgpfSxjKTtyZXR1cm4gZC5zYX07Zy52Zz1mdW5jdGlvbihhLGIpe3koXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtNZihcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsdGhpcy5wYXRoKTtJZihcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsMSxhKTtBKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwyLGIsITApO3ZhciBjPW5ldyBIYjt0aGlzLnUuS2IodGhpcy5wYXRoLmsoXCIucHJpb3JpdHlcIiksYSxudWxsLEliKGMsYikpO3JldHVybiBjLnNhfTtcbmcucHVzaD1mdW5jdGlvbihhLGIpe3koXCJGaXJlYmFzZS5wdXNoXCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpO01mKFwiRmlyZWJhc2UucHVzaFwiLHRoaXMucGF0aCk7RWYoXCJGaXJlYmFzZS5wdXNoXCIsYSx0aGlzLnBhdGgsITApO0EoXCJGaXJlYmFzZS5wdXNoXCIsMixiLCEwKTt2YXIgYz1aaCh0aGlzLnUpLGQ9VWYoYyksYz10aGlzLmsoZCk7aWYobnVsbCE9YSl7dmFyIGU9dGhpcyxmPWMuc2V0KGEsYikudGhlbihmdW5jdGlvbigpe3JldHVybiBlLmsoZCl9KTtjLnRoZW49cihmLnRoZW4sZik7Y1tcImNhdGNoXCJdPXIoZi50aGVuLGYsdm9pZCAwKTtnYShiKSYmSmIoZil9cmV0dXJuIGN9O2cua2I9ZnVuY3Rpb24oKXtNZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdFwiLHRoaXMucGF0aCk7cmV0dXJuIG5ldyBWKHRoaXMudSx0aGlzLnBhdGgpfTtVLnByb3RvdHlwZS5jaGlsZD1VLnByb3RvdHlwZS5rO1UucHJvdG90eXBlLnNldD1VLnByb3RvdHlwZS5zZXQ7VS5wcm90b3R5cGUudXBkYXRlPVUucHJvdG90eXBlLnVwZGF0ZTtcblUucHJvdG90eXBlLnNldFdpdGhQcmlvcml0eT1VLnByb3RvdHlwZS5LYjtVLnByb3RvdHlwZS5yZW1vdmU9VS5wcm90b3R5cGUucmVtb3ZlO1UucHJvdG90eXBlLnRyYW5zYWN0aW9uPVUucHJvdG90eXBlLnRyYW5zYWN0aW9uO1UucHJvdG90eXBlLnNldFByaW9yaXR5PVUucHJvdG90eXBlLnZnO1UucHJvdG90eXBlLnB1c2g9VS5wcm90b3R5cGUucHVzaDtVLnByb3RvdHlwZS5vbkRpc2Nvbm5lY3Q9VS5wcm90b3R5cGUua2I7a2QoVS5wcm90b3R5cGUsXCJkYXRhYmFzZVwiLFUucHJvdG90eXBlLlBmKTtrZChVLnByb3RvdHlwZSxcImtleVwiLFUucHJvdG90eXBlLmdldEtleSk7a2QoVS5wcm90b3R5cGUsXCJwYXJlbnRcIixVLnByb3RvdHlwZS5nZXRQYXJlbnQpO2tkKFUucHJvdG90eXBlLFwicm9vdFwiLFUucHJvdG90eXBlLlpmKTtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIGZpcmViYXNlKXRocm93IEVycm9yKFwiQ2Fubm90IGluc3RhbGwgRmlyZWJhc2UgRGF0YWJhc2UgLSBiZSBzdXJlIHRvIGxvYWQgZmlyZWJhc2UtYXBwLmpzIGZpcnN0LlwiKTtcbnRyeXtmaXJlYmFzZS5JTlRFUk5BTC5yZWdpc3RlclNlcnZpY2UoXCJkYXRhYmFzZVwiLGZ1bmN0aW9uKGEpe3ZhciBiPXlmLldiKCksYz1hLm9wdGlvbnMuZGF0YWJhc2VVUkw7cChjKXx8JGMoXCJDYW4ndCBkZXRlcm1pbmUgRmlyZWJhc2UgRGF0YWJhc2UgVVJMLiAgQmUgc3VyZSB0byBpbmNsdWRlIGRhdGFiYXNlVVJMIG9wdGlvbiB3aGVuIGNhbGxpbmcgZmlyZWJhc2UuaW50aWFsaXplQXBwKCkuXCIpO3ZhciBkPWFkKGMpLGM9ZC5rYzt4ZihcIkludmFsaWQgRmlyZWJhc2UgRGF0YWJhc2UgVVJMXCIsZCk7ZC5wYXRoLmUoKXx8JGMoXCJEYXRhYmFzZSBVUkwgbXVzdCBwb2ludCB0byB0aGUgcm9vdCBvZiBhIEZpcmViYXNlIERhdGFiYXNlIChub3QgaW5jbHVkaW5nIGEgY2hpbGQgcGF0aCkuXCIpOyhkPXgoYi5uYixhLm5hbWUpKSYmJGMoXCJGSVJFQkFTRSBJTlRFUk5BTCBFUlJPUjogRGF0YWJhc2UgaW5pdGlhbGl6ZWQgbXVsdGlwbGUgdGltZXMuXCIpO2Q9bmV3IHRmKGMsYi5GZixhKTtiLm5iW2EubmFtZV09XG5kO3JldHVybiBkLiRhfSx7UmVmZXJlbmNlOlUsUXVlcnk6WCxEYXRhYmFzZTpzZixlbmFibGVMb2dnaW5nOlhjLElOVEVSTkFMOlksVEVTVF9BQ0NFU1M6WixTZXJ2ZXJWYWx1ZTp2Zn0pfWNhdGNoKG5pKXskYyhcIkZhaWxlZCB0byByZWdpc3RlciB0aGUgRmlyZWJhc2UgRGF0YWJhc2UgU2VydmljZSAoXCIrbmkrXCIpXCIpfTt9KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZpcmViYXNlLmRhdGFiYXNlO1xuIiwiLyoqXG4gKiAgRmlyZWJhc2UgbGlicmFyaWVzIGZvciBicm93c2VyIC0gbnBtIHBhY2thZ2UuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogICBmaXJlYmFzZSA9IHJlcXVpcmUoJ2ZpcmViYXNlJyk7XG4gKi9cbnZhciBmaXJlYmFzZSA9IHJlcXVpcmUoJy4vYXBwJyk7XG5yZXF1aXJlKCcuL2F1dGgnKTtcbnJlcXVpcmUoJy4vZGF0YWJhc2UnKTtcbnJlcXVpcmUoJy4vc3RvcmFnZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmaXJlYmFzZTtcbiIsInZhciBmaXJlYmFzZSA9IHJlcXVpcmUoJy4vYXBwJyk7XG4vKiEgQGxpY2Vuc2UgRmlyZWJhc2UgdjMuNC4xXG4gICAgQnVpbGQ6IDMuNC4xLXJjLjJcbiAgICBUZXJtczogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vdGVybXMgKi9cbihmdW5jdGlvbigpIHt2YXIgayxhYT1hYXx8e30sbD10aGlzLG49ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMCE9PWF9LGJhPWZ1bmN0aW9uKCl7fSxjYT1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwidW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBtZXRob2RcIik7fSxwPWZ1bmN0aW9uKGEpe3ZhciBiPXR5cGVvZiBhO2lmKFwib2JqZWN0XCI9PWIpaWYoYSl7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXJldHVyblwiYXJyYXlcIjtpZihhIGluc3RhbmNlb2YgT2JqZWN0KXJldHVybiBiO3ZhciBjPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKTtpZihcIltvYmplY3QgV2luZG93XVwiPT1jKXJldHVyblwib2JqZWN0XCI7aWYoXCJbb2JqZWN0IEFycmF5XVwiPT1jfHxcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGgmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnNwbGljZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwic3BsaWNlXCIpKXJldHVyblwiYXJyYXlcIjtcbmlmKFwiW29iamVjdCBGdW5jdGlvbl1cIj09Y3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuY2FsbCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwiY2FsbFwiKSlyZXR1cm5cImZ1bmN0aW9uXCJ9ZWxzZSByZXR1cm5cIm51bGxcIjtlbHNlIGlmKFwiZnVuY3Rpb25cIj09YiYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuY2FsbClyZXR1cm5cIm9iamVjdFwiO3JldHVybiBifSxkYT1mdW5jdGlvbihhKXt2YXIgYj1wKGEpO3JldHVyblwiYXJyYXlcIj09Ynx8XCJvYmplY3RcIj09YiYmXCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RofSxyPWZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfSx0PWZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09cChhKX0sZWE9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7cmV0dXJuXCJvYmplY3RcIj09YiYmbnVsbCE9YXx8XCJmdW5jdGlvblwiPT1ifSxmYT1cImNsb3N1cmVfdWlkX1wiKygxRTkqTWF0aC5yYW5kb20oKT4+PlxuMCksZ2E9MCxoYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEuY2FsbC5hcHBseShhLmJpbmQsYXJndW1lbnRzKX0saWE9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19LHU9ZnVuY3Rpb24oYSxiLGMpe3U9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKT9oYTppYTtyZXR1cm4gdS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGphPURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX0sXG52PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLkk9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5LYT1mdW5jdGlvbihhLGMsZil7Zm9yKHZhciBkPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksZT0yO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspZFtlLTJdPWFyZ3VtZW50c1tlXTtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxkKX19O3ZhciBrYT1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe1B8fChQPSEwLGIuYXBwbHkobnVsbCxhcmd1bWVudHMpKX1mdW5jdGlvbiBlKGIpe209c2V0VGltZW91dChmdW5jdGlvbigpe209bnVsbDthKGYsMj09PVEpfSxiKX1mdW5jdGlvbiBmKGEsYil7aWYoIVApaWYoYSlkLmFwcGx5KG51bGwsYXJndW1lbnRzKTtlbHNlIGlmKDI9PT1RfHxxKWQuYXBwbHkobnVsbCxhcmd1bWVudHMpO2Vsc2V7NjQ+aCYmKGgqPTIpO3ZhciBjOzE9PT1RPyhRPTIsYz0wKTpjPTFFMyooaCtNYXRoLnJhbmRvbSgpKTtlKGMpfX1mdW5jdGlvbiBnKGEpe2pjfHwoamM9ITAsUHx8KG51bGwhPT1tPyhhfHwoUT0yKSxjbGVhclRpbWVvdXQobSksZSgwKSk6YXx8KFE9MSkpKX12YXIgaD0xLG09bnVsbCxxPSExLFE9MCxQPSExLGpjPSExO2UoMCk7c2V0VGltZW91dChmdW5jdGlvbigpe3E9ITA7ZyghMCl9LGMpO3JldHVybiBnfTt2YXIgbGE9XCJodHRwczovL2ZpcmViYXNlc3RvcmFnZS5nb29nbGVhcGlzLmNvbVwiO3ZhciB3PWZ1bmN0aW9uKGEsYil7dGhpcy5jb2RlPVwic3RvcmFnZS9cIithO3RoaXMubWVzc2FnZT1cIkZpcmViYXNlIFN0b3JhZ2U6IFwiK2I7dGhpcy5zZXJ2ZXJSZXNwb25zZT1udWxsO3RoaXMubmFtZT1cIkZpcmViYXNlRXJyb3JcIn07dih3LEVycm9yKTtcbnZhciBtYT1mdW5jdGlvbigpe3JldHVybiBuZXcgdyhcInVua25vd25cIixcIkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWQsIHBsZWFzZSBjaGVjayB0aGUgZXJyb3IgcGF5bG9hZCBmb3Igc2VydmVyIHJlc3BvbnNlLlwiKX0sbmE9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHcoXCJjYW5jZWxlZFwiLFwiVXNlciBjYW5jZWxlZCB0aGUgdXBsb2FkL2Rvd25sb2FkLlwiKX0sb2E9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHcoXCJjYW5ub3Qtc2xpY2UtYmxvYlwiLFwiQ2Fubm90IHNsaWNlIGJsb2IgZm9yIHVwbG9hZC4gUGxlYXNlIHJldHJ5IHRoZSB1cGxvYWQuXCIpfSxwYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyB3KFwiaW52YWxpZC1hcmd1bWVudFwiLFwiSW52YWxpZCBhcmd1bWVudCBpbiBgXCIrYitcImAgYXQgaW5kZXggXCIrYStcIjogXCIrYyl9LHFhPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB3KFwiYXBwLWRlbGV0ZWRcIixcIlRoZSBGaXJlYmFzZSBhcHAgd2FzIGRlbGV0ZWQuXCIpfSxyYT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgdyhcImludmFsaWQtZm9ybWF0XCIsXG5cIlN0cmluZyBkb2VzIG5vdCBtYXRjaCBmb3JtYXQgJ1wiK2ErXCInOiBcIitiKX07dmFyIHNhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYykmJmIoYyxhW2NdKX0sdGE9ZnVuY3Rpb24oYSl7dmFyIGI9e307c2EoYSxmdW5jdGlvbihhLGQpe2JbYV09ZH0pO3JldHVybiBifTt2YXIgeD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmo9YTt0aGlzLmI9e307dGhpcy5tZXRob2Q9Yjt0aGlzLmhlYWRlcnM9e307dGhpcy5ib2R5PVwiXCI7dGhpcy5NPWM7dGhpcy5jPXRoaXMuYT1udWxsO3RoaXMuZj1bMjAwXTt0aGlzLmg9W107dGhpcy5pPWQ7dGhpcy5nPSEwfTt2YXIgdWE9e1NUQVRFX0NIQU5HRUQ6XCJzdGF0ZV9jaGFuZ2VkXCJ9LHZhPXtSVU5OSU5HOlwicnVubmluZ1wiLFBBVVNFRDpcInBhdXNlZFwiLFNVQ0NFU1M6XCJzdWNjZXNzXCIsQ0FOQ0VMRUQ6XCJjYW5jZWxlZFwiLEVSUk9SOlwiZXJyb3JcIn0sd2E9ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgXCJydW5uaW5nXCI6Y2FzZSBcInBhdXNpbmdcIjpjYXNlIFwiY2FuY2VsaW5nXCI6cmV0dXJuXCJydW5uaW5nXCI7Y2FzZSBcInBhdXNlZFwiOnJldHVyblwicGF1c2VkXCI7Y2FzZSBcInN1Y2Nlc3NcIjpyZXR1cm5cInN1Y2Nlc3NcIjtjYXNlIFwiY2FuY2VsZWRcIjpyZXR1cm5cImNhbmNlbGVkXCI7Y2FzZSBcImVycm9yXCI6cmV0dXJuXCJlcnJvclwiO2RlZmF1bHQ6cmV0dXJuXCJlcnJvclwifX07dmFyIHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4oYSkmJm51bGwhPT1hfSx4YT1mdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGF8fGEgaW5zdGFuY2VvZiBTdHJpbmd9LHlhPWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBCbG9ifTt2YXIgemE9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZj1jO3RoaXMuYz1hO3RoaXMuZz1iO3RoaXMuYj0wO3RoaXMuYT1udWxsfTt6YS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIGE7MDx0aGlzLmI/KHRoaXMuYi0tLGE9dGhpcy5hLHRoaXMuYT1hLm5leHQsYS5uZXh0PW51bGwpOmE9dGhpcy5jKCk7cmV0dXJuIGF9O3ZhciBBYT1mdW5jdGlvbihhLGIpe2EuZyhiKTthLmI8YS5mJiYoYS5iKyssYi5uZXh0PWEuYSxhLmE9Yil9O3ZhciB6PWZ1bmN0aW9uKGEpe2lmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKUVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMseik7ZWxzZXt2YXIgYj1FcnJvcigpLnN0YWNrO2ImJih0aGlzLnN0YWNrPWIpfWEmJih0aGlzLm1lc3NhZ2U9U3RyaW5nKGEpKX07dih6LEVycm9yKTt6LnByb3RvdHlwZS5uYW1lPVwiQ3VzdG9tRXJyb3JcIjt2YXIgQmE9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLnJlc2V0KGEsYixjLGQsZSl9O0JhLnByb3RvdHlwZS5hPW51bGw7dmFyIENhPTA7QmEucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKGEsYixjLGQsZSl7XCJudW1iZXJcIj09dHlwZW9mIGV8fENhKys7ZHx8amEoKTt0aGlzLmI9YjtkZWxldGUgdGhpcy5hfTt2YXIgRGE9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109YVtkXTtyZXR1cm4gYn0sRWE9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109ZDtyZXR1cm4gYn0sRmE9XCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIiksR2E9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7ZD1hcmd1bWVudHNbZV07Zm9yKGMgaW4gZClhW2NdPWRbY107Zm9yKHZhciBmPTA7ZjxGYS5sZW5ndGg7ZisrKWM9RmFbZl0sT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGQsYykmJihhW2NdPWRbY10pfX07dmFyIEhhPWZ1bmN0aW9uKGEpe2EucHJvdG90eXBlLnRoZW49YS5wcm90b3R5cGUudGhlbjthLnByb3RvdHlwZS4kZ29vZ19UaGVuYWJsZT0hMH0sSWE9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuITE7dHJ5e3JldHVybiEhYS4kZ29vZ19UaGVuYWJsZX1jYXRjaChiKXtyZXR1cm4hMX19O3ZhciBKYT1mdW5jdGlvbihhKXtKYVtcIiBcIl0oYSk7cmV0dXJuIGF9O0phW1wiIFwiXT1iYTt2YXIgTGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1LYTtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGMsYSk/Y1thXTpjW2FdPWIoYSl9O3ZhciBNYT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLnNwbGl0KFwiJXNcIiksZD1cIlwiLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2UubGVuZ3RoJiYxPGMubGVuZ3RoOylkKz1jLnNoaWZ0KCkrZS5zaGlmdCgpO3JldHVybiBkK2Muam9pbihcIiVzXCIpfSxOYT1TdHJpbmcucHJvdG90eXBlLnRyaW0/ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHJpbSgpfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eW1xcc1xceGEwXSt8W1xcc1xceGEwXSskL2csXCJcIil9LE9hPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj8tMTphPmI/MTowfTt2YXIgUGE9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9YTt0aGlzLmI9Yn07dmFyIFFhPWZ1bmN0aW9uKGEsYil7dGhpcy5idWNrZXQ9YTt0aGlzLnBhdGg9Yn0sUmE9ZnVuY3Rpb24oYSl7dmFyIGI9ZW5jb2RlVVJJQ29tcG9uZW50O3JldHVyblwiL2IvXCIrYihhLmJ1Y2tldCkrXCIvby9cIitiKGEucGF0aCl9LFNhPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1udWxsLGM9W3tpYTovXmdzOlxcL1xcLyhbQS1aYS16MC05LlxcLV0rKShcXC8oLiopKT8kL2ksYmE6e2J1Y2tldDoxLHBhdGg6M30saGE6ZnVuY3Rpb24oYSl7XCIvXCI9PT1hLnBhdGguY2hhckF0KGEucGF0aC5sZW5ndGgtMSkmJihhLnBhdGg9YS5wYXRoLnNsaWNlKDAsLTEpKX19LHtpYTovXmh0dHBzPzpcXC9cXC9maXJlYmFzZXN0b3JhZ2VcXC5nb29nbGVhcGlzXFwuY29tXFwvdltBLVphLXowLTlfXStcXC9iXFwvKFtBLVphLXowLTkuXFwtXSspXFwvbyhcXC8oW14/I10qKS4qKT8kL2ksYmE6e2J1Y2tldDoxLHBhdGg6M30saGE6ZnVuY3Rpb24oYSl7YS5wYXRoPWRlY29kZVVSSUNvbXBvbmVudChhLnBhdGgpfX1dLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9XG5jW2RdLGY9ZS5pYS5leGVjKGEpO2lmKGYpe2I9ZltlLmJhLmJ1Y2tldF07KGY9ZltlLmJhLnBhdGhdKXx8KGY9XCJcIik7Yj1uZXcgUWEoYixmKTtlLmhhKGIpO2JyZWFrfX1pZihudWxsPT1iKXRocm93IG5ldyB3KFwiaW52YWxpZC11cmxcIixcIkludmFsaWQgVVJMICdcIithK1wiJy5cIik7cmV0dXJuIGJ9O3ZhciBUYT1mdW5jdGlvbihhLGIsYyl7dChhKXx8eShiKXx8eShjKT8odGhpcy5uZXh0PWEsdGhpcy5hPWJ8fG51bGwsdGhpcy5iPWN8fG51bGwpOih0aGlzLm5leHQ9YS5uZXh0fHxudWxsLHRoaXMuYT1hLmVycm9yfHxudWxsLHRoaXMuYj1hLmNvbXBsZXRlfHxudWxsKX07dmFyIFVhPXtSQVc6XCJyYXdcIixCQVNFNjQ6XCJiYXNlNjRcIixCQVNFNjRVUkw6XCJiYXNlNjR1cmxcIixEQVRBX1VSTDpcImRhdGFfdXJsXCJ9LFZhPWZ1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIFwicmF3XCI6Y2FzZSBcImJhc2U2NFwiOmNhc2UgXCJiYXNlNjR1cmxcIjpjYXNlIFwiZGF0YV91cmxcIjpicmVhaztkZWZhdWx0OnRocm93XCJFeHBlY3RlZCBvbmUgb2YgdGhlIGV2ZW50IHR5cGVzOiBbcmF3LCBiYXNlNjQsIGJhc2U2NHVybCwgZGF0YV91cmxdLlwiO319LFdhPWZ1bmN0aW9uKGEsYil7dGhpcy5kYXRhPWE7dGhpcy5hPWJ8fG51bGx9LCRhPWZ1bmN0aW9uKGEsYil7c3dpdGNoKGEpe2Nhc2UgXCJyYXdcIjpyZXR1cm4gbmV3IFdhKFhhKGIpKTtjYXNlIFwiYmFzZTY0XCI6Y2FzZSBcImJhc2U2NHVybFwiOnJldHVybiBuZXcgV2EoWWEoYSxiKSk7Y2FzZSBcImRhdGFfdXJsXCI6cmV0dXJuIGE9bmV3IFphKGIpLGE9YS5hP1lhKFwiYmFzZTY0XCIsYS5jKTpYYShhLmMpLG5ldyBXYShhLChuZXcgWmEoYikpLmIpfXRocm93IG1hKCk7XG59LFhhPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWEuY2hhckNvZGVBdChjKTtpZigxMjc+PWQpYi5wdXNoKGQpO2Vsc2UgaWYoMjA0Nz49ZCliLnB1c2goMTkyfGQ+PjYsMTI4fGQmNjMpO2Vsc2UgaWYoNTUyOTY9PShkJjY0NTEyKSlpZihjPGEubGVuZ3RoLTEmJjU2MzIwPT0oYS5jaGFyQ29kZUF0KGMrMSkmNjQ1MTIpKXt2YXIgZT1hLmNoYXJDb2RlQXQoKytjKSxkPTY1NTM2fChkJjEwMjMpPDwxMHxlJjEwMjM7Yi5wdXNoKDI0MHxkPj4xOCwxMjh8ZD4+MTImNjMsMTI4fGQ+PjYmNjMsMTI4fGQmNjMpfWVsc2UgYi5wdXNoKDIzOSwxOTEsMTg5KTtlbHNlIDU2MzIwPT0oZCY2NDUxMik/Yi5wdXNoKDIzOSwxOTEsMTg5KTpiLnB1c2goMjI0fGQ+PjEyLDEyOHxkPj42JjYzLDEyOHxkJjYzKX1yZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYil9LFlhPWZ1bmN0aW9uKGEsYil7c3dpdGNoKGEpe2Nhc2UgXCJiYXNlNjRcIjp2YXIgYz0tMSE9PWIuaW5kZXhPZihcIi1cIiksXG5kPS0xIT09Yi5pbmRleE9mKFwiX1wiKTtpZihjfHxkKXRocm93IHJhKGEsXCJJbnZhbGlkIGNoYXJhY3RlciAnXCIrKGM/XCItXCI6XCJfXCIpK1wiJyBmb3VuZDogaXMgaXQgYmFzZTY0dXJsIGVuY29kZWQ/XCIpO2JyZWFrO2Nhc2UgXCJiYXNlNjR1cmxcIjpjPS0xIT09Yi5pbmRleE9mKFwiK1wiKTtkPS0xIT09Yi5pbmRleE9mKFwiL1wiKTtpZihjfHxkKXRocm93IHJhKGEsXCJJbnZhbGlkIGNoYXJhY3RlciAnXCIrKGM/XCIrXCI6XCIvXCIpK1wiJyBmb3VuZDogaXMgaXQgYmFzZTY0IGVuY29kZWQ/XCIpO2I9Yi5yZXBsYWNlKC8tL2csXCIrXCIpLnJlcGxhY2UoL18vZyxcIi9cIil9dmFyIGU7dHJ5e2U9YXRvYihiKX1jYXRjaChmKXt0aHJvdyByYShhLFwiSW52YWxpZCBjaGFyYWN0ZXIgZm91bmRcIik7fWE9bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpO2ZvcihiPTA7YjxlLmxlbmd0aDtiKyspYVtiXT1lLmNoYXJDb2RlQXQoYik7cmV0dXJuIGF9LFphPWZ1bmN0aW9uKGEpe3ZhciBiPWEubWF0Y2goL15kYXRhOihbXixdKyk/LC8pO1xuaWYobnVsbD09PWIpdGhyb3cgcmEoXCJkYXRhX3VybFwiLFwiTXVzdCBiZSBmb3JtYXR0ZWQgJ2RhdGE6WzxtZWRpYXR5cGU+XVs7YmFzZTY0XSw8ZGF0YT5cIik7Yj1iWzFdfHxudWxsO3RoaXMuYT0hMTt0aGlzLmI9bnVsbDtpZihudWxsIT1iKXt2YXIgYz1iLmxlbmd0aC03O3RoaXMuYj0odGhpcy5hPTA8PWMmJmIuaW5kZXhPZihcIjtiYXNlNjRcIixjKT09Yyk/Yi5zdWJzdHJpbmcoMCxiLmxlbmd0aC03KTpifXRoaXMuYz1hLnN1YnN0cmluZyhhLmluZGV4T2YoXCIsXCIpKzEpfTt2YXIgYWI9ZnVuY3Rpb24oYSl7dmFyIGI9ZW5jb2RlVVJJQ29tcG9uZW50LGM9XCI/XCI7c2EoYSxmdW5jdGlvbihhLGUpe2E9YihhKStcIj1cIitiKGUpO2M9YythK1wiJlwifSk7cmV0dXJuIGM9Yy5zbGljZSgwLC0xKX07dmFyIEE9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuYj1hO3RoaXMuaD1iO3RoaXMuZj1jO3RoaXMuYT1kO3RoaXMuZz1lO3RoaXMuYz1mfTtrPUEucHJvdG90eXBlO2submE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtrLkphPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07ay5HYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O2suQmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtrLnBhPWZ1bmN0aW9uKCl7aWYoeSh0aGlzLmEpKXt2YXIgYT10aGlzLmEuZG93bmxvYWRVUkxzO3JldHVybiB5KGEpJiZ5KGFbMF0pP2FbMF06bnVsbH1yZXR1cm4gbnVsbH07ay5JYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O2suRWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTt2YXIgYmI9ZnVuY3Rpb24oYSxiKXtiLnVuc2hpZnQoYSk7ei5jYWxsKHRoaXMsTWEuYXBwbHkobnVsbCxiKSk7Yi5zaGlmdCgpfTt2KGJiLHopO2JiLnByb3RvdHlwZS5uYW1lPVwiQXNzZXJ0aW9uRXJyb3JcIjtcbnZhciBjYj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1cIkFzc2VydGlvbiBmYWlsZWRcIjtpZihjKXZhciBlPWUrKFwiOiBcIitjKSxmPWQ7ZWxzZSBhJiYoZSs9XCI6IFwiK2EsZj1iKTt0aHJvdyBuZXcgYmIoXCJcIitlLGZ8fFtdKTt9LEI9ZnVuY3Rpb24oYSxiLGMpe2F8fGNiKFwiXCIsbnVsbCxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9LGRiPWZ1bmN0aW9uKGEsYil7dGhyb3cgbmV3IGJiKFwiRmFpbHVyZVwiKyhhP1wiOiBcIithOlwiXCIpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7fSxlYj1mdW5jdGlvbihhLGIsYyl7dChhKXx8Y2IoXCJFeHBlY3RlZCBmdW5jdGlvbiBidXQgZ290ICVzOiAlcy5cIixbcChhKSxhXSxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9O3ZhciBmYj1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmc7dGhpcy5vPXRoaXMub307ZmIucHJvdG90eXBlLmc9ITE7ZmIucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7dGhpcy5nfHwodGhpcy5nPSEwLHRoaXMuRCgpKX07ZmIucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtpZih0aGlzLm8pZm9yKDt0aGlzLm8ubGVuZ3RoOyl0aGlzLm8uc2hpZnQoKSgpfTt2YXIgZ2I9XCJjbG9zdXJlX2xpc3RlbmFibGVfXCIrKDFFNipNYXRoLnJhbmRvbSgpfDApLGhiPTA7dmFyIGliO2E6e3ZhciBqYj1sLm5hdmlnYXRvcjtpZihqYil7dmFyIGtiPWpiLnVzZXJBZ2VudDtpZihrYil7aWI9a2I7YnJlYWsgYX19aWI9XCJcIn12YXIgQz1mdW5jdGlvbihhKXtyZXR1cm4tMSE9aWIuaW5kZXhPZihhKX07dmFyIGxiPWZ1bmN0aW9uKCl7fTtsYi5wcm90b3R5cGUuYj1udWxsO2xiLnByb3RvdHlwZS5hPWNhO3ZhciBtYj1mdW5jdGlvbihhKXtyZXR1cm4gYS5ifHwoYS5iPWEuZigpKX07bGIucHJvdG90eXBlLmY9Y2E7dmFyIG5iPUFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Z1bmN0aW9uKGEsYixjKXtCKG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtjPW51bGw9PWM/MDowPmM/TWF0aC5tYXgoMCxhLmxlbmd0aCtjKTpjO2lmKHIoYSkpcmV0dXJuIHIoYikmJjE9PWIubGVuZ3RoP2EuaW5kZXhPZihiLGMpOi0xO2Zvcig7YzxhLmxlbmd0aDtjKyspaWYoYyBpbiBhJiZhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sb2I9QXJyYXkucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oYSxiLGMpe0IobnVsbCE9YS5sZW5ndGgpO0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9cihhKT9hLnNwbGl0KFwiXCIpOmEsZj0wO2Y8ZDtmKyspZiBpbiBlJiZiLmNhbGwoYyxlW2ZdLGYsYSl9LHBiPUFycmF5LnByb3RvdHlwZS5maWx0ZXI/ZnVuY3Rpb24oYSxcbmIsYyl7QihudWxsIT1hLmxlbmd0aCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1bXSxmPTAsZz1yKGEpP2Euc3BsaXQoXCJcIik6YSxoPTA7aDxkO2grKylpZihoIGluIGcpe3ZhciBtPWdbaF07Yi5jYWxsKGMsbSxoLGEpJiYoZVtmKytdPW0pfXJldHVybiBlfSxxYj1BcnJheS5wcm90b3R5cGUubWFwP2Z1bmN0aW9uKGEsYixjKXtCKG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPUFycmF5KGQpLGY9cihhKT9hLnNwbGl0KFwiXCIpOmEsZz0wO2c8ZDtnKyspZyBpbiBmJiYoZVtnXT1iLmNhbGwoYyxmW2ddLGcsYSkpO3JldHVybiBlfSxyYj1BcnJheS5wcm90b3R5cGUuc29tZT9mdW5jdGlvbihhLGIsYyl7QihudWxsIT1hLmxlbmd0aCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoYSxcbmIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1yKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4hMDtyZXR1cm4hMX0sdGI9ZnVuY3Rpb24oYSl7dmFyIGI7YTp7Yj1zYjtmb3IodmFyIGM9YS5sZW5ndGgsZD1yKGEpP2Euc3BsaXQoXCJcIik6YSxlPTA7ZTxjO2UrKylpZihlIGluIGQmJmIuY2FsbCh2b2lkIDAsZFtlXSxlLGEpKXtiPWU7YnJlYWsgYX1iPS0xfXJldHVybiAwPmI/bnVsbDpyKGEpP2EuY2hhckF0KGIpOmFbYl19LHViPWZ1bmN0aW9uKGEsYil7cmV0dXJuIDA8PW5iKGEsYil9LHZiPWZ1bmN0aW9uKGEpe2lmKFwiYXJyYXlcIiE9cChhKSlmb3IodmFyIGI9YS5sZW5ndGgtMTswPD1iO2ItLSlkZWxldGUgYVtiXTthLmxlbmd0aD0wfSx3Yj1mdW5jdGlvbihhLGIpe2I9bmIoYSxiKTt2YXIgYztpZihjPTA8PWIpQihudWxsIT1hLmxlbmd0aCksQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGEsXG5iLDEpO3JldHVybiBjfSx4Yj1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aDtpZigwPGIpe2Zvcih2YXIgYz1BcnJheShiKSxkPTA7ZDxiO2QrKyljW2RdPWFbZF07cmV0dXJuIGN9cmV0dXJuW119O3ZhciB6Yj1uZXcgemEoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHlifSxmdW5jdGlvbihhKXthLnJlc2V0KCl9LDEwMCksQmI9ZnVuY3Rpb24oKXt2YXIgYT1BYixiPW51bGw7YS5hJiYoYj1hLmEsYS5hPWEuYS5uZXh0LGEuYXx8KGEuYj1udWxsKSxiLm5leHQ9bnVsbCk7cmV0dXJuIGJ9LHliPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuYj10aGlzLmE9bnVsbH07eWIucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuYT1hO3RoaXMuYj1iO3RoaXMubmV4dD1udWxsfTt5Yi5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLm5leHQ9dGhpcy5iPXRoaXMuYT1udWxsfTt2YXIgQ2I9ZnVuY3Rpb24oYSxiKXt0aGlzLnR5cGU9YTt0aGlzLmE9dGhpcy50YXJnZXQ9Yjt0aGlzLmphPSEwfTtDYi5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3RoaXMuamE9ITF9O3ZhciBEYj1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMubGlzdGVuZXI9YTt0aGlzLmE9bnVsbDt0aGlzLnNyYz1iO3RoaXMudHlwZT1jO3RoaXMuVT0hIWQ7dGhpcy5NPWU7KytoYjt0aGlzLk49dGhpcy5UPSExfSxFYj1mdW5jdGlvbihhKXthLk49ITA7YS5saXN0ZW5lcj1udWxsO2EuYT1udWxsO2Euc3JjPW51bGw7YS5NPW51bGx9O3ZhciBGYj0vXig/OihbXjovPyMuXSspOik/KD86XFwvXFwvKD86KFteLz8jXSopQCk/KFteLyM/XSo/KSg/OjooWzAtOV0rKSk/KD89Wy8jP118JCkpPyhbXj8jXSspPyg/OlxcPyhbXiNdKikpPyg/OiMoW1xcc1xcU10qKSk/JC87dmFyIEdiPWZ1bmN0aW9uKGEsYil7Yj1wYihiLnNwbGl0KFwiL1wiKSxmdW5jdGlvbihhKXtyZXR1cm4gMDxhLmxlbmd0aH0pLmpvaW4oXCIvXCIpO3JldHVybiAwPT09YS5sZW5ndGg/YjphK1wiL1wiK2J9LEhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGFzdEluZGV4T2YoXCIvXCIsYS5sZW5ndGgtMik7cmV0dXJuLTE9PT1iP2E6YS5zbGljZShiKzEpfTt2YXIgSWI9ZnVuY3Rpb24oYSl7dGhpcy5zcmM9YTt0aGlzLmE9e307dGhpcy5iPTB9LEtiPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1iLnRvU3RyaW5nKCk7Yj1hLmFbZ107Ynx8KGI9YS5hW2ddPVtdLGEuYisrKTt2YXIgaD1KYihiLGMsZSxmKTstMTxoPyhhPWJbaF0sZHx8KGEuVD0hMSkpOihhPW5ldyBEYihjLGEuc3JjLGcsISFlLGYpLGEuVD1kLGIucHVzaChhKSk7cmV0dXJuIGF9LExiPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi50eXBlO2MgaW4gYS5hJiZ3YihhLmFbY10sYikmJihFYihiKSwwPT1hLmFbY10ubGVuZ3RoJiYoZGVsZXRlIGEuYVtjXSxhLmItLSkpfSxKYj1mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YVtlXTtpZighZi5OJiZmLmxpc3RlbmVyPT1iJiZmLlU9PSEhYyYmZi5NPT1kKXJldHVybiBlfXJldHVybi0xfTt2YXIgTWIsTmI9ZnVuY3Rpb24oKXt9O3YoTmIsbGIpO05iLnByb3RvdHlwZS5hPWZ1bmN0aW9uKCl7dmFyIGE9T2IodGhpcyk7cmV0dXJuIGE/bmV3IEFjdGl2ZVhPYmplY3QoYSk6bmV3IFhNTEh0dHBSZXF1ZXN0fTtOYi5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3ZhciBhPXt9O09iKHRoaXMpJiYoYVswXT0hMCxhWzFdPSEwKTtyZXR1cm4gYX07XG52YXIgT2I9ZnVuY3Rpb24oYSl7aWYoIWEuYyYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgQWN0aXZlWE9iamVjdCl7Zm9yKHZhciBiPVtcIk1TWE1MMi5YTUxIVFRQLjYuMFwiLFwiTVNYTUwyLlhNTEhUVFAuMy4wXCIsXCJNU1hNTDIuWE1MSFRUUFwiLFwiTWljcm9zb2Z0LlhNTEhUVFBcIl0sYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO3RyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoZCksYS5jPWR9Y2F0Y2goZSl7fX10aHJvdyBFcnJvcihcIkNvdWxkIG5vdCBjcmVhdGUgQWN0aXZlWE9iamVjdC4gQWN0aXZlWCBtaWdodCBiZSBkaXNhYmxlZCwgb3IgTVNYTUwgbWlnaHQgbm90IGJlIGluc3RhbGxlZFwiKTt9cmV0dXJuIGEuY307TWI9bmV3IE5iO3ZhciBQYj1mdW5jdGlvbihhKXt0aGlzLmE9W107aWYoYSlhOnt2YXIgYjtpZihhIGluc3RhbmNlb2YgUGIpe2lmKGI9YS5IKCksYT1hLkEoKSwwPj10aGlzLmIoKSl7Zm9yKHZhciBjPXRoaXMuYSxkPTA7ZDxiLmxlbmd0aDtkKyspYy5wdXNoKG5ldyBQYShiW2RdLGFbZF0pKTticmVhayBhfX1lbHNlIGI9RWEoYSksYT1EYShhKTtmb3IoZD0wO2Q8Yi5sZW5ndGg7ZCsrKVFiKHRoaXMsYltkXSxhW2RdKX19LFFiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmE7ZC5wdXNoKG5ldyBQYShiLGMpKTtiPWQubGVuZ3RoLTE7YT1hLmE7Zm9yKGM9YVtiXTswPGI7KWlmKGQ9Yi0xPj4xLGFbZF0uYT5jLmEpYVtiXT1hW2RdLGI9ZDtlbHNlIGJyZWFrO2FbYl09Y307UGIucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5hLGI9W10sYz1hLmxlbmd0aCxkPTA7ZDxjO2QrKyliLnB1c2goYVtkXS5iKTtyZXR1cm4gYn07XG5QYi5wcm90b3R5cGUuSD1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmEsYj1bXSxjPWEubGVuZ3RoLGQ9MDtkPGM7ZCsrKWIucHVzaChhW2RdLmEpO3JldHVybiBifTtQYi5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubGVuZ3RofTt2YXIgUmI9ZnVuY3Rpb24oKXt0aGlzLmM9W107dGhpcy5hPVtdfSxTYj1mdW5jdGlvbihhKXswPT1hLmMubGVuZ3RoJiYoYS5jPWEuYSxhLmMucmV2ZXJzZSgpLGEuYT1bXSk7cmV0dXJuIGEuYy5wb3AoKX07UmIucHJvdG90eXBlLmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLmxlbmd0aCt0aGlzLmEubGVuZ3RofTtSYi5wcm90b3R5cGUuQT1mdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPXRoaXMuYy5sZW5ndGgtMTswPD1iOy0tYilhLnB1c2godGhpcy5jW2JdKTtmb3IodmFyIGM9dGhpcy5hLmxlbmd0aCxiPTA7YjxjOysrYilhLnB1c2godGhpcy5hW2JdKTtyZXR1cm4gYX07dmFyIFRiPWZ1bmN0aW9uKGEpe2lmKGEuQSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5BKXJldHVybiBhLkEoKTtpZihyKGEpKXJldHVybiBhLnNwbGl0KFwiXCIpO2lmKGRhKGEpKXtmb3IodmFyIGI9W10sYz1hLmxlbmd0aCxkPTA7ZDxjO2QrKyliLnB1c2goYVtkXSk7cmV0dXJuIGJ9cmV0dXJuIERhKGEpfSxVYj1mdW5jdGlvbihhLGIpe2lmKGEuZm9yRWFjaCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5mb3JFYWNoKWEuZm9yRWFjaChiLHZvaWQgMCk7ZWxzZSBpZihkYShhKXx8cihhKSlvYihhLGIsdm9pZCAwKTtlbHNle3ZhciBjO2lmKGEuSCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5IKWM9YS5IKCk7ZWxzZSBpZihhLkEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuQSljPXZvaWQgMDtlbHNlIGlmKGRhKGEpfHxyKGEpKXtjPVtdO2Zvcih2YXIgZD1hLmxlbmd0aCxlPTA7ZTxkO2UrKyljLnB1c2goZSl9ZWxzZSBjPUVhKGEpO2Zvcih2YXIgZD1UYihhKSxlPWQubGVuZ3RoLGY9MDtmPGU7ZisrKWIuY2FsbCh2b2lkIDAsXG5kW2ZdLGMmJmNbZl0sYSl9fTt2YXIgVmI9ZnVuY3Rpb24oYSl7bC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgYTt9LDApfSxXYixYYj1mdW5jdGlvbigpe3ZhciBhPWwuTWVzc2FnZUNoYW5uZWw7XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmd2luZG93LnBvc3RNZXNzYWdlJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmIUMoXCJQcmVzdG9cIikmJihhPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIklGUkFNRVwiKTthLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7YS5zcmM9XCJcIjtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYSk7dmFyIGI9YS5jb250ZW50V2luZG93LGE9Yi5kb2N1bWVudDthLm9wZW4oKTthLndyaXRlKFwiXCIpO2EuY2xvc2UoKTt2YXIgYz1cImNhbGxJbW1lZGlhdGVcIitNYXRoLnJhbmRvbSgpLGQ9XCJmaWxlOlwiPT1iLmxvY2F0aW9uLnByb3RvY29sP1wiKlwiOmIubG9jYXRpb24ucHJvdG9jb2wrXCIvL1wiK2IubG9jYXRpb24uaG9zdCxcbmE9dShmdW5jdGlvbihhKXtpZigoXCIqXCI9PWR8fGEub3JpZ2luPT1kKSYmYS5kYXRhPT1jKXRoaXMucG9ydDEub25tZXNzYWdlKCl9LHRoaXMpO2IuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixhLCExKTt0aGlzLnBvcnQxPXt9O3RoaXMucG9ydDI9e3Bvc3RNZXNzYWdlOmZ1bmN0aW9uKCl7Yi5wb3N0TWVzc2FnZShjLGQpfX19KTtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGEmJiFDKFwiVHJpZGVudFwiKSYmIUMoXCJNU0lFXCIpKXt2YXIgYj1uZXcgYSxjPXt9LGQ9YztiLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe2lmKG4oYy5uZXh0KSl7Yz1jLm5leHQ7dmFyIGE9Yy5kYTtjLmRhPW51bGw7YSgpfX07cmV0dXJuIGZ1bmN0aW9uKGEpe2QubmV4dD17ZGE6YX07ZD1kLm5leHQ7Yi5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTQ1JJUFRcIik/XG5mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU0NSSVBUXCIpO2Iub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7Yj1udWxsO2EoKTthPW51bGx9O2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChiKX06ZnVuY3Rpb24oYSl7bC5zZXRUaW1lb3V0KGEsMCl9fTt2YXIgWWI9XCJTdG9wSXRlcmF0aW9uXCJpbiBsP2wuU3RvcEl0ZXJhdGlvbjp7bWVzc2FnZTpcIlN0b3BJdGVyYXRpb25cIixzdGFjazpcIlwifSxaYj1mdW5jdGlvbigpe307WmIucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt0aHJvdyBZYjt9O1piLnByb3RvdHlwZS5oPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciAkYj1mdW5jdGlvbigpe1BiLmNhbGwodGhpcyl9O3YoJGIsUGIpO3ZhciBhYz1DKFwiT3BlcmFcIiksRD1DKFwiVHJpZGVudFwiKXx8QyhcIk1TSUVcIiksYmM9QyhcIkVkZ2VcIiksY2M9QyhcIkdlY2tvXCIpJiYhKC0xIT1pYi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJ3ZWJraXRcIikmJiFDKFwiRWRnZVwiKSkmJiEoQyhcIlRyaWRlbnRcIil8fEMoXCJNU0lFXCIpKSYmIUMoXCJFZGdlXCIpLGRjPS0xIT1pYi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJ3ZWJraXRcIikmJiFDKFwiRWRnZVwiKSxlYz1mdW5jdGlvbigpe3ZhciBhPWwuZG9jdW1lbnQ7cmV0dXJuIGE/YS5kb2N1bWVudE1vZGU6dm9pZCAwfSxmYztcbmE6e3ZhciBnYz1cIlwiLGhjPWZ1bmN0aW9uKCl7dmFyIGE9aWI7aWYoY2MpcmV0dXJuL3J2XFw6KFteXFwpO10rKShcXCl8OykvLmV4ZWMoYSk7aWYoYmMpcmV0dXJuL0VkZ2VcXC8oW1xcZFxcLl0rKS8uZXhlYyhhKTtpZihEKXJldHVybi9cXGIoPzpNU0lFfHJ2KVs6IF0oW15cXCk7XSspKFxcKXw7KS8uZXhlYyhhKTtpZihkYylyZXR1cm4vV2ViS2l0XFwvKFxcUyspLy5leGVjKGEpO2lmKGFjKXJldHVybi8oPzpWZXJzaW9uKVsgXFwvXT8oXFxTKykvLmV4ZWMoYSl9KCk7aGMmJihnYz1oYz9oY1sxXTpcIlwiKTtpZihEKXt2YXIgaWM9ZWMoKTtpZihudWxsIT1pYyYmaWM+cGFyc2VGbG9hdChnYykpe2ZjPVN0cmluZyhpYyk7YnJlYWsgYX19ZmM9Z2N9XG52YXIga2M9ZmMsS2E9e30sRT1mdW5jdGlvbihhKXtyZXR1cm4gTGEoYSxmdW5jdGlvbigpe2Zvcih2YXIgYj0wLGM9TmEoU3RyaW5nKGtjKSkuc3BsaXQoXCIuXCIpLGQ9TmEoU3RyaW5nKGEpKS5zcGxpdChcIi5cIiksZT1NYXRoLm1heChjLmxlbmd0aCxkLmxlbmd0aCksZj0wOzA9PWImJmY8ZTtmKyspe3ZhciBnPWNbZl18fFwiXCIsaD1kW2ZdfHxcIlwiO2Rve2c9LyhcXGQqKShcXEQqKSguKikvLmV4ZWMoZyl8fFtcIlwiLFwiXCIsXCJcIixcIlwiXTtoPS8oXFxkKikoXFxEKikoLiopLy5leGVjKGgpfHxbXCJcIixcIlwiLFwiXCIsXCJcIl07aWYoMD09Z1swXS5sZW5ndGgmJjA9PWhbMF0ubGVuZ3RoKWJyZWFrO2I9T2EoMD09Z1sxXS5sZW5ndGg/MDpwYXJzZUludChnWzFdLDEwKSwwPT1oWzFdLmxlbmd0aD8wOnBhcnNlSW50KGhbMV0sMTApKXx8T2EoMD09Z1syXS5sZW5ndGgsMD09aFsyXS5sZW5ndGgpfHxPYShnWzJdLGhbMl0pO2c9Z1szXTtoPWhbM119d2hpbGUoMD09Yil9cmV0dXJuIDA8PWJ9KX0sbGM7dmFyIG1jPWwuZG9jdW1lbnQ7XG5sYz1tYyYmRD9lYygpfHwoXCJDU1MxQ29tcGF0XCI9PW1jLmNvbXBhdE1vZGU/cGFyc2VJbnQoa2MsMTApOjUpOnZvaWQgMDt2YXIgcWM9ZnVuY3Rpb24oYSxiKXtuY3x8b2MoKTtwY3x8KG5jKCkscGM9ITApO3ZhciBjPUFiLGQ9emIuZ2V0KCk7ZC5zZXQoYSxiKTtjLmI/Yy5iLm5leHQ9ZDooQighYy5hKSxjLmE9ZCk7Yy5iPWR9LG5jLG9jPWZ1bmN0aW9uKCl7dmFyIGE9bC5Qcm9taXNlO2lmKC0xIT1TdHJpbmcoYSkuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikpe3ZhciBiPWEucmVzb2x2ZSh2b2lkIDApO25jPWZ1bmN0aW9uKCl7Yi50aGVuKHJjKX19ZWxzZSBuYz1mdW5jdGlvbigpe3ZhciBhPXJjOyF0KGwuc2V0SW1tZWRpYXRlKXx8bC5XaW5kb3cmJmwuV2luZG93LnByb3RvdHlwZSYmIUMoXCJFZGdlXCIpJiZsLldpbmRvdy5wcm90b3R5cGUuc2V0SW1tZWRpYXRlPT1sLnNldEltbWVkaWF0ZT8oV2J8fChXYj1YYigpKSxXYihhKSk6bC5zZXRJbW1lZGlhdGUoYSl9fSxwYz0hMSxBYj1uZXcgZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5hPW51bGx9LHJjPWZ1bmN0aW9uKCl7Zm9yKHZhciBhO2E9QmIoKTspe3RyeXthLmEuY2FsbChhLmIpfWNhdGNoKGIpe1ZiKGIpfUFhKHpiLFxuYSl9cGM9ITF9O3ZhciBzYzsoc2M9IUQpfHwoc2M9OTw9TnVtYmVyKGxjKSk7dmFyIHRjPXNjLHVjPUQmJiFFKFwiOVwiKTshZGN8fEUoXCI1MjhcIik7Y2MmJkUoXCIxLjliXCIpfHxEJiZFKFwiOFwiKXx8YWMmJkUoXCI5LjVcIil8fGRjJiZFKFwiNTI4XCIpO2NjJiYhRShcIjhcIil8fEQmJkUoXCI5XCIpO3ZhciBGPWZ1bmN0aW9uKGEsYil7dGhpcy5jPXt9O3RoaXMuYT1bXTt0aGlzLmc9dGhpcy5mPTA7dmFyIGM9YXJndW1lbnRzLmxlbmd0aDtpZigxPGMpe2lmKGMlMil0aHJvdyBFcnJvcihcIlVuZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzXCIpO2Zvcih2YXIgZD0wO2Q8YztkKz0yKXRoaXMuc2V0KGFyZ3VtZW50c1tkXSxhcmd1bWVudHNbZCsxXSl9ZWxzZSBpZihhKXthIGluc3RhbmNlb2YgRj8oYz1hLkgoKSxkPWEuQSgpKTooYz1FYShhKSxkPURhKGEpKTtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyl0aGlzLnNldChjW2VdLGRbZV0pfX07Ri5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O0YucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXt2Yyh0aGlzKTtmb3IodmFyIGE9W10sYj0wO2I8dGhpcy5hLmxlbmd0aDtiKyspYS5wdXNoKHRoaXMuY1t0aGlzLmFbYl1dKTtyZXR1cm4gYX07Ri5wcm90b3R5cGUuSD1mdW5jdGlvbigpe3ZjKHRoaXMpO3JldHVybiB0aGlzLmEuY29uY2F0KCl9O1xudmFyIHdjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLmMsYik/KGRlbGV0ZSBhLmNbYl0sYS5mLS0sYS5nKyssYS5hLmxlbmd0aD4yKmEuZiYmdmMoYSksITApOiExfSx2Yz1mdW5jdGlvbihhKXtpZihhLmYhPWEuYS5sZW5ndGgpe2Zvcih2YXIgYj0wLGM9MDtiPGEuYS5sZW5ndGg7KXt2YXIgZD1hLmFbYl07T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEuYyxkKSYmKGEuYVtjKytdPWQpO2IrK31hLmEubGVuZ3RoPWN9aWYoYS5mIT1hLmEubGVuZ3RoKXtmb3IodmFyIGU9e30sYz1iPTA7YjxhLmEubGVuZ3RoOylkPWEuYVtiXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxkKXx8KGEuYVtjKytdPWQsZVtkXT0xKSxiKys7YS5hLmxlbmd0aD1jfX07XG5GLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuYyxhKT90aGlzLmNbYV06Yn07Ri5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuYyxhKXx8KHRoaXMuZisrLHRoaXMuYS5wdXNoKGEpLHRoaXMuZysrKTt0aGlzLmNbYV09Yn07Ri5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLkgoKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0sZj10aGlzLmdldChlKTthLmNhbGwoYixmLGUsdGhpcyl9fTtcbkYucHJvdG90eXBlLmg9ZnVuY3Rpb24oYSl7dmModGhpcyk7dmFyIGI9MCxjPXRoaXMuZyxkPXRoaXMsZT1uZXcgWmI7ZS5uZXh0PWZ1bmN0aW9uKCl7aWYoYyE9ZC5nKXRocm93IEVycm9yKFwiVGhlIG1hcCBoYXMgY2hhbmdlZCBzaW5jZSB0aGUgaXRlcmF0b3Igd2FzIGNyZWF0ZWRcIik7aWYoYj49ZC5hLmxlbmd0aCl0aHJvdyBZYjt2YXIgZT1kLmFbYisrXTtyZXR1cm4gYT9lOmQuY1tlXX07cmV0dXJuIGV9O3ZhciB4Yz1mdW5jdGlvbihhLGIpe0NiLmNhbGwodGhpcyxhP2EudHlwZTpcIlwiKTt0aGlzLmM9dGhpcy5hPXRoaXMudGFyZ2V0PW51bGw7aWYoYSl7dGhpcy50eXBlPWEudHlwZTt0aGlzLnRhcmdldD1hLnRhcmdldHx8YS5zcmNFbGVtZW50O3RoaXMuYT1iO2lmKChiPWEucmVsYXRlZFRhcmdldCkmJmNjKXRyeXtKYShiLm5vZGVOYW1lKX1jYXRjaChjKXt9dGhpcy5jPWE7YS5kZWZhdWx0UHJldmVudGVkJiZ0aGlzLmIoKX19O3YoeGMsQ2IpO3hjLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7eGMuSS5iLmNhbGwodGhpcyk7dmFyIGE9dGhpcy5jO2lmKGEucHJldmVudERlZmF1bHQpYS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYoYS5yZXR1cm5WYWx1ZT0hMSx1Yyl0cnl7aWYoYS5jdHJsS2V5fHwxMTI8PWEua2V5Q29kZSYmMTIzPj1hLmtleUNvZGUpYS5rZXlDb2RlPS0xfWNhdGNoKGIpe319O3ZhciBHPWZ1bmN0aW9uKGEsYil7dGhpcy5hPTA7dGhpcy5pPXZvaWQgMDt0aGlzLmY9dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuZz10aGlzLmg9ITE7aWYoYSE9YmEpdHJ5e3ZhciBjPXRoaXM7YS5jYWxsKGIsZnVuY3Rpb24oYSl7eWMoYywyLGEpfSxmdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiB6YykpdHJ5e2lmKGEgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBhO3Rocm93IEVycm9yKFwiUHJvbWlzZSByZWplY3RlZC5cIik7fWNhdGNoKGUpe315YyhjLDMsYSl9KX1jYXRjaChkKXt5Yyh0aGlzLDMsZCl9fSxBYz1mdW5jdGlvbigpe3RoaXMubmV4dD10aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmE9bnVsbDt0aGlzLmc9ITF9O0FjLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZj10aGlzLmM9dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuZz0hMX07XG52YXIgQmM9bmV3IHphKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBY30sZnVuY3Rpb24oYSl7YS5yZXNldCgpfSwxMDApLENjPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1CYy5nZXQoKTtkLmI9YTtkLmM9YjtkLmY9YztyZXR1cm4gZH0sRGM9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIEcpcmV0dXJuIGE7dmFyIGI9bmV3IEcoYmEpO3ljKGIsMixhKTtyZXR1cm4gYn0sRWM9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBHKGZ1bmN0aW9uKGIsYyl7YyhhKX0pfTtcbkcucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiLGMpe251bGwhPWEmJmViKGEsXCJvcHRfb25GdWxmaWxsZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uXCIpO251bGwhPWImJmViKGIsXCJvcHRfb25SZWplY3RlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi4gRGlkIHlvdSBwYXNzIG9wdF9jb250ZXh0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZCBvZiB0aGUgdGhpcmQ/XCIpO3JldHVybiBGYyh0aGlzLHQoYSk/YTpudWxsLHQoYik/YjpudWxsLGMpfTtIYShHKTtHLnByb3RvdHlwZS5sPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEZjKHRoaXMsbnVsbCxhLGIpfTtHLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oYSl7MD09dGhpcy5hJiZxYyhmdW5jdGlvbigpe3ZhciBiPW5ldyB6YyhhKTtHYyh0aGlzLGIpfSx0aGlzKX07XG52YXIgR2M9ZnVuY3Rpb24oYSxiKXtpZigwPT1hLmEpaWYoYS5jKXt2YXIgYz1hLmM7aWYoYy5iKXtmb3IodmFyIGQ9MCxlPW51bGwsZj1udWxsLGc9Yy5iO2cmJihnLmd8fChkKyssZy5hPT1hJiYoZT1nKSwhKGUmJjE8ZCkpKTtnPWcubmV4dCllfHwoZj1nKTtlJiYoMD09Yy5hJiYxPT1kP0djKGMsYik6KGY/KGQ9ZixCKGMuYiksQihudWxsIT1kKSxkLm5leHQ9PWMuZiYmKGMuZj1kKSxkLm5leHQ9ZC5uZXh0Lm5leHQpOkhjKGMpLEljKGMsZSwzLGIpKSl9YS5jPW51bGx9ZWxzZSB5YyhhLDMsYil9LEtjPWZ1bmN0aW9uKGEsYil7YS5ifHwyIT1hLmEmJjMhPWEuYXx8SmMoYSk7QihudWxsIT1iLmIpO2EuZj9hLmYubmV4dD1iOmEuYj1iO2EuZj1ifSxGYz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1DYyhudWxsLG51bGwsbnVsbCk7ZS5hPW5ldyBHKGZ1bmN0aW9uKGEsZyl7ZS5iPWI/ZnVuY3Rpb24oYyl7dHJ5e3ZhciBlPWIuY2FsbChkLGMpO2EoZSl9Y2F0Y2gocSl7ZyhxKX19OmE7XG5lLmM9Yz9mdW5jdGlvbihiKXt0cnl7dmFyIGU9Yy5jYWxsKGQsYik7IW4oZSkmJmIgaW5zdGFuY2VvZiB6Yz9nKGIpOmEoZSl9Y2F0Y2gocSl7ZyhxKX19Omd9KTtlLmEuYz1hO0tjKGEsZSk7cmV0dXJuIGUuYX07Ry5wcm90b3R5cGUubz1mdW5jdGlvbihhKXtCKDE9PXRoaXMuYSk7dGhpcy5hPTA7eWModGhpcywyLGEpfTtHLnByb3RvdHlwZS5tPWZ1bmN0aW9uKGEpe0IoMT09dGhpcy5hKTt0aGlzLmE9MDt5Yyh0aGlzLDMsYSl9O1xudmFyIHljPWZ1bmN0aW9uKGEsYixjKXtpZigwPT1hLmEpe2E9PT1jJiYoYj0zLGM9bmV3IFR5cGVFcnJvcihcIlByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmXCIpKTthLmE9MTt2YXIgZDthOnt2YXIgZT1jLGY9YS5vLGc9YS5tO2lmKGUgaW5zdGFuY2VvZiBHKW51bGwhPWYmJmViKGYsXCJvcHRfb25GdWxmaWxsZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uXCIpLG51bGwhPWcmJmViKGcsXCJvcHRfb25SZWplY3RlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi4gRGlkIHlvdSBwYXNzIG9wdF9jb250ZXh0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZCBvZiB0aGUgdGhpcmQ/XCIpLEtjKGUsQ2MoZnx8YmEsZ3x8bnVsbCxhKSksZD0hMDtlbHNlIGlmKElhKGUpKWUudGhlbihmLGcsYSksZD0hMDtlbHNle2lmKGVhKGUpKXRyeXt2YXIgaD1lLnRoZW47aWYodChoKSl7TGMoZSxoLGYsZyxhKTtkPSEwO2JyZWFrIGF9fWNhdGNoKG0pe2cuY2FsbChhLG0pO2Q9ITA7YnJlYWsgYX1kPSExfX1kfHxcbihhLmk9YyxhLmE9YixhLmM9bnVsbCxKYyhhKSwzIT1ifHxjIGluc3RhbmNlb2YgemN8fE1jKGEsYykpfX0sTGM9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0hMSxnPWZ1bmN0aW9uKGEpe2Z8fChmPSEwLGMuY2FsbChlLGEpKX0saD1mdW5jdGlvbihhKXtmfHwoZj0hMCxkLmNhbGwoZSxhKSl9O3RyeXtiLmNhbGwoYSxnLGgpfWNhdGNoKG0pe2gobSl9fSxKYz1mdW5jdGlvbihhKXthLmh8fChhLmg9ITAscWMoYS5qLGEpKX0sSGM9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDthLmImJihiPWEuYixhLmI9Yi5uZXh0LGIubmV4dD1udWxsKTthLmJ8fChhLmY9bnVsbCk7bnVsbCE9YiYmQihudWxsIT1iLmIpO3JldHVybiBifTtHLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7Zm9yKHZhciBhO2E9SGModGhpcyk7KUljKHRoaXMsYSx0aGlzLmEsdGhpcy5pKTt0aGlzLmg9ITF9O1xudmFyIEljPWZ1bmN0aW9uKGEsYixjLGQpe2lmKDM9PWMmJmIuYyYmIWIuZylmb3IoO2EmJmEuZzthPWEuYylhLmc9ITE7aWYoYi5hKWIuYS5jPW51bGwsTmMoYixjLGQpO2Vsc2UgdHJ5e2IuZz9iLmIuY2FsbChiLmYpOk5jKGIsYyxkKX1jYXRjaChlKXtPYy5jYWxsKG51bGwsZSl9QWEoQmMsYil9LE5jPWZ1bmN0aW9uKGEsYixjKXsyPT1iP2EuYi5jYWxsKGEuZixjKTphLmMmJmEuYy5jYWxsKGEuZixjKX0sTWM9ZnVuY3Rpb24oYSxiKXthLmc9ITA7cWMoZnVuY3Rpb24oKXthLmcmJk9jLmNhbGwobnVsbCxiKX0pfSxPYz1WYix6Yz1mdW5jdGlvbihhKXt6LmNhbGwodGhpcyxhKX07dih6Yyx6KTt6Yy5wcm90b3R5cGUubmFtZT1cImNhbmNlbFwiO3ZhciBRYz1mdW5jdGlvbihhKXt0aGlzLmE9bmV3IEY7aWYoYSl7YT1UYihhKTtmb3IodmFyIGI9YS5sZW5ndGgsYz0wO2M8YjtjKyspe3ZhciBkPWFbY107dGhpcy5hLnNldChQYyhkKSxkKX19fSxQYz1mdW5jdGlvbihhKXt2YXIgYj10eXBlb2YgYTtyZXR1cm5cIm9iamVjdFwiPT1iJiZhfHxcImZ1bmN0aW9uXCI9PWI/XCJvXCIrKGFbZmFdfHwoYVtmYV09KytnYSkpOmIuc3Vic3RyKDAsMSkrYX07UWMucHJvdG90eXBlLmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmIoKX07UWMucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLkEoKX07UWMucHJvdG90eXBlLmg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmgoITEpfTt2YXIgUmM9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9W107QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYixhcmd1bWVudHMpO0RjKCEwKS50aGVuKGZ1bmN0aW9uKCl7YS5hcHBseShudWxsLGIpfSl9fTt2YXIgU2M9XCJjbG9zdXJlX2xtX1wiKygxRTYqTWF0aC5yYW5kb20oKXwwKSxUYz17fSxVYz0wLFZjPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoXCJhcnJheVwiPT1wKGIpKXtmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKylWYyhhLGJbZl0sYyxkLGUpO3JldHVybiBudWxsfWM9V2MoYyk7YSYmYVtnYl0/KFhjKGEpLGE9S2IoYS5iLFN0cmluZyhiKSxjLCExLGQsZSkpOmE9WWMoYSxiLGMsITEsZCxlKTtyZXR1cm4gYX0sWWM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKCFiKXRocm93IEVycm9yKFwiSW52YWxpZCBldmVudCB0eXBlXCIpO3ZhciBnPSEhZSxoPVpjKGEpO2h8fChhW1NjXT1oPW5ldyBJYihhKSk7Yz1LYihoLGIsYyxkLGUsZik7aWYoYy5hKXJldHVybiBjO2Q9JGMoKTtjLmE9ZDtkLnNyYz1hO2QubGlzdGVuZXI9YztpZihhLmFkZEV2ZW50TGlzdGVuZXIpYS5hZGRFdmVudExpc3RlbmVyKGIudG9TdHJpbmcoKSxkLGcpO2Vsc2UgaWYoYS5hdHRhY2hFdmVudClhLmF0dGFjaEV2ZW50KGFkKGIudG9TdHJpbmcoKSksXG5kKTtlbHNlIHRocm93IEVycm9yKFwiYWRkRXZlbnRMaXN0ZW5lciBhbmQgYXR0YWNoRXZlbnQgYXJlIHVuYXZhaWxhYmxlLlwiKTtVYysrO3JldHVybiBjfSwkYz1mdW5jdGlvbigpe3ZhciBhPWJkLGI9dGM/ZnVuY3Rpb24oYyl7cmV0dXJuIGEuY2FsbChiLnNyYyxiLmxpc3RlbmVyLGMpfTpmdW5jdGlvbihjKXtjPWEuY2FsbChiLnNyYyxiLmxpc3RlbmVyLGMpO2lmKCFjKXJldHVybiBjfTtyZXR1cm4gYn0sY2Q9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihcImFycmF5XCI9PXAoYikpZm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspY2QoYSxiW2ZdLGMsZCxlKTtlbHNlIGM9V2MoYyksYSYmYVtnYl0/S2IoYS5iLFN0cmluZyhiKSxjLCEwLGQsZSk6WWMoYSxiLGMsITAsZCxlKX0sZGQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihcImFycmF5XCI9PXAoYikpZm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspZGQoYSxiW2ZdLGMsZCxlKTtlbHNlKGM9V2MoYyksYSYmYVtnYl0pPyhhPWEuYixiPVN0cmluZyhiKS50b1N0cmluZygpLFxuYiBpbiBhLmEmJihmPWEuYVtiXSxjPUpiKGYsYyxkLGUpLC0xPGMmJihFYihmW2NdKSxCKG51bGwhPWYubGVuZ3RoKSxBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoZixjLDEpLDA9PWYubGVuZ3RoJiYoZGVsZXRlIGEuYVtiXSxhLmItLSkpKSk6YSYmKGE9WmMoYSkpJiYoYj1hLmFbYi50b1N0cmluZygpXSxhPS0xLGImJihhPUpiKGIsYywhIWQsZSkpLChjPS0xPGE/YlthXTpudWxsKSYmZWQoYykpfSxlZD1mdW5jdGlvbihhKXtpZihcIm51bWJlclwiIT10eXBlb2YgYSYmYSYmIWEuTil7dmFyIGI9YS5zcmM7aWYoYiYmYltnYl0pTGIoYi5iLGEpO2Vsc2V7dmFyIGM9YS50eXBlLGQ9YS5hO2IucmVtb3ZlRXZlbnRMaXN0ZW5lcj9iLnJlbW92ZUV2ZW50TGlzdGVuZXIoYyxkLGEuVSk6Yi5kZXRhY2hFdmVudCYmYi5kZXRhY2hFdmVudChhZChjKSxkKTtVYy0tOyhjPVpjKGIpKT8oTGIoYyxhKSwwPT1jLmImJihjLnNyYz1udWxsLGJbU2NdPW51bGwpKTpFYihhKX19fSxhZD1mdW5jdGlvbihhKXtyZXR1cm4gYSBpblxuVGM/VGNbYV06VGNbYV09XCJvblwiK2F9LGdkPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPSEwO2lmKGE9WmMoYSkpaWYoYj1hLmFbYi50b1N0cmluZygpXSlmb3IoYj1iLmNvbmNhdCgpLGE9MDthPGIubGVuZ3RoO2ErKyl7dmFyIGY9YlthXTtmJiZmLlU9PWMmJiFmLk4mJihmPWZkKGYsZCksZT1lJiYhMSE9PWYpfXJldHVybiBlfSxmZD1mdW5jdGlvbihhLGIpe3ZhciBjPWEubGlzdGVuZXIsZD1hLk18fGEuc3JjO2EuVCYmZWQoYSk7cmV0dXJuIGMuY2FsbChkLGIpfSxiZD1mdW5jdGlvbihhLGIpe2lmKGEuTilyZXR1cm4hMDtpZighdGMpe2lmKCFiKWE6e2I9W1wid2luZG93XCIsXCJldmVudFwiXTtmb3IodmFyIGM9bCxkO2Q9Yi5zaGlmdCgpOylpZihudWxsIT1jW2RdKWM9Y1tkXTtlbHNle2I9bnVsbDticmVhayBhfWI9Y31kPWI7Yj1uZXcgeGMoZCx0aGlzKTtjPSEwO2lmKCEoMD5kLmtleUNvZGV8fHZvaWQgMCE9ZC5yZXR1cm5WYWx1ZSkpe2E6e3ZhciBlPSExO2lmKDA9PWQua2V5Q29kZSl0cnl7ZC5rZXlDb2RlPVxuLTE7YnJlYWsgYX1jYXRjaChnKXtlPSEwfWlmKGV8fHZvaWQgMD09ZC5yZXR1cm5WYWx1ZSlkLnJldHVyblZhbHVlPSEwfWQ9W107Zm9yKGU9Yi5hO2U7ZT1lLnBhcmVudE5vZGUpZC5wdXNoKGUpO2E9YS50eXBlO2ZvcihlPWQubGVuZ3RoLTE7MDw9ZTtlLS0pe2IuYT1kW2VdO3ZhciBmPWdkKGRbZV0sYSwhMCxiKSxjPWMmJmZ9Zm9yKGU9MDtlPGQubGVuZ3RoO2UrKyliLmE9ZFtlXSxmPWdkKGRbZV0sYSwhMSxiKSxjPWMmJmZ9cmV0dXJuIGN9cmV0dXJuIGZkKGEsbmV3IHhjKGIsdGhpcykpfSxaYz1mdW5jdGlvbihhKXthPWFbU2NdO3JldHVybiBhIGluc3RhbmNlb2YgSWI/YTpudWxsfSxoZD1cIl9fY2xvc3VyZV9ldmVudHNfZm5fXCIrKDFFOSpNYXRoLnJhbmRvbSgpPj4+MCksV2M9ZnVuY3Rpb24oYSl7QihhLFwiTGlzdGVuZXIgY2FuIG5vdCBiZSBudWxsLlwiKTtpZih0KGEpKXJldHVybiBhO0IoYS5oYW5kbGVFdmVudCxcIkFuIG9iamVjdCBsaXN0ZW5lciBtdXN0IGhhdmUgaGFuZGxlRXZlbnQgbWV0aG9kLlwiKTtcbmFbaGRdfHwoYVtoZF09ZnVuY3Rpb24oYil7cmV0dXJuIGEuaGFuZGxlRXZlbnQoYil9KTtyZXR1cm4gYVtoZF19O3ZhciBIPWZ1bmN0aW9uKGEsYil7ZmIuY2FsbCh0aGlzKTt0aGlzLm09YXx8MDt0aGlzLmY9Ynx8MTA7aWYodGhpcy5tPnRoaXMuZil0aHJvdyBFcnJvcihcIltnb29nLnN0cnVjdHMuUG9vbF0gTWluIGNhbiBub3QgYmUgZ3JlYXRlciB0aGFuIG1heFwiKTt0aGlzLmE9bmV3IFJiO3RoaXMuYz1uZXcgUWM7dGhpcy5qPW51bGw7dGhpcy5TKCl9O3YoSCxmYik7SC5wcm90b3R5cGUuVz1mdW5jdGlvbigpe3ZhciBhPWphKCk7aWYoIShudWxsIT10aGlzLmomJjA+YS10aGlzLmopKXtmb3IodmFyIGI7MDx0aGlzLmEuYigpJiYoYj1TYih0aGlzLmEpLCF0aGlzLmwoYikpOyl0aGlzLlMoKTshYiYmdGhpcy5iKCk8dGhpcy5mJiYoYj10aGlzLmkoKSk7YiYmKHRoaXMuaj1hLHRoaXMuYy5hLnNldChQYyhiKSxiKSk7cmV0dXJuIGJ9fTt2YXIgamQ9ZnVuY3Rpb24oYSl7dmFyIGI9aWQ7d2MoYi5jLmEsUGMoYSkpJiZiLiQoYSl9O1xuSC5wcm90b3R5cGUuJD1mdW5jdGlvbihhKXt3Yyh0aGlzLmMuYSxQYyhhKSk7dGhpcy5sKGEpJiZ0aGlzLmIoKTx0aGlzLmY/dGhpcy5hLmEucHVzaChhKTprZChhKX07SC5wcm90b3R5cGUuUz1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmE7dGhpcy5iKCk8dGhpcy5tOyl7dmFyIGI9dGhpcy5pKCk7YS5hLnB1c2goYil9Zm9yKDt0aGlzLmIoKT50aGlzLmYmJjA8dGhpcy5hLmIoKTspa2QoU2IoYSkpfTtILnByb3RvdHlwZS5pPWZ1bmN0aW9uKCl7cmV0dXJue319O3ZhciBrZD1mdW5jdGlvbihhKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmVhKWEuZWEoKTtlbHNlIGZvcih2YXIgYiBpbiBhKWFbYl09bnVsbH07SC5wcm90b3R5cGUubD1mdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm9hP2Eub2EoKTohMH07SC5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuYigpK3RoaXMuYy5iKCl9O1xuSC5wcm90b3R5cGUuRD1mdW5jdGlvbigpe0guSS5ELmNhbGwodGhpcyk7aWYoMDx0aGlzLmMuYigpKXRocm93IEVycm9yKFwiW2dvb2cuc3RydWN0cy5Qb29sXSBPYmplY3RzIG5vdCByZWxlYXNlZFwiKTtkZWxldGUgdGhpcy5jO2Zvcih2YXIgYT10aGlzLmE7MCE9YS5jLmxlbmd0aHx8MCE9YS5hLmxlbmd0aDspa2QoU2IoYSkpO2RlbGV0ZSB0aGlzLmF9Oy8qXG4gUG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBmcm9tIE1vY2hpS2l0LCByZWNlaXZlZCBieVxuIFRoZSBDbG9zdXJlIEF1dGhvcnMgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBBbGwgb3RoZXIgY29kZSBpcyBDb3B5cmlnaHRcbiAyMDA1LTIwMDkgVGhlIENsb3N1cmUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiovXG52YXIgbGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmc9W107dGhpcy51PWE7dGhpcy5zPWJ8fG51bGw7dGhpcy5mPXRoaXMuYT0hMTt0aGlzLmI9dm9pZCAwO3RoaXMubD10aGlzLm89dGhpcy5pPSExO3RoaXMuaD0wO3RoaXMuYz1udWxsO3RoaXMuaj0wfTtcbmxkLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oYSl7aWYodGhpcy5hKXRoaXMuYiBpbnN0YW5jZW9mIGxkJiZ0aGlzLmIuY2FuY2VsKCk7ZWxzZXtpZih0aGlzLmMpe3ZhciBiPXRoaXMuYztkZWxldGUgdGhpcy5jO2E/Yi5jYW5jZWwoYSk6KGIuai0tLDA+PWIuaiYmYi5jYW5jZWwoKSl9dGhpcy51P3RoaXMudS5jYWxsKHRoaXMucyx0aGlzKTp0aGlzLmw9ITA7aWYoIXRoaXMuYSl7YT1uZXcgbWQ7aWYodGhpcy5hKXtpZighdGhpcy5sKXRocm93IG5ldyBuZDt0aGlzLmw9ITF9QighKGEgaW5zdGFuY2VvZiBsZCksXCJBbiBleGVjdXRpb24gc2VxdWVuY2UgbWF5IG5vdCBiZSBpbml0aWF0ZWQgd2l0aCBhIGJsb2NraW5nIERlZmVycmVkLlwiKTt0aGlzLmE9ITA7dGhpcy5iPWE7dGhpcy5mPSEwO29kKHRoaXMpfX19O2xkLnByb3RvdHlwZS5tPWZ1bmN0aW9uKGEsYil7dGhpcy5pPSExO3RoaXMuYT0hMDt0aGlzLmI9Yjt0aGlzLmY9IWE7b2QodGhpcyl9O1xudmFyIHBkPWZ1bmN0aW9uKGEsYixjKXtCKCFhLm8sXCJCbG9ja2luZyBEZWZlcnJlZHMgY2FuIG5vdCBiZSByZS11c2VkXCIpO2EuZy5wdXNoKFtiLGMsdm9pZCAwXSk7YS5hJiZvZChhKX07bGQucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1uZXcgRyhmdW5jdGlvbihhLGIpe2Q9YTtlPWJ9KTtwZCh0aGlzLGQsZnVuY3Rpb24oYSl7YSBpbnN0YW5jZW9mIG1kP2YuY2FuY2VsKCk6ZShhKX0pO3JldHVybiBmLnRoZW4oYSxiLGMpfTtIYShsZCk7XG52YXIgcWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHJiKGEuZyxmdW5jdGlvbihhKXtyZXR1cm4gdChhWzFdKX0pfSxvZD1mdW5jdGlvbihhKXtpZihhLmgmJmEuYSYmcWQoYSkpe3ZhciBiPWEuaCxjPXJkW2JdO2MmJihsLmNsZWFyVGltZW91dChjLmEpLGRlbGV0ZSByZFtiXSk7YS5oPTB9YS5jJiYoYS5jLmotLSxkZWxldGUgYS5jKTtmb3IodmFyIGI9YS5iLGQ9Yz0hMTthLmcubGVuZ3RoJiYhYS5pOyl7dmFyIGU9YS5nLnNoaWZ0KCksZj1lWzBdLGc9ZVsxXSxlPWVbMl07aWYoZj1hLmY/ZzpmKXRyeXt2YXIgaD1mLmNhbGwoZXx8YS5zLGIpO24oaCkmJihhLmY9YS5mJiYoaD09Ynx8aCBpbnN0YW5jZW9mIEVycm9yKSxhLmI9Yj1oKTtpZihJYShiKXx8XCJmdW5jdGlvblwiPT09dHlwZW9mIGwuUHJvbWlzZSYmYiBpbnN0YW5jZW9mIGwuUHJvbWlzZSlkPSEwLGEuaT0hMH1jYXRjaChtKXtiPW0sYS5mPSEwLHFkKGEpfHwoYz0hMCl9fWEuYj1iO2QmJihoPXUoYS5tLGEsITApLGQ9dShhLm0sYSxcbiExKSxiIGluc3RhbmNlb2YgbGQ/KHBkKGIsaCxkKSxiLm89ITApOmIudGhlbihoLGQpKTtjJiYoYj1uZXcgc2QoYikscmRbYi5hXT1iLGEuaD1iLmEpfSxuZD1mdW5jdGlvbigpe3ouY2FsbCh0aGlzKX07dihuZCx6KTtuZC5wcm90b3R5cGUubWVzc2FnZT1cIkRlZmVycmVkIGhhcyBhbHJlYWR5IGZpcmVkXCI7bmQucHJvdG90eXBlLm5hbWU9XCJBbHJlYWR5Q2FsbGVkRXJyb3JcIjt2YXIgbWQ9ZnVuY3Rpb24oKXt6LmNhbGwodGhpcyl9O3YobWQseik7bWQucHJvdG90eXBlLm1lc3NhZ2U9XCJEZWZlcnJlZCB3YXMgY2FuY2VsZWRcIjttZC5wcm90b3R5cGUubmFtZT1cIkNhbmNlbGVkRXJyb3JcIjt2YXIgc2Q9ZnVuY3Rpb24oYSl7dGhpcy5hPWwuc2V0VGltZW91dCh1KHRoaXMuYyx0aGlzKSwwKTt0aGlzLmI9YX07XG5zZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe0IocmRbdGhpcy5hXSxcIkNhbm5vdCB0aHJvdyBhbiBlcnJvciB0aGF0IGlzIG5vdCBzY2hlZHVsZWQuXCIpO2RlbGV0ZSByZFt0aGlzLmFdO3Rocm93IHRoaXMuYjt9O3ZhciByZD17fTt2YXIgdGQ9ZnVuY3Rpb24oYSl7dGhpcy5mPWE7dGhpcy5iPXRoaXMuYz10aGlzLmE9bnVsbH0sdWQ9ZnVuY3Rpb24oYSxiKXt0aGlzLm5hbWU9YTt0aGlzLnZhbHVlPWJ9O3VkLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9O3ZhciB2ZD1uZXcgdWQoXCJTRVZFUkVcIiwxRTMpLHdkPW5ldyB1ZChcIkNPTkZJR1wiLDcwMCkseGQ9bmV3IHVkKFwiRklORVwiLDUwMCkseWQ9ZnVuY3Rpb24oYSl7aWYoYS5jKXJldHVybiBhLmM7aWYoYS5hKXJldHVybiB5ZChhLmEpO2RiKFwiUm9vdCBsb2dnZXIgaGFzIG5vIGxldmVsIHNldC5cIik7cmV0dXJuIG51bGx9O1xudGQucHJvdG90eXBlLmxvZz1mdW5jdGlvbihhLGIsYyl7aWYoYS52YWx1ZT49eWQodGhpcykudmFsdWUpZm9yKHQoYikmJihiPWIoKSksYT1uZXcgQmEoYSxTdHJpbmcoYiksdGhpcy5mKSxjJiYoYS5hPWMpLGM9XCJsb2c6XCIrYS5iLGwuY29uc29sZSYmKGwuY29uc29sZS50aW1lU3RhbXA/bC5jb25zb2xlLnRpbWVTdGFtcChjKTpsLmNvbnNvbGUubWFya1RpbWVsaW5lJiZsLmNvbnNvbGUubWFya1RpbWVsaW5lKGMpKSxsLm1zV3JpdGVQcm9maWxlck1hcmsmJmwubXNXcml0ZVByb2ZpbGVyTWFyayhjKSxjPXRoaXM7YzspYz1jLmF9O1xudmFyIHpkPXt9LEFkPW51bGwsQmQ9ZnVuY3Rpb24oYSl7QWR8fChBZD1uZXcgdGQoXCJcIiksemRbXCJcIl09QWQsQWQuYz13ZCk7dmFyIGI7aWYoIShiPXpkW2FdKSl7Yj1uZXcgdGQoYSk7dmFyIGM9YS5sYXN0SW5kZXhPZihcIi5cIiksZD1hLnN1YnN0cihjKzEpLGM9QmQoYS5zdWJzdHIoMCxjKSk7Yy5ifHwoYy5iPXt9KTtjLmJbZF09YjtiLmE9Yzt6ZFthXT1ifXJldHVybiBifTt2YXIgQ2Q9ZnVuY3Rpb24oKXtmYi5jYWxsKHRoaXMpO3RoaXMuYj1uZXcgSWIodGhpcyk7dGhpcy5ZPXRoaXM7dGhpcy5HPW51bGx9O3YoQ2QsZmIpO0NkLnByb3RvdHlwZVtnYl09ITA7Q2QucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMsZCl7ZGQodGhpcyxhLGIsYyxkKX07XG52YXIgST1mdW5jdGlvbihhLGIpe1hjKGEpO3ZhciBjLGQ9YS5HO2lmKGQpe2M9W107Zm9yKHZhciBlPTE7ZDtkPWQuRyljLnB1c2goZCksQigxRTM+KytlLFwiaW5maW5pdGUgbG9vcFwiKX1hPWEuWTtkPWIudHlwZXx8YjtyKGIpP2I9bmV3IENiKGIsYSk6YiBpbnN0YW5jZW9mIENiP2IudGFyZ2V0PWIudGFyZ2V0fHxhOihlPWIsYj1uZXcgQ2IoZCxhKSxHYShiLGUpKTt2YXIgZT0hMCxmO2lmKGMpZm9yKHZhciBnPWMubGVuZ3RoLTE7MDw9ZztnLS0pZj1iLmE9Y1tnXSxlPURkKGYsZCwhMCxiKSYmZTtmPWIuYT1hO2U9RGQoZixkLCEwLGIpJiZlO2U9RGQoZixkLCExLGIpJiZlO2lmKGMpZm9yKGc9MDtnPGMubGVuZ3RoO2crKylmPWIuYT1jW2ddLGU9RGQoZixkLCExLGIpJiZlfTtcbkNkLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7Q2QuSS5ELmNhbGwodGhpcyk7aWYodGhpcy5iKXt2YXIgYT10aGlzLmIsYj0wLGM7Zm9yKGMgaW4gYS5hKXtmb3IodmFyIGQ9YS5hW2NdLGU9MDtlPGQubGVuZ3RoO2UrKykrK2IsRWIoZFtlXSk7ZGVsZXRlIGEuYVtjXTthLmItLX19dGhpcy5HPW51bGx9O3ZhciBEZD1mdW5jdGlvbihhLGIsYyxkKXtiPWEuYi5hW1N0cmluZyhiKV07aWYoIWIpcmV0dXJuITA7Yj1iLmNvbmNhdCgpO2Zvcih2YXIgZT0hMCxmPTA7ZjxiLmxlbmd0aDsrK2Ype3ZhciBnPWJbZl07aWYoZyYmIWcuTiYmZy5VPT1jKXt2YXIgaD1nLmxpc3RlbmVyLG09Zy5NfHxnLnNyYztnLlQmJkxiKGEuYixnKTtlPSExIT09aC5jYWxsKG0sZCkmJmV9fXJldHVybiBlJiYwIT1kLmphfSxYYz1mdW5jdGlvbihhKXtCKGEuYixcIkV2ZW50IHRhcmdldCBpcyBub3QgaW5pdGlhbGl6ZWQuIERpZCB5b3UgY2FsbCB0aGUgc3VwZXJjbGFzcyAoZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpIGNvbnN0cnVjdG9yP1wiKX07dmFyIEo9ZnVuY3Rpb24oYSxiKXt0aGlzLmg9bmV3ICRiO0guY2FsbCh0aGlzLGEsYil9O3YoSixIKTtrPUoucHJvdG90eXBlO2suVz1mdW5jdGlvbihhLGIpe2lmKCFhKXJldHVybiBKLkkuVy5jYWxsKHRoaXMpO1FiKHRoaXMuaCxuKGIpP2I6MTAwLGEpO3RoaXMuYWEoKX07ay5hYT1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmg7MDxhLmIoKTspe3ZhciBiPXRoaXMuVygpO2lmKGIpe3ZhciBjO3ZhciBkPWEsZT1kLmEsZj1lLmxlbmd0aDtjPWVbMF07aWYoMD49ZiljPXZvaWQgMDtlbHNle2lmKDE9PWYpdmIoZSk7ZWxzZXtlWzBdPWUucG9wKCk7Zm9yKHZhciBlPTAsZD1kLmEsZj1kLmxlbmd0aCxnPWRbZV07ZTxmPj4xOyl7dmFyIGg9MiplKzEsbT0yKmUrMixoPW08ZiYmZFttXS5hPGRbaF0uYT9tOmg7aWYoZFtoXS5hPmcuYSlicmVhaztkW2VdPWRbaF07ZT1ofWRbZV09Z31jPWMuYn1jLmFwcGx5KHRoaXMsW2JdKX1lbHNlIGJyZWFrfX07XG5rLiQ9ZnVuY3Rpb24oYSl7Si5JLiQuY2FsbCh0aGlzLGEpO3RoaXMuYWEoKX07ay5TPWZ1bmN0aW9uKCl7Si5JLlMuY2FsbCh0aGlzKTt0aGlzLmFhKCl9O2suRD1mdW5jdGlvbigpe0ouSS5ELmNhbGwodGhpcyk7bC5jbGVhclRpbWVvdXQodm9pZCAwKTt2Yih0aGlzLmguYSk7dGhpcy5oPW51bGx9O3ZhciBLPWZ1bmN0aW9uKGEsYil7YSYmYS5sb2coeGQsYix2b2lkIDApfTt2YXIgRWQ9ZnVuY3Rpb24oYSxiLGMpe2lmKHQoYSkpYyYmKGE9dShhLGMpKTtlbHNlIGlmKGEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuaGFuZGxlRXZlbnQpYT11KGEuaGFuZGxlRXZlbnQsYSk7ZWxzZSB0aHJvdyBFcnJvcihcIkludmFsaWQgbGlzdGVuZXIgYXJndW1lbnRcIik7cmV0dXJuIDIxNDc0ODM2NDc8TnVtYmVyKGIpPy0xOmwuc2V0VGltZW91dChhLGJ8fDApfTt2YXIgTD1mdW5jdGlvbihhKXtDZC5jYWxsKHRoaXMpO3RoaXMuaGVhZGVycz1uZXcgRjt0aGlzLkI9YXx8bnVsbDt0aGlzLmM9ITE7dGhpcy51PXRoaXMuYT1udWxsO3RoaXMuTD10aGlzLmw9XCJcIjt0aGlzLks9MDt0aGlzLmg9XCJcIjt0aGlzLmY9dGhpcy5DPXRoaXMuaj10aGlzLkY9ITE7dGhpcy5pPTA7dGhpcy5tPW51bGw7dGhpcy5SPVwiXCI7dGhpcy5zPXRoaXMuY2E9dGhpcy5YPSExfTt2KEwsQ2QpO3ZhciBGZD1MLnByb3RvdHlwZSxHZD1CZChcImdvb2cubmV0LlhocklvXCIpO0ZkLnc9R2Q7dmFyIEhkPS9eaHR0cHM/JC9pLElkPVtcIlBPU1RcIixcIlBVVFwiXTtcbkwucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy5hKXRocm93IEVycm9yKFwiW2dvb2cubmV0LlhocklvXSBPYmplY3QgaXMgYWN0aXZlIHdpdGggYW5vdGhlciByZXF1ZXN0PVwiK3RoaXMubCtcIjsgbmV3VXJpPVwiK2EpO2I9Yj9iLnRvVXBwZXJDYXNlKCk6XCJHRVRcIjt0aGlzLmw9YTt0aGlzLmg9XCJcIjt0aGlzLks9MDt0aGlzLkw9Yjt0aGlzLkY9ITE7dGhpcy5jPSEwO3RoaXMuYT10aGlzLkI/dGhpcy5CLmEoKTpNYi5hKCk7dGhpcy51PXRoaXMuQj9tYih0aGlzLkIpOm1iKE1iKTt0aGlzLmEub25yZWFkeXN0YXRlY2hhbmdlPXUodGhpcy5QLHRoaXMpO3RoaXMuY2EmJlwib25wcm9ncmVzc1wiaW4gdGhpcy5hJiYodGhpcy5hLm9ucHJvZ3Jlc3M9dShmdW5jdGlvbihhKXt0aGlzLk8oYSwhMCl9LHRoaXMpLHRoaXMuYS51cGxvYWQmJih0aGlzLmEudXBsb2FkLm9ucHJvZ3Jlc3M9dSh0aGlzLk8sdGhpcykpKTt0cnl7Syh0aGlzLncsTSh0aGlzLFwiT3BlbmluZyBYaHJcIikpLFxudGhpcy5DPSEwLHRoaXMuYS5vcGVuKGIsU3RyaW5nKGEpLCEwKSx0aGlzLkM9ITF9Y2F0Y2goZil7Syh0aGlzLncsTSh0aGlzLFwiRXJyb3Igb3BlbmluZyBYaHI6IFwiK2YubWVzc2FnZSkpO0pkKHRoaXMsZik7cmV0dXJufWE9Y3x8XCJcIjt2YXIgZT1uZXcgRih0aGlzLmhlYWRlcnMpO2QmJlViKGQsZnVuY3Rpb24oYSxiKXtlLnNldChiLGEpfSk7ZD10YihlLkgoKSk7Yz1sLkZvcm1EYXRhJiZhIGluc3RhbmNlb2YgbC5Gb3JtRGF0YTshdWIoSWQsYil8fGR8fGN8fGUuc2V0KFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiKTtlLmZvckVhY2goZnVuY3Rpb24oYSxiKXt0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihiLGEpfSx0aGlzKTt0aGlzLlImJih0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuUik7XCJ3aXRoQ3JlZGVudGlhbHNcImluIHRoaXMuYSYmdGhpcy5hLndpdGhDcmVkZW50aWFscyE9PXRoaXMuWCYmKHRoaXMuYS53aXRoQ3JlZGVudGlhbHM9XG50aGlzLlgpO3RyeXtLZCh0aGlzKSwwPHRoaXMuaSYmKHRoaXMucz1MZCh0aGlzLmEpLEsodGhpcy53LE0odGhpcyxcIldpbGwgYWJvcnQgYWZ0ZXIgXCIrdGhpcy5pK1wibXMgaWYgaW5jb21wbGV0ZSwgeGhyMiBcIit0aGlzLnMpKSx0aGlzLnM/KHRoaXMuYS50aW1lb3V0PXRoaXMuaSx0aGlzLmEub250aW1lb3V0PXUodGhpcy5KLHRoaXMpKTp0aGlzLm09RWQodGhpcy5KLHRoaXMuaSx0aGlzKSksSyh0aGlzLncsTSh0aGlzLFwiU2VuZGluZyByZXF1ZXN0XCIpKSx0aGlzLmo9ITAsdGhpcy5hLnNlbmQoYSksdGhpcy5qPSExfWNhdGNoKGYpe0sodGhpcy53LE0odGhpcyxcIlNlbmQgZXJyb3I6IFwiK2YubWVzc2FnZSkpLEpkKHRoaXMsZil9fTt2YXIgTGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEQmJkUoOSkmJlwibnVtYmVyXCI9PXR5cGVvZiBhLnRpbWVvdXQmJm4oYS5vbnRpbWVvdXQpfSxzYj1mdW5jdGlvbihhKXtyZXR1cm5cImNvbnRlbnQtdHlwZVwiPT1hLnRvTG93ZXJDYXNlKCl9O1xuTC5wcm90b3R5cGUuSj1mdW5jdGlvbigpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBhYSYmdGhpcy5hJiYodGhpcy5oPVwiVGltZWQgb3V0IGFmdGVyIFwiK3RoaXMuaStcIm1zLCBhYm9ydGluZ1wiLHRoaXMuSz04LEsodGhpcy53LE0odGhpcyx0aGlzLmgpKSxJKHRoaXMsXCJ0aW1lb3V0XCIpLHRoaXMuYWJvcnQoOCkpfTt2YXIgSmQ9ZnVuY3Rpb24oYSxiKXthLmM9ITE7YS5hJiYoYS5mPSEwLGEuYS5hYm9ydCgpLGEuZj0hMSk7YS5oPWI7YS5LPTU7TWQoYSk7TmQoYSl9LE1kPWZ1bmN0aW9uKGEpe2EuRnx8KGEuRj0hMCxJKGEsXCJjb21wbGV0ZVwiKSxJKGEsXCJlcnJvclwiKSl9O0wucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKGEpe3RoaXMuYSYmdGhpcy5jJiYoSyh0aGlzLncsTSh0aGlzLFwiQWJvcnRpbmdcIikpLHRoaXMuYz0hMSx0aGlzLmY9ITAsdGhpcy5hLmFib3J0KCksdGhpcy5mPSExLHRoaXMuSz1hfHw3LEkodGhpcyxcImNvbXBsZXRlXCIpLEkodGhpcyxcImFib3J0XCIpLE5kKHRoaXMpKX07XG5MLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5jJiYodGhpcy5jPSExLHRoaXMuZj0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLmY9ITEpLE5kKHRoaXMsITApKTtMLkkuRC5jYWxsKHRoaXMpfTtMLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7dGhpcy5nfHwodGhpcy5DfHx0aGlzLmp8fHRoaXMuZj9PZCh0aGlzKTp0aGlzLlooKSl9O0wucHJvdG90eXBlLlo9ZnVuY3Rpb24oKXtPZCh0aGlzKX07XG52YXIgT2Q9ZnVuY3Rpb24oYSl7aWYoYS5jJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYWEpaWYoYS51WzFdJiY0PT1QZChhKSYmMj09TihhKSlLKGEudyxNKGEsXCJMb2NhbCByZXF1ZXN0IGVycm9yIGRldGVjdGVkIGFuZCBpZ25vcmVkXCIpKTtlbHNlIGlmKGEuaiYmND09UGQoYSkpRWQoYS5QLDAsYSk7ZWxzZSBpZihJKGEsXCJyZWFkeXN0YXRlY2hhbmdlXCIpLDQ9PVBkKGEpKXtLKGEudyxNKGEsXCJSZXF1ZXN0IGNvbXBsZXRlXCIpKTthLmM9ITE7dHJ5e2lmKFFkKGEpKUkoYSxcImNvbXBsZXRlXCIpLEkoYSxcInN1Y2Nlc3NcIik7ZWxzZXthLks9Njt2YXIgYjt0cnl7Yj0yPFBkKGEpP2EuYS5zdGF0dXNUZXh0OlwiXCJ9Y2F0Y2goYyl7SyhhLncsXCJDYW4gbm90IGdldCBzdGF0dXM6IFwiK2MubWVzc2FnZSksYj1cIlwifWEuaD1iK1wiIFtcIitOKGEpK1wiXVwiO01kKGEpfX1maW5hbGx5e05kKGEpfX19O1xuTC5wcm90b3R5cGUuTz1mdW5jdGlvbihhLGIpe0IoXCJwcm9ncmVzc1wiPT09YS50eXBlLFwiZ29vZy5uZXQuRXZlbnRUeXBlLlBST0dSRVNTIGlzIG9mIHRoZSBzYW1lIHR5cGUgYXMgcmF3IFhIUiBwcm9ncmVzcy5cIik7SSh0aGlzLFJkKGEsXCJwcm9ncmVzc1wiKSk7SSh0aGlzLFJkKGEsYj9cImRvd25sb2FkcHJvZ3Jlc3NcIjpcInVwbG9hZHByb2dyZXNzXCIpKX07XG52YXIgUmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm57dHlwZTpiLGxlbmd0aENvbXB1dGFibGU6YS5sZW5ndGhDb21wdXRhYmxlLGxvYWRlZDphLmxvYWRlZCx0b3RhbDphLnRvdGFsfX0sTmQ9ZnVuY3Rpb24oYSxiKXtpZihhLmEpe0tkKGEpO3ZhciBjPWEuYSxkPWEudVswXT9iYTpudWxsO2EuYT1udWxsO2EudT1udWxsO2J8fEkoYSxcInJlYWR5XCIpO3RyeXtjLm9ucmVhZHlzdGF0ZWNoYW5nZT1kfWNhdGNoKGUpeyhhPWEudykmJmEubG9nKHZkLFwiUHJvYmxlbSBlbmNvdW50ZXJlZCByZXNldHRpbmcgb25yZWFkeXN0YXRlY2hhbmdlOiBcIitlLm1lc3NhZ2Usdm9pZCAwKX19fSxLZD1mdW5jdGlvbihhKXthLmEmJmEucyYmKGEuYS5vbnRpbWVvdXQ9bnVsbCk7XCJudW1iZXJcIj09dHlwZW9mIGEubSYmKGwuY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfSxRZD1mdW5jdGlvbihhKXt2YXIgYj1OKGEpLGM7YTpzd2l0Y2goYil7Y2FzZSAyMDA6Y2FzZSAyMDE6Y2FzZSAyMDI6Y2FzZSAyMDQ6Y2FzZSAyMDY6Y2FzZSAzMDQ6Y2FzZSAxMjIzOmM9XG4hMDticmVhayBhO2RlZmF1bHQ6Yz0hMX1pZighYyl7aWYoYj0wPT09YilhPVN0cmluZyhhLmwpLm1hdGNoKEZiKVsxXXx8bnVsbCwhYSYmbC5zZWxmJiZsLnNlbGYubG9jYXRpb24mJihhPWwuc2VsZi5sb2NhdGlvbi5wcm90b2NvbCxhPWEuc3Vic3RyKDAsYS5sZW5ndGgtMSkpLGI9IUhkLnRlc3QoYT9hLnRvTG93ZXJDYXNlKCk6XCJcIik7Yz1ifXJldHVybiBjfSxQZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5hP2EuYS5yZWFkeVN0YXRlOjB9LE49ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiAyPFBkKGEpP2EuYS5zdGF0dXM6LTF9Y2F0Y2goYil7cmV0dXJuLTF9fSxTZD1mdW5jdGlvbihhKXt0cnl7cmV0dXJuIGEuYT9hLmEucmVzcG9uc2VUZXh0OlwiXCJ9Y2F0Y2goYil7cmV0dXJuIEsoYS53LFwiQ2FuIG5vdCBnZXQgcmVzcG9uc2VUZXh0OiBcIitiLm1lc3NhZ2UpLFwiXCJ9fSxUZD1mdW5jdGlvbihhLGIpe3JldHVybiBhLmEmJjQ9PVBkKGEpP2EuYS5nZXRSZXNwb25zZUhlYWRlcihiKTp2b2lkIDB9LFxuTT1mdW5jdGlvbihhLGIpe3JldHVybiBiK1wiIFtcIithLkwrXCIgXCIrYS5sK1wiIFwiK04oYSkrXCJdXCJ9O3ZhciBVZD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLnM9YTt0aGlzLnU9ISFkO0ouY2FsbCh0aGlzLGIsYyl9O3YoVWQsSik7VWQucHJvdG90eXBlLmk9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgTCxiPXRoaXMucztiJiZiLmZvckVhY2goZnVuY3Rpb24oYixkKXthLmhlYWRlcnMuc2V0KGQsYil9KTt0aGlzLnUmJihhLlg9ITApO3JldHVybiBhfTtVZC5wcm90b3R5cGUubD1mdW5jdGlvbihhKXtyZXR1cm4hYS5nJiYhYS5hfTt2YXIgaWQ9bmV3IFVkO3ZhciBXZD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsbSxxLFEpe3RoaXMuSj1hO3RoaXMuQz1iO3RoaXMudT1jO3RoaXMubT1kO3RoaXMuRz1lLnNsaWNlKCk7dGhpcy5vPWYuc2xpY2UoKTt0aGlzLmo9dGhpcy5sPXRoaXMuYz10aGlzLmI9bnVsbDt0aGlzLmc9dGhpcy5oPSExO3RoaXMucz1nO3RoaXMuaT1oO3RoaXMuZj1xO3RoaXMuTD1RO3RoaXMuRj1tO3ZhciBQPXRoaXM7dGhpcy5CPW5ldyBHKGZ1bmN0aW9uKGEsYil7UC5sPWE7UC5qPWI7VmQoUCl9KX0sWGQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYj1hO3RoaXMuYz1iO3RoaXMuYT0hIWN9LFZkPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtiP2EoITEsbmV3IFhkKCExLG51bGwsITApKTppZC5XKGZ1bmN0aW9uKGIpe2IuWD1kLkw7ZC5iPWI7dmFyIGM9bnVsbDtudWxsIT09ZC5mJiYoYi5jYT0hMCxjPVZjKGIsXCJ1cGxvYWRwcm9ncmVzc1wiLGZ1bmN0aW9uKGEpe2QuZihhLmxvYWRlZCxhLmxlbmd0aENvbXB1dGFibGU/XG5hLnRvdGFsOi0xKX0pLGIuY2E9bnVsbCE9PWQuZik7Yi5zZW5kKGQuSixkLkMsZC5tLGQudSk7Y2QoYixcImNvbXBsZXRlXCIsZnVuY3Rpb24oYil7bnVsbCE9PWMmJmVkKGMpO2QuYj1udWxsO2I9Yi50YXJnZXQ7dmFyIGU9Nj09PWIuSyYmMTAwPD1OKGIpLGY9UWQoYil8fGUsZT1OKGIpO2lmKCEoZj0hZikpdmFyIGc9ZCxmPTUwMDw9ZSYmNjAwPmUsaD11YihbNDA4LDQyOV0sZSksZz11YihnLm8sZSksZj1mfHxofHxnO2Y/KGU9Nz09PWIuSyxqZChiKSxhKCExLG5ldyBYZCghMSxudWxsLGUpKSk6KGU9dWIoZC5HLGUpLGEoITAsbmV3IFhkKGUsYikpKX0pfSl9ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPWQubDthPWQuajt2YXIgZT1iLmM7aWYoYi5iKXRyeXt2YXIgZj1kLnMoZSxTZChlKSk7bihmKT9jKGYpOmMoKX1jYXRjaChxKXthKHEpfWVsc2UgbnVsbCE9PWU/KGI9bWEoKSxmPVNkKGUpLGIuc2VydmVyUmVzcG9uc2U9ZixkLmk/YShkLmkoZSxiKSk6YShiKSk6KGI9Yi5hP2QuZz9xYSgpOlxubmEoKTpuZXcgdyhcInJldHJ5LWxpbWl0LWV4Y2VlZGVkXCIsXCJNYXggcmV0cnkgdGltZSBmb3Igb3BlcmF0aW9uIGV4Y2VlZGVkLCBwbGVhc2UgdHJ5IGFnYWluLlwiKSxhKGIpKTtqZChlKX12YXIgZD1hO2EuaD9jKDAsbmV3IFhkKCExLG51bGwsITApKTphLmM9a2EoYixjLGEuRil9O1dkLnByb3RvdHlwZS5hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQn07V2QucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXt0aGlzLmg9ITA7dGhpcy5nPWF8fCExO251bGwhPT10aGlzLmMmJigwLHRoaXMuYykoITEpO251bGwhPT10aGlzLmImJnRoaXMuYi5hYm9ydCgpfTtcbnZhciBZZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YWIoYS5iKSxkPWEuaitkLGU9YS5oZWFkZXJzP3RhKGEuaGVhZGVycyk6e307bnVsbCE9PWImJjA8Yi5sZW5ndGgmJihlLkF1dGhvcml6YXRpb249XCJGaXJlYmFzZSBcIitiKTtlW1wiWC1GaXJlYmFzZS1TdG9yYWdlLVZlcnNpb25cIl09XCJ3ZWJqcy9cIisoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBmaXJlYmFzZT9maXJlYmFzZS5TREtfVkVSU0lPTjpcIkFwcE1hbmFnZXJcIik7cmV0dXJuIG5ldyBXZChkLGEubWV0aG9kLGUsYS5ib2R5LGEuZixhLmgsYS5NLGEuYSxhLmksYS5jLGMpfTt2YXIgWmQ9ZnVuY3Rpb24oYSl7dmFyIGI9bC5CbG9iQnVpbGRlcnx8bC5XZWJLaXRCbG9iQnVpbGRlcjtpZihuKGIpKXtmb3IodmFyIGI9bmV3IGIsYz0wO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYi5hcHBlbmQoYXJndW1lbnRzW2NdKTtyZXR1cm4gYi5nZXRCbG9iKCl9Yj14Yihhcmd1bWVudHMpO2M9bC5CbG9iQnVpbGRlcnx8bC5XZWJLaXRCbG9iQnVpbGRlcjtpZihuKGMpKXtmb3IodmFyIGM9bmV3IGMsZD0wO2Q8Yi5sZW5ndGg7ZCsrKWMuYXBwZW5kKGJbZF0sdm9pZCAwKTtiPWMuZ2V0QmxvYih2b2lkIDApfWVsc2UgaWYobihsLkJsb2IpKWI9bmV3IEJsb2IoYix7fSk7ZWxzZSB0aHJvdyBFcnJvcihcIlRoaXMgYnJvd3NlciBkb2Vzbid0IHNlZW0gdG8gc3VwcG9ydCBjcmVhdGluZyBCbG9ic1wiKTtyZXR1cm4gYn0sJGQ9ZnVuY3Rpb24oYSxiLGMpe24oYyl8fChjPWEuc2l6ZSk7cmV0dXJuIGEud2Via2l0U2xpY2U/YS53ZWJraXRTbGljZShiLGMpOmEubW96U2xpY2U/YS5tb3pTbGljZShiLFxuYyk6YS5zbGljZT9jYyYmIUUoXCIxMy4wXCIpfHxkYyYmIUUoXCI1MzcuMVwiKT8oMD5iJiYoYis9YS5zaXplKSwwPmImJihiPTApLDA+YyYmKGMrPWEuc2l6ZSksYzxiJiYoYz1iKSxhLnNsaWNlKGIsYy1iKSk6YS5zbGljZShiLGMpOm51bGx9O3ZhciBPPWZ1bmN0aW9uKGEsYil7eWEoKSYmYSBpbnN0YW5jZW9mIEJsb2I/KHRoaXMudj1hLGI9YS5zaXplLGE9YS50eXBlKTooYSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyPyhiP3RoaXMudj1uZXcgVWludDhBcnJheShhKToodGhpcy52PW5ldyBVaW50OEFycmF5KGEuYnl0ZUxlbmd0aCksdGhpcy52LnNldChuZXcgVWludDhBcnJheShhKSkpLGI9dGhpcy52Lmxlbmd0aCk6KGI/dGhpcy52PWE6KHRoaXMudj1uZXcgVWludDhBcnJheShhLmxlbmd0aCksdGhpcy52LnNldChhKSksYj1hLmxlbmd0aCksYT1cIlwiKTt0aGlzLmE9Yjt0aGlzLmI9YX07Ty5wcm90b3R5cGUudHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O1xuTy5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oYSxiKXtpZih5YSgpJiZ0aGlzLnYgaW5zdGFuY2VvZiBCbG9iKXJldHVybiBhPSRkKHRoaXMudixhLGIpLG51bGw9PT1hP251bGw6bmV3IE8oYSk7YT1uZXcgVWludDhBcnJheSh0aGlzLnYuYnVmZmVyLGEsYi1hKTtyZXR1cm4gbmV3IE8oYSwhMCl9O1xudmFyIGFlPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYXJndW1lbnRzKTtpZih5YSgpKXJldHVybiBiPXFiKGIsZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBPP2EudjphfSksbmV3IE8oWmQuYXBwbHkobnVsbCxiKSk7dmFyIGI9cWIoYixmdW5jdGlvbihhKXtyZXR1cm4geGEoYSk/JGEoXCJyYXdcIixhKS5kYXRhLmJ1ZmZlcjphLnYuYnVmZmVyfSksYz0wO29iKGIsZnVuY3Rpb24oYSl7Yys9YS5ieXRlTGVuZ3RofSk7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyksZT0wO29iKGIsZnVuY3Rpb24oYSl7YT1uZXcgVWludDhBcnJheShhKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylkW2UrK109YVtiXX0pO3JldHVybiBuZXcgTyhkLCEwKX07dmFyIGJlPWZ1bmN0aW9uKGEpe3RoaXMuYj1FYyhhKX07YmUucHJvdG90eXBlLmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtiZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7fTt2YXIgY2U9ZnVuY3Rpb24oKXt0aGlzLmE9e307dGhpcy5iPU51bWJlci5NSU5fU0FGRV9JTlRFR0VSfSxkZT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtkZWxldGUgZS5hW2RdfXZhciBkPWEuYjthLmIrKzthLmFbZF09Yjt2YXIgZT1hO2IuYSgpLnRoZW4oYyxjKX0sZWU9ZnVuY3Rpb24oYSl7c2EoYS5hLGZ1bmN0aW9uKGEsYyl7YyYmYy5jYW5jZWwoITApfSk7YS5hPXt9fTt2YXIgZmU9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5hPWE7dGhpcy5nPW51bGw7aWYobnVsbCE9PXRoaXMuYSYmKGE9dGhpcy5hLm9wdGlvbnMseShhKSkpe2E9YS5zdG9yYWdlQnVja2V0fHxudWxsO2lmKG51bGw9PWEpYT1udWxsO2Vsc2V7dmFyIGU9bnVsbDt0cnl7ZT1TYShhKX1jYXRjaChmKXt9aWYobnVsbCE9PWUpe2lmKFwiXCIhPT1lLnBhdGgpdGhyb3cgbmV3IHcoXCJpbnZhbGlkLWRlZmF1bHQtYnVja2V0XCIsXCJJbnZhbGlkIGRlZmF1bHQgYnVja2V0ICdcIithK1wiJy5cIik7YT1lLmJ1Y2tldH19dGhpcy5nPWF9dGhpcy5sPWI7dGhpcy5qPWM7dGhpcy5pPWQ7dGhpcy5jPTEyRTQ7dGhpcy5iPTZFNDt0aGlzLmg9bmV3IGNlO3RoaXMuZj0hMX0sZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT1hLmEmJnkoYS5hLklOVEVSTkFMKSYmeShhLmEuSU5URVJOQUwuZ2V0VG9rZW4pP2EuYS5JTlRFUk5BTC5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSk/YS5hY2Nlc3NUb2tlbjpcbm51bGx9LGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KTpEYyhudWxsKX07ZmUucHJvdG90eXBlLmJ1Y2tldD1mdW5jdGlvbigpe2lmKHRoaXMuZil0aHJvdyBxYSgpO3JldHVybiB0aGlzLmd9O3ZhciBSPWZ1bmN0aW9uKGEsYixjKXtpZihhLmYpcmV0dXJuIG5ldyBiZShxYSgpKTtiPWEuaihiLGMsbnVsbD09PWEuYSk7ZGUoYS5oLGIpO3JldHVybiBifTt2YXIgaGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYn0sUz1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Ynx8YTt0aGlzLndyaXRhYmxlPSEhYzt0aGlzLmE9ZHx8aGV9LGllPW51bGwsamU9ZnVuY3Rpb24oKXtpZihpZSlyZXR1cm4gaWU7dmFyIGE9W107YS5wdXNoKG5ldyBTKFwiYnVja2V0XCIpKTthLnB1c2gobmV3IFMoXCJnZW5lcmF0aW9uXCIpKTthLnB1c2gobmV3IFMoXCJtZXRhZ2VuZXJhdGlvblwiKSk7YS5wdXNoKG5ldyBTKFwibmFtZVwiLFwiZnVsbFBhdGhcIiwhMCkpO3ZhciBiPW5ldyBTKFwibmFtZVwiKTtiLmE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4heGEoYil8fDI+Yi5sZW5ndGg/YjpIYihiKX07YS5wdXNoKGIpO2I9bmV3IFMoXCJzaXplXCIpO2IuYT1mdW5jdGlvbihhLGIpe3JldHVybiB5KGIpPytiOmJ9O2EucHVzaChiKTthLnB1c2gobmV3IFMoXCJ0aW1lQ3JlYXRlZFwiKSk7YS5wdXNoKG5ldyBTKFwidXBkYXRlZFwiKSk7YS5wdXNoKG5ldyBTKFwibWQ1SGFzaFwiLG51bGwsITApKTtcbmEucHVzaChuZXcgUyhcImNhY2hlQ29udHJvbFwiLG51bGwsITApKTthLnB1c2gobmV3IFMoXCJjb250ZW50RGlzcG9zaXRpb25cIixudWxsLCEwKSk7YS5wdXNoKG5ldyBTKFwiY29udGVudEVuY29kaW5nXCIsbnVsbCwhMCkpO2EucHVzaChuZXcgUyhcImNvbnRlbnRMYW5ndWFnZVwiLG51bGwsITApKTthLnB1c2gobmV3IFMoXCJjb250ZW50VHlwZVwiLG51bGwsITApKTthLnB1c2gobmV3IFMoXCJtZXRhZGF0YVwiLFwiY3VzdG9tTWV0YWRhdGFcIiwhMCkpO2EucHVzaChuZXcgUyhcImRvd25sb2FkVG9rZW5zXCIsXCJkb3dubG9hZFVSTHNcIiwhMSxmdW5jdGlvbihhLGIpe2lmKCEoeGEoYikmJjA8Yi5sZW5ndGgpKXJldHVybltdO3ZhciBjPWVuY29kZVVSSUNvbXBvbmVudDtyZXR1cm4gcWIoYi5zcGxpdChcIixcIiksZnVuY3Rpb24oYil7dmFyIGQ9YS5mdWxsUGF0aCxkPVwiaHR0cHM6Ly9maXJlYmFzZXN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vdjBcIisoXCIvYi9cIitjKGEuYnVja2V0KStcIi9vL1wiK2MoZCkpO2I9YWIoe2FsdDpcIm1lZGlhXCIsXG50b2tlbjpifSk7cmV0dXJuIGQrYn0pfSkpO3JldHVybiBpZT1hfSxrZT1mdW5jdGlvbihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwicmVmXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiLmwoYixuZXcgUWEoYS5idWNrZXQsYS5mdWxsUGF0aCkpfX0pfSxsZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz17fSxkPWIubGVuZ3RoLGU9MDtlPGQ7ZSsrKXt2YXIgZj1iW2VdO2Yud3JpdGFibGUmJihjW2YuY109YVtmLmJdKX1yZXR1cm4gSlNPTi5zdHJpbmdpZnkoYyl9LG1lPWZ1bmN0aW9uKGEpe2lmKCFhfHxcIm9iamVjdFwiIT09dHlwZW9mIGEpdGhyb3dcIkV4cGVjdGVkIE1ldGFkYXRhIG9iamVjdC5cIjtmb3IodmFyIGIgaW4gYSl7dmFyIGM9YVtiXTtpZihcImN1c3RvbU1ldGFkYXRhXCI9PT1iJiZcIm9iamVjdFwiIT09dHlwZW9mIGMpdGhyb3dcIkV4cGVjdGVkIG9iamVjdCBmb3IgJ2N1c3RvbU1ldGFkYXRhJyBtYXBwaW5nLlwiO319O3ZhciBUPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9Yi5sZW5ndGgsZT1iLmxlbmd0aCxmPTA7ZjxiLmxlbmd0aDtmKyspaWYoYltmXS5iKXtkPWY7YnJlYWt9aWYoIShkPD1jLmxlbmd0aCYmYy5sZW5ndGg8PWUpKXRocm93IGQ9PT1lPyhiPWQsZD0xPT09ZD9cImFyZ3VtZW50XCI6XCJhcmd1bWVudHNcIik6KGI9XCJiZXR3ZWVuIFwiK2QrXCIgYW5kIFwiK2UsZD1cImFyZ3VtZW50c1wiKSxuZXcgdyhcImludmFsaWQtYXJndW1lbnQtY291bnRcIixcIkludmFsaWQgYXJndW1lbnQgY291bnQgaW4gYFwiK2ErXCJgOiBFeHBlY3RlZCBcIitiK1wiIFwiK2QrXCIsIHJlY2VpdmVkIFwiK2MubGVuZ3RoK1wiLlwiKTtmb3IoZj0wO2Y8Yy5sZW5ndGg7ZisrKXRyeXtiW2ZdLmEoY1tmXSl9Y2F0Y2goZyl7aWYoZyBpbnN0YW5jZW9mIEVycm9yKXRocm93IHBhKGYsYSxnLm1lc3NhZ2UpO3Rocm93IHBhKGYsYSxnKTt9fSxVPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt0aGlzLmE9ZnVuY3Rpb24oYil7Yy5iJiYhbihiKXx8YShiKX07XG50aGlzLmI9ISFifSxuZT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjKXthKGMpO2IoYyl9fSxvZT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7aWYoIShcInN0cmluZ1wiPT09dHlwZW9mIGF8fGEgaW5zdGFuY2VvZiBTdHJpbmcpKXRocm93XCJFeHBlY3RlZCBzdHJpbmcuXCI7fXZhciBkO2E/ZD1uZShjLGEpOmQ9YztyZXR1cm4gbmV3IFUoZCxiKX0scGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFUoZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgVWludDhBcnJheXx8YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHx5YSgpJiZhIGluc3RhbmNlb2YgQmxvYikpdGhyb3dcIkV4cGVjdGVkIEJsb2Igb3IgRmlsZS5cIjt9KX0scWU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFUoZnVuY3Rpb24oYSl7aWYoISgoXCJudW1iZXJcIj09PXR5cGVvZiBhfHxhIGluc3RhbmNlb2YgTnVtYmVyKSYmMDw9YSkpdGhyb3dcIkV4cGVjdGVkIGEgbnVtYmVyIDAgb3IgZ3JlYXRlci5cIjt9KX0scmU9ZnVuY3Rpb24oYSxcbmIpe3JldHVybiBuZXcgVShmdW5jdGlvbihiKXtpZighKG51bGw9PT1ifHx5KGIpJiZiIGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvd1wiRXhwZWN0ZWQgYW4gT2JqZWN0LlwiO3koYSkmJmEoYil9LGIpfSxzZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVShmdW5jdGlvbihhKXtpZihudWxsIT09YSYmIXQoYSkpdGhyb3dcIkV4cGVjdGVkIGEgRnVuY3Rpb24uXCI7fSwhMCl9O3ZhciB0ZT1mdW5jdGlvbihhKXtpZighYSl0aHJvdyBtYSgpO30sdWU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXthOnt2YXIgZTt0cnl7ZT1KU09OLnBhcnNlKGQpfWNhdGNoKGgpe2M9bnVsbDticmVhayBhfWM9ZWEoZSk/ZTpudWxsfWlmKG51bGw9PT1jKWM9bnVsbDtlbHNle2Q9e3R5cGU6XCJmaWxlXCJ9O2U9Yi5sZW5ndGg7Zm9yKHZhciBmPTA7ZjxlO2YrKyl7dmFyIGc9YltmXTtkW2cuYl09Zy5hKGQsY1tnLmNdKX1rZShkLGEpO2M9ZH10ZShudWxsIT09Yyk7cmV0dXJuIGN9fSx2ZT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtiPTQwMT09PU4oYik/bmV3IHcoXCJ1bmF1dGhlbnRpY2F0ZWRcIixcIlVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQsIHBsZWFzZSBhdXRoZW50aWNhdGUgdXNpbmcgRmlyZWJhc2UgQXV0aGVudGljYXRpb24gYW5kIHRyeSBhZ2Fpbi5cIik6NDAyPT09TihiKT9uZXcgdyhcInF1b3RhLWV4Y2VlZGVkXCIsXCJRdW90YSBmb3IgYnVja2V0ICdcIitcbmEuYnVja2V0K1wiJyBleGNlZWRlZCwgcGxlYXNlIHZpZXcgcXVvdGEgb24gaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL3ByaWNpbmcvLlwiKTo0MDM9PT1OKGIpP25ldyB3KFwidW5hdXRob3JpemVkXCIsXCJVc2VyIGRvZXMgbm90IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgJ1wiK2EucGF0aCtcIicuXCIpOmM7Yi5zZXJ2ZXJSZXNwb25zZT1jLnNlcnZlclJlc3BvbnNlO3JldHVybiBifX0sd2U9ZnVuY3Rpb24oYSl7dmFyIGI9dmUoYSk7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGU9YihjLGQpOzQwND09PU4oYykmJihlPW5ldyB3KFwib2JqZWN0LW5vdC1mb3VuZFwiLFwiT2JqZWN0ICdcIithLnBhdGgrXCInIGRvZXMgbm90IGV4aXN0LlwiKSk7ZS5zZXJ2ZXJSZXNwb25zZT1kLnNlcnZlclJlc3BvbnNlO3JldHVybiBlfX0seGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVJhKGIpO2E9bmV3IHgobGErXCIvdjBcIitkLFwiR0VUXCIsdWUoYSxjKSxhLmMpO2EuYT13ZShiKTtyZXR1cm4gYX0seWU9ZnVuY3Rpb24oYSxcbmIpe3ZhciBjPVJhKGIpO2E9bmV3IHgobGErXCIvdjBcIitjLFwiREVMRVRFXCIsZnVuY3Rpb24oKXt9LGEuYyk7YS5mPVsyMDAsMjA0XTthLmE9d2UoYik7cmV0dXJuIGF9LHplPWZ1bmN0aW9uKGEsYixjKXtjPWM/dGEoYyk6e307Yy5mdWxsUGF0aD1hLnBhdGg7Yy5zaXplPWIuYTtjLmNvbnRlbnRUeXBlfHwoYT1iJiZiLnR5cGUoKXx8XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixjLmNvbnRlbnRUeXBlPWEpO3JldHVybiBjfSxBZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPVwiL2IvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGIuYnVja2V0KStcIi9vXCIsZz17XCJYLUdvb2ctVXBsb2FkLVByb3RvY29sXCI6XCJtdWx0aXBhcnRcIn0saDtoPVwiXCI7Zm9yKHZhciBtPTA7Mj5tO20rKyloKz1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc2xpY2UoMik7Z1tcIkNvbnRlbnQtVHlwZVwiXT1cIm11bHRpcGFydC9yZWxhdGVkOyBib3VuZGFyeT1cIitoO2U9emUoYixkLGUpO209bGUoZSxjKTtkPWFlKFwiLS1cIitoK1wiXFxyXFxuQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XFxyXFxuXFxyXFxuXCIrXG5tK1wiXFxyXFxuLS1cIitoK1wiXFxyXFxuQ29udGVudC1UeXBlOiBcIitlLmNvbnRlbnRUeXBlK1wiXFxyXFxuXFxyXFxuXCIsZCxcIlxcclxcbi0tXCIraCtcIi0tXCIpO2lmKG51bGw9PT1kKXRocm93IG9hKCk7YT1uZXcgeChsYStcIi92MFwiK2YsXCJQT1NUXCIsdWUoYSxjKSxhLmIpO2EuYj17bmFtZTplLmZ1bGxQYXRofTthLmhlYWRlcnM9ZzthLmJvZHk9ZC52O2EuYT12ZShiKTtyZXR1cm4gYX0sQmU9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5hPWE7dGhpcy50b3RhbD1iO3RoaXMuYj0hIWM7dGhpcy5jPWR8fG51bGx9LENlPWZ1bmN0aW9uKGEsYil7dmFyIGM7dHJ5e2M9VGQoYSxcIlgtR29vZy1VcGxvYWQtU3RhdHVzXCIpfWNhdGNoKGQpe3RlKCExKX10ZSh1YihifHxbXCJhY3RpdmVcIl0sYykpO3JldHVybiBjfSxEZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPVwiL2IvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGIuYnVja2V0KStcIi9vXCIsZz16ZShiLGQsZSk7ZT17bmFtZTpnLmZ1bGxQYXRofTtmPWxhK1wiL3YwXCIrZjtkPXtcIlgtR29vZy1VcGxvYWQtUHJvdG9jb2xcIjpcInJlc3VtYWJsZVwiLFxuXCJYLUdvb2ctVXBsb2FkLUNvbW1hbmRcIjpcInN0YXJ0XCIsXCJYLUdvb2ctVXBsb2FkLUhlYWRlci1Db250ZW50LUxlbmd0aFwiOmQuYSxcIlgtR29vZy1VcGxvYWQtSGVhZGVyLUNvbnRlbnQtVHlwZVwiOmcuY29udGVudFR5cGUsXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIn07Yz1sZShnLGMpO2E9bmV3IHgoZixcIlBPU1RcIixmdW5jdGlvbihhKXtDZShhKTt2YXIgYjt0cnl7Yj1UZChhLFwiWC1Hb29nLVVwbG9hZC1VUkxcIil9Y2F0Y2gocSl7dGUoITEpfXRlKHhhKGIpKTtyZXR1cm4gYn0sYS5iKTthLmI9ZTthLmhlYWRlcnM9ZDthLmJvZHk9YzthLmE9dmUoYik7cmV0dXJuIGF9LEVlPWZ1bmN0aW9uKGEsYixjLGQpe2E9bmV3IHgoYyxcIlBPU1RcIixmdW5jdGlvbihhKXt2YXIgYj1DZShhLFtcImFjdGl2ZVwiLFwiZmluYWxcIl0pLGM7dHJ5e2M9VGQoYSxcIlgtR29vZy1VcGxvYWQtU2l6ZS1SZWNlaXZlZFwiKX1jYXRjaChoKXt0ZSghMSl9YT1jO2lzRmluaXRlKGEpJiZcbihhPVN0cmluZyhhKSk7YT1yKGEpPy9eXFxzKi0/MHgvaS50ZXN0KGEpP3BhcnNlSW50KGEsMTYpOnBhcnNlSW50KGEsMTApOk5hTjt0ZSghaXNOYU4oYSkpO3JldHVybiBuZXcgQmUoYSxkLmEsXCJmaW5hbFwiPT09Yil9LGEuYik7YS5oZWFkZXJzPXtcIlgtR29vZy1VcGxvYWQtQ29tbWFuZFwiOlwicXVlcnlcIn07YS5hPXZlKGIpO2EuZz0hMTtyZXR1cm4gYX0sRmU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9bmV3IEJlKDAsMCk7Zz8oaC5hPWcuYSxoLnRvdGFsPWcudG90YWwpOihoLmE9MCxoLnRvdGFsPWQuYSk7aWYoZC5hIT09aC50b3RhbCl0aHJvdyBuZXcgdyhcInNlcnZlci1maWxlLXdyb25nLXNpemVcIixcIlNlcnZlciByZWNvcmRlZCBpbmNvcnJlY3QgdXBsb2FkIGZpbGUgc2l6ZSwgcGxlYXNlIHJldHJ5IHRoZSB1cGxvYWQuXCIpO3ZhciBtPWc9aC50b3RhbC1oLmE7MDxlJiYobT1NYXRoLm1pbihtLGUpKTt2YXIgcT1oLmE7ZT17XCJYLUdvb2ctVXBsb2FkLUNvbW1hbmRcIjptPT09XG5nP1widXBsb2FkLCBmaW5hbGl6ZVwiOlwidXBsb2FkXCIsXCJYLUdvb2ctVXBsb2FkLU9mZnNldFwiOmguYX07Zz1kLnNsaWNlKHEscSttKTtpZihudWxsPT09Zyl0aHJvdyBvYSgpO2M9bmV3IHgoYyxcIlBPU1RcIixmdW5jdGlvbihhLGMpe3ZhciBlPUNlKGEsW1wiYWN0aXZlXCIsXCJmaW5hbFwiXSksZz1oLmErbSxRPWQuYSxxO1wiZmluYWxcIj09PWU/cT11ZShiLGYpKGEsYyk6cT1udWxsO3JldHVybiBuZXcgQmUoZyxRLFwiZmluYWxcIj09PWUscSl9LGIuYik7Yy5oZWFkZXJzPWU7Yy5ib2R5PWcudjtjLmM9bnVsbDtjLmE9dmUoYSk7Yy5nPSExO3JldHVybiBjfTt2YXIgVz1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5MPWE7dGhpcy5jPWI7dGhpcy5qPWM7dGhpcy5mPWU7dGhpcy5oPWZ8fG51bGw7dGhpcy5tPWQ7dGhpcy5sPTA7dGhpcy5KPXRoaXMucz0hMTt0aGlzLkY9W107dGhpcy5aPTI2MjE0NDx0aGlzLmYuYTt0aGlzLmI9XCJydW5uaW5nXCI7dGhpcy5hPXRoaXMudT10aGlzLmc9bnVsbDt0aGlzLmk9MTt2YXIgZz10aGlzO3RoaXMuVj1mdW5jdGlvbihhKXtnLmE9bnVsbDtnLmk9MTtcInN0b3JhZ2UvY2FuY2VsZWRcIj09PWEuY29kZT8oZy5zPSEwLEdlKGcpKTooZy5nPWEsVihnLFwiZXJyb3JcIikpfTt0aGlzLlk9ZnVuY3Rpb24oYSl7Zy5hPW51bGw7XCJzdG9yYWdlL2NhbmNlbGVkXCI9PT1hLmNvZGU/R2UoZyk6KGcuZz1hLFYoZyxcImVycm9yXCIpKX07dGhpcy5CPXRoaXMubz1udWxsO3RoaXMuRz1uZXcgRyhmdW5jdGlvbihhLGIpe2cubz1hO2cuQj1iO0hlKGcpfSk7dGhpcy5HLnRoZW4obnVsbCxmdW5jdGlvbigpe30pfSxIZT1mdW5jdGlvbihhKXtcInJ1bm5pbmdcIj09PVxuYS5iJiZudWxsPT09YS5hJiYoYS5aP251bGw9PT1hLnU/SWUoYSk6YS5zP0plKGEpOmEuSj9LZShhKTpMZShhKTpNZShhKSl9LE5lPWZ1bmN0aW9uKGEsYil7Z2UoYS5jKS50aGVuKGZ1bmN0aW9uKGMpe3N3aXRjaChhLmIpe2Nhc2UgXCJydW5uaW5nXCI6YihjKTticmVhaztjYXNlIFwiY2FuY2VsaW5nXCI6VihhLFwiY2FuY2VsZWRcIik7YnJlYWs7Y2FzZSBcInBhdXNpbmdcIjpWKGEsXCJwYXVzZWRcIil9fSl9LEllPWZ1bmN0aW9uKGEpe05lKGEsZnVuY3Rpb24oYil7dmFyIGM9RGUoYS5jLGEuaixhLm0sYS5mLGEuaCk7YS5hPVIoYS5jLGMsYik7YS5hLmEoKS50aGVuKGZ1bmN0aW9uKGIpe2EuYT1udWxsO2EudT1iO2Eucz0hMTtHZShhKX0sdGhpcy5WKX0pfSxKZT1mdW5jdGlvbihhKXt2YXIgYj1hLnU7TmUoYSxmdW5jdGlvbihjKXt2YXIgZD1FZShhLmMsYS5qLGIsYS5mKTthLmE9UihhLmMsZCxjKTthLmEuYSgpLnRoZW4oZnVuY3Rpb24oYil7YS5hPW51bGw7T2UoYSxiLmEpO2Eucz0hMTtiLmImJlxuKGEuSj0hMCk7R2UoYSl9LGEuVil9KX0sTGU9ZnVuY3Rpb24oYSl7dmFyIGI9MjYyMTQ0KmEuaSxjPW5ldyBCZShhLmwsYS5mLmEpLGQ9YS51O05lKGEsZnVuY3Rpb24oZSl7dmFyIGY7dHJ5e2Y9RmUoYS5qLGEuYyxkLGEuZixiLGEubSxjKX1jYXRjaChnKXthLmc9ZztWKGEsXCJlcnJvclwiKTtyZXR1cm59YS5hPVIoYS5jLGYsZSk7YS5hLmEoKS50aGVuKGZ1bmN0aW9uKGIpezMzNTU0NDMyPjI2MjE0NCphLmkmJihhLmkqPTIpO2EuYT1udWxsO09lKGEsYi5hKTtiLmI/KGEuaD1iLmMsVihhLFwic3VjY2Vzc1wiKSk6R2UoYSl9LGEuVil9KX0sS2U9ZnVuY3Rpb24oYSl7TmUoYSxmdW5jdGlvbihiKXt2YXIgYz14ZShhLmMsYS5qLGEubSk7YS5hPVIoYS5jLGMsYik7YS5hLmEoKS50aGVuKGZ1bmN0aW9uKGIpe2EuYT1udWxsO2EuaD1iO1YoYSxcInN1Y2Nlc3NcIil9LGEuWSl9KX0sTWU9ZnVuY3Rpb24oYSl7TmUoYSxmdW5jdGlvbihiKXt2YXIgYz1BZShhLmMsYS5qLGEubSxhLmYsYS5oKTthLmE9XG5SKGEuYyxjLGIpO2EuYS5hKCkudGhlbihmdW5jdGlvbihiKXthLmE9bnVsbDthLmg9YjtPZShhLGEuZi5hKTtWKGEsXCJzdWNjZXNzXCIpfSxhLlYpfSl9LE9lPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sO2EubD1iO2EubD5jJiZQZShhKX0sVj1mdW5jdGlvbihhLGIpe2lmKGEuYiE9PWIpc3dpdGNoKGIpe2Nhc2UgXCJjYW5jZWxpbmdcIjphLmI9YjtudWxsIT09YS5hJiZhLmEuY2FuY2VsKCk7YnJlYWs7Y2FzZSBcInBhdXNpbmdcIjphLmI9YjtudWxsIT09YS5hJiZhLmEuY2FuY2VsKCk7YnJlYWs7Y2FzZSBcInJ1bm5pbmdcIjp2YXIgYz1cInBhdXNlZFwiPT09YS5iO2EuYj1iO2MmJihQZShhKSxIZShhKSk7YnJlYWs7Y2FzZSBcInBhdXNlZFwiOmEuYj1iO1BlKGEpO2JyZWFrO2Nhc2UgXCJjYW5jZWxlZFwiOmEuZz1uYSgpO2EuYj1iO1BlKGEpO2JyZWFrO2Nhc2UgXCJlcnJvclwiOmEuYj1iO1BlKGEpO2JyZWFrO2Nhc2UgXCJzdWNjZXNzXCI6YS5iPWIsUGUoYSl9fSxHZT1mdW5jdGlvbihhKXtzd2l0Y2goYS5iKXtjYXNlIFwicGF1c2luZ1wiOlYoYSxcblwicGF1c2VkXCIpO2JyZWFrO2Nhc2UgXCJjYW5jZWxpbmdcIjpWKGEsXCJjYW5jZWxlZFwiKTticmVhaztjYXNlIFwicnVubmluZ1wiOkhlKGEpfX07Vy5wcm90b3R5cGUuQz1mdW5jdGlvbigpe3JldHVybiBuZXcgQSh0aGlzLmwsdGhpcy5mLmEsd2EodGhpcy5iKSx0aGlzLmgsdGhpcyx0aGlzLkwpfTtcblcucHJvdG90eXBlLk89ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXt0cnl7ZyhhKTtyZXR1cm59Y2F0Y2goUCl7fXRyeXtpZihoKGEpLCEobihhLm5leHQpfHxuKGEuZXJyb3IpfHxuKGEuY29tcGxldGUpKSl0aHJvd1wiXCI7fWNhdGNoKFApe3Rocm93XCJFeHBlY3RlZCBhIGZ1bmN0aW9uIG9yIGFuIE9iamVjdCB3aXRoIG9uZSBvZiBgbmV4dGAsIGBlcnJvcmAsIGBjb21wbGV0ZWAgcHJvcGVydGllcy5cIjt9fWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXtudWxsIT09YSYmVChcIm9uXCIsYSxhcmd1bWVudHMpO3ZhciBlPW5ldyBUYShiLGMsZCk7UWUobSxlKTtyZXR1cm4gZnVuY3Rpb24oKXt3YihtLkYsZSl9fX12YXIgZz1zZSgpLmEsaD1yZShudWxsLCEwKS5hO1QoXCJvblwiLFtvZShmdW5jdGlvbigpe2lmKFwic3RhdGVfY2hhbmdlZFwiIT09YSl0aHJvd1wiRXhwZWN0ZWQgb25lIG9mIHRoZSBldmVudCB0eXBlczogW3N0YXRlX2NoYW5nZWRdLlwiO30pLHJlKGUsITApLFxuc2UoKSxzZSgpXSxhcmd1bWVudHMpO3ZhciBtPXRoaXMscT1bcmUoZnVuY3Rpb24oYSl7aWYobnVsbD09PWEpdGhyb3dcIkV4cGVjdGVkIGEgZnVuY3Rpb24gb3IgYW4gT2JqZWN0IHdpdGggb25lIG9mIGBuZXh0YCwgYGVycm9yYCwgYGNvbXBsZXRlYCBwcm9wZXJ0aWVzLlwiO2UoYSl9KSxzZSgpLHNlKCldO3JldHVybiBuKGIpfHxuKGMpfHxuKGQpP2YobnVsbCkoYixjLGQpOmYocSl9O1cucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5HLnRoZW4oYSxiKX07XG52YXIgUWU9ZnVuY3Rpb24oYSxiKXthLkYucHVzaChiKTtSZShhLGIpfSxQZT1mdW5jdGlvbihhKXtTZShhKTt2YXIgYj14YihhLkYpO29iKGIsZnVuY3Rpb24oYil7UmUoYSxiKX0pfSxTZT1mdW5jdGlvbihhKXtpZihudWxsIT09YS5vKXt2YXIgYj0hMDtzd2l0Y2god2EoYS5iKSl7Y2FzZSBcInN1Y2Nlc3NcIjpSYyhhLm8uYmluZChudWxsLGEuQygpKSkoKTticmVhaztjYXNlIFwiY2FuY2VsZWRcIjpjYXNlIFwiZXJyb3JcIjpSYyhhLkIuYmluZChudWxsLGEuZykpKCk7YnJlYWs7ZGVmYXVsdDpiPSExfWImJihhLm89bnVsbCxhLkI9bnVsbCl9fSxSZT1mdW5jdGlvbihhLGIpe3N3aXRjaCh3YShhLmIpKXtjYXNlIFwicnVubmluZ1wiOmNhc2UgXCJwYXVzZWRcIjpudWxsIT09Yi5uZXh0JiZSYyhiLm5leHQuYmluZChiLGEuQygpKSkoKTticmVhaztjYXNlIFwic3VjY2Vzc1wiOm51bGwhPT1iLmImJlJjKGIuYi5iaW5kKGIpKSgpO2JyZWFrO2Nhc2UgXCJjYW5jZWxlZFwiOmNhc2UgXCJlcnJvclwiOm51bGwhPT1cbmIuYSYmUmMoYi5hLmJpbmQoYixhLmcpKSgpO2JyZWFrO2RlZmF1bHQ6bnVsbCE9PWIuYSYmUmMoYi5hLmJpbmQoYixhLmcpKSgpfX07Vy5wcm90b3R5cGUuUj1mdW5jdGlvbigpe1QoXCJyZXN1bWVcIixbXSxhcmd1bWVudHMpO3ZhciBhPVwicGF1c2VkXCI9PT10aGlzLmJ8fFwicGF1c2luZ1wiPT09dGhpcy5iO2EmJlYodGhpcyxcInJ1bm5pbmdcIik7cmV0dXJuIGF9O1cucHJvdG90eXBlLlA9ZnVuY3Rpb24oKXtUKFwicGF1c2VcIixbXSxhcmd1bWVudHMpO3ZhciBhPVwicnVubmluZ1wiPT09dGhpcy5iO2EmJlYodGhpcyxcInBhdXNpbmdcIik7cmV0dXJuIGF9O1cucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe1QoXCJjYW5jZWxcIixbXSxhcmd1bWVudHMpO3ZhciBhPVwicnVubmluZ1wiPT09dGhpcy5ifHxcInBhdXNpbmdcIj09PXRoaXMuYjthJiZWKHRoaXMsXCJjYW5jZWxpbmdcIik7cmV0dXJuIGF9O3ZhciBYPWZ1bmN0aW9uKGEsYil7dGhpcy5iPWE7aWYoYil0aGlzLmE9YiBpbnN0YW5jZW9mIFFhP2I6U2EoYik7ZWxzZSBpZihhPWEuYnVja2V0KCksbnVsbCE9PWEpdGhpcy5hPW5ldyBRYShhLFwiXCIpO2Vsc2UgdGhyb3cgbmV3IHcoXCJuby1kZWZhdWx0LWJ1Y2tldFwiLFwiTm8gZGVmYXVsdCBidWNrZXQgZm91bmQuIERpZCB5b3Ugc2V0IHRoZSAnc3RvcmFnZUJ1Y2tldCcgcHJvcGVydHkgd2hlbiBpbml0aWFsaXppbmcgdGhlIGFwcD9cIik7fTtYLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe1QoXCJ0b1N0cmluZ1wiLFtdLGFyZ3VtZW50cyk7cmV0dXJuXCJnczovL1wiK3RoaXMuYS5idWNrZXQrXCIvXCIrdGhpcy5hLnBhdGh9O3ZhciBUZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgWChhLGIpfTtrPVgucHJvdG90eXBlO1xuay5mYT1mdW5jdGlvbihhKXtUKFwiY2hpbGRcIixbb2UoKV0sYXJndW1lbnRzKTt2YXIgYj1HYih0aGlzLmEucGF0aCxhKTtyZXR1cm4gVGUodGhpcy5iLG5ldyBRYSh0aGlzLmEuYnVja2V0LGIpKX07ay5EYT1mdW5jdGlvbigpe3ZhciBhO2E9dGhpcy5hLnBhdGg7aWYoMD09YS5sZW5ndGgpYT1udWxsO2Vsc2V7dmFyIGI9YS5sYXN0SW5kZXhPZihcIi9cIik7YT0tMT09PWI/XCJcIjphLnNsaWNlKDAsYil9cmV0dXJuIG51bGw9PT1hP251bGw6VGUodGhpcy5iLG5ldyBRYSh0aGlzLmEuYnVja2V0LGEpKX07ay5GYT1mdW5jdGlvbigpe3JldHVybiBUZSh0aGlzLmIsbmV3IFFhKHRoaXMuYS5idWNrZXQsXCJcIikpfTtrLm1hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5idWNrZXR9O2sueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLnBhdGh9O2suQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gSGIodGhpcy5hLnBhdGgpfTtrLkhhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5pfTtcbmsucmE9ZnVuY3Rpb24oYSxiKXtUKFwicHV0XCIsW3BlKCksbmV3IFUobWUsITApXSxhcmd1bWVudHMpO1VlKHRoaXMsXCJwdXRcIik7cmV0dXJuIG5ldyBXKHRoaXMsdGhpcy5iLHRoaXMuYSxqZSgpLG5ldyBPKGEpLGIpfTtrLnNhPWZ1bmN0aW9uKGEsYixjKXtUKFwicHV0U3RyaW5nXCIsW29lKCksb2UoVmEsITApLG5ldyBVKG1lLCEwKV0sYXJndW1lbnRzKTtVZSh0aGlzLFwicHV0U3RyaW5nXCIpO3ZhciBkPSRhKHkoYik/YjpcInJhd1wiLGEpLGU9Yz90YShjKTp7fTsheShlLmNvbnRlbnRUeXBlKSYmeShkLmEpJiYoZS5jb250ZW50VHlwZT1kLmEpO3JldHVybiBuZXcgVyh0aGlzLHRoaXMuYix0aGlzLmEsamUoKSxuZXcgTyhkLmRhdGEsITApLGUpfTtcbmsuZGVsZXRlPWZ1bmN0aW9uKCl7VChcImRlbGV0ZVwiLFtdLGFyZ3VtZW50cyk7VWUodGhpcyxcImRlbGV0ZVwiKTt2YXIgYT10aGlzO3JldHVybiBnZSh0aGlzLmIpLnRoZW4oZnVuY3Rpb24oYil7dmFyIGM9eWUoYS5iLGEuYSk7cmV0dXJuIFIoYS5iLGMsYikuYSgpfSl9O2suZ2E9ZnVuY3Rpb24oKXtUKFwiZ2V0TWV0YWRhdGFcIixbXSxhcmd1bWVudHMpO1VlKHRoaXMsXCJnZXRNZXRhZGF0YVwiKTt2YXIgYT10aGlzO3JldHVybiBnZSh0aGlzLmIpLnRoZW4oZnVuY3Rpb24oYil7dmFyIGM9eGUoYS5iLGEuYSxqZSgpKTtyZXR1cm4gUihhLmIsYyxiKS5hKCl9KX07XG5rLnRhPWZ1bmN0aW9uKGEpe1QoXCJ1cGRhdGVNZXRhZGF0YVwiLFtuZXcgVShtZSx2b2lkIDApXSxhcmd1bWVudHMpO1VlKHRoaXMsXCJ1cGRhdGVNZXRhZGF0YVwiKTt2YXIgYj10aGlzO3JldHVybiBnZSh0aGlzLmIpLnRoZW4oZnVuY3Rpb24oYyl7dmFyIGQ9Yi5iLGU9Yi5hLGY9YSxnPWplKCksaD1SYShlKSxoPWxhK1wiL3YwXCIraCxmPWxlKGYsZyksZD1uZXcgeChoLFwiUEFUQ0hcIix1ZShkLGcpLGQuYyk7ZC5oZWFkZXJzPXtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwifTtkLmJvZHk9ZjtkLmE9d2UoZSk7cmV0dXJuIFIoYi5iLGQsYykuYSgpfSl9O1xuay5xYT1mdW5jdGlvbigpe1QoXCJnZXREb3dubG9hZFVSTFwiLFtdLGFyZ3VtZW50cyk7VWUodGhpcyxcImdldERvd25sb2FkVVJMXCIpO3JldHVybiB0aGlzLmdhKCkudGhlbihmdW5jdGlvbihhKXthPWEuZG93bmxvYWRVUkxzWzBdO2lmKHkoYSkpcmV0dXJuIGE7dGhyb3cgbmV3IHcoXCJuby1kb3dubG9hZC11cmxcIixcIlRoZSBnaXZlbiBmaWxlIGRvZXMgbm90IGhhdmUgYW55IGRvd25sb2FkIFVSTHMuXCIpO30pfTt2YXIgVWU9ZnVuY3Rpb24oYSxiKXtpZihcIlwiPT09YS5hLnBhdGgpdGhyb3cgbmV3IHcoXCJpbnZhbGlkLXJvb3Qtb3BlcmF0aW9uXCIsXCJUaGUgb3BlcmF0aW9uICdcIitiK1wiJyBjYW5ub3QgYmUgcGVyZm9ybWVkIG9uIGEgcm9vdCByZWZlcmVuY2UsIGNyZWF0ZSBhIG5vbi1yb290IHJlZmVyZW5jZSB1c2luZyBjaGlsZCwgc3VjaCBhcyAuY2hpbGQoJ2ZpbGUucG5nJykuXCIpO307dmFyIFk9ZnVuY3Rpb24oYSl7dGhpcy5hPW5ldyBmZShhLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIG5ldyBYKGEsYyl9LFlkLHRoaXMpO3RoaXMuYj1hO3RoaXMuYz1uZXcgVmUodGhpcyl9O2s9WS5wcm90b3R5cGU7ay51YT1mdW5jdGlvbihhKXtUKFwicmVmXCIsW29lKGZ1bmN0aW9uKGEpe2lmKC9eW0EtWmEtel0rOlxcL1xcLy8udGVzdChhKSl0aHJvd1wiRXhwZWN0ZWQgY2hpbGQgcGF0aCBidXQgZ290IGEgVVJMLCB1c2UgcmVmRnJvbVVSTCBpbnN0ZWFkLlwiO30sITApXSxhcmd1bWVudHMpO3ZhciBiPW5ldyBYKHRoaXMuYSk7cmV0dXJuIG4oYSk/Yi5mYShhKTpifTtcbmsudmE9ZnVuY3Rpb24oYSl7VChcInJlZkZyb21VUkxcIixbb2UoZnVuY3Rpb24oYSl7aWYoIS9eW0EtWmEtel0rOlxcL1xcLy8udGVzdChhKSl0aHJvd1wiRXhwZWN0ZWQgZnVsbCBVUkwgYnV0IGdvdCBhIGNoaWxkIHBhdGgsIHVzZSByZWYgaW5zdGVhZC5cIjt0cnl7U2EoYSl9Y2F0Y2goYyl7dGhyb3dcIkV4cGVjdGVkIHZhbGlkIGZ1bGwgVVJMIGJ1dCBnb3QgYW4gaW52YWxpZCBvbmUuXCI7fX0sITEpXSxhcmd1bWVudHMpO3JldHVybiBuZXcgWCh0aGlzLmEsYSl9O2suQWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmJ9O2sueGE9ZnVuY3Rpb24oYSl7VChcInNldE1heFVwbG9hZFJldHJ5VGltZVwiLFtxZSgpXSxhcmd1bWVudHMpO3RoaXMuYS5iPWF9O2suemE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmN9O2sud2E9ZnVuY3Rpb24oYSl7VChcInNldE1heE9wZXJhdGlvblJldHJ5VGltZVwiLFtxZSgpXSxhcmd1bWVudHMpO3RoaXMuYS5jPWF9O2subGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtcbmsua2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTt2YXIgVmU9ZnVuY3Rpb24oYSl7dGhpcy5hPWF9O1ZlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEuYTthLmY9ITA7YS5hPW51bGw7ZWUoYS5oKX07dmFyIFo9ZnVuY3Rpb24oYSxiLGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2dldDpjfSl9O1gucHJvdG90eXBlLnRvU3RyaW5nPVgucHJvdG90eXBlLnRvU3RyaW5nO1gucHJvdG90eXBlLmNoaWxkPVgucHJvdG90eXBlLmZhO1gucHJvdG90eXBlLnB1dD1YLnByb3RvdHlwZS5yYTtYLnByb3RvdHlwZS5wdXRTdHJpbmc9WC5wcm90b3R5cGUuc2E7WC5wcm90b3R5cGVbXCJkZWxldGVcIl09WC5wcm90b3R5cGUuZGVsZXRlO1gucHJvdG90eXBlLmdldE1ldGFkYXRhPVgucHJvdG90eXBlLmdhO1gucHJvdG90eXBlLnVwZGF0ZU1ldGFkYXRhPVgucHJvdG90eXBlLnRhO1gucHJvdG90eXBlLmdldERvd25sb2FkVVJMPVgucHJvdG90eXBlLnFhO1ooWC5wcm90b3R5cGUsXCJwYXJlbnRcIixYLnByb3RvdHlwZS5EYSk7WihYLnByb3RvdHlwZSxcInJvb3RcIixYLnByb3RvdHlwZS5GYSk7WihYLnByb3RvdHlwZSxcImJ1Y2tldFwiLFgucHJvdG90eXBlLm1hKTtcblooWC5wcm90b3R5cGUsXCJmdWxsUGF0aFwiLFgucHJvdG90eXBlLnlhKTtaKFgucHJvdG90eXBlLFwibmFtZVwiLFgucHJvdG90eXBlLkNhKTtaKFgucHJvdG90eXBlLFwic3RvcmFnZVwiLFgucHJvdG90eXBlLkhhKTtZLnByb3RvdHlwZS5yZWY9WS5wcm90b3R5cGUudWE7WS5wcm90b3R5cGUucmVmRnJvbVVSTD1ZLnByb3RvdHlwZS52YTtaKFkucHJvdG90eXBlLFwibWF4T3BlcmF0aW9uUmV0cnlUaW1lXCIsWS5wcm90b3R5cGUuemEpO1kucHJvdG90eXBlLnNldE1heE9wZXJhdGlvblJldHJ5VGltZT1ZLnByb3RvdHlwZS53YTtaKFkucHJvdG90eXBlLFwibWF4VXBsb2FkUmV0cnlUaW1lXCIsWS5wcm90b3R5cGUuQWEpO1kucHJvdG90eXBlLnNldE1heFVwbG9hZFJldHJ5VGltZT1ZLnByb3RvdHlwZS54YTtaKFkucHJvdG90eXBlLFwiYXBwXCIsWS5wcm90b3R5cGUubGEpO1ooWS5wcm90b3R5cGUsXCJJTlRFUk5BTFwiLFkucHJvdG90eXBlLmthKTtWZS5wcm90b3R5cGVbXCJkZWxldGVcIl09VmUucHJvdG90eXBlLmRlbGV0ZTtcblkucHJvdG90eXBlLmNhcGlfPWZ1bmN0aW9uKGEpe2xhPWF9O1cucHJvdG90eXBlLm9uPVcucHJvdG90eXBlLk87Vy5wcm90b3R5cGUucmVzdW1lPVcucHJvdG90eXBlLlI7Vy5wcm90b3R5cGUucGF1c2U9Vy5wcm90b3R5cGUuUDtXLnByb3RvdHlwZS5jYW5jZWw9Vy5wcm90b3R5cGUuY2FuY2VsO1ooVy5wcm90b3R5cGUsXCJzbmFwc2hvdFwiLFcucHJvdG90eXBlLkMpO1ooQS5wcm90b3R5cGUsXCJieXRlc1RyYW5zZmVycmVkXCIsQS5wcm90b3R5cGUubmEpO1ooQS5wcm90b3R5cGUsXCJ0b3RhbEJ5dGVzXCIsQS5wcm90b3R5cGUuSmEpO1ooQS5wcm90b3R5cGUsXCJzdGF0ZVwiLEEucHJvdG90eXBlLkdhKTtaKEEucHJvdG90eXBlLFwibWV0YWRhdGFcIixBLnByb3RvdHlwZS5CYSk7WihBLnByb3RvdHlwZSxcImRvd25sb2FkVVJMXCIsQS5wcm90b3R5cGUucGEpO1ooQS5wcm90b3R5cGUsXCJ0YXNrXCIsQS5wcm90b3R5cGUuSWEpO1ooQS5wcm90b3R5cGUsXCJyZWZcIixBLnByb3RvdHlwZS5FYSk7XG51YS5TVEFURV9DSEFOR0VEPVwic3RhdGVfY2hhbmdlZFwiO3ZhLlJVTk5JTkc9XCJydW5uaW5nXCI7dmEuUEFVU0VEPVwicGF1c2VkXCI7dmEuU1VDQ0VTUz1cInN1Y2Nlc3NcIjt2YS5DQU5DRUxFRD1cImNhbmNlbGVkXCI7dmEuRVJST1I9XCJlcnJvclwiO1VhLlJBVz1cInJhd1wiO1VhLkJBU0U2ND1cImJhc2U2NFwiO1VhLkJBU0U2NFVSTD1cImJhc2U2NHVybFwiO1VhLkRBVEFfVVJMPVwiZGF0YV91cmxcIjtHLnByb3RvdHlwZVtcImNhdGNoXCJdPUcucHJvdG90eXBlLmw7Ry5wcm90b3R5cGUudGhlbj1HLnByb3RvdHlwZS50aGVuO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gbmV3IFkoYSl9dmFyIGI9e1Rhc2tTdGF0ZTp2YSxUYXNrRXZlbnQ6dWEsU3RyaW5nRm9ybWF0OlVhLFN0b3JhZ2U6WSxSZWZlcmVuY2U6WH07aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBmaXJlYmFzZSlmaXJlYmFzZS5JTlRFUk5BTC5yZWdpc3RlclNlcnZpY2UoXCJzdG9yYWdlXCIsYSxiKTtlbHNlIHRocm93IEVycm9yKFwiQ2Fubm90IGluc3RhbGwgRmlyZWJhc2UgU3RvcmFnZSAtIGJlIHN1cmUgdG8gbG9hZCBmaXJlYmFzZS1hcHAuanMgZmlyc3QuXCIpO30pKCk7fSkoKTtcbm1vZHVsZS5leHBvcnRzID0gZmlyZWJhc2Uuc3RvcmFnZTtcbiJdfQ==
