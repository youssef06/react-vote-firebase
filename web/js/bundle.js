(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.News = undefined;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _NewsItem = require('./NewsItem.jsx');

var _firebase = require('firebase');

var _firebase2 = _interopRequireDefault(_firebase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var News = exports.News = _react2.default.createClass({
    displayName: 'News',

    getInitialState: function getInitialState() {
        return {
            isLoading: true,
            items: []
        };
    },
    componentDidMount: function componentDidMount() {
        var _this = this;

        _firebase2.default.initializeApp({
            apiKey: "YOUR_KEY",
            authDomain: "YOUR_DOMAIN",
            databaseURL: "YOUR_DB_URL",
            storageBucket: "BUCKET",
            messagingSenderId: "SENDER_ID"
        });

        _firebase2.default.database().ref('items').on('value', function (data) {
            var oItems = data.val();
            var items = [];
            for (var key in oItems) {
                var item = oItems[key];
                item.key = key;
                items.push(item);
            }

            _this.setState({ items: items, isLoading: false });
        });
    },
    handleNewItemKeyPress: function handleNewItemKeyPress(e) {
        if (e.key === 'Enter') {
            this.handleNewItemClick();
        }
    },
    handleNewItemClick: function handleNewItemClick() {
        _firebase2.default.database().ref('items').push({
            title: document.getElementById('newItem').value,
            votes: 0
        });
        document.getElementById('newItem').value = "";
    },
    voteUp: function voteUp(item) {
        item.votes++;
        _firebase2.default.database().ref('items/' + item.key).set({ title: item.title, votes: item.votes });
    },
    voteDown: function voteDown(item) {
        item.votes--;
        _firebase2.default.database().ref('items/' + item.key).set({ title: item.title, votes: item.votes });
    },
    render: function render() {
        var _this2 = this;

        //sort items by votes
        var items = this.state.items;
        items = items.sort(function (a, b) {
            return a.votes < b.votes ? 1 : a.votes > b.votes ? -1 : 0;
        });

        var cItems = items.map(function (item, index) {
            return _react2.default.createElement(_NewsItem.NewsItem, {
                title: item.title,
                votes: item.votes,
                key: index,
                onVoteUp: _this2.voteUp.bind(_this2, item),
                onVoteDown: _this2.voteDown.bind(_this2, item)
            });
        });

        return _react2.default.createElement(
            'div',
            { className: 'col-md-10 col-md-offset-1' },
            _react2.default.createElement(
                'h1',
                null,
                'News Voting'
            ),
            _react2.default.createElement(
                'h2',
                null,
                '(with React and Firebase)'
            ),
            _react2.default.createElement(
                'div',
                { className: 'row' },
                _react2.default.createElement(
                    'div',
                    { className: 'col-md-12 box' },
                    _react2.default.createElement(
                        'div',
                        { className: 'row' },
                        _react2.default.createElement(
                            'div',
                            { className: 'box-header' },
                            _react2.default.createElement(
                                'div',
                                { className: 'col-md-11' },
                                _react2.default.createElement('input', {
                                    type: 'text',
                                    className: 'form-control',
                                    id: 'newItem',
                                    placeholder: 'What do you need to do?',
                                    onKeyPress: this.handleNewItemKeyPress
                                })
                            ),
                            _react2.default.createElement(
                                'button',
                                { id: 'btn', className: 'btn btn-info col-md-1', onClick: this.handleNewItemClick },
                                _react2.default.createElement('span', { className: 'glyphicon glyphicon-plus' })
                            )
                        )
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row' },
                        _react2.default.createElement(
                            'table',
                            { className: 'table' },
                            _react2.default.createElement(
                                'tbody',
                                null,
                                this.state.isLoading ? _react2.default.createElement(
                                    'tr',
                                    null,
                                    _react2.default.createElement(
                                        'td',
                                        { colSpan: '3', className: 'text-center' },
                                        _react2.default.createElement(
                                            'svg',
                                            { width: '40px', height: '40px', xmlns: 'http://www.w3.org/2000/svg', viewBox: '0 0 100 100', preserveAspectRatio: 'xMidYMid', className: 'uil-default' },
                                            _react2.default.createElement('rect', { x: '0', y: '0', width: '100', height: '100', fill: 'none', className: 'bk' }),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(0 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(30 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.08333333333333333s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(60 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.16666666666666666s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(90 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.25s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(120 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.3333333333333333s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(150 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.4166666666666667s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(180 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.5s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(210 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.5833333333333334s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(240 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.6666666666666666s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(270 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.75s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(300 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.8333333333333334s', repeatCount: 'indefinite' })
                                            ),
                                            _react2.default.createElement(
                                                'rect',
                                                { x: '46.5', y: '40', width: '7', height: '20', rx: '5', ry: '5', fill: '#b8494b', transform: 'rotate(330 50 50) translate(0 -30)' },
                                                '  ',
                                                _react2.default.createElement('animate', { attributeName: 'opacity', from: '1', to: '0', dur: '1s', begin: '0.9166666666666666s', repeatCount: 'indefinite' })
                                            )
                                        )
                                    )
                                ) : _react2.default.createElement(
                                    'tr',
                                    null,
                                    _react2.default.createElement('td', { colSpan: '3' })
                                ),
                                cItems
                            )
                        )
                    )
                )
            )
        );
    }
}); /**
     * Created by youssef on 10/12/16.
     */

},{"./NewsItem.jsx":2,"firebase":7,"react":"react"}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.NewsItem = undefined;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var NewsItem = exports.NewsItem = _react2.default.createClass({
    displayName: 'NewsItem',

    getInitialState: function getInitialState() {
        return { title: '', votes: 0 };
    },
    render: function render() {
        return _react2.default.createElement(
            'tr',
            { className: 'margin-5' },
            _react2.default.createElement(
                'td',
                { className: 'col-md-9' },
                this.props.title
            ),
            _react2.default.createElement(
                'td',
                { className: 'col-md-1 ' + (this.props.votes > 0 ? 'text-green' : this.props.votes == 0 ? 'text-gray' : 'text-red') },
                this.props.votes
            ),
            _react2.default.createElement(
                'td',
                { className: 'col-md-2' },
                _react2.default.createElement(
                    'div',
                    { className: 'btn-group pull-right', role: 'group', 'aria-label': '...' },
                    _react2.default.createElement(
                        'button',
                        { href: '#', className: 'btn btn-success', onClick: this.props.onVoteUp },
                        _react2.default.createElement('span', { className: 'glyphicon glyphicon-arrow-up' })
                    ),
                    _react2.default.createElement(
                        'button',
                        { href: '#', className: 'btn btn-danger', onClick: this.props.onVoteDown },
                        _react2.default.createElement('span', { className: 'glyphicon glyphicon-arrow-down' })
                    )
                )
            )
        );
    }
});

},{"react":"react"}],3:[function(require,module,exports){
'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _News = require('./News.jsx');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var newsComponent = _reactDom2.default.render(_react2.default.createElement(_News.News, null), document.getElementById('app')); /**
                                                                                                                                 * Created by youssef on 10/10/16.
                                                                                                                                 */

},{"./News.jsx":1,"react":"react","react-dom":"react-dom"}],4:[function(require,module,exports){
(function (global){
/*! @license Firebase v3.4.1
    Build: 3.4.1-rc.2
    Terms: https://developers.google.com/terms */
var firebase = null; (function() { var aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},h="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,l=function(){l=function(){};h.Symbol||(h.Symbol=ba)},ca=0,ba=function(a){return"jscomp_symbol_"+(a||"")+ca++},n=function(){l();var a=h.Symbol.iterator;a||(a=h.Symbol.iterator=
h.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return m(this)}});n=function(){}},m=function(a){var b=0;return da(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},da=function(a){n();a={next:a};a[h.Symbol.iterator]=function(){return this};return a},q=this,r=function(){},t=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);
if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},v=function(a){return"function"==t(a)},ea=function(a,
b,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},w=function(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa;return w.apply(null,arguments)},x=function(a,b){var c=Array.prototype.slice.call(arguments,
1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},y=function(a,b){function c(){}c.prototype=b.prototype;a.ga=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.fa=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var z;z="undefined"!==typeof window?window:"undefined"!==typeof self?self:global;function __extends(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}
function __decorate(a,b,c,d){var e=arguments.length,f=3>e?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,g;g=z.Reflect;if("object"===typeof g&&"function"===typeof g.decorate)f=g.decorate(a,b,c,d);else for(var k=a.length-1;0<=k;k--)if(g=a[k])f=(3>e?g(f):3<e?g(b,c,f):g(b,c))||f;return 3<e&&f&&Object.defineProperty(b,c,f),f}function __metadata(a,b){var c=z.Reflect;if("object"===typeof c&&"function"===typeof c.metadata)return c.metadata(a,b)}
var __param=function(a,b){return function(c,d){b(c,d,a)}},__awaiter=function(a,b,c,d){return new (c||(c=Promise))(function(e,f){function g(a){try{p(d.next(a))}catch(u){f(u)}}function k(a){try{p(d.throw(a))}catch(u){f(u)}}function p(a){a.done?e(a.value):(new c(function(b){b(a.value)})).then(g,k)}p((d=d.apply(a,b)).next())})};"undefined"!==typeof z.L&&z.L||(z.ca=__extends,z.ba=__decorate,z.da=__metadata,z.ea=__param,z.aa=__awaiter);var A=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};y(A,Error);A.prototype.name="CustomError";var ga=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")};var B=function(a,b){b.unshift(a);A.call(this,ga.apply(null,b));b.shift()};y(B,A);B.prototype.name="AssertionError";var ha=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new B(""+e,f||[]);},C=function(a,b,c){a||ha("",null,b,Array.prototype.slice.call(arguments,2))},D=function(a,b,c){v(a)||ha("Expected function but got %s: %s.",[t(a),a],b,Array.prototype.slice.call(arguments,2))};var E=function(a,b,c){this.S=c;this.M=a;this.U=b;this.s=0;this.o=null};E.prototype.get=function(){var a;0<this.s?(this.s--,a=this.o,this.o=a.next,a.next=null):a=this.M();return a};E.prototype.put=function(a){this.U(a);this.s<this.S&&(this.s++,a.next=this.o,this.o=a)};var F;a:{var ia=q.navigator;if(ia){var ja=ia.userAgent;if(ja){F=ja;break a}}F=""};var ka=function(a){q.setTimeout(function(){throw a;},0)},G,la=function(){var a=q.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==F.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+
"//"+b.location.host,a=w(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==F.indexOf("Trident")&&-1==F.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.F;c.F=null;a()}};return function(a){d.next={F:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in
document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};var H=function(){this.v=this.f=null},ma=new E(function(){return new I},function(a){a.reset()},100);H.prototype.add=function(a,b){var c=ma.get();c.set(a,b);this.v?this.v.next=c:(C(!this.f),this.f=c);this.v=c};H.prototype.remove=function(){var a=null;this.f&&(a=this.f,this.f=this.f.next,this.f||(this.v=null),a.next=null);return a};var I=function(){this.next=this.scope=this.B=null};I.prototype.set=function(a,b){this.B=a;this.scope=b;this.next=null};
I.prototype.reset=function(){this.next=this.scope=this.B=null};var M=function(a,b){J||na();L||(J(),L=!0);oa.add(a,b)},J,na=function(){var a=q.Promise;if(-1!=String(a).indexOf("[native code]")){var b=a.resolve(void 0);J=function(){b.then(pa)}}else J=function(){var a=pa;!v(q.setImmediate)||q.Window&&q.Window.prototype&&-1==F.indexOf("Edge")&&q.Window.prototype.setImmediate==q.setImmediate?(G||(G=la()),G(a)):q.setImmediate(a)}},L=!1,oa=new H,pa=function(){for(var a;a=oa.remove();){try{a.B.call(a.scope)}catch(b){ka(b)}ma.put(a)}L=!1};var O=function(a,b){this.b=0;this.K=void 0;this.j=this.g=this.u=null;this.m=this.A=!1;if(a!=r)try{var c=this;a.call(b,function(a){N(c,2,a)},function(a){try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(e){}N(c,3,a)})}catch(d){N(this,3,d)}},qa=function(){this.next=this.context=this.h=this.c=this.child=null;this.w=!1};qa.prototype.reset=function(){this.context=this.h=this.c=this.child=null;this.w=!1};
var ra=new E(function(){return new qa},function(a){a.reset()},100),sa=function(a,b,c){var d=ra.get();d.c=a;d.h=b;d.context=c;return d},ua=function(a,b,c){ta(a,b,c,null)||M(x(b,a))};O.prototype.then=function(a,b,c){null!=a&&D(a,"opt_onFulfilled should be a function.");null!=b&&D(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return va(this,v(a)?a:null,v(b)?b:null,c)};O.prototype.then=O.prototype.then;O.prototype.$goog_Thenable=!0;
O.prototype.X=function(a,b){return va(this,null,a,b)};var xa=function(a,b){a.g||2!=a.b&&3!=a.b||wa(a);C(null!=b.c);a.j?a.j.next=b:a.g=b;a.j=b},va=function(a,b,c,d){var e=sa(null,null,null);e.child=new O(function(a,g){e.c=b?function(c){try{var e=b.call(d,c);a(e)}catch(K){g(K)}}:a;e.h=c?function(b){try{var e=c.call(d,b);a(e)}catch(K){g(K)}}:g});e.child.u=a;xa(a,e);return e.child};O.prototype.Y=function(a){C(1==this.b);this.b=0;N(this,2,a)};O.prototype.Z=function(a){C(1==this.b);this.b=0;N(this,3,a)};
var N=function(a,b,c){0==a.b&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.b=1,ta(c,a.Y,a.Z,a)||(a.K=c,a.b=b,a.u=null,wa(a),3!=b||ya(a,c)))},ta=function(a,b,c,d){if(a instanceof O)return null!=b&&D(b,"opt_onFulfilled should be a function."),null!=c&&D(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),xa(a,sa(b||r,c||null,d)),!0;var e;if(a)try{e=!!a.$goog_Thenable}catch(g){e=!1}else e=!1;if(e)return a.then(b,c,d),
!0;e=typeof a;if("object"==e&&null!=a||"function"==e)try{var f=a.then;if(v(f))return za(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1},za=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(p){k(p)}},wa=function(a){a.A||(a.A=!0,M(a.O,a))},Aa=function(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.j=null);null!=b&&C(null!=b.c);return b};
O.prototype.O=function(){for(var a;a=Aa(this);){var b=this.b,c=this.K;if(3==b&&a.h&&!a.w){var d;for(d=this;d&&d.m;d=d.u)d.m=!1}if(a.child)a.child.u=null,Ba(a,b,c);else try{a.w?a.c.call(a.context):Ba(a,b,c)}catch(e){Ca.call(null,e)}ra.put(a)}this.A=!1};var Ba=function(a,b,c){2==b?a.c.call(a.context,c):a.h&&a.h.call(a.context,c)},ya=function(a,b){a.m=!0;M(function(){a.m&&Ca.call(null,b)})},Ca=ka;function P(a,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:return new Date(b.getTime());case Object:void 0===a&&(a={});break;case Array:a=[];break;default:return b}for(var c in b)b.hasOwnProperty(c)&&(a[c]=P(a[c],b[c]));return a};O.all=function(a){return new O(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},k=0,p;k<a.length;k++)p=a[k],ua(p,x(f,k),g);else b(e)})};O.resolve=function(a){if(a instanceof O)return a;var b=new O(r);N(b,2,a);return b};O.reject=function(a){return new O(function(b,c){c(a)})};O.prototype["catch"]=O.prototype.X;var Q=O;"undefined"!==typeof Promise&&(Q=Promise);var Da=Q;function Ea(a,b){a=new R(a,b);return a.subscribe.bind(a)}var R=function(a,b){var c=this;this.a=[];this.J=0;this.task=Da.resolve();this.l=!1;this.D=b;this.task.then(function(){a(c)}).catch(function(a){c.error(a)})};R.prototype.next=function(a){S(this,function(b){b.next(a)})};R.prototype.error=function(a){S(this,function(b){b.error(a)});this.close(a)};R.prototype.complete=function(){S(this,function(a){a.complete()});this.close()};
R.prototype.subscribe=function(a,b,c){var d=this,e;if(void 0===a&&void 0===b&&void 0===c)throw Error("Missing Observer.");e=Fa(a)?a:{next:a,error:b,complete:c};void 0===e.next&&(e.next=T);void 0===e.error&&(e.error=T);void 0===e.complete&&(e.complete=T);a=this.$.bind(this,this.a.length);this.l&&this.task.then(function(){try{d.G?e.error(d.G):e.complete()}catch(f){}});this.a.push(e);return a};
R.prototype.$=function(a){void 0!==this.a&&void 0!==this.a[a]&&(delete this.a[a],--this.J,0===this.J&&void 0!==this.D&&this.D(this))};var S=function(a,b){if(!a.l)for(var c=0;c<a.a.length;c++)Ga(a,c,b)},Ga=function(a,b,c){a.task.then(function(){if(void 0!==a.a&&void 0!==a.a[b])try{c(a.a[b])}catch(d){}})};R.prototype.close=function(a){var b=this;this.l||(this.l=!0,void 0!==a&&(this.G=a),this.task.then(function(){b.a=void 0;b.D=void 0}))};
function Fa(a){if("object"!==typeof a||null===a)return!1;var b;b=["next","error","complete"];n();var c=b[Symbol.iterator];b=c?c.call(b):m(b);for(c=b.next();!c.done;c=b.next())if(c=c.value,c in a&&"function"===typeof a[c])return!0;return!1}function T(){};var Ha=Error.captureStackTrace,V=function(a,b){this.code=a;this.message=b;if(Ha)Ha(this,U.prototype.create);else{var c=Error.apply(this,arguments);this.name="FirebaseError";Object.defineProperty(this,"stack",{get:function(){return c.stack}})}};V.prototype=Object.create(Error.prototype);V.prototype.constructor=V;V.prototype.name="FirebaseError";var U=function(a,b,c){this.V=a;this.W=b;this.N=c;this.pattern=/\{\$([^}]+)}/g};
U.prototype.create=function(a,b){void 0===b&&(b={});var c=this.N[a];a=this.V+"/"+a;var c=void 0===c?"Error":c.replace(this.pattern,function(a,c){a=b[c];return void 0!==a?a.toString():"<"+c+"?>"}),c=this.W+": "+c+" ("+a+").",c=new V(a,c),d;for(d in b)b.hasOwnProperty(d)&&"_"!==d.slice(-1)&&(c[d]=b[d]);return c};var W=Q,X=function(a,b,c){var d=this;this.H=c;this.I=!1;this.i={};this.C=b;this.T=P(void 0,a);Object.keys(c.INTERNAL.factories).forEach(function(a){var b=c.INTERNAL.useAsService(d,a);null!==b&&(b=d.R.bind(d,b),d[a]=b)})};X.prototype.delete=function(){var a=this;return(new W(function(b){Y(a);b()})).then(function(){a.H.INTERNAL.removeApp(a.C);return W.all(Object.keys(a.i).map(function(b){return a.i[b].INTERNAL.delete()}))}).then(function(){a.I=!0;a.i={}})};
X.prototype.R=function(a){Y(this);void 0===this.i[a]&&(this.i[a]=this.H.INTERNAL.factories[a](this,this.P.bind(this)));return this.i[a]};X.prototype.P=function(a){P(this,a)};var Y=function(a){a.I&&Z(Ia("deleted",{name:a.C}))};h.Object.defineProperties(X.prototype,{name:{configurable:!0,enumerable:!0,get:function(){Y(this);return this.C}},options:{configurable:!0,enumerable:!0,get:function(){Y(this);return this.T}}});X.prototype.name&&X.prototype.options||X.prototype.delete||console.log("dc");
function Ja(){function a(a){a=a||"[DEFAULT]";var b=d[a];void 0===b&&Z("noApp",{name:a});return b}function b(a,b){Object.keys(e).forEach(function(d){d=c(a,d);if(null!==d&&f[d])f[d](b,a)})}function c(a,b){if("serverAuth"===b)return null;var c=b;a=a.options;"auth"===b&&(a.serviceAccount||a.credential)&&(c="serverAuth","serverAuth"in e||Z("serverAuthMissing"));return c}var d={},e={},f={},g={__esModule:!0,initializeApp:function(a,c){void 0===c?c="[DEFAULT]":"string"===typeof c&&""!==c||Z("bad-app-name",
{name:c+""});void 0!==d[c]&&Z("dupApp",{name:c});a=new X(a,c,g);d[c]=a;b(a,"create");void 0!=a.INTERNAL&&void 0!=a.INTERNAL.getToken||P(a,{INTERNAL:{getToken:function(){return W.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}});return a},app:a,apps:null,Promise:W,SDK_VERSION:"0.0.0",INTERNAL:{registerService:function(b,c,d,u){e[b]&&Z("dupService",{name:b});e[b]=c;u&&(f[b]=u);c=function(c){void 0===c&&(c=a());return c[b]()};void 0!==d&&P(c,d);return g[b]=c},createFirebaseNamespace:Ja,
extendNamespace:function(a){P(g,a)},createSubscribe:Ea,ErrorFactory:U,removeApp:function(a){b(d[a],"delete");delete d[a]},factories:e,useAsService:c,Promise:O,deepExtend:P}};g["default"]=g;Object.defineProperty(g,"apps",{get:function(){return Object.keys(d).map(function(a){return d[a]})}});a.App=X;return g}function Z(a,b){throw Error(Ia(a,b));}
function Ia(a,b){b=b||{};b={noApp:"No Firebase App '"+b.name+"' has been created - call Firebase App.initializeApp().","bad-app-name":"Illegal App name: '"+b.name+"'.",dupApp:"Firebase App named '"+b.name+"' already exists.",deleted:"Firebase App named '"+b.name+"' already deleted.",dupService:"Firebase Service named '"+b.name+"' already registered.",serverAuthMissing:"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain."}[a];
return void 0===b?"Application Error: ("+a+")":b};"undefined"!==typeof firebase&&(firebase=Ja()); })();
firebase.SDK_VERSION = "3.4.1";
module.exports = firebase;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],5:[function(require,module,exports){
var firebase = require('./app');
/*! @license Firebase v3.4.1
    Build: 3.4.1-rc.2
    Terms: https://developers.google.com/terms */
(function(){var h,aa=aa||{},l=this,ba=function(){},ca=function(){throw Error("unimplemented abstract method");},m=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=
typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},da=function(a){return null===a},ea=function(a){return"array"==m(a)},fa=function(a){var b=m(a);return"array"==b||"object"==b&&"number"==typeof a.length},n=function(a){return"string"==typeof a},ga=function(a){return"number"==typeof a},p=function(a){return"function"==m(a)},ha=function(a){var b=typeof a;
return"object"==b&&null!=a||"function"==b},ia=function(a,b,c){return a.call.apply(a.bind,arguments)},ja=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},q=function(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return q.apply(null,
arguments)},ka=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},la=Date.now||function(){return+new Date},t=function(a,b){function c(){}c.prototype=b.prototype;a.Rc=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.We=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var u=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};t(u,Error);u.prototype.name="CustomError";var ma=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},na=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oa=/&/g,pa=/</g,qa=/>/g,ra=/"/g,ta=/'/g,ua=/\x00/g,va=/[\x00&<>"']/,v=function(a,b){return-1!=a.indexOf(b)},wa=function(a,b){return a<b?-1:a>b?1:0};var xa=function(a,b){b.unshift(a);u.call(this,ma.apply(null,b));b.shift()};t(xa,u);xa.prototype.name="AssertionError";
var ya=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new xa(""+e,f||[]);},w=function(a,b,c){a||ya("",null,b,Array.prototype.slice.call(arguments,2))},za=function(a,b){throw new xa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},Aa=function(a,b,c){ga(a)||ya("Expected number but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,2));return a},Ba=function(a,b,c){n(a)||ya("Expected string but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,
2))},Ca=function(a,b,c){p(a)||ya("Expected function but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,2))};var Da=Array.prototype.indexOf?function(a,b,c){w(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=Array.prototype.forEach?function(a,b,c){w(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ea=function(a,b){for(var c=n(a)?
a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)},Fa=Array.prototype.map?function(a,b,c){w(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=n(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ga=Array.prototype.some?function(a,b,c){w(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},
Ia=function(a){var b;a:{b=Ha;for(var c=a.length,d=n(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:n(a)?a.charAt(b):a[b]},Ja=function(a,b){return 0<=Da(a,b)},La=function(a,b){b=Da(a,b);var c;(c=0<=b)&&Ka(a,b);return c},Ka=function(a,b){w(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length},Ma=function(a,b){var c=0;Ea(a,function(d,e){b.call(void 0,d,e,a)&&Ka(a,e)&&c++})},Na=function(a){return Array.prototype.concat.apply(Array.prototype,
arguments)},Oa=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Pa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Qa=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(fa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}};var Ra=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},Sa=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ta=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ua=function(a){for(var b in a)return!1;return!0},Va=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0},Wa=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),
Ya=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Xa.length;f++)c=Xa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Za;a:{var $a=l.navigator;if($a){var ab=$a.userAgent;if(ab){Za=ab;break a}}Za=""}var y=function(a){return v(Za,a)};var bb=function(a){bb[" "](a);return a};bb[" "]=ba;var db=function(a,b){var c=cb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var eb=y("Opera"),z=y("Trident")||y("MSIE"),fb=y("Edge"),gb=fb||z,hb=y("Gecko")&&!(v(Za.toLowerCase(),"webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),ib=v(Za.toLowerCase(),"webkit")&&!y("Edge"),jb=function(){var a=l.document;return a?a.documentMode:void 0},kb;
a:{var lb="",mb=function(){var a=Za;if(hb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(fb)return/Edge\/([\d\.]+)/.exec(a);if(z)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(ib)return/WebKit\/(\S+)/.exec(a);if(eb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();mb&&(lb=mb?mb[1]:"");if(z){var nb=jb();if(null!=nb&&nb>parseFloat(lb)){kb=String(nb);break a}}kb=lb}
var ob=kb,cb={},A=function(a){return db(a,function(){for(var b=0,c=na(String(ob)).split("."),d=na(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==g[0].length&&0==k[0].length)break;b=wa(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||wa(0==g[2].length,0==k[2].length)||wa(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})},pb;var qb=l.document;
pb=qb&&z?jb()||("CSS1Compat"==qb.compatMode?parseInt(ob,10):5):void 0;var rb=null,sb=null,ub=function(a){var b="";tb(a,function(a){b+=String.fromCharCode(a)});return b},tb=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=sb[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}vb();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=k&&b(g<<6&192|k))}},vb=function(){if(!rb){rb={};sb={};for(var a=0;65>a;a++)rb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),
sb[rb[a]]=a,62<=a&&(sb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var wb=!z||9<=Number(pb),xb=z&&!A("9");!ib||A("528");hb&&A("1.9b")||z&&A("8")||eb&&A("9.5")||ib&&A("528");hb&&!A("8")||z&&A("9");var yb=function(){this.za=this.za;this.Vb=this.Vb};yb.prototype.za=!1;yb.prototype.isDisposed=function(){return this.za};yb.prototype.Pa=function(){if(this.Vb)for(;this.Vb.length;)this.Vb.shift()()};var zb=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Wa=!1;this.wd=!0};zb.prototype.preventDefault=function(){this.defaultPrevented=!0;this.wd=!1};var Ab=function(a,b){zb.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.mb=this.state=null;a&&this.init(a,b)};t(Ab,zb);
Ab.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(hb){var e;a:{try{bb(b.nodeName);e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=ib||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=ib||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:
a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.mb=a;a.defaultPrevented&&
this.preventDefault()};Ab.prototype.preventDefault=function(){Ab.Rc.preventDefault.call(this);var a=this.mb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,xb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Ab.prototype.fe=function(){return this.mb};var Bb="closure_listenable_"+(1E6*Math.random()|0),Cb=0;var Db=function(a,b,c,d,e){this.listener=a;this.Zb=null;this.src=b;this.type=c;this.Eb=!!d;this.Mb=e;this.key=++Cb;this.ab=this.Db=!1},Eb=function(a){a.ab=!0;a.listener=null;a.Zb=null;a.src=null;a.Mb=null};var Fb=function(a){this.src=a;this.w={};this.Ab=0};Fb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.w[f];a||(a=this.w[f]=[],this.Ab++);var g=Gb(a,b,d,e);-1<g?(b=a[g],c||(b.Db=!1)):(b=new Db(b,this.src,f,!!d,e),b.Db=c,a.push(b));return b};Fb.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.w))return!1;var e=this.w[a];b=Gb(e,b,c,d);return-1<b?(Eb(e[b]),Ka(e,b),0==e.length&&(delete this.w[a],this.Ab--),!0):!1};
var Hb=function(a,b){var c=b.type;c in a.w&&La(a.w[c],b)&&(Eb(b),0==a.w[c].length&&(delete a.w[c],a.Ab--))};Fb.prototype.xc=function(a,b,c,d){a=this.w[a.toString()];var e=-1;a&&(e=Gb(a,b,c,d));return-1<e?a[e]:null};var Gb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ab&&f.listener==b&&f.Eb==!!c&&f.Mb==d)return e}return-1};var Ib="closure_lm_"+(1E6*Math.random()|0),Jb={},Kb=0,Lb=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)Lb(a,b[f],c,d,e);else c=Mb(c),a&&a[Bb]?a.listen(b,c,d,e):Nb(a,b,c,!1,d,e)},Nb=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,k=Ob(a);k||(a[Ib]=k=new Fb(a));c=k.add(b,c,d,e,f);if(!c.Zb){d=Pb();c.Zb=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Qb(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
Kb++}},Pb=function(){var a=Rb,b=wb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Sb=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)Sb(a,b[f],c,d,e);else c=Mb(c),a&&a[Bb]?Tb(a,b,c,d,e):Nb(a,b,c,!0,d,e)},Ub=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)Ub(a,b[f],c,d,e);else c=Mb(c),a&&a[Bb]?a.Y.remove(String(b),c,d,e):a&&(a=Ob(a))&&(b=a.xc(b,c,!!d,e))&&Vb(b)},Vb=function(a){if(!ga(a)&&a&&!a.ab){var b=a.src;if(b&&
b[Bb])Hb(b.Y,a);else{var c=a.type,d=a.Zb;b.removeEventListener?b.removeEventListener(c,d,a.Eb):b.detachEvent&&b.detachEvent(Qb(c),d);Kb--;(c=Ob(b))?(Hb(c,a),0==c.Ab&&(c.src=null,b[Ib]=null)):Eb(a)}}},Qb=function(a){return a in Jb?Jb[a]:Jb[a]="on"+a},Xb=function(a,b,c,d){var e=!0;if(a=Ob(a))if(b=a.w[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Eb==c&&!f.ab&&(f=Wb(f,d),e=e&&!1!==f)}return e},Wb=function(a,b){var c=a.listener,d=a.Mb||a.src;a.Db&&Vb(a);return c.call(d,b)},Rb=function(a,
b){if(a.ab)return!0;if(!wb){if(!b)a:{b=["window","event"];for(var c=l,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new Ab(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Wa&&0<=e;e--){b.currentTarget=d[e];var f=Xb(d[e],a,!0,b),c=c&&f}for(e=0;!b.Wa&&e<d.length;e++)b.currentTarget=
d[e],f=Xb(d[e],a,!1,b),c=c&&f}return c}return Wb(a,new Ab(b,this))},Ob=function(a){a=a[Ib];return a instanceof Fb?a:null},Yb="__closure_events_fn_"+(1E9*Math.random()>>>0),Mb=function(a){w(a,"Listener can not be null.");if(p(a))return a;w(a.handleEvent,"An object listener must have handleEvent method.");a[Yb]||(a[Yb]=function(b){return a.handleEvent(b)});return a[Yb]};var Zb=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;var ac=function(){this.hc="";this.Od=$b};ac.prototype.Pb=!0;ac.prototype.Kb=function(){return this.hc};ac.prototype.toString=function(){return"Const{"+this.hc+"}"};var bc=function(a){if(a instanceof ac&&a.constructor===ac&&a.Od===$b)return a.hc;za("expected object of type Const, got '"+a+"'");return"type_error:Const"},$b={};var B=function(){this.ja="";this.Nd=cc};B.prototype.Pb=!0;B.prototype.Kb=function(){return this.ja};B.prototype.toString=function(){return"SafeUrl{"+this.ja+"}"};
var dc=function(a){if(a instanceof B&&a.constructor===B&&a.Nd===cc)return a.ja;za("expected object of type SafeUrl, got '"+a+"' of type "+m(a));return"type_error:SafeUrl"},ec=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,gc=function(a){if(a instanceof B)return a;a=a.Pb?a.Kb():String(a);ec.test(a)||(a="about:invalid#zClosurez");return fc(a)},cc={},fc=function(a){var b=new B;b.ja=a;return b};fc("about:blank");var hc=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},ic=function(a){a=String(a);if(hc(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);},lc=function(a){var b=[];jc(new kc,a,b);return b.join("")},kc=function(){this.cc=void 0},
jc=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(ea(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],jc(a,a.cc?a.cc.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),mc(d,c),c.push(":"),jc(a,a.cc?a.cc.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":mc(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}},nc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},oc=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,mc=function(a,b){b.push('"',a.replace(oc,function(a){var b=nc[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),
nc[a]=b);return b}),'"')};var pc=function(){};pc.prototype.Vc=null;pc.prototype.lb=ca;var qc=function(a){return a.Vc||(a.Vc=a.Sb())};pc.prototype.Sb=ca;var rc,sc=function(){};t(sc,pc);sc.prototype.lb=function(){var a=tc(this);return a?new ActiveXObject(a):new XMLHttpRequest};sc.prototype.Sb=function(){var a={};tc(this)&&(a[0]=!0,a[1]=!0);return a};
var tc=function(a){if(!a.jd&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.jd=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.jd};rc=new sc;var uc=function(){};t(uc,pc);uc.prototype.lb=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new vc;throw Error("Unsupported browser");};uc.prototype.Sb=function(){return{}};
var vc=function(){this.oa=new XDomainRequest;this.readyState=0;this.onreadystatechange=null;this.responseText="";this.status=-1;this.statusText=this.responseXML=null;this.oa.onload=q(this.he,this);this.oa.onerror=q(this.gd,this);this.oa.onprogress=q(this.ie,this);this.oa.ontimeout=q(this.je,this)};h=vc.prototype;h.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.oa.open(a,b)};
h.send=function(a){if(a)if("string"==typeof a)this.oa.send(a);else throw Error("Only string data is supported");else this.oa.send()};h.abort=function(){this.oa.abort()};h.setRequestHeader=function(){};h.he=function(){this.status=200;this.responseText=this.oa.responseText;wc(this,4)};h.gd=function(){this.status=500;this.responseText="";wc(this,4)};h.je=function(){this.gd()};h.ie=function(){this.status=200;wc(this,1)};var wc=function(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()};var C=function(a,b){this.h=[];this.g=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.h[d]=e,c=!1)}},xc={},yc=function(a){if(-128<=a&&128>a){var b=xc[a];if(b)return b}b=new C([a|0],0>a?-1:0);-128<=a&&128>a&&(xc[a]=b);return b},F=function(a){if(isNaN(a)||!isFinite(a))return D;if(0>a)return E(F(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new C(b,0)},zc=function(a,b){if(0==a.length)throw Error("number format error: empty string");b=b||10;if(2>b||36<b)throw Error("radix out of range: "+
b);if("-"==a.charAt(0))return E(zc(a.substring(1),b));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character');for(var c=F(Math.pow(b,8)),d=D,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=F(Math.pow(b,f)),d=d.multiply(f).add(F(g))):(d=d.multiply(c),d=d.add(F(g)))}return d},D=yc(0),Ac=yc(1),Bc=yc(16777216),Cc=function(a){if(-1==a.g)return-Cc(E(a));for(var b=0,c=1,d=0;d<a.h.length;d++)b+=Dc(a,d)*c,c*=4294967296;return b};
C.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(G(this))return"0";if(-1==this.g)return"-"+E(this).toString(a);for(var b=F(Math.pow(a,6)),c=this,d="";;){var e=Ec(c,b),c=Fc(c,e.multiply(b)),f=((0<c.h.length?c.h[0]:c.g)>>>0).toString(a),c=e;if(G(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
var H=function(a,b){return 0>b?0:b<a.h.length?a.h[b]:a.g},Dc=function(a,b){a=H(a,b);return 0<=a?a:4294967296+a},G=function(a){if(0!=a.g)return!1;for(var b=0;b<a.h.length;b++)if(0!=a.h[b])return!1;return!0};C.prototype.Gb=function(a){if(this.g!=a.g)return!1;for(var b=Math.max(this.h.length,a.h.length),c=0;c<b;c++)if(H(this,c)!=H(a,c))return!1;return!0};C.prototype.compare=function(a){a=Fc(this,a);return-1==a.g?-1:G(a)?0:1};
var E=function(a){for(var b=a.h.length,c=[],d=0;d<b;d++)c[d]=~a.h[d];return(new C(c,~a.g)).add(Ac)};C.prototype.add=function(a){for(var b=Math.max(this.h.length,a.h.length),c=[],d=0,e=0;e<=b;e++){var f=d+(H(this,e)&65535)+(H(a,e)&65535),g=(f>>>16)+(H(this,e)>>>16)+(H(a,e)>>>16),d=g>>>16,f=f&65535,g=g&65535;c[e]=g<<16|f}return new C(c,c[c.length-1]&-2147483648?-1:0)};var Fc=function(a,b){return a.add(E(b))};
C.prototype.multiply=function(a){if(G(this)||G(a))return D;if(-1==this.g)return-1==a.g?E(this).multiply(E(a)):E(E(this).multiply(a));if(-1==a.g)return E(this.multiply(E(a)));if(0>this.compare(Bc)&&0>a.compare(Bc))return F(Cc(this)*Cc(a));for(var b=this.h.length+a.h.length,c=[],d=0;d<2*b;d++)c[d]=0;for(d=0;d<this.h.length;d++)for(var e=0;e<a.h.length;e++){var f=H(this,d)>>>16,g=H(this,d)&65535,k=H(a,e)>>>16,r=H(a,e)&65535;c[2*d+2*e]+=g*r;Gc(c,2*d+2*e);c[2*d+2*e+1]+=f*r;Gc(c,2*d+2*e+1);c[2*d+2*e+1]+=
g*k;Gc(c,2*d+2*e+1);c[2*d+2*e+2]+=f*k;Gc(c,2*d+2*e+2)}for(d=0;d<b;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;d<2*b;d++)c[d]=0;return new C(c,0)};
var Gc=function(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++},Ec=function(a,b){if(G(b))throw Error("division by zero");if(G(a))return D;if(-1==a.g)return-1==b.g?Ec(E(a),E(b)):E(Ec(E(a),b));if(-1==b.g)return E(Ec(a,E(b)));if(30<a.h.length){if(-1==a.g||-1==b.g)throw Error("slowDivide_ only works with positive integers.");for(var c=Ac;0>=b.compare(a);)c=c.shiftLeft(1),b=b.shiftLeft(1);var d=Hc(c,1),e=Hc(b,1),f;b=Hc(b,2);for(c=Hc(c,2);!G(b);)f=e.add(b),0>=f.compare(a)&&(d=d.add(c),
e=f),b=Hc(b,1),c=Hc(c,1);return d}for(c=D;0<=a.compare(b);){d=Math.max(1,Math.floor(Cc(a)/Cc(b)));e=Math.ceil(Math.log(d)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=F(d);for(var g=f.multiply(b);-1==g.g||0<g.compare(a);)d-=e,f=F(d),g=f.multiply(b);G(f)&&(f=Ac);c=c.add(f);a=Fc(a,g)}return c},Ic=function(a,b){for(var c=Math.max(a.h.length,b.h.length),d=[],e=0;e<c;e++)d[e]=H(a,e)|H(b,e);return new C(d,a.g|b.g)};
C.prototype.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.h.length+b+(0<a?1:0),d=[],e=0;e<c;e++)d[e]=0<a?H(this,e-b)<<a|H(this,e-b-1)>>>32-a:H(this,e-b);return new C(d,this.g)};var Hc=function(a,b){var c=b>>5;b%=32;for(var d=a.h.length-c,e=[],f=0;f<d;f++)e[f]=0<b?H(a,f+c)>>>b|H(a,f+c+1)<<32-b:H(a,f+c);return new C(e,a.g)};var Jc=function(a,b){this.qb=a;this.na=b};Jc.prototype.Gb=function(a){return this.na==a.na&&this.qb.Gb(Wa(a.qb))};Jc.prototype.toString=ca;
var Mc=function(a){try{var b;if(b=0==a.lastIndexOf("[",0)){var c=a.length-1;b=0<=c&&a.indexOf("]",c)==c}return b?new Kc(a.substring(1,a.length-1)):new Lc(a)}catch(d){return null}},Lc=function(a){var b=D;if(a instanceof C){if(0!=a.g||0>a.compare(D)||0<a.compare(Nc))throw Error("The address does not look like an IPv4.");b=Wa(a)}else{if(!Oc.test(a))throw Error(a+" does not look like an IPv4 address.");var c=a.split(".");if(4!=c.length)throw Error(a+" does not look like an IPv4 address.");for(var d=0;d<
c.length;d++){var e;e=c[d];var f=Number(e);e=0==f&&/^[\s\xa0]*$/.test(e)?NaN:f;if(isNaN(e)||0>e||255<e||1!=c[d].length&&0==c[d].lastIndexOf("0",0))throw Error("In "+a+", octet "+d+" is not valid");e=F(e);b=Ic(b.shiftLeft(8),e)}}Jc.call(this,b,4)};t(Lc,Jc);var Oc=/^[0-9.]*$/,Nc=Fc(Ac.shiftLeft(32),Ac);Lc.prototype.toString=function(){if(this.Da)return this.Da;for(var a=Dc(this.qb,0),b=[],c=3;0<=c;c--)b[c]=String(a&255),a>>>=8;return this.Da=b.join(".")};
var Kc=function(a){var b=D;if(a instanceof C){if(0!=a.g||0>a.compare(D)||0<a.compare(Pc))throw Error("The address does not look like a valid IPv6.");b=Wa(a)}else{if(!Qc.test(a))throw Error(a+" is not a valid IPv6 address.");var c=a.split(":");if(-1!=c[c.length-1].indexOf(".")){a=Dc(Wa((new Lc(c[c.length-1])).qb),0);var d=[];d.push((a>>>16&65535).toString(16));d.push((a&65535).toString(16));Ka(c,c.length-1);Qa(c,d);a=c.join(":")}d=a.split("::");if(2<d.length||1==d.length&&8!=c.length)throw Error(a+
" is not a valid IPv6 address.");if(1<d.length){c=d[0].split(":");d=d[1].split(":");1==c.length&&""==c[0]&&(c=[]);1==d.length&&""==d[0]&&(d=[]);var e=8-(c.length+d.length);if(1>e)c=[];else{for(var f=[],g=0;g<e;g++)f[g]="0";c=Oa(c,f,d)}}if(8!=c.length)throw Error(a+" is not a valid IPv6 address");for(d=0;d<c.length;d++){e=zc(c[d],16);if(0>e.compare(D)||0<e.compare(Rc))throw Error(c[d]+" in "+a+" is not a valid hextet.");b=Ic(b.shiftLeft(16),e)}}Jc.call(this,b,6)};t(Kc,Jc);
var Qc=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,Rc=yc(65535),Pc=Fc(Ac.shiftLeft(128),Ac);Kc.prototype.toString=function(){if(this.Da)return this.Da;for(var a=[],b=3;0<=b;b--){var c=Dc(this.qb,b),d=c&65535;a.push((c>>>16).toString(16));a.push(d.toString(16))}for(var c=b=-1,e=d=0,f=0;f<a.length;f++)"0"==a[f]?(e++,-1==c&&(c=f),e>d&&(d=e,b=c)):(c=-1,e=0);0<d&&(b+d==a.length&&a.push(""),a.splice(b,d,""),0==b&&(a=[""].concat(a)));return this.Da=a.join(":")};var Tc=function(){this.Yb="";this.Pd=Sc};Tc.prototype.Pb=!0;Tc.prototype.Kb=function(){return this.Yb};Tc.prototype.toString=function(){return"TrustedResourceUrl{"+this.Yb+"}"};var Sc={};var Vc=function(){this.ja="";this.Md=Uc};Vc.prototype.Pb=!0;Vc.prototype.Kb=function(){return this.ja};Vc.prototype.toString=function(){return"SafeHtml{"+this.ja+"}"};var Wc=function(a){if(a instanceof Vc&&a.constructor===Vc&&a.Md===Uc)return a.ja;za("expected object of type SafeHtml, got '"+a+"' of type "+m(a));return"type_error:SafeHtml"},Uc={};Vc.prototype.qe=function(a){this.ja=a;return this};!hb&&!z||z&&9<=Number(pb)||hb&&A("1.9.1");z&&A("9");var Yc=function(a,b){Ra(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Xc.hasOwnProperty(d)?a.setAttribute(Xc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},Xc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};var Zc=function(a,b,c){this.se=c;this.Vd=a;this.De=b;this.Ub=0;this.Nb=null};Zc.prototype.get=function(){var a;0<this.Ub?(this.Ub--,a=this.Nb,this.Nb=a.next,a.next=null):a=this.Vd();return a};Zc.prototype.put=function(a){this.De(a);this.Ub<this.se&&(this.Ub++,a.next=this.Nb,this.Nb=a)};var $c=function(a){l.setTimeout(function(){throw a;},0)},ad,bd=function(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,
a=q(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!y("Trident")&&!y("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.Zc;c.Zc=null;a()}};return function(a){d.next={Zc:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};var cd=function(){this.mc=this.Ka=null},ed=new Zc(function(){return new dd},function(a){a.reset()},100);cd.prototype.add=function(a,b){var c=ed.get();c.set(a,b);this.mc?this.mc.next=c:(w(!this.Ka),this.Ka=c);this.mc=c};cd.prototype.remove=function(){var a=null;this.Ka&&(a=this.Ka,this.Ka=this.Ka.next,this.Ka||(this.mc=null),a.next=null);return a};var dd=function(){this.next=this.scope=this.wc=null};dd.prototype.set=function(a,b){this.wc=a;this.scope=b;this.next=null};
dd.prototype.reset=function(){this.next=this.scope=this.wc=null};var jd=function(a,b){fd||gd();hd||(fd(),hd=!0);id.add(a,b)},fd,gd=function(){var a=l.Promise;if(-1!=String(a).indexOf("[native code]")){var b=a.resolve(void 0);fd=function(){b.then(kd)}}else fd=function(){var a=kd;!p(l.setImmediate)||l.Window&&l.Window.prototype&&!y("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(ad||(ad=bd()),ad(a)):l.setImmediate(a)}},hd=!1,id=new cd,kd=function(){for(var a;a=id.remove();){try{a.wc.call(a.scope)}catch(b){$c(b)}ed.put(a)}hd=!1};var ld=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},md=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var I=function(a,b){this.F=0;this.ka=void 0;this.Na=this.fa=this.o=null;this.Lb=this.vc=!1;if(a!=ba)try{var c=this;a.call(b,function(a){nd(c,2,a)},function(a){if(!(a instanceof od))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(e){}nd(c,3,a)})}catch(d){nd(this,3,d)}},pd=function(){this.next=this.context=this.Ta=this.Fa=this.child=null;this.jb=!1};pd.prototype.reset=function(){this.context=this.Ta=this.Fa=this.child=null;this.jb=!1};
var qd=new Zc(function(){return new pd},function(a){a.reset()},100),rd=function(a,b,c){var d=qd.get();d.Fa=a;d.Ta=b;d.context=c;return d},J=function(a){if(a instanceof I)return a;var b=new I(ba);nd(b,2,a);return b},K=function(a){return new I(function(b,c){c(a)})},td=function(a,b,c){sd(a,b,c,null)||jd(ka(b,a))},ud=function(a){return new I(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{ee:!0,value:f}:{ee:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],td(g,ka(e,f,!0),
ka(e,f,!1));else b(d)})};I.prototype.then=function(a,b,c){null!=a&&Ca(a,"opt_onFulfilled should be a function.");null!=b&&Ca(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return vd(this,p(a)?a:null,p(b)?b:null,c)};ld(I);var xd=function(a,b){b=rd(b,b,void 0);b.jb=!0;wd(a,b);return a};I.prototype.l=function(a,b){return vd(this,null,a,b)};I.prototype.cancel=function(a){0==this.F&&jd(function(){var b=new od(a);yd(this,b)},this)};
var yd=function(a,b){if(0==a.F)if(a.o){var c=a.o;if(c.fa){for(var d=0,e=null,f=null,g=c.fa;g&&(g.jb||(d++,g.child==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.F&&1==d?yd(c,b):(f?(d=f,w(c.fa),w(null!=d),d.next==c.Na&&(c.Na=d),d.next=d.next.next):zd(c),Ad(c,e,3,b)))}a.o=null}else nd(a,3,b)},wd=function(a,b){a.fa||2!=a.F&&3!=a.F||Bd(a);w(null!=b.Fa);a.Na?a.Na.next=b:a.fa=b;a.Na=b},vd=function(a,b,c,d){var e=rd(null,null,null);e.child=new I(function(a,g){e.Fa=b?function(c){try{var e=b.call(d,c);a(e)}catch(sa){g(sa)}}:
a;e.Ta=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof od?g(b):a(e)}catch(sa){g(sa)}}:g});e.child.o=a;wd(a,e);return e.child};I.prototype.Me=function(a){w(1==this.F);this.F=0;nd(this,2,a)};I.prototype.Ne=function(a){w(1==this.F);this.F=0;nd(this,3,a)};
var nd=function(a,b,c){0==a.F&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.F=1,sd(c,a.Me,a.Ne,a)||(a.ka=c,a.F=b,a.o=null,Bd(a),3!=b||c instanceof od||Cd(a,c)))},sd=function(a,b,c,d){if(a instanceof I)return null!=b&&Ca(b,"opt_onFulfilled should be a function."),null!=c&&Ca(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),wd(a,rd(b||ba,c||null,d)),!0;if(md(a))return a.then(b,c,d),!0;if(ha(a))try{var e=a.then;if(p(e))return Dd(a,
e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1},Dd=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(r){k(r)}},Bd=function(a){a.vc||(a.vc=!0,jd(a.$d,a))},zd=function(a){var b=null;a.fa&&(b=a.fa,a.fa=b.next,b.next=null);a.fa||(a.Na=null);null!=b&&w(null!=b.Fa);return b};I.prototype.$d=function(){for(var a;a=zd(this);)Ad(this,a,this.F,this.ka);this.vc=!1};
var Ad=function(a,b,c,d){if(3==c&&b.Ta&&!b.jb)for(;a&&a.Lb;a=a.o)a.Lb=!1;if(b.child)b.child.o=null,Ed(b,c,d);else try{b.jb?b.Fa.call(b.context):Ed(b,c,d)}catch(e){Fd.call(null,e)}qd.put(b)},Ed=function(a,b,c){2==b?a.Fa.call(a.context,c):a.Ta&&a.Ta.call(a.context,c)},Cd=function(a,b){a.Lb=!0;jd(function(){a.Lb&&Fd.call(null,b)})},Fd=$c,od=function(a){u.call(this,a)};t(od,u);od.prototype.name="cancel";/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var Gd=function(a,b){this.dc=[];this.pd=a;this.ad=b||null;this.ob=this.Ra=!1;this.ka=void 0;this.Pc=this.Uc=this.qc=!1;this.kc=0;this.o=null;this.rc=0};Gd.prototype.cancel=function(a){if(this.Ra)this.ka instanceof Gd&&this.ka.cancel();else{if(this.o){var b=this.o;delete this.o;a?b.cancel(a):(b.rc--,0>=b.rc&&b.cancel())}this.pd?this.pd.call(this.ad,this):this.Pc=!0;this.Ra||Hd(this,new Id)}};Gd.prototype.$c=function(a,b){this.qc=!1;Jd(this,a,b)};
var Jd=function(a,b,c){a.Ra=!0;a.ka=c;a.ob=!b;Kd(a)},Md=function(a){if(a.Ra){if(!a.Pc)throw new Ld;a.Pc=!1}};Gd.prototype.callback=function(a){Md(this);Nd(a);Jd(this,!0,a)};
var Hd=function(a,b){Md(a);Nd(b);Jd(a,!1,b)},Nd=function(a){w(!(a instanceof Gd),"An execution sequence may not be initiated with a blocking Deferred.")},Rd=function(a){var b=Od("https://apis.google.com/js/client.js?onload="+Pd);Qd(b,null,a,void 0)},Qd=function(a,b,c,d){w(!a.Uc,"Blocking Deferreds can not be re-used");a.dc.push([b,c,d]);a.Ra&&Kd(a)};Gd.prototype.then=function(a,b,c){var d,e,f=new I(function(a,b){d=a;e=b});Qd(this,d,function(a){a instanceof Id?f.cancel():e(a)});return f.then(a,b,c)};
ld(Gd);
var Sd=function(a){return Ga(a.dc,function(a){return p(a[1])})},Kd=function(a){if(a.kc&&a.Ra&&Sd(a)){var b=a.kc,c=Td[b];c&&(l.clearTimeout(c.pb),delete Td[b]);a.kc=0}a.o&&(a.o.rc--,delete a.o);for(var b=a.ka,d=c=!1;a.dc.length&&!a.qc;){var e=a.dc.shift(),f=e[0],g=e[1],e=e[2];if(f=a.ob?g:f)try{var k=f.call(e||a.ad,b);void 0!==k&&(a.ob=a.ob&&(k==b||k instanceof Error),a.ka=b=k);if(md(b)||"function"===typeof l.Promise&&b instanceof l.Promise)d=!0,a.qc=!0}catch(r){b=r,a.ob=!0,Sd(a)||(c=!0)}}a.ka=b;d&&
(k=q(a.$c,a,!0),d=q(a.$c,a,!1),b instanceof Gd?(Qd(b,k,d),b.Uc=!0):b.then(k,d));c&&(b=new Ud(b),Td[b.pb]=b,a.kc=b.pb)},Ld=function(){u.call(this)};t(Ld,u);Ld.prototype.message="Deferred has already fired";Ld.prototype.name="AlreadyCalledError";var Id=function(){u.call(this)};t(Id,u);Id.prototype.message="Deferred was canceled";Id.prototype.name="CanceledError";var Ud=function(a){this.pb=l.setTimeout(q(this.Le,this),0);this.J=a};
Ud.prototype.Le=function(){w(Td[this.pb],"Cannot throw an error that is not scheduled.");delete Td[this.pb];throw this.J;};var Td={};var Od=function(a){var b=new Tc;b.Yb=a;return Vd(b)},Vd=function(a){var b={},c=b.document||document,d;a instanceof Tc&&a.constructor===Tc&&a.Pd===Sc?d=a.Yb:(za("expected object of type TrustedResourceUrl, got '"+a+"' of type "+m(a)),d="type_error:TrustedResourceUrl");var e=document.createElement("SCRIPT");a={xd:e,zb:void 0};var f=new Gd(Wd,a),g=null,k=null!=b.timeout?b.timeout:5E3;0<k&&(g=window.setTimeout(function(){Xd(e,!0);Hd(f,new Yd(1,"Timeout reached for loading script "+d))},k),a.zb=g);e.onload=
e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(Xd(e,b.Xe||!1,g),f.callback(null))};e.onerror=function(){Xd(e,!0,g);Hd(f,new Yd(0,"Error while loading script "+d))};a=b.attributes||{};Ya(a,{type:"text/javascript",charset:"UTF-8",src:d});Yc(e,a);Zd(c).appendChild(e);return f},Zd=function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement},Wd=function(){if(this&&this.xd){var a=this.xd;a&&"SCRIPT"==a.tagName&&
Xd(a,!0,this.zb)}},Xd=function(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ba;a.onerror=ba;a.onreadystatechange=ba;b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)},Yd=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);u.call(this,c);this.code=a};t(Yd,u);var $d=function(){yb.call(this);this.Y=new Fb(this);this.Sd=this;this.Fc=null};t($d,yb);$d.prototype[Bb]=!0;h=$d.prototype;h.addEventListener=function(a,b,c,d){Lb(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){Ub(this,a,b,c,d)};
h.dispatchEvent=function(a){ae(this);var b,c=this.Fc;if(c){b=[];for(var d=1;c;c=c.Fc)b.push(c),w(1E3>++d,"infinite loop")}c=this.Sd;d=a.type||a;if(n(a))a=new zb(a,c);else if(a instanceof zb)a.target=a.target||c;else{var e=a;a=new zb(d,c);Ya(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Wa&&0<=g;g--)f=a.currentTarget=b[g],e=be(f,d,!0,a)&&e;a.Wa||(f=a.currentTarget=c,e=be(f,d,!0,a)&&e,a.Wa||(e=be(f,d,!1,a)&&e));if(b)for(g=0;!a.Wa&&g<b.length;g++)f=a.currentTarget=b[g],e=be(f,d,!1,a)&&e;return e};
h.Pa=function(){$d.Rc.Pa.call(this);if(this.Y){var a=this.Y,b=0,c;for(c in a.w){for(var d=a.w[c],e=0;e<d.length;e++)++b,Eb(d[e]);delete a.w[c];a.Ab--}}this.Fc=null};h.listen=function(a,b,c,d){ae(this);return this.Y.add(String(a),b,!1,c,d)};
var Tb=function(a,b,c,d,e){a.Y.add(String(b),c,!0,d,e)},be=function(a,b,c,d){b=a.Y.w[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.ab&&g.Eb==c){var k=g.listener,r=g.Mb||g.src;g.Db&&Hb(a.Y,g);e=!1!==k.call(r,d)&&e}}return e&&0!=d.wd};$d.prototype.xc=function(a,b,c,d){return this.Y.xc(String(a),b,c,d)};var ae=function(a){w(a.Y,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var ce="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},de=function(){};de.prototype.next=function(){throw ce;};de.prototype.Rd=function(){return this};var ee=function(a,b){this.Z={};this.s=[];this.na=this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};h=ee.prototype;h.fd=function(){return this.i};h.T=function(){fe(this);for(var a=[],b=0;b<this.s.length;b++)a.push(this.Z[this.s[b]]);return a};h.ha=function(){fe(this);return this.s.concat()};h.kb=function(a){return ge(this.Z,a)};
h.Gb=function(a,b){if(this===a)return!0;if(this.i!=a.fd())return!1;b=b||he;fe(this);for(var c,d=0;c=this.s[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var he=function(a,b){return a===b};ee.prototype.remove=function(a){return ge(this.Z,a)?(delete this.Z[a],this.i--,this.na++,this.s.length>2*this.i&&fe(this),!0):!1};
var fe=function(a){if(a.i!=a.s.length){for(var b=0,c=0;b<a.s.length;){var d=a.s[b];ge(a.Z,d)&&(a.s[c++]=d);b++}a.s.length=c}if(a.i!=a.s.length){for(var e={},c=b=0;b<a.s.length;)d=a.s[b],ge(e,d)||(a.s[c++]=d,e[d]=1),b++;a.s.length=c}};h=ee.prototype;h.get=function(a,b){return ge(this.Z,a)?this.Z[a]:b};h.set=function(a,b){ge(this.Z,a)||(this.i++,this.s.push(a),this.na++);this.Z[a]=b};
h.addAll=function(a){var b;a instanceof ee?(b=a.ha(),a=a.T()):(b=Ta(a),a=Sa(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};h.forEach=function(a,b){for(var c=this.ha(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new ee(this)};h.Rd=function(a){fe(this);var b=0,c=this.na,d=this,e=new de;e.next=function(){if(c!=d.na)throw Error("The map has changed since the iterator was created");if(b>=d.s.length)throw ce;var e=d.s[b++];return a?e:d.Z[e]};return e};
var ge=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ie=function(a){if(a.T&&"function"==typeof a.T)return a.T();if(n(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Sa(a)},je=function(a){if(a.ha&&"function"==typeof a.ha)return a.ha();if(!a.T||"function"!=typeof a.T){if(fa(a)||n(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Ta(a)}},ke=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(fa(a)||n(a))x(a,b,void 0);else for(var c=je(a),d=ie(a),e=
d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)};var le=function(a,b,c,d,e){this.reset(a,b,c,d,e)};le.prototype.cd=null;var me=0;le.prototype.reset=function(a,b,c,d,e){"number"==typeof e||me++;d||la();this.sb=a;this.we=b;delete this.cd};le.prototype.Ad=function(a){this.sb=a};var ne=function(a){this.xe=a;this.hd=this.sc=this.sb=this.o=null},oe=function(a,b){this.name=a;this.value=b};oe.prototype.toString=function(){return this.name};var pe=new oe("SEVERE",1E3),qe=new oe("CONFIG",700),re=new oe("FINE",500);ne.prototype.getParent=function(){return this.o};ne.prototype.Ad=function(a){this.sb=a};var se=function(a){if(a.sb)return a.sb;if(a.o)return se(a.o);za("Root logger has no level set.");return null};
ne.prototype.log=function(a,b,c){if(a.value>=se(this).value)for(p(b)&&(b=b()),a=new le(a,String(b),this.xe),c&&(a.cd=c),c="log:"+a.we,l.console&&(l.console.timeStamp?l.console.timeStamp(c):l.console.markTimeline&&l.console.markTimeline(c)),l.msWriteProfilerMark&&l.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.hd)for(var e=0,f;f=b.hd[e];e++)f(d);c=c.getParent()}};
var te={},ue=null,ve=function(a){ue||(ue=new ne(""),te[""]=ue,ue.Ad(qe));var b;if(!(b=te[a])){b=new ne(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=ve(a.substr(0,c));c.sc||(c.sc={});c.sc[d]=b;b.o=c;te[a]=b}return b};var L=function(a,b){a&&a.log(re,b,void 0)};var we=function(a,b,c){if(p(a))c&&(a=q(a,c));else if(a&&"function"==typeof a.handleEvent)a=q(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)},xe=function(a){var b=null;return(new I(function(c,d){b=we(function(){c(void 0)},a);-1==b&&d(Error("Failed to schedule timer."))})).l(function(a){l.clearTimeout(b);throw a;})};var ye=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,ze=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}};var M=function(a){$d.call(this);this.headers=new ee;this.oc=a||null;this.pa=!1;this.nc=this.a=null;this.rb=this.nd=this.Tb="";this.Ca=this.Ac=this.Qb=this.uc=!1;this.gb=0;this.jc=null;this.vd="";this.lc=this.Ce=this.Id=!1};t(M,$d);var Ae=M.prototype,Be=ve("goog.net.XhrIo");Ae.P=Be;var Ce=/^https?$/i,De=["POST","PUT"];
M.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Tb+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Tb=a;this.rb="";this.nd=b;this.uc=!1;this.pa=!0;this.a=this.oc?this.oc.lb():rc.lb();this.nc=this.oc?qc(this.oc):qc(rc);this.a.onreadystatechange=q(this.sd,this);this.Ce&&"onprogress"in this.a&&(this.a.onprogress=q(function(a){this.rd(a,!0)},this),this.a.upload&&(this.a.upload.onprogress=q(this.rd,this)));try{L(this.P,Ee(this,"Opening Xhr")),
this.Ac=!0,this.a.open(b,String(a),!0),this.Ac=!1}catch(f){L(this.P,Ee(this,"Error opening Xhr: "+f.message));this.J(5,f);return}a=c||"";var e=this.headers.clone();d&&ke(d,function(a,b){e.set(b,a)});d=Ia(e.ha());c=l.FormData&&a instanceof l.FormData;!Ja(De,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.a.setRequestHeader(b,a)},this);this.vd&&(this.a.responseType=this.vd);"withCredentials"in this.a&&this.a.withCredentials!==this.Id&&(this.a.withCredentials=
this.Id);try{Fe(this),0<this.gb&&(this.lc=Ge(this.a),L(this.P,Ee(this,"Will abort after "+this.gb+"ms if incomplete, xhr2 "+this.lc)),this.lc?(this.a.timeout=this.gb,this.a.ontimeout=q(this.zb,this)):this.jc=we(this.zb,this.gb,this)),L(this.P,Ee(this,"Sending request")),this.Qb=!0,this.a.send(a),this.Qb=!1}catch(f){L(this.P,Ee(this,"Send error: "+f.message)),this.J(5,f)}};var Ge=function(a){return z&&A(9)&&ga(a.timeout)&&void 0!==a.ontimeout},Ha=function(a){return"content-type"==a.toLowerCase()};
M.prototype.zb=function(){"undefined"!=typeof aa&&this.a&&(this.rb="Timed out after "+this.gb+"ms, aborting",L(this.P,Ee(this,this.rb)),this.dispatchEvent("timeout"),this.abort(8))};M.prototype.J=function(a,b){this.pa=!1;this.a&&(this.Ca=!0,this.a.abort(),this.Ca=!1);this.rb=b;He(this);Ie(this)};var He=function(a){a.uc||(a.uc=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
M.prototype.abort=function(){this.a&&this.pa&&(L(this.P,Ee(this,"Aborting")),this.pa=!1,this.Ca=!0,this.a.abort(),this.Ca=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ie(this))};M.prototype.Pa=function(){this.a&&(this.pa&&(this.pa=!1,this.Ca=!0,this.a.abort(),this.Ca=!1),Ie(this,!0));M.Rc.Pa.call(this)};M.prototype.sd=function(){this.isDisposed()||(this.Ac||this.Qb||this.Ca?Je(this):this.Ae())};M.prototype.Ae=function(){Je(this)};
var Je=function(a){if(a.pa&&"undefined"!=typeof aa)if(a.nc[1]&&4==Ke(a)&&2==Le(a))L(a.P,Ee(a,"Local request error detected and ignored"));else if(a.Qb&&4==Ke(a))we(a.sd,0,a);else if(a.dispatchEvent("readystatechange"),4==Ke(a)){L(a.P,Ee(a,"Request complete"));a.pa=!1;try{var b=Le(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.Tb).match(ye)[1]||null;if(!f&&l.self&&l.self.location)var g=l.self.location.protocol,
f=g.substr(0,g.length-1);e=!Ce.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var k;try{k=2<Ke(a)?a.a.statusText:""}catch(r){L(a.P,"Can not get status: "+r.message),k=""}a.rb=k+" ["+Le(a)+"]";He(a)}}finally{Ie(a)}}};M.prototype.rd=function(a,b){w("progress"===a.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");this.dispatchEvent(Me(a,"progress"));this.dispatchEvent(Me(a,b?"downloadprogress":"uploadprogress"))};
var Me=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},Ie=function(a,b){if(a.a){Fe(a);var c=a.a,d=a.nc[0]?ba:null;a.a=null;a.nc=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(a=a.P)&&a.log(pe,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},Fe=function(a){a.a&&a.lc&&(a.a.ontimeout=null);ga(a.jc)&&(l.clearTimeout(a.jc),a.jc=null)},Ke=function(a){return a.a?a.a.readyState:0},Le=function(a){try{return 2<Ke(a)?
a.a.status:-1}catch(b){return-1}},Ne=function(a){try{return a.a?a.a.responseText:""}catch(b){return L(a.P,"Can not get responseText: "+b.message),""}},Ee=function(a,b){return b+" ["+a.nd+" "+a.Tb+" "+Le(a)+"]"};var Oe=function(a,b){this.ga=this.Ja=this.la="";this.Va=null;this.Ba=this.ra="";this.M=this.re=!1;var c;a instanceof Oe?(this.M=void 0!==b?b:a.M,Pe(this,a.la),c=a.Ja,N(this),this.Ja=c,Qe(this,a.ga),Re(this,a.Va),Se(this,a.ra),Te(this,a.aa.clone()),a=a.Ba,N(this),this.Ba=a):a&&(c=String(a).match(ye))?(this.M=!!b,Pe(this,c[1]||"",!0),a=c[2]||"",N(this),this.Ja=Ue(a),Qe(this,c[3]||"",!0),Re(this,c[4]),Se(this,c[5]||"",!0),Te(this,c[6]||"",!0),a=c[7]||"",N(this),this.Ba=Ue(a)):(this.M=!!b,this.aa=new O(null,
0,this.M))};Oe.prototype.toString=function(){var a=[],b=this.la;b&&a.push(Ve(b,We,!0),":");var c=this.ga;if(c||"file"==b)a.push("//"),(b=this.Ja)&&a.push(Ve(b,We,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.Va,null!=c&&a.push(":",String(c));if(c=this.ra)this.ga&&"/"!=c.charAt(0)&&a.push("/"),a.push(Ve(c,"/"==c.charAt(0)?Xe:Ye,!0));(c=this.aa.toString())&&a.push("?",c);(c=this.Ba)&&a.push("#",Ve(c,Ze));return a.join("")};
Oe.prototype.resolve=function(a){var b=this.clone(),c=!!a.la;c?Pe(b,a.la):c=!!a.Ja;if(c){var d=a.Ja;N(b);b.Ja=d}else c=!!a.ga;c?Qe(b,a.ga):c=null!=a.Va;d=a.ra;if(c)Re(b,a.Va);else if(c=!!a.ra){if("/"!=d.charAt(0))if(this.ga&&!this.ra)d="/"+d;else{var e=b.ra.lastIndexOf("/");-1!=e&&(d=b.ra.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(v(e,"./")||v(e,"/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var k=e[g++];"."==k?d&&g==e.length&&f.push(""):".."==k?((1<f.length||
1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?Se(b,d):c=""!==a.aa.toString();c?Te(b,Ue(a.aa.toString())):c=!!a.Ba;c&&(a=a.Ba,N(b),b.Ba=a);return b};Oe.prototype.clone=function(){return new Oe(this)};
var Pe=function(a,b,c){N(a);a.la=c?Ue(b,!0):b;a.la&&(a.la=a.la.replace(/:$/,""))},Qe=function(a,b,c){N(a);a.ga=c?Ue(b,!0):b},Re=function(a,b){N(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Va=b}else a.Va=null},Se=function(a,b,c){N(a);a.ra=c?Ue(b,!0):b},Te=function(a,b,c){N(a);b instanceof O?(a.aa=b,a.aa.Oc(a.M)):(c||(b=Ve(b,$e)),a.aa=new O(b,0,a.M))},P=function(a,b,c){N(a);a.aa.set(b,c)},N=function(a){if(a.re)throw Error("Tried to modify a read-only Uri");};
Oe.prototype.Oc=function(a){this.M=a;this.aa&&this.aa.Oc(a);return this};
var af=function(a){return a instanceof Oe?a.clone():new Oe(a,void 0)},bf=function(a,b){var c=new Oe(null,void 0);Pe(c,"https");a&&Qe(c,a);b&&Se(c,b);return c},Ue=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Ve=function(a,b,c){return n(a)?(a=encodeURI(a).replace(b,cf),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},cf=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},We=/[#\/\?@]/g,Ye=/[\#\?:]/g,Xe=/[\#\?]/g,$e=/[\#\?@]/g,
Ze=/#/g,O=function(a,b,c){this.i=this.j=null;this.I=a||null;this.M=!!c},df=function(a){a.j||(a.j=new ee,a.i=0,a.I&&ze(a.I,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))},ff=function(a){var b=je(a);if("undefined"==typeof b)throw Error("Keys are undefined");var c=new O(null,0,void 0);a=ie(a);for(var d=0;d<b.length;d++){var e=b[d],f=a[d];ea(f)?ef(c,e,f):c.add(e,f)}return c};h=O.prototype;h.fd=function(){df(this);return this.i};
h.add=function(a,b){df(this);this.I=null;a=this.K(a);var c=this.j.get(a);c||this.j.set(a,c=[]);c.push(b);this.i=Aa(this.i)+1;return this};h.remove=function(a){df(this);a=this.K(a);return this.j.kb(a)?(this.I=null,this.i=Aa(this.i)-this.j.get(a).length,this.j.remove(a)):!1};h.kb=function(a){df(this);a=this.K(a);return this.j.kb(a)};h.ha=function(){df(this);for(var a=this.j.T(),b=this.j.ha(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
h.T=function(a){df(this);var b=[];if(n(a))this.kb(a)&&(b=Na(b,this.j.get(this.K(a))));else{a=this.j.T();for(var c=0;c<a.length;c++)b=Na(b,a[c])}return b};h.set=function(a,b){df(this);this.I=null;a=this.K(a);this.kb(a)&&(this.i=Aa(this.i)-this.j.get(a).length);this.j.set(a,[b]);this.i=Aa(this.i)+1;return this};h.get=function(a,b){a=a?this.T(a):[];return 0<a.length?String(a[0]):b};var ef=function(a,b,c){a.remove(b);0<c.length&&(a.I=null,a.j.set(a.K(b),Pa(c)),a.i=Aa(a.i)+c.length)};
O.prototype.toString=function(){if(this.I)return this.I;if(!this.j)return"";for(var a=[],b=this.j.ha(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.T(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.I=a.join("&")};O.prototype.clone=function(){var a=new O;a.I=this.I;this.j&&(a.j=this.j.clone(),a.i=this.i);return a};O.prototype.K=function(a){a=String(a);this.M&&(a=a.toLowerCase());return a};
O.prototype.Oc=function(a){a&&!this.M&&(df(this),this.I=null,this.j.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),ef(this,b,a))},this));this.M=a};var hf=function(){var a=gf();return z&&!!pb&&11==pb||/Edge\/\d+/.test(a)},jf=function(){return l.window&&l.window.location.href||""},kf=function(a,b){var c=[],d;for(d in a)d in b?typeof a[d]!=typeof b[d]?c.push(d):ea(a[d])?Va(a[d],b[d])||c.push(d):"object"==typeof a[d]&&null!=a[d]&&null!=b[d]?0<kf(a[d],b[d]).length&&c.push(d):a[d]!==b[d]&&c.push(d):c.push(d);for(d in b)d in a||c.push(d);return c},mf=function(){var a;a=gf();a="Chrome"!=lf(a)?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],
10):null;return a&&30>a?!1:!z||!pb||9<pb},nf=function(a){a=a||l.window;try{a.close()}catch(b){}},of=function(a,b,c){var d=Math.floor(1E9*Math.random()).toString();b=b||500;c=c||600;var e=(window.screen.availHeight-c)/2,f=(window.screen.availWidth-b)/2;b={width:b,height:c,top:0<e?e:0,left:0<f?f:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1};d&&(b.target=d);"Firefox"==lf(gf())&&(a=a||"http://localhost",b.scrollbars=!0);var g;c=a||"about:blank";(d=b)||(d={});a=window;b=c instanceof B?c:gc("undefined"!=
typeof c.href?c.href:String(c));c=d.target||c.target;e=[];for(g in d)switch(g){case "width":case "height":case "top":case "left":e.push(g+"="+d[g]);break;case "target":case "noreferrer":break;default:e.push(g+"="+(d[g]?1:0))}g=e.join(",");(y("iPhone")&&!y("iPod")&&!y("iPad")||y("iPad")||y("iPod"))&&a.navigator&&a.navigator.standalone&&c&&"_self"!=c?(g=a.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&(e=g&&(g instanceof
HTMLAnchorElement||!(g instanceof Location||g instanceof Element)),f=ha(g)?g.constructor.displayName||g.constructor.name||Object.prototype.toString.call(g):void 0===g?"undefined":null===g?"null":typeof g,w(e,"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",f)),b=b instanceof B?b:gc(b),g.href=dc(b),g.setAttribute("target",c),d.noreferrer&&g.setAttribute("rel","noreferrer"),d=document.createEvent("MouseEvent"),d.initMouseEvent("click",!0,!0,a,1),g.dispatchEvent(d),g={}):d.noreferrer?
(g=a.open("",c,g),d=dc(b),g&&(gb&&v(d,";")&&(d="'"+d.replace(/'/g,"%27")+"'"),g.opener=null,a=new ac,a.hc="b/12014412, meta tag with sanitized URL",va.test(d)&&(-1!=d.indexOf("&")&&(d=d.replace(oa,"&amp;")),-1!=d.indexOf("<")&&(d=d.replace(pa,"&lt;")),-1!=d.indexOf(">")&&(d=d.replace(qa,"&gt;")),-1!=d.indexOf('"')&&(d=d.replace(ra,"&quot;")),-1!=d.indexOf("'")&&(d=d.replace(ta,"&#39;")),-1!=d.indexOf("\x00")&&(d=d.replace(ua,"&#0;"))),d='<META HTTP-EQUIV="refresh" content="0; url='+d+'">',Ba(bc(a),
"must provide justification"),w(!/^[\s\xa0]*$/.test(bc(a)),"must provide non-empty justification"),g.document.write(Wc((new Vc).qe(d))),g.document.close())):g=a.open(dc(b),c,g);if(g)try{g.focus()}catch(k){}return g},pf=function(a){return new I(function(b){var c=function(){xe(2E3).then(function(){if(!a||a.closed)b();else return c()})};return c()})},qf=function(){var a=null;return(new I(function(b){"complete"==l.document.readyState?b():(a=function(){b()},Sb(window,"load",a))})).l(function(b){Ub(window,
"load",a);throw b;})},rf=function(a){switch(a||l.navigator&&l.navigator.product||""){case "ReactNative":return"ReactNative";default:return"undefined"!==typeof l.process?"Node":"Browser"}},sf=function(){var a=rf();return"ReactNative"===a||"Node"===a},lf=function(a){var b=a.toLowerCase();if(v(b,"opera/")||v(b,"opr/")||v(b,"opios/"))return"Opera";if(v(b,"iemobile"))return"IEMobile";if(v(b,"msie")||v(b,"trident/"))return"IE";if(v(b,"edge/"))return"Edge";if(v(b,"firefox/"))return"Firefox";if(v(b,"silk/"))return"Silk";
if(v(b,"blackberry"))return"Blackberry";if(v(b,"webos"))return"Webos";if(!v(b,"safari/")||v(b,"chrome/")||v(b,"crios/")||v(b,"android"))if(!v(b,"chrome/")&&!v(b,"crios/")||v(b,"edge/")){if(v(b,"android"))return"Android";if((a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length)return a[1]}else return"Chrome";else return"Safari";return"Other"},tf=function(a){var b=rf(void 0);return("Browser"===b?lf(gf()):b)+"/JsCore/"+a},gf=function(){return l.navigator&&l.navigator.userAgent||""},uf=function(a){a=
a.split(".");for(var b=l,c=0;c<a.length&&"object"==typeof b&&null!=b;c++)b=b[a[c]];c!=a.length&&(b=void 0);return b},wf=function(){var a;if(!(a=!l.location||!l.location.protocol||"http:"!=l.location.protocol&&"https:"!=l.location.protocol||sf())){var b;a:{try{var c=l.localStorage,d=vf();if(c){c.setItem(d,"1");c.removeItem(d);b=hf()?!!l.indexedDB:!0;break a}}catch(e){}b=!1}a=!b}return!a},xf=function(a){a=a||gf();var b=(a||gf()).toLowerCase();return b.match(/android/)||b.match(/webos/)||b.match(/iphone|ipad|ipod/)||
b.match(/blackberry/)||b.match(/windows phone/)||b.match(/iemobile/)||"Firefox"==lf(a)?!1:!0},yf=function(a){return"undefined"===typeof a?null:lc(a)},zf=function(a){if(null!==a){var b;try{b=ic(a)}catch(c){try{b=JSON.parse(a)}catch(d){throw c;}}return b}},vf=function(a){return a?a:""+Math.floor(1E9*Math.random()).toString()},Af=function(a){a=a||gf();return"Safari"==lf(a)||a.toLowerCase().match(/iphone|ipad|ipod/)?!1:!0},Bf=function(){var a=l.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||
[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var c=0;c<a.CP.length;c++)a.CP[c]=null};var Cf;try{var Df={};Object.defineProperty(Df,"abcd",{configurable:!0,enumerable:!0,value:1});Object.defineProperty(Df,"abcd",{configurable:!0,enumerable:!0,value:2});Cf=2==Df.abcd}catch(a){Cf=!1}
var Q=function(a,b,c){Cf?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:c}):a[b]=c},Ef=function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&Q(a,c,b[c])},Ff=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},Gf=function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var c=0;c<b.length;c++){var d=a[b[c]];if(void 0===d||null===d||""===d)return!1}return!0};var Hf={Jd:{vb:500,ub:600,providerId:"facebook.com"},Kd:{vb:500,ub:620,providerId:"github.com"},Ld:{vb:515,ub:680,providerId:"google.com"},Qd:{vb:485,ub:705,providerId:"twitter.com"}},If=function(a){for(var b in Hf)if(Hf[b].providerId==a)return Hf[b];return null};var R=function(a,b){this.code="auth/"+a;this.message=b||Jf[a]||""};t(R,Error);R.prototype.G=function(){return{name:this.code,code:this.code,message:this.message}};
var Jf={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",
"email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.",
"invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",
"invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",
"network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http or https and web storage must be enabled.',
"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.",
"user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported."};var Kf=function(a,b,c,d,e){this.wa=a;this.Aa=b||null;this.ib=c||null;this.ec=d||null;this.J=e||null;if(this.ib||this.J){if(this.ib&&this.J)throw new R("invalid-auth-event");if(this.ib&&!this.ec)throw new R("invalid-auth-event");}else throw new R("invalid-auth-event");};Kf.prototype.getError=function(){return this.J};Kf.prototype.G=function(){return{type:this.wa,eventId:this.Aa,urlResponse:this.ib,sessionId:this.ec,error:this.J&&this.J.G()}};var Lf=function(a){var b="unauthorized-domain",c=void 0,d=af(a);a=d.ga;d=d.la;"http"!=d&&"https"!=d?b="operation-not-supported-in-this-environment":c=ma("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a);R.call(this,b,c)};t(Lf,R);var Mf=function(a){this.ve=a.sub;la();this.Fb=a.email||null};var Nf=function(a,b,c,d){var e={};ha(c)?e=c:b&&n(c)&&n(d)?e={oauthToken:c,oauthTokenSecret:d}:!b&&n(c)&&(e={accessToken:c});if(b||!e.idToken&&!e.accessToken)if(b&&e.oauthToken&&e.oauthTokenSecret)Q(this,"accessToken",e.oauthToken),Q(this,"secret",e.oauthTokenSecret);else{if(b)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");}else e.idToken&&Q(this,
"idToken",e.idToken),e.accessToken&&Q(this,"accessToken",e.accessToken);Q(this,"provider",a)};Nf.prototype.Ib=function(a){return Of(a,Pf(this))};Nf.prototype.od=function(a,b){var c=Pf(this);c.idToken=b;return Qf(a,c)};var Pf=function(a){var b={};a.idToken&&(b.id_token=a.idToken);a.accessToken&&(b.access_token=a.accessToken);a.secret&&(b.oauth_token_secret=a.secret);b.providerId=a.provider;return{postBody:ff(b).toString(),requestUri:wf()?jf():"http://localhost"}};
Nf.prototype.G=function(){var a={provider:this.provider};this.idToken&&(a.oauthIdToken=this.idToken);this.accessToken&&(a.oauthAccessToken=this.accessToken);this.secret&&(a.oauthTokenSecret=this.secret);return a};
var Rf=function(a,b){var c=!!b;b=function(){Ef(this,{providerId:a,isOAuthProvider:!0});this.Nc=[];"google.com"==a&&this.addScope("profile")};c||(b.prototype.addScope=function(a){Ja(this.Nc,a)||this.Nc.push(a)});b.prototype.Jb=function(){return Pa(this.Nc)};b.credential=function(b,e){return new Nf(a,c,b,e)};Ef(b,{PROVIDER_ID:a});return b},Sf=Rf("facebook.com");Sf.prototype.addScope=Sf.prototype.addScope||void 0;var Tf=Rf("github.com");Tf.prototype.addScope=Tf.prototype.addScope||void 0;var Uf=Rf("google.com");
Uf.prototype.addScope=Uf.prototype.addScope||void 0;Uf.credential=function(a,b){if(!a&&!b)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new Nf("google.com",!1,ha(a)?a:{idToken:a||null,accessToken:b||null})};var Vf=Rf("twitter.com",!0),Wf=function(a,b){this.Fb=a;this.Gc=b;Q(this,"provider","password")};Wf.prototype.Ib=function(a){return S(a,Xf,{email:this.Fb,password:this.Gc})};
Wf.prototype.od=function(a,b){return S(a,Yf,{idToken:b,email:this.Fb,password:this.Gc})};Wf.prototype.G=function(){return{email:this.Fb,password:this.Gc}};var Zf=function(){Ef(this,{providerId:"password",isOAuthProvider:!1})};Ef(Zf,{PROVIDER_ID:"password"});
var $f={Ve:Zf,Jd:Sf,Ld:Uf,Kd:Tf,Qd:Vf},ag=function(a){var b=a&&a.providerId;if(!b)return null;var c=a&&a.oauthAccessToken,d=a&&a.oauthTokenSecret;a=a&&a.oauthIdToken;for(var e in $f)if($f[e].PROVIDER_ID==b)try{return $f[e].credential({accessToken:c,idToken:a,oauthToken:c,oauthTokenSecret:d})}catch(f){break}return null};var bg=function(a,b,c,d){R.call(this,a,d);Q(this,"email",b);Q(this,"credential",c)};t(bg,R);bg.prototype.G=function(){var a={code:this.code,message:this.message,email:this.email},b=this.credential&&this.credential.G();b&&(Ya(a,b),a.providerId=b.provider,delete a.provider);return a};var cg=function(a){if(a.code){var b=a.code||"";0==b.indexOf("auth/")&&(b=b.substring(5));return a.email?new bg(b,a.email,ag(a),a.message):new R(b,a.message||void 0)}return null};var dg=function(a){this.Ue=a};t(dg,pc);dg.prototype.lb=function(){return new this.Ue};dg.prototype.Sb=function(){return{}};
var T=function(a,b,c){var d;d="Node"==rf();d=l.XMLHttpRequest||d&&firebase.INTERNAL.node&&firebase.INTERNAL.node.XMLHttpRequest;if(!d)throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.v=a;a=b||{};this.Fe=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token";this.Ge=a.secureTokenTimeout||1E4;this.yd=Wa(a.secureTokenHeaders||eg);this.ce=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/";this.de=a.firebaseTimeout||
1E4;this.ed=Wa(a.firebaseHeaders||fg);c&&(this.ed["X-Client-Version"]=c,this.yd["X-Client-Version"]=c);this.Ud=new uc;this.Te=new dg(d)},gg,eg={"Content-Type":"application/x-www-form-urlencoded"},fg={"Content-Type":"application/json"},ig=function(a,b,c,d,e,f,g){mf()?a=q(a.Ie,a):(gg||(gg=new I(function(a,b){hg(a,b)})),a=q(a.He,a));a(b,c,d,e,f,g)};
T.prototype.Ie=function(a,b,c,d,e,f){var g="Node"==rf(),k=sf()?g?new M(this.Te):new M:new M(this.Ud),r;f&&(k.gb=Math.max(0,f),r=setTimeout(function(){k.dispatchEvent("timeout")},f));k.listen("complete",function(){r&&clearTimeout(r);var a=null;try{var c;c=this.a?ic(this.a.responseText):void 0;a=c||null}catch(Ri){try{a=JSON.parse(Ne(this))||null}catch(Si){a=null}}b&&b(a)});Tb(k,"ready",function(){r&&clearTimeout(r);this.za||(this.za=!0,this.Pa())});Tb(k,"timeout",function(){r&&clearTimeout(r);this.za||
(this.za=!0,this.Pa());b&&b(null)});k.send(a,c,d,e)};var Pd="__fcb"+Math.floor(1E6*Math.random()).toString(),hg=function(a,b){((window.gapi||{}).client||{}).request?a():(l[Pd]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},Rd(function(){b(Error("CORS_UNSUPPORTED"))}))};
T.prototype.He=function(a,b,c,d,e){var f=this;gg.then(function(){window.gapi.client.setApiKey(f.v);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null);window.gapi.client.request({path:a,method:c,body:d,headers:e,authType:"none",callback:function(a){window.gapi.auth.setToken(g);b&&b(a)}})}).l(function(a){b&&b({error:{message:a&&a.message||"CORS_UNSUPPORTED"}})})};
var kg=function(a,b){return new I(function(c,d){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?ig(a,a.Fe+"?key="+encodeURIComponent(a.v),function(a){a?a.error?d(jg(a)):a.access_token&&a.refresh_token?c(a):d(new R("internal-error")):d(new R("network-request-failed"))},"POST",ff(b).toString(),a.yd,a.Ge):d(new R("internal-error"))})},lg=function(a){var b={},c;for(c in a)null!==a[c]&&void 0!==a[c]&&(b[c]=a[c]);return lc(b)},mg=function(a,b,c,d,e){var f=a.ce+
b+"?key="+encodeURIComponent(a.v);e&&(f+="&cb="+la().toString());return new I(function(b,e){ig(a,f,function(a){a?a.error?e(jg(a)):b(a):e(new R("network-request-failed"))},c,lg(d),a.ed,a.de)})},ng=function(a){if(!Zb.test(a.email))throw new R("invalid-email");},og=function(a){"email"in a&&ng(a)},qg=function(a,b){var c=wf()?jf():"http://localhost";return S(a,pg,{identifier:b,continueUri:c}).then(function(a){return a.allProviders||[]})},sg=function(a){return S(a,rg,{}).then(function(a){return a.authorizedDomains||
[]})},tg=function(a){if(!a.idToken)throw new R("internal-error");};T.prototype.signInAnonymously=function(){return S(this,ug,{})};T.prototype.updateEmail=function(a,b){return S(this,vg,{idToken:a,email:b})};T.prototype.updatePassword=function(a,b){return S(this,Yf,{idToken:a,password:b})};var wg={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};
T.prototype.updateProfile=function(a,b){var c={idToken:a},d=[];Ra(wg,function(a,f){var e=b[f];null===e?d.push(a):f in b&&(c[f]=e)});d.length&&(c.deleteAttribute=d);return S(this,vg,c)};T.prototype.sendPasswordResetEmail=function(a){return S(this,xg,{requestType:"PASSWORD_RESET",email:a})};T.prototype.sendEmailVerification=function(a){return S(this,yg,{requestType:"VERIFY_EMAIL",idToken:a})};
var Ag=function(a,b,c){return S(a,zg,{idToken:b,deleteProvider:c})},Bg=function(a){if(!a.requestUri||!a.sessionId&&!a.postBody)throw new R("internal-error");},Cg=function(a){var b=null;a.needConfirmation?(a.code="account-exists-with-different-credential",b=cg(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=cg(a)):"EMAIL_EXISTS"==a.errorMessage&&(a.code="email-already-in-use",b=cg(a));if(b)throw b;if(!a.idToken)throw new R("internal-error");},Of=function(a,
b){b.returnIdpCredential=!0;return S(a,Dg,b)},Qf=function(a,b){b.returnIdpCredential=!0;return S(a,Eg,b)},Fg=function(a){if(!a.oobCode)throw new R("invalid-action-code");};T.prototype.confirmPasswordReset=function(a,b){return S(this,Gg,{oobCode:a,newPassword:b})};T.prototype.checkActionCode=function(a){return S(this,Hg,{oobCode:a})};T.prototype.applyActionCode=function(a){return S(this,Ig,{oobCode:a})};
var Ig={endpoint:"setAccountInfo",D:Fg,eb:"email"},Hg={endpoint:"resetPassword",D:Fg,ua:function(a){if(!Zb.test(a.email))throw new R("internal-error");}},Jg={endpoint:"signupNewUser",D:function(a){ng(a);if(!a.password)throw new R("weak-password");},ua:tg,va:!0},pg={endpoint:"createAuthUri"},Kg={endpoint:"deleteAccount",bb:["idToken"]},zg={endpoint:"setAccountInfo",bb:["idToken","deleteProvider"],D:function(a){if(!ea(a.deleteProvider))throw new R("internal-error");}},Lg={endpoint:"getAccountInfo"},
yg={endpoint:"getOobConfirmationCode",bb:["idToken","requestType"],D:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new R("internal-error");},eb:"email"},xg={endpoint:"getOobConfirmationCode",bb:["requestType"],D:function(a){if("PASSWORD_RESET"!=a.requestType)throw new R("internal-error");ng(a)},eb:"email"},rg={Td:!0,endpoint:"getProjectConfig",me:"GET"},Gg={endpoint:"resetPassword",D:Fg,eb:"email"},vg={endpoint:"setAccountInfo",bb:["idToken"],D:og,va:!0},Yf={endpoint:"setAccountInfo",bb:["idToken"],
D:function(a){og(a);if(!a.password)throw new R("weak-password");},ua:tg,va:!0},ug={endpoint:"signupNewUser",ua:tg,va:!0},Dg={endpoint:"verifyAssertion",D:Bg,ua:Cg,va:!0},Eg={endpoint:"verifyAssertion",D:function(a){Bg(a);if(!a.idToken)throw new R("internal-error");},ua:Cg,va:!0},Mg={endpoint:"verifyCustomToken",D:function(a){if(!a.token)throw new R("invalid-custom-token");},ua:tg,va:!0},Xf={endpoint:"verifyPassword",D:function(a){ng(a);if(!a.password)throw new R("wrong-password");},ua:tg,va:!0},S=
function(a,b,c){if(!Gf(c,b.bb))return K(new R("internal-error"));var d=b.me||"POST",e;return J(c).then(b.D).then(function(){b.va&&(c.returnSecureToken=!0);return mg(a,b.endpoint,d,c,b.Td||!1)}).then(function(a){return e=a}).then(b.ua).then(function(){if(!b.eb)return e;if(!(b.eb in e))throw new R("internal-error");return e[b.eb]})},jg=function(a){var b,c;c=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"";var d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?
new R(d[c]):null)return c;c=a.error&&a.error.message||"";d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",
FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",
USER_CANCELLED:"user-cancelled"};b=(b=c.match(/^[^\s]+\s*:\s*(.*)$/))&&1<b.length?b[1]:void 0;for(var e in d)if(0===c.indexOf(e))return new R(d[e],b);!b&&a&&(b=yf(a));return new R("internal-error",b)};var Ng=function(a){this.R=a};Ng.prototype.value=function(){return this.R};Ng.prototype.Bd=function(a){this.R.style=a;return this};var Og=function(a){this.R=a||{}};Og.prototype.value=function(){return this.R};Og.prototype.Bd=function(a){this.R.style=a;return this};var Qg=function(a){this.Se=a;this.zc=null;this.qd=Pg(this)};Qg.prototype.Ec=function(){return this.qd};
var Rg=function(a){var b=new Og;b.R.where=document.body;b.R.url=a.Se;b.R.messageHandlersFilter=uf("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER");b.R.attributes=b.R.attributes||{};(new Ng(b.R.attributes)).Bd({position:"absolute",top:"-100px",width:"1px",height:"1px"});b.R.dontclear=!0;return b},Pg=function(a){return Sg().then(function(){return new I(function(b,c){uf("gapi.iframes.getContext")().open(Rg(a).value(),function(d){a.zc=d;a.zc.restyle({setHideOnLeave:!1});var e=setTimeout(function(){c(Error("Network Error"))},
5E3),f=function(){clearTimeout(e);b()};d.ping(f).then(f,function(){c(Error("Network Error"))})})})})},Tg=function(a,b){a.qd.then(function(){a.zc.register("authEvent",b,uf("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},Ug="__iframefcb"+Math.floor(1E6*Math.random()).toString(),Sg=function(){return new I(function(a,b){var c=function(){Bf();uf("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){Bf();b(Error("Network Error"))},timeout:3E3})};uf("gapi.iframes.Iframe")?a():uf("gapi.load")?c():
(l[Ug]=function(){uf("gapi.load")?c():b(Error("Network Error"))},J(Od("https://apis.google.com/js/api.js?onload="+Ug)).l(function(){b(Error("Network Error"))}))})};var Wg=function(a,b,c,d){this.X=a;this.v=b;this.ea=c;d=this.ya=d||null;a=bf(a,"/__/auth/iframe");P(a,"apiKey",b);P(a,"appName",c);d&&P(a,"v",d);this.ne=a.toString();this.kd=new Qg(this.ne);this.Bb=[];Vg(this)};Wg.prototype.Ec=function(){return this.kd.Ec()};
var Xg=function(a,b,c,d,e,f,g,k,r){a=bf(a,"/__/auth/handler");P(a,"apiKey",b);P(a,"appName",c);P(a,"authType",d);P(a,"providerId",e);f&&f.length&&P(a,"scopes",f.join(","));g&&P(a,"redirectUrl",g);k&&P(a,"eventId",k);r&&P(a,"v",r);return a.toString()},Vg=function(a){Tg(a.kd,function(b){var c={};if(b&&b.authEvent){var d=!1;b=b.authEvent||{};if(b.type){if(c=b.error)var e=(c=b.error)&&(c.name||c.code),c=e?new R(e.substring(5),c.message):null;b=new Kf(b.type,b.eventId,b.urlResponse,b.sessionId,c)}else b=
null;for(c=0;c<a.Bb.length;c++)d=a.Bb[c](b)||d;c={};c.status=d?"ACK":"ERROR";return J(c)}c.status="ERROR";return J(c)})},Yg=function(a,b){Ma(a.Bb,function(a){return a==b})};var Zg=function(a){this.u=a||firebase.INTERNAL.reactNative&&firebase.INTERNAL.reactNative.AsyncStorage;if(!this.u)throw new R("internal-error","The React Native compatibility library was not found.");};h=Zg.prototype;h.get=function(a){return J(this.u.getItem(a)).then(function(a){return a&&zf(a)})};h.set=function(a,b){return J(this.u.setItem(a,yf(b)))};h.remove=function(a){return J(this.u.removeItem(a))};h.La=function(){};h.$a=function(){};var $g=function(){this.u={}};h=$g.prototype;h.get=function(a){return J(this.u[a])};h.set=function(a,b){this.u[a]=b;return J()};h.remove=function(a){delete this.u[a];return J()};h.La=function(){};h.$a=function(){};var bh=function(){if(!ah()){if("Node"==rf())throw new R("internal-error","The LocalStorage compatibility library was not found.");throw new R("web-storage-unsupported");}this.u=l.localStorage||firebase.INTERNAL.node.localStorage},ah=function(){var a="Node"==rf(),a=l.localStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.localStorage;if(!a)return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(b){return!1}};h=bh.prototype;
h.get=function(a){var b=this;return J().then(function(){var c=b.u.getItem(a);return zf(c)})};h.set=function(a,b){var c=this;return J().then(function(){var d=yf(b);null===d?c.remove(a):c.u.setItem(a,d)})};h.remove=function(a){var b=this;return J().then(function(){b.u.removeItem(a)})};h.La=function(a){l.window&&Lb(l.window,"storage",a)};h.$a=function(a){l.window&&Ub(l.window,"storage",a)};var ch=function(){this.u={}};h=ch.prototype;h.get=function(){return J(null)};h.set=function(){return J()};h.remove=function(){return J()};h.La=function(){};h.$a=function(){};var eh=function(){if(!dh()){if("Node"==rf())throw new R("internal-error","The SessionStorage compatibility library was not found.");throw new R("web-storage-unsupported");}this.u=l.sessionStorage||firebase.INTERNAL.node.sessionStorage},dh=function(){var a="Node"==rf(),a=l.sessionStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.sessionStorage;if(!a)return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(b){return!1}};h=eh.prototype;
h.get=function(a){var b=this;return J().then(function(){var c=b.u.getItem(a);return zf(c)})};h.set=function(a,b){var c=this;return J().then(function(){var d=yf(b);null===d?c.remove(a):c.u.setItem(a,d)})};h.remove=function(a){var b=this;return J().then(function(){b.u.removeItem(a)})};h.La=function(){};h.$a=function(){};var fh=function(a,b,c,d,e,f){if(!window.indexedDB)throw new R("web-storage-unsupported");this.Wd=a;this.Dc=b;this.tc=c;this.Hd=d;this.na=e;this.O={};this.xb=[];this.tb=0;this.oe=f||l.indexedDB},gh,hh=function(a){return new I(function(b,c){var d=a.oe.open(a.Wd,a.na);d.onerror=function(a){c(Error(a.target.errorCode))};d.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore(a.Dc,{keyPath:a.tc})}catch(f){c(f)}};d.onsuccess=function(a){b(a.target.result)}})},ih=function(a){a.ld||(a.ld=
hh(a));return a.ld},jh=function(a,b){return b.objectStore(a.Dc)},kh=function(a,b,c){return b.transaction([a.Dc],c?"readwrite":"readonly")},lh=function(a){return new I(function(b,c){a.onsuccess=function(a){a&&a.target?b(a.target.result):b()};a.onerror=function(a){c(Error(a.target.errorCode))}})};h=fh.prototype;
h.set=function(a,b){var c=!1,d,e=this;return xd(ih(this).then(function(b){d=b;b=jh(e,kh(e,d,!0));return lh(b.get(a))}).then(function(f){var g=jh(e,kh(e,d,!0));if(f)return f.value=b,lh(g.put(f));e.tb++;c=!0;f={};f[e.tc]=a;f[e.Hd]=b;return lh(g.add(f))}).then(function(){e.O[a]=b}),function(){c&&e.tb--})};h.get=function(a){var b=this;return ih(this).then(function(c){return lh(jh(b,kh(b,c,!1)).get(a))}).then(function(a){return a&&a.value})};
h.remove=function(a){var b=!1,c=this;return xd(ih(this).then(function(d){b=!0;c.tb++;return lh(jh(c,kh(c,d,!0))["delete"](a))}).then(function(){delete c.O[a]}),function(){b&&c.tb--})};
h.Ke=function(){var a=this;return ih(this).then(function(b){var c=jh(a,kh(a,b,!1));return c.getAll?lh(c.getAll()):new I(function(a,b){var d=[],e=c.openCursor();e.onsuccess=function(b){(b=b.target.result)?(d.push(b.value),b["continue"]()):a(d)};e.onerror=function(a){b(Error(a.target.errorCode))}})}).then(function(b){var c={},d=[];if(0==a.tb){for(d=0;d<b.length;d++)c[b[d][a.tc]]=b[d][a.Hd];d=kf(a.O,c);a.O=c}return d})};h.La=function(a){0==this.xb.length&&this.Qc();this.xb.push(a)};
h.$a=function(a){Ma(this.xb,function(b){return b==a});0==this.xb.length&&this.gc()};h.Qc=function(){var a=this;this.gc();var b=function(){a.Ic=xe(800).then(q(a.Ke,a)).then(function(b){0<b.length&&x(a.xb,function(a){a(b)})}).then(b).l(function(a){"STOP_EVENT"!=a.message&&b()});return a.Ic};b()};h.gc=function(){this.Ic&&this.Ic.cancel("STOP_EVENT")};var ph=function(){this.bd={Browser:mh,Node:nh,ReactNative:oh}[rf()]},qh,mh={V:bh,Sc:eh},nh={V:bh,Sc:eh},oh={V:Zg,Sc:ch};var rh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),U=function(a,b){return{name:a||"",ca:"a valid string",optional:!!b,da:n}},sh=function(a){return{name:a||"",ca:"a valid object",optional:!1,da:ha}},th=function(a,b){return{name:a||"",ca:"a function",optional:!!b,da:p}},uh=function(){return{name:"",ca:"null",optional:!1,da:da}},vh=function(){return{name:"credential",ca:"a valid credential",optional:!1,da:function(a){return!(!a||!a.Ib)}}},wh=function(){return{name:"authProvider",
ca:"a valid Auth provider",optional:!1,da:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}},xh=function(a,b,c,d){return{name:c||"",ca:a.ca+" or "+b.ca,optional:!!d,da:function(c){return a.da(c)||b.da(c)}}};var zh=function(a,b){for(var c in b){var d=b[c].name;a[d]=yh(d,a[c],b[c].b)}},V=function(a,b,c,d){a[b]=yh(b,c,d)},yh=function(a,b,c){if(!c)return b;var d=Ah(a);a=function(){var a=Array.prototype.slice.call(arguments),e;a:{e=Array.prototype.slice.call(a);var k;k=0;for(var r=!1,sa=0;sa<c.length;sa++)if(c[sa].optional)r=!0;else{if(r)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");k++}r=c.length;if(e.length<k||r<e.length)e="Expected "+(k==
r?1==k?"1 argument":k+" arguments":k+"-"+r+" arguments")+" but got "+e.length+".";else{for(k=0;k<e.length;k++)if(r=c[k].optional&&void 0===e[k],!c[k].da(e[k])&&!r){e=c[k];if(0>k||k>=rh.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");e=rh[k]+" argument "+(e.name?'"'+e.name+'" ':"")+"must be "+e.ca+".";break a}e=null}}if(e)throw new R("argument-error",d+" failed: "+e);return b.apply(this,a)};for(var e in b)a[e]=b[e];for(e in b.prototype)a.prototype[e]=
b.prototype[e];return a},Ah=function(a){a=a.split(".");return a[a.length-1]};var Bh=function(a,b,c,d){this.ye=a;this.zd=b;this.Ee=c;this.fb=d;this.N={};qh||(qh=new ph);a=qh;try{var e;hf()?(gh||(gh=new fh("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1)),e=gh):e=new a.bd.V;this.Ua=e}catch(f){this.Ua=new $g,this.fb=!0}try{this.ic=new a.bd.Sc}catch(f){this.ic=new $g}this.Cd=q(this.Dd,this);this.O={}},Ch,Dh=function(){Ch||(Ch=new Bh("firebase",":",!Af(gf())&&l.window&&l.window!=l.window.top?!0:!1,xf()));return Ch};h=Bh.prototype;
h.K=function(a,b){return this.ye+this.zd+a.name+(b?this.zd+b:"")};h.get=function(a,b){return(a.V?this.Ua:this.ic).get(this.K(a,b))};h.remove=function(a,b){b=this.K(a,b);a.V&&!this.fb&&(this.O[b]=null);return(a.V?this.Ua:this.ic).remove(b)};h.set=function(a,b,c){var d=this.K(a,c),e=this,f=a.V?this.Ua:this.ic;return f.set(d,b).then(function(){return f.get(d)}).then(function(b){a.V&&!this.fb&&(e.O[d]=b)})};
h.addListener=function(a,b,c){a=this.K(a,b);this.fb||(this.O[a]=l.localStorage.getItem(a));Ua(this.N)&&this.Qc();this.N[a]||(this.N[a]=[]);this.N[a].push(c)};h.removeListener=function(a,b,c){a=this.K(a,b);this.N[a]&&(Ma(this.N[a],function(a){return a==c}),0==this.N[a].length&&delete this.N[a]);Ua(this.N)&&this.gc()};h.Qc=function(){this.Ua.La(this.Cd);this.fb||Eh(this)};
var Eh=function(a){Fh(a);a.Cc=setInterval(function(){for(var b in a.N){var c=l.localStorage.getItem(b);c!=a.O[b]&&(a.O[b]=c,c=new Ab({type:"storage",key:b,target:window,oldValue:a.O[b],newValue:c}),a.Dd(c))}},1E3)},Fh=function(a){a.Cc&&(clearInterval(a.Cc),a.Cc=null)};Bh.prototype.gc=function(){this.Ua.$a(this.Cd);this.fb||Fh(this)};
Bh.prototype.Dd=function(a){if(a&&a.fe){var b=a.mb.key;if(this.Ee){var c=l.localStorage.getItem(b);a=a.mb.newValue;a!=c&&(a?l.localStorage.setItem(b,a):a||l.localStorage.removeItem(b))}this.O[b]=l.localStorage.getItem(b);this.Xc(b)}else x(a,q(this.Xc,this))};Bh.prototype.Xc=function(a){this.N[a]&&x(this.N[a],function(a){a()})};var Gh=function(a){this.B=a;this.A=Dh()},Hh={name:"pendingRedirect",V:!1},Ih=function(a){return a.A.set(Hh,"pending",a.B)},Jh=function(a){return a.A.remove(Hh,a.B)},Kh=function(a){return a.A.get(Hh,a.B).then(function(a){return"pending"==a})};var Nh=function(a,b,c){var d=this,e=(this.ya=firebase.SDK_VERSION||null)?tf(this.ya):null;this.f=new T(b,null,e);this.qa=null;this.X=a;this.v=b;this.ea=c;this.yb=[];this.Rb=!1;this.Tc=q(this.ge,this);this.Xa=new Lh(this);this.td=new Mh(this);this.Hc=new Gh(this.v+":"+this.ea);this.hb={};this.hb.unknown=this.Xa;this.hb.signInViaRedirect=this.Xa;this.hb.linkViaRedirect=this.Xa;this.hb.signInViaPopup=this.td;this.hb.linkViaPopup=this.td;this.bc=this.cb=null;this.Wb=new I(function(a,b){d.cb=a;d.bc=b})};
Nh.prototype.reset=function(){var a=this;this.qa=null;this.Wb.cancel();this.Rb=!1;this.bc=this.cb=null;this.Ob&&Yg(this.Ob,this.Tc);this.Wb=new I(function(b,c){a.cb=b;a.bc=c})};
var Oh=function(a){var b=jf();return sg(a).then(function(a){a:{for(var c=af(b).ga,e=0;e<a.length;e++){var f;var g=a[e];f=c;var k=Mc(g);k?f=(f=Mc(f))?k.Gb(f):!1:(k=g.split(".").join("\\."),f=(new RegExp("^(.+\\."+k+"|"+k+")$","i")).test(f));if(f){a=!0;break a}}a=!1}if(!a)throw new Lf(jf());})},Ph=function(a){a.Rb||(a.Rb=!0,qf().then(function(){a.Ob=new Wg(a.X,a.v,a.ea,a.ya);a.Ob.Ec().l(function(){a.bc(new R("network-request-failed"));a.reset()});a.Ob.Bb.push(a.Tc)}));return a.Wb};
Nh.prototype.subscribe=function(a){Ja(this.yb,a)||this.yb.push(a);if(!this.Rb){var b=this,c=function(){var a=gf();xf(a)||Af(a)?Qh(b.Xa):Ph(b)};Kh(this.Hc).then(function(a){a?Jh(b.Hc).then(function(){Ph(b)}):c()}).l(function(){c()})}};Nh.prototype.unsubscribe=function(a){Ma(this.yb,function(b){return b==a})};
Nh.prototype.ge=function(a){if(!a)throw new R("invalid-auth-event");this.cb&&(this.cb(),this.cb=null);for(var b=!1,c=0;c<this.yb.length;c++){var d=this.yb[c];if(d.Yc(a.wa,a.Aa)){(b=this.hb[a.wa])&&b.ud(a,d);b=!0;break}}Qh(this.Xa);return b};Nh.prototype.getRedirectResult=function(){return this.Xa.getRedirectResult()};
var Sh=function(a,b,c,d,e,f){if(!b)return K(new R("popup-blocked"));if(f)return Ph(a),J();a.qa||(a.qa=Oh(a.f));return a.qa.then(function(){return Ph(a)}).then(function(){Rh(d);var f=Xg(a.X,a.v,a.ea,c,d.providerId,d.Jb(),null,e,a.ya);(b||l.window).location.href=dc(gc(f))}).l(function(b){"auth/network-request-failed"==b.code&&(a.qa=null);throw b;})},Th=function(a,b,c,d){a.qa||(a.qa=Oh(a.f));return a.qa.then(function(){Rh(c);var e=Xg(a.X,a.v,a.ea,b,c.providerId,c.Jb(),jf(),d,a.ya);Ih(a.Hc).then(function(){l.window.location.href=
dc(gc(e))})})},Uh=function(a,b,c,d,e){var f=new R("popup-closed-by-user");return a.Wb.l(function(){}).then(function(){return pf(d)}).then(function(){return xe(2E3).then(function(){b.Ia(c,null,f,e)})})},Rh=function(a){if(!a.isOAuthProvider)throw new R("invalid-oauth-provider");},Vh={},Wh=function(a,b,c){var d=b+":"+c;Vh[d]||(Vh[d]=new Nh(a,b,c));return Vh[d]},Lh=function(a){this.A=a;this.wb=this.ac=this.Ya=this.W=null;this.Lc=!1};
Lh.prototype.ud=function(a,b){if(!a)return K(new R("invalid-auth-event"));this.Lc=!0;var c=a.wa,d=a.Aa;"unknown"==c?(this.W||Xh(this,!1,null,null),a=J()):a=a.J?this.Jc(a,b):b.nb(c,d)?this.Kc(a,b):K(new R("invalid-auth-event"));return a};var Qh=function(a){a.Lc||(a.Lc=!0,Xh(a,!1,null,null))};Lh.prototype.Jc=function(a){this.W||Xh(this,!0,null,a.getError());return J()};
Lh.prototype.Kc=function(a,b){var c=this,d=a.wa;b=b.nb(d,a.Aa);var e=a.ib;a=a.ec;var f="signInViaRedirect"==d||"linkViaRedirect"==d;if(this.W)return J();this.wb&&this.wb.cancel();return b(e,a).then(function(a){c.W||Xh(c,f,a,null)}).l(function(a){c.W||Xh(c,f,null,a)})};var Xh=function(a,b,c,d){b?d?(a.W=function(){return K(d)},a.ac&&a.ac(d)):(a.W=function(){return J(c)},a.Ya&&a.Ya(c)):(a.W=function(){return J({user:null})},a.Ya&&a.Ya({user:null}));a.Ya=null;a.ac=null};
Lh.prototype.getRedirectResult=function(){var a=this;this.Wc||(this.Wc=new I(function(b,c){a.W?a.W().then(b,c):(a.Ya=b,a.ac=c,Yh(a))}));return this.Wc};var Yh=function(a){var b=new R("timeout");a.wb&&a.wb.cancel();a.wb=xe(1E4).then(function(){a.W||Xh(a,!0,null,b)})},Mh=function(a){this.A=a};Mh.prototype.ud=function(a,b){if(!a)return K(new R("invalid-auth-event"));var c=a.wa,d=a.Aa;return a.J?this.Jc(a,b):b.nb(c,d)?this.Kc(a,b):K(new R("invalid-auth-event"))};
Mh.prototype.Jc=function(a,b){b.Ia(a.wa,null,a.getError(),a.Aa);return J()};Mh.prototype.Kc=function(a,b){var c=a.Aa,d=a.wa;return b.nb(d,c)(a.ib,a.ec).then(function(a){b.Ia(d,a,null,c)}).l(function(a){b.Ia(d,null,a,c)})};var Zh=function(a){this.f=a;this.xa=this.S=null;this.Qa=0};Zh.prototype.G=function(){return{apiKey:this.f.v,refreshToken:this.S,accessToken:this.xa,expirationTime:this.Qa}};
var ai=function(a,b){var c=b.idToken,d=b.refreshToken;b=$h(b.expiresIn);a.xa=c;a.Qa=b;a.S=d},$h=function(a){return la()+1E3*parseInt(a,10)},bi=function(a,b){return kg(a.f,b).then(function(b){a.xa=b.access_token;a.Qa=$h(b.expires_in);a.S=b.refresh_token;return{accessToken:a.xa,expirationTime:a.Qa,refreshToken:a.S}}).l(function(b){"auth/user-token-expired"==b.code&&(a.S=null);throw b;})},ci=function(a){return!(!a.xa||a.S)};
Zh.prototype.getToken=function(a){a=!!a;return ci(this)?K(new R("user-token-expired")):a||!this.xa||la()>this.Qa-3E4?this.S?bi(this,{grant_type:"refresh_token",refresh_token:this.S}):J(null):J({accessToken:this.xa,expirationTime:this.Qa,refreshToken:this.S})};var di=function(a,b,c,d,e){Ef(this,{uid:a,displayName:d||null,photoURL:e||null,email:c||null,providerId:b})},ei=function(a,b){zb.call(this,a);for(var c in b)this[c]=b[c]};t(ei,zb);
var W=function(a,b,c){this.U=[];this.v=a.apiKey;this.ea=a.appName;this.X=a.authDomain||null;a=firebase.SDK_VERSION?tf(firebase.SDK_VERSION):null;this.f=new T(this.v,null,a);this.ba=new Zh(this.f);fi(this,b.idToken);ai(this.ba,b);Q(this,"refreshToken",this.ba.S);gi(this,c||{});$d.call(this);this.Xb=!1;this.X&&wf()&&(this.m=Wh(this.X,this.v,this.ea));this.fc=[];this.pc=J()};t(W,$d);
W.prototype.sa=function(a,b){var c=Array.prototype.slice.call(arguments,1),d=this;return this.pc=this.pc.then(function(){return a.apply(d,c)},function(){return a.apply(d,c)})};
var fi=function(a,b){a.md=b;Q(a,"_lat",b)},hi=function(a,b){Ma(a.fc,function(a){return a==b})},ii=function(a){for(var b=[],c=0;c<a.fc.length;c++)b.push(a.fc[c](a));return ud(b).then(function(){return a})},ji=function(a){a.m&&!a.Xb&&(a.Xb=!0,a.m.subscribe(a))},gi=function(a,b){Ef(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,isAnonymous:b.isAnonymous||!1,providerData:[]})};Q(W.prototype,"providerId","firebase");
var ki=function(){},li=function(a){return J().then(function(){if(a.Yd)throw new R("app-deleted");})},mi=function(a){return Fa(a.providerData,function(a){return a.providerId})},oi=function(a,b){b&&(ni(a,b.providerId),a.providerData.push(b))},ni=function(a,b){Ma(a.providerData,function(a){return a.providerId==b})},pi=function(a,b,c){("uid"!=b||c)&&a.hasOwnProperty(b)&&Q(a,b,c)};
W.prototype.copy=function(a){var b=this;b!=a&&(Ef(this,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,isAnonymous:a.isAnonymous,providerData:[]}),x(a.providerData,function(a){oi(b,a)}),this.ba=a.ba,Q(this,"refreshToken",this.ba.S))};W.prototype.reload=function(){var a=this;return li(this).then(function(){return qi(a).then(function(){return ii(a)}).then(ki)})};
var qi=function(a){return a.getToken().then(function(b){var c=a.isAnonymous;return ri(a,b).then(function(){c||pi(a,"isAnonymous",!1);return b}).l(function(b){"auth/user-token-expired"==b.code&&(a.dispatchEvent(new ei("userDeleted")),si(a));throw b;})})};
W.prototype.getToken=function(a){var b=this,c=ci(this.ba);return li(this).then(function(){return b.ba.getToken(a)}).then(function(a){if(!a)throw new R("internal-error");a.accessToken!=b.md&&(fi(b,a.accessToken),b.Ea());pi(b,"refreshToken",a.refreshToken);return a.accessToken}).l(function(a){if("auth/user-token-expired"==a.code&&!c)return ii(b).then(function(){pi(b,"refreshToken",null);throw a;});throw a;})};
var ti=function(a,b){b.idToken&&a.md!=b.idToken&&(ai(a.ba,b),a.Ea(),fi(a,b.idToken),pi(a,"refreshToken",a.ba.S))};W.prototype.Ea=function(){this.dispatchEvent(new ei("tokenChanged"))};var ri=function(a,b){return S(a.f,Lg,{idToken:b}).then(q(a.Be,a))};
W.prototype.Be=function(a){a=a.users;if(!a||!a.length)throw new R("internal-error");a=a[0];gi(this,{uid:a.localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified});for(var b=ui(a),c=0;c<b.length;c++)oi(this,b[c]);pi(this,"isAnonymous",!(this.email&&a.passwordHash)&&!(this.providerData&&this.providerData.length))};
var ui=function(a){return(a=a.providerUserInfo)&&a.length?Fa(a,function(a){return new di(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl)}):[]};W.prototype.reauthenticate=function(a){var b=this;return this.c(a.Ib(this.f).then(function(a){var c;a:{var e=a.idToken.split(".");if(3==e.length){for(var e=e[1],f=(4-e.length%4)%4,g=0;g<f;g++)e+=".";try{var k=ic(ub(e));if(k.sub&&k.iss&&k.aud&&k.exp){c=new Mf(k);break a}}catch(r){}}c=null}if(!c||b.uid!=c.ve)throw new R("user-mismatch");ti(b,a);return b.reload()}))};
var vi=function(a,b){return qi(a).then(function(){if(Ja(mi(a),b))return ii(a).then(function(){throw new R("provider-already-linked");})})};h=W.prototype;h.te=function(a){var b=this;return this.c(vi(this,a.provider).then(function(){return b.getToken()}).then(function(c){return a.od(b.f,c)}).then(q(this.dd,this)))};h.link=function(a){return this.sa(this.te,a)};h.dd=function(a){ti(this,a);var b=this;return this.reload().then(function(){return b})};
h.Pe=function(a){var b=this;return this.c(this.getToken().then(function(c){return b.f.updateEmail(c,a)}).then(function(a){ti(b,a);return b.reload()}))};h.updateEmail=function(a){return this.sa(this.Pe,a)};h.Qe=function(a){var b=this;return this.c(this.getToken().then(function(c){return b.f.updatePassword(c,a)}).then(function(a){ti(b,a);return b.reload()}))};h.updatePassword=function(a){return this.sa(this.Qe,a)};
h.Re=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return li(this);var b=this;return this.c(this.getToken().then(function(c){return b.f.updateProfile(c,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){ti(b,a);pi(b,"displayName",a.displayName||null);pi(b,"photoURL",a.photoUrl||null);return ii(b)}).then(ki))};h.updateProfile=function(a){return this.sa(this.Re,a)};
h.Oe=function(a){var b=this;return this.c(qi(this).then(function(c){return Ja(mi(b),a)?Ag(b.f,c,[a]).then(function(a){var c={};x(a.providerUserInfo||[],function(a){c[a.providerId]=!0});x(mi(b),function(a){c[a]||ni(b,a)});return ii(b)}):ii(b).then(function(){throw new R("no-such-provider");})}))};h.unlink=function(a){return this.sa(this.Oe,a)};h.Xd=function(){var a=this;return this.c(this.getToken().then(function(b){return S(a.f,Kg,{idToken:b})}).then(function(){a.dispatchEvent(new ei("userDeleted"))})).then(function(){si(a)})};
h.delete=function(){return this.sa(this.Xd)};h.Yc=function(a,b){return"linkViaPopup"==a&&(this.ia||null)==b&&this.$||"linkViaRedirect"==a&&(this.$b||null)==b?!0:!1};h.Ia=function(a,b,c,d){"linkViaPopup"==a&&d==(this.ia||null)&&(c&&this.Ga?this.Ga(c):b&&!c&&this.$&&this.$(b),this.C&&(this.C.cancel(),this.C=null),delete this.$,delete this.Ga)};h.nb=function(a,b){return"linkViaPopup"==a&&b==(this.ia||null)||"linkViaRedirect"==a&&(this.$b||null)==b?q(this.ae,this):null};
h.Hb=function(){return vf(this.uid+":::")};
var xi=function(a,b){if(!wf())return K(new R("operation-not-supported-in-this-environment"));var c=If(b.providerId),d=a.Hb(),e=null;!xf()&&a.X&&b.isOAuthProvider&&(e=Xg(a.X,a.v,a.ea,"linkViaPopup",b.providerId,b.Jb(),null,d,firebase.SDK_VERSION||null));var f=of(e,c&&c.vb,c&&c.ub),c=vi(a,b.providerId).then(function(){return ii(a)}).then(function(){wi(a);return a.getToken()}).then(function(){return Sh(a.m,f,"linkViaPopup",b,d,!!e)}).then(function(){return new I(function(b,c){a.Ia("linkViaPopup",null,
new R("cancelled-popup-request"),a.ia||null);a.$=b;a.Ga=c;a.ia=d;a.C=Uh(a.m,a,"linkViaPopup",f,d)})}).then(function(a){f&&nf(f);return a}).l(function(a){f&&nf(f);throw a;});return a.c(c)};W.prototype.linkWithPopup=function(a){var b=xi(this,a);return this.sa(function(){return b})};
W.prototype.ue=function(a){if(!wf())return K(new R("operation-not-supported-in-this-environment"));var b=this,c=null,d=this.Hb(),e=vi(this,a.providerId).then(function(){wi(b);return b.getToken()}).then(function(){b.$b=d;return ii(b)}).then(function(a){b.Ha&&(a=b.Ha,a=a.A.set(yi,b.G(),a.B));return a}).then(function(){return Th(b.m,"linkViaRedirect",a,d)}).l(function(a){c=a;if(b.Ha)return zi(b.Ha);throw c;}).then(function(){if(c)throw c;});return this.c(e)};
W.prototype.linkWithRedirect=function(a){return this.sa(this.ue,a)};var wi=function(a){if(!a.m||!a.Xb){if(a.m&&!a.Xb)throw new R("internal-error");throw new R("auth-domain-config-required");}};W.prototype.ae=function(a,b){var c=this;this.C&&(this.C.cancel(),this.C=null);var d=null,e=this.getToken().then(function(d){return Qf(c.f,{requestUri:a,sessionId:b,idToken:d})}).then(function(a){d=ag(a);return c.dd(a)}).then(function(a){return{user:a,credential:d}});return this.c(e)};
W.prototype.sendEmailVerification=function(){var a=this;return this.c(this.getToken().then(function(b){return a.f.sendEmailVerification(b)}).then(function(b){if(a.email!=b)return a.reload()}).then(function(){}))};var si=function(a){for(var b=0;b<a.U.length;b++)a.U[b].cancel("app-deleted");a.U=[];a.Yd=!0;Q(a,"refreshToken",null);a.m&&a.m.unsubscribe(a)};W.prototype.c=function(a){var b=this;this.U.push(a);xd(a,function(){La(b.U,a)});return a};W.prototype.toJSON=function(){return this.G()};
W.prototype.G=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.v,appName:this.ea,authDomain:this.X,stsTokenManager:this.ba.G(),redirectEventId:this.$b||null};x(this.providerData,function(b){a.providerData.push(Ff(b))});return a};
var Ai=function(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},c={};if(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime)c.idToken=a.stsTokenManager.accessToken,c.refreshToken=a.stsTokenManager.refreshToken||null,c.expiresIn=(a.stsTokenManager.expirationTime-la())/1E3;else return null;var d=new W(b,c,a);a.providerData&&x(a.providerData,function(a){if(a){var b={};Ef(b,a);oi(d,b)}});a.redirectEventId&&(d.$b=a.redirectEventId);
return d},Bi=function(a,b,c){var d=new W(a,b);c&&(d.Ha=c);return d.reload().then(function(){return d})};var Ci=function(a){this.B=a;this.A=Dh()},yi={name:"redirectUser",V:!1},zi=function(a){return a.A.remove(yi,a.B)},Di=function(a,b){return a.A.get(yi,a.B).then(function(a){a&&b&&(a.authDomain=b);return Ai(a||{})})};var Ei=function(a){this.B=a;this.A=Dh()},Fi={name:"authUser",V:!0},Gi=function(a,b){return a.A.set(Fi,b.G(),a.B)},Hi=function(a){return a.A.remove(Fi,a.B)},Ii=function(a,b){return a.A.get(Fi,a.B).then(function(a){a&&b&&(a.authDomain=b);return Ai(a||{})})};var Y=function(a){this.Oa=!1;Q(this,"app",a);if(X(this).options&&X(this).options.apiKey)a=firebase.SDK_VERSION?tf(firebase.SDK_VERSION):null,this.f=new T(X(this).options&&X(this).options.apiKey,null,a);else throw new R("invalid-api-key");this.U=[];this.Ma=[];this.ze=firebase.INTERNAL.createSubscribe(q(this.pe,this));Ji(this,null);this.ma=new Ei(X(this).options.apiKey+":"+X(this).name);this.Za=new Ci(X(this).options.apiKey+":"+X(this).name);this.Cb=this.c(Ki(this));this.ta=this.c(Li(this));this.Bc=
!1;this.yc=q(this.Je,this);this.Fd=q(this.Sa,this);this.Gd=q(this.le,this);this.Ed=q(this.ke,this);Mi(this);this.INTERNAL={};this.INTERNAL.delete=q(this.delete,this)};Y.prototype.toJSON=function(){return{apiKey:X(this).options.apiKey,authDomain:X(this).options.authDomain,appName:X(this).name,currentUser:Z(this)&&Z(this).G()}};
var Ni=function(a){return a.Zd||K(new R("auth-domain-config-required"))},Mi=function(a){var b=X(a).options.authDomain,c=X(a).options.apiKey;b&&wf()&&(a.Zd=a.Cb.then(function(){if(!a.Oa)return a.m=Wh(b,c,X(a).name),a.m.subscribe(a),Z(a)&&ji(Z(a)),a.Mc&&(ji(a.Mc),a.Mc=null),a.m}))};h=Y.prototype;h.Yc=function(a,b){switch(a){case "unknown":case "signInViaRedirect":return!0;case "signInViaPopup":return this.ia==b&&!!this.$;default:return!1}};
h.Ia=function(a,b,c,d){"signInViaPopup"==a&&this.ia==d&&(c&&this.Ga?this.Ga(c):b&&!c&&this.$&&this.$(b),this.C&&(this.C.cancel(),this.C=null),delete this.$,delete this.Ga)};h.nb=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.ia==b&&this.$?q(this.be,this):null};
h.be=function(a,b){var c=this;a={requestUri:a,sessionId:b};this.C&&(this.C.cancel(),this.C=null);var d=null,e=Of(c.f,a).then(function(a){d=ag(a);return a});a=c.Cb.then(function(){return e}).then(function(a){return Oi(c,a)}).then(function(){return{user:Z(c),credential:d}});return this.c(a)};h.Hb=function(){return vf()};
h.signInWithPopup=function(a){if(!wf())return K(new R("operation-not-supported-in-this-environment"));var b=this,c=If(a.providerId),d=this.Hb(),e=null;!xf()&&X(this).options.authDomain&&a.isOAuthProvider&&(e=Xg(X(this).options.authDomain,X(this).options.apiKey,X(this).name,"signInViaPopup",a.providerId,a.Jb(),null,d,firebase.SDK_VERSION||null));var f=of(e,c&&c.vb,c&&c.ub),c=Ni(this).then(function(b){return Sh(b,f,"signInViaPopup",a,d,!!e)}).then(function(){return new I(function(a,c){b.Ia("signInViaPopup",
null,new R("cancelled-popup-request"),b.ia);b.$=a;b.Ga=c;b.ia=d;b.C=Uh(b.m,b,"signInViaPopup",f,d)})}).then(function(a){f&&nf(f);return a}).l(function(a){f&&nf(f);throw a;});return this.c(c)};h.signInWithRedirect=function(a){if(!wf())return K(new R("operation-not-supported-in-this-environment"));var b=this,c=Ni(this).then(function(){return Th(b.m,"signInViaRedirect",a)});return this.c(c)};
h.getRedirectResult=function(){if(!wf())return K(new R("operation-not-supported-in-this-environment"));var a=this,b=Ni(this).then(function(){return a.m.getRedirectResult()});return this.c(b)};
var Oi=function(a,b){var c={};c.apiKey=X(a).options.apiKey;c.authDomain=X(a).options.authDomain;c.appName=X(a).name;return a.Cb.then(function(){return Bi(c,b,a.Za)}).then(function(b){if(Z(a)&&b.uid==Z(a).uid)return Z(a).copy(b),a.Sa(b);Ji(a,b);ji(b);return a.Sa(b)}).then(function(){a.Ea()})},Ji=function(a,b){Z(a)&&(hi(Z(a),a.Fd),Ub(Z(a),"tokenChanged",a.Gd),Ub(Z(a),"userDeleted",a.Ed));b&&(b.fc.push(a.Fd),Lb(b,"tokenChanged",a.Gd),Lb(b,"userDeleted",a.Ed));Q(a,"currentUser",b)};
Y.prototype.signOut=function(){var a=this,b=this.ta.then(function(){if(!Z(a))return J();Ji(a,null);return Hi(a.ma).then(function(){a.Ea()})});return this.c(b)};
var Pi=function(a){var b=Di(a.Za,X(a).options.authDomain).then(function(b){if(a.Mc=b)b.Ha=a.Za;return zi(a.Za)});return a.c(b)},Ki=function(a){var b=X(a).options.authDomain,c=Pi(a).then(function(){return Ii(a.ma,b)}).then(function(b){return b?(b.Ha=a.Za,b.reload().then(function(){return Gi(a.ma,b).then(function(){return b})}).l(function(c){return"auth/network-request-failed"==c.code?b:Hi(a.ma)})):null}).then(function(b){Ji(a,b||null)});return a.c(c)},Li=function(a){return a.Cb.then(function(){return a.getRedirectResult()}).l(function(){}).then(function(){if(!a.Oa)return a.yc()}).l(function(){}).then(function(){if(!a.Oa){a.Bc=
!0;var b=a.ma;b.A.addListener(Fi,b.B,a.yc)}})};Y.prototype.Je=function(){var a=this;return Ii(this.ma,X(this).options.authDomain).then(function(b){if(!a.Oa){var c;if(c=Z(a)&&b){c=Z(a).uid;var d=b.uid;c=void 0===c||null===c||""===c||void 0===d||null===d||""===d?!1:c==d}if(c)return Z(a).copy(b),Z(a).getToken();if(Z(a)||b)Ji(a,b),b&&(ji(b),b.Ha=a.Za),a.m&&a.m.subscribe(a),a.Ea()}})};Y.prototype.Sa=function(a){return Gi(this.ma,a)};Y.prototype.le=function(){this.Ea();this.Sa(Z(this))};
Y.prototype.ke=function(){this.signOut()};var Qi=function(a,b){return a.c(b.then(function(b){return Oi(a,b)}).then(function(){return Z(a)}))};h=Y.prototype;h.pe=function(a){var b=this;this.addAuthTokenListener(function(){a.next(Z(b))})};h.onAuthStateChanged=function(a,b,c){var d=this;this.Bc&&firebase.Promise.resolve().then(function(){p(a)?a(Z(d)):p(a.next)&&a.next(Z(d))});return this.ze(a,b,c)};
h.getToken=function(a){var b=this,c=this.ta.then(function(){return Z(b)?Z(b).getToken(a).then(function(a){return{accessToken:a}}):null});return this.c(c)};h.signInWithCustomToken=function(a){var b=this;return this.ta.then(function(){return Qi(b,S(b.f,Mg,{token:a}))}).then(function(a){pi(a,"isAnonymous",!1);return b.Sa(a)}).then(function(){return Z(b)})};h.signInWithEmailAndPassword=function(a,b){var c=this;return this.ta.then(function(){return Qi(c,S(c.f,Xf,{email:a,password:b}))})};
h.createUserWithEmailAndPassword=function(a,b){var c=this;return this.ta.then(function(){return Qi(c,S(c.f,Jg,{email:a,password:b}))})};h.signInWithCredential=function(a){var b=this;return this.ta.then(function(){return Qi(b,a.Ib(b.f))})};h.signInAnonymously=function(){var a=Z(this),b=this;return a&&a.isAnonymous?J(a):this.ta.then(function(){return Qi(b,b.f.signInAnonymously())}).then(function(a){pi(a,"isAnonymous",!0);return b.Sa(a)}).then(function(){return Z(b)})};
var X=function(a){return a.app},Z=function(a){return a.currentUser};h=Y.prototype;h.Ea=function(){if(this.Bc)for(var a=0;a<this.Ma.length;a++)if(this.Ma[a])this.Ma[a](Z(this)&&Z(this)._lat||null)};h.addAuthTokenListener=function(a){var b=this;this.Ma.push(a);this.c(this.ta.then(function(){b.Oa||Ja(b.Ma,a)&&a(Z(b)&&Z(b)._lat||null)}))};h.removeAuthTokenListener=function(a){Ma(this.Ma,function(b){return b==a})};
h.delete=function(){this.Oa=!0;for(var a=0;a<this.U.length;a++)this.U[a].cancel("app-deleted");this.U=[];this.ma&&(a=this.ma,a.A.removeListener(Fi,a.B,this.yc));this.m&&this.m.unsubscribe(this);return firebase.Promise.resolve()};h.c=function(a){var b=this;this.U.push(a);xd(a,function(){La(b.U,a)});return a};h.fetchProvidersForEmail=function(a){return this.c(qg(this.f,a))};h.verifyPasswordResetCode=function(a){return this.checkActionCode(a).then(function(a){return a.data.email})};
h.confirmPasswordReset=function(a,b){return this.c(this.f.confirmPasswordReset(a,b).then(function(){}))};h.checkActionCode=function(a){return this.c(this.f.checkActionCode(a).then(function(a){return{data:{email:a.email}}}))};h.applyActionCode=function(a){return this.c(this.f.applyActionCode(a).then(function(){}))};h.sendPasswordResetEmail=function(a){return this.c(this.f.sendPasswordResetEmail(a).then(function(){}))};zh(Y.prototype,{applyActionCode:{name:"applyActionCode",b:[U("code")]},checkActionCode:{name:"checkActionCode",b:[U("code")]},confirmPasswordReset:{name:"confirmPasswordReset",b:[U("code"),U("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",b:[U("email"),U("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",b:[U("email")]},getRedirectResult:{name:"getRedirectResult",b:[]},onAuthStateChanged:{name:"onAuthStateChanged",b:[xh(sh(),th(),"nextOrObserver"),
th("opt_error",!0),th("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",b:[U("email")]},signInAnonymously:{name:"signInAnonymously",b:[]},signInWithCredential:{name:"signInWithCredential",b:[vh()]},signInWithCustomToken:{name:"signInWithCustomToken",b:[U("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",b:[U("email"),U("password")]},signInWithPopup:{name:"signInWithPopup",b:[wh()]},signInWithRedirect:{name:"signInWithRedirect",b:[wh()]},signOut:{name:"signOut",
b:[]},toJSON:{name:"toJSON",b:[U(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",b:[U("code")]}});
zh(W.prototype,{"delete":{name:"delete",b:[]},getToken:{name:"getToken",b:[{name:"opt_forceRefresh",ca:"a boolean",optional:!0,da:function(a){return"boolean"==typeof a}}]},link:{name:"link",b:[vh()]},linkWithPopup:{name:"linkWithPopup",b:[wh()]},linkWithRedirect:{name:"linkWithRedirect",b:[wh()]},reauthenticate:{name:"reauthenticate",b:[vh()]},reload:{name:"reload",b:[]},sendEmailVerification:{name:"sendEmailVerification",b:[]},toJSON:{name:"toJSON",b:[U(null,!0)]},unlink:{name:"unlink",b:[U("provider")]},
updateEmail:{name:"updateEmail",b:[U("email")]},updatePassword:{name:"updatePassword",b:[U("password")]},updateProfile:{name:"updateProfile",b:[sh("profile")]}});zh(I.prototype,{l:{name:"catch"},then:{name:"then"}});V(Zf,"credential",function(a,b){return new Wf(a,b)},[U("email"),U("password")]);zh(Sf.prototype,{addScope:{name:"addScope",b:[U("scope")]}});V(Sf,"credential",Sf.credential,[xh(U(),sh(),"token")]);zh(Tf.prototype,{addScope:{name:"addScope",b:[U("scope")]}});
V(Tf,"credential",Tf.credential,[xh(U(),sh(),"token")]);zh(Uf.prototype,{addScope:{name:"addScope",b:[U("scope")]}});V(Uf,"credential",Uf.credential,[xh(U(),xh(sh(),uh()),"idToken"),xh(U(),uh(),"accessToken",!0)]);V(Vf,"credential",Vf.credential,[xh(U(),sh(),"token"),U("secret",!0)]);
(function(){if("undefined"!==typeof firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService){var a={Auth:Y,Error:R};V(a,"EmailAuthProvider",Zf,[]);V(a,"FacebookAuthProvider",Sf,[]);V(a,"GithubAuthProvider",Tf,[]);V(a,"GoogleAuthProvider",Uf,[]);V(a,"TwitterAuthProvider",Vf,[]);firebase.INTERNAL.registerService("auth",function(a,c){a=new Y(a);c({INTERNAL:{getToken:q(a.getToken,a),addAuthTokenListener:q(a.addAuthTokenListener,a),removeAuthTokenListener:q(a.removeAuthTokenListener,a)}});return a},
a,function(a,c){if("create"===a)try{c.auth()}catch(d){}});firebase.INTERNAL.extendNamespace({User:W})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");})();})();
module.exports = firebase.auth;

},{"./app":4}],6:[function(require,module,exports){
var firebase = require('./app');
/*! @license Firebase v3.4.1
    Build: 3.4.1-rc.2
    Terms: https://developers.google.com/terms */
(function() {var g,n=this;function p(a){return void 0!==a}function aa(){}function ba(a){a.Wb=function(){return a.bf?a.bf:a.bf=new a}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"array"==ca(a)}function ea(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==ca(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a,b,c){return a.call.apply(a.bind,arguments)}
function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return r.apply(null,arguments)}
function ka(a,b){function c(){}c.prototype=b.prototype;a.Ig=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Eg=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};function la(){this.Ya=-1};function ma(){this.Ya=-1;this.Ya=64;this.N=[];this.Wd=[];this.Jf=[];this.zd=[];this.zd[0]=128;for(var a=1;a<this.Ya;++a)this.zd[a]=0;this.Pd=this.ac=0;this.reset()}ka(ma,la);ma.prototype.reset=function(){this.N[0]=1732584193;this.N[1]=4023233417;this.N[2]=2562383102;this.N[3]=271733878;this.N[4]=3285377520;this.Pd=this.ac=0};
function na(a,b,c){c||(c=0);var d=a.Jf;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.N[0];c=a.N[1];for(var h=a.N[2],k=a.N[3],m=a.N[4],l,e=0;80>e;e++)40>e?20>e?(f=k^c&(h^k),l=1518500249):(f=c^h^k,l=1859775393):60>e?(f=c&h|k&(c|h),l=2400959708):(f=c^h^k,l=3395469782),f=(b<<
5|b>>>27)+f+m+l+d[e]&4294967295,m=k,k=h,h=(c<<30|c>>>2)&4294967295,c=b,b=f;a.N[0]=a.N[0]+b&4294967295;a.N[1]=a.N[1]+c&4294967295;a.N[2]=a.N[2]+h&4294967295;a.N[3]=a.N[3]+k&4294967295;a.N[4]=a.N[4]+m&4294967295}
ma.prototype.update=function(a,b){if(null!=a){p(b)||(b=a.length);for(var c=b-this.Ya,d=0,e=this.Wd,f=this.ac;d<b;){if(0==f)for(;d<=c;)na(this,a,d),d+=this.Ya;if(q(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Ya){na(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Ya){na(this,e);f=0;break}}this.ac=f;this.Pd+=b}};function t(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function oa(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function pa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function qa(a){var b=0,c;for(c in a)b++;return b}function ra(a){for(var b in a)return b}function sa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ta(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ua(a,b){for(var c in a)if(a[c]==b)return!0;return!1}
function va(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function wa(a,b){var c=va(a,b,void 0);return c&&a[c]}function xa(a){for(var b in a)return!1;return!0}function ya(a){var b={},c;for(c in a)b[c]=a[c];return b};function za(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Aa(){this.Fd=void 0}
function Ba(a,b,c){switch(typeof b){case "string":Ca(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(da(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Ba(a,a.Fd?a.Fd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),Ca(f,c),
c.push(":"),Ba(a,a.Fd?a.Fd.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ea=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Ca(a,b){b.push('"',a.replace(Ea,function(a){if(a in Da)return Da[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return Da[a]=e+b.toString(16)}),'"')};var v;a:{var Fa=n.navigator;if(Fa){var Ga=Fa.userAgent;if(Ga){v=Ga;break a}}v=""};function Ha(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ha);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ka(Ha,Error);Ha.prototype.name="CustomError";var w=Array.prototype,Ia=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ja=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ka=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=q(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var m=h[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},La=w.map?function(a,b,c){return w.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ma=w.reduce?function(a,b,c,d){for(var e=[],f=1,h=arguments.length;f<h;f++)e.push(arguments[f]);d&&(e[0]=r(b,d));return w.reduce.apply(a,e)}:function(a,b,c,d){var e=c;Ja(a,function(c,h){e=b.call(d,e,c,h,a)});return e},Na=w.every?function(a,b,
c){return w.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Oa(a,b){var c=Pa(a,b,void 0);return 0>c?null:q(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Qa(a,b){var c=Ia(a,b);0<=c&&w.splice.call(a,c,1)}function Ra(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)}
function Sa(a,b){a.sort(b||Ta)}function Ta(a,b){return a>b?1:a<b?-1:0};var Ua=-1!=v.indexOf("Opera")||-1!=v.indexOf("OPR"),Va=-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE"),Wa=-1!=v.indexOf("Gecko")&&-1==v.toLowerCase().indexOf("webkit")&&!(-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE")),Xa=-1!=v.toLowerCase().indexOf("webkit");
(function(){var a="",b;if(Ua&&n.opera)return a=n.opera.version,ga(a)?a():a;Wa?b=/rv\:([^\);]+)(\)|;)/:Va?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(v))?a[1]:"");return Va&&(b=(b=n.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var Ya=null,Za=null,$a=null;function ab(a,b){if(!ea(a))throw Error("encodeByteArray takes an array as a parameter");bb();for(var c=b?Za:Ya,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,k=h?a[e+1]:0,m=e+2<a.length,l=m?a[e+2]:0,u=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|l>>6,l=l&63;m||(l=64,h||(k=64));d.push(c[u],c[f],c[k],c[l])}return d.join("")}
function bb(){if(!Ya){Ya={};Za={};$a={};for(var a=0;65>a;a++)Ya[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),Za[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),$a[Za[a]]=a,62<=a&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)]=a)}};function cb(a){n.setTimeout(function(){throw a;},0)}var db;
function eb(){var a=n.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==v.indexOf("Presto")&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=r(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==v.indexOf("Trident")&&-1==v.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.Le;c.Le=null;a()}};return function(a){d.next={Le:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=
document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}};function fb(a,b){gb||hb();ib||(gb(),ib=!0);jb.push(new kb(a,b))}var gb;function hb(){if(n.Promise&&n.Promise.resolve){var a=n.Promise.resolve();gb=function(){a.then(lb)}}else gb=function(){var a=lb;!ga(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(db||(db=eb()),db(a)):n.setImmediate(a)}}var ib=!1,jb=[];[].push(function(){ib=!1;jb=[]});
function lb(){for(;jb.length;){var a=jb;jb=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.Wf.call(c.scope)}catch(d){cb(d)}}}ib=!1}function kb(a,b){this.Wf=a;this.scope=b};function mb(a,b){this.L=nb;this.uf=void 0;this.Ca=this.Ha=null;this.jd=this.be=!1;if(a==ob)pb(this,qb,b);else try{var c=this;a.call(b,function(a){pb(c,qb,a)},function(a){if(!(a instanceof rb))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(b){}pb(c,sb,a)})}catch(d){pb(this,sb,d)}}var nb=0,qb=2,sb=3;function ob(){}mb.prototype.then=function(a,b,c){return tb(this,ga(a)?a:null,ga(b)?b:null,c)};mb.prototype.then=mb.prototype.then;mb.prototype.$goog_Thenable=!0;g=mb.prototype;
g.Ag=function(a,b){return tb(this,null,a,b)};g.cancel=function(a){this.L==nb&&fb(function(){var b=new rb(a);ub(this,b)},this)};function ub(a,b){if(a.L==nb)if(a.Ha){var c=a.Ha;if(c.Ca){for(var d=0,e=-1,f=0,h;h=c.Ca[f];f++)if(h=h.k)if(d++,h==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.L==nb&&1==d?ub(c,b):(d=c.Ca.splice(e,1)[0],vb(c,d,sb,b)))}a.Ha=null}else pb(a,sb,b)}function wb(a,b){a.Ca&&a.Ca.length||a.L!=qb&&a.L!=sb||xb(a);a.Ca||(a.Ca=[]);a.Ca.push(b)}
function tb(a,b,c,d){var e={k:null,hf:null,kf:null};e.k=new mb(function(a,h){e.hf=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){h(l)}}:a;e.kf=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof rb?h(b):a(e)}catch(l){h(l)}}:h});e.k.Ha=a;wb(a,e);return e.k}g.Cf=function(a){this.L=nb;pb(this,qb,a)};g.Df=function(a){this.L=nb;pb(this,sb,a)};
function pb(a,b,c){if(a.L==nb){if(a==c)b=sb,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.L=1;c.then(a.Cf,a.Df,a);return}if(ha(c))try{var f=c.then;if(ga(f)){yb(a,c,f);return}}catch(h){b=sb,c=h}}a.uf=c;a.L=b;a.Ha=null;xb(a);b!=sb||c instanceof rb||zb(a,c)}}function yb(a,b,c){function d(b){f||(f=!0,a.Df(b))}function e(b){f||(f=!0,a.Cf(b))}a.L=1;var f=!1;try{c.call(b,e,d)}catch(h){d(h)}}
function xb(a){a.be||(a.be=!0,fb(a.Uf,a))}g.Uf=function(){for(;this.Ca&&this.Ca.length;){var a=this.Ca;this.Ca=null;for(var b=0;b<a.length;b++)vb(this,a[b],this.L,this.uf)}this.be=!1};function vb(a,b,c,d){if(c==qb)b.hf(d);else{if(b.k)for(;a&&a.jd;a=a.Ha)a.jd=!1;b.kf(d)}}function zb(a,b){a.jd=!0;fb(function(){a.jd&&Ab.call(null,b)})}var Ab=cb;function rb(a){Ha.call(this,a)}ka(rb,Ha);rb.prototype.name="cancel";function Bb(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function x(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function Cb(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])};function y(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function Db(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function A(a,b,c,d){if((!d||p(c))&&!ga(c))throw Error(Db(a,b,d)+"must be a valid function.");}function Eb(a,b,c){if(p(c)&&(!ha(c)||null===c))throw Error(Db(a,b,!0)+"must be a valid context object.");};function Fb(a){var b=[];Cb(a,function(a,d){da(d)?Ja(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""};var Gb=n.Promise||mb;mb.prototype["catch"]=mb.prototype.Ag;function Hb(){var a=this;this.reject=this.resolve=null;this.sa=new Gb(function(b,c){a.resolve=b;a.reject=c})}function Ib(a,b){return function(c,d){c?a.reject(c):a.resolve(d);ga(b)&&(Jb(a.sa),1===b.length?b(c):b(c,d))}}function Jb(a){a.then(void 0,aa)};function Kb(a,b){if(!a)throw Lb(b);}function Lb(a){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};function Mb(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,Kb(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function Nb(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};function Ob(a){return"undefined"!==typeof JSON&&p(JSON.parse)?JSON.parse(a):za(a)}function B(a){if("undefined"!==typeof JSON&&p(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ba(new Aa,a,b);a=b.join("")}return a};function Pb(a,b){this.committed=a;this.snapshot=b};function Qb(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:"")};function Rb(a){this.te=a;this.Bd=[];this.Rb=0;this.Yd=-1;this.Gb=null}function Sb(a,b,c){a.Yd=b;a.Gb=c;a.Yd<a.Rb&&(a.Gb(),a.Gb=null)}function Tb(a,b,c){for(a.Bd[b]=c;a.Bd[a.Rb];){var d=a.Bd[a.Rb];delete a.Bd[a.Rb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Ub(function(){f.te(d[e])})}if(a.Rb===a.Yd){a.Gb&&(clearTimeout(a.Gb),a.Gb(),a.Gb=null);break}a.Rb++}};function Vb(){this.qc={}}Vb.prototype.set=function(a,b){null==b?delete this.qc[a]:this.qc[a]=b};Vb.prototype.get=function(a){return Bb(this.qc,a)?this.qc[a]:null};Vb.prototype.remove=function(a){delete this.qc[a]};Vb.prototype.cf=!0;function Wb(a){this.vc=a;this.Cd="firebase:"}g=Wb.prototype;g.set=function(a,b){null==b?this.vc.removeItem(this.Cd+a):this.vc.setItem(this.Cd+a,B(b))};g.get=function(a){a=this.vc.getItem(this.Cd+a);return null==a?null:Ob(a)};g.remove=function(a){this.vc.removeItem(this.Cd+a)};g.cf=!1;g.toString=function(){return this.vc.toString()};function Xb(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new Wb(b)}}catch(c){}return new Vb}var Yb=Xb("localStorage"),Zb=Xb("sessionStorage");function $b(a,b,c){this.type=ac;this.source=a;this.path=b;this.Ja=c}$b.prototype.Nc=function(a){return this.path.e()?new $b(this.source,C,this.Ja.R(a)):new $b(this.source,D(this.path),this.Ja)};$b.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"};function bc(a,b){this.type=cc;this.source=a;this.path=b}bc.prototype.Nc=function(){return this.path.e()?new bc(this.source,C):new bc(this.source,D(this.path))};bc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function dc(a){this.He=a}dc.prototype.getToken=function(a){return this.He.INTERNAL.getToken(a).then(null,function(a){return a&&"auth/token-not-initialized"===a.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)})};function ec(a,b){a.He.INTERNAL.addAuthTokenListener(b)};function fc(){this.Jd=F}fc.prototype.j=function(a){return this.Jd.Q(a)};fc.prototype.toString=function(){return this.Jd.toString()};function gc(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.Sc=b;this.pe=c;this.Cg=d;this.nf=e||"";this.bb=Yb.get("host:"+a)||this.host}function hc(a,b){b!==a.bb&&(a.bb=b,"s-"===a.bb.substr(0,2)&&Yb.set("host:"+a.host,a.bb))}
function ic(a,b,c){H("string"===typeof b,"typeof type must == string");H("object"===typeof c,"typeof params must == object");if("websocket"===b)b=(a.Sc?"wss://":"ws://")+a.bb+"/.ws?";else if("long_polling"===b)b=(a.Sc?"https://":"http://")+a.bb+"/.lp?";else throw Error("Unknown connection type: "+b);a.host!==a.bb&&(c.ns=a.pe);var d=[];t(c,function(a,b){d.push(b+"="+a)});return b+d.join("&")}
gc.prototype.toString=function(){var a=(this.Sc?"https://":"http://")+this.host;this.nf&&(a+="<"+this.nf+">");return a};function jc(){this.uc={}}function kc(a,b,c){p(c)||(c=1);Bb(a.uc,b)||(a.uc[b]=0);a.uc[b]+=c}jc.prototype.get=function(){return ya(this.uc)};function lc(a){this.Nf=a;this.rd=null}lc.prototype.get=function(){var a=this.Nf.get(),b=ya(a);if(this.rd)for(var c in this.rd)b[c]-=this.rd[c];this.rd=a;return b};function mc(){this.wb=[]}function nc(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Zb();null===c||f.$(c.Zb())||(a.wb.push(c),c=null);null===c&&(c=new oc(f));c.add(e)}c&&a.wb.push(c)}function pc(a,b,c){nc(a,c);qc(a,function(a){return a.$(b)})}function rc(a,b,c){nc(a,c);qc(a,function(a){return a.contains(b)||b.contains(a)})}
function qc(a,b){for(var c=!0,d=0;d<a.wb.length;d++){var e=a.wb[d];if(e)if(e=e.Zb(),b(e)){for(var e=a.wb[d],f=0;f<e.hd.length;f++){var h=e.hd[f];if(null!==h){e.hd[f]=null;var k=h.Ub();sc&&E("event: "+h.toString());Ub(k)}}a.wb[d]=null}else c=!1}c&&(a.wb=[])}function oc(a){this.ra=a;this.hd=[]}oc.prototype.add=function(a){this.hd.push(a)};oc.prototype.Zb=function(){return this.ra};function tc(a,b,c,d){this.ae=b;this.Md=c;this.Dd=d;this.gd=a}tc.prototype.Zb=function(){var a=this.Md.xb();return"value"===this.gd?a.path:a.getParent().path};tc.prototype.ge=function(){return this.gd};tc.prototype.Ub=function(){return this.ae.Ub(this)};tc.prototype.toString=function(){return this.Zb().toString()+":"+this.gd+":"+B(this.Md.Ue())};function uc(a,b,c){this.ae=a;this.error=b;this.path=c}uc.prototype.Zb=function(){return this.path};uc.prototype.ge=function(){return"cancel"};
uc.prototype.Ub=function(){return this.ae.Ub(this)};uc.prototype.toString=function(){return this.path.toString()+":cancel"};function vc(){}vc.prototype.Xe=function(){return null};vc.prototype.fe=function(){return null};var wc=new vc;function xc(a,b,c){this.Gf=a;this.Na=b;this.yd=c}xc.prototype.Xe=function(a){var b=this.Na.O;if(yc(b,a))return b.j().R(a);b=null!=this.yd?new zc(this.yd,!0,!1):this.Na.w();return this.Gf.rc(a,b)};xc.prototype.fe=function(a,b,c){var d=null!=this.yd?this.yd:Ac(this.Na);a=this.Gf.Xd(d,b,1,c,a);return 0===a.length?null:a[0]};function I(a,b,c,d){this.type=a;this.Ma=b;this.Za=c;this.qe=d;this.Dd=void 0}function Bc(a){return new I(Cc,a)}var Cc="value";function zc(a,b,c){this.A=a;this.ea=b;this.Tb=c}function Dc(a){return a.ea}function Ec(a){return a.Tb}function Fc(a,b){return b.e()?a.ea&&!a.Tb:yc(a,J(b))}function yc(a,b){return a.ea&&!a.Tb||a.A.Fa(b)}zc.prototype.j=function(){return this.A};function Gc(a,b){return Hc(a.name,b.name)}function Ic(a,b){return Hc(a,b)};function K(a,b){this.name=a;this.S=b}function Jc(a,b){return new K(a,b)};function Kc(a,b){return a&&"object"===typeof a?(H(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Lc(a,b){var c=new Mc;Nc(a,new L(""),function(a,e){Oc(c,a,Pc(e,b))});return c}function Pc(a,b){var c=a.C().H(),c=Kc(c,b),d;if(a.J()){var e=Kc(a.Ea(),b);return e!==a.Ea()||c!==a.C().H()?new Qc(e,M(c)):a}d=a;c!==a.C().H()&&(d=d.ga(new Qc(c)));a.P(N,function(a,c){var e=Pc(c,b);e!==c&&(d=d.U(a,e))});return d};var Rc=function(){var a=1;return function(){return a++}}(),H=Kb,Sc=Lb;
function Tc(a){try{var b;bb();for(var c=$a,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],h=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var m=e<a.length?c[a.charAt(e)]:64;++e;if(null==f||null==h||null==k||null==m)throw Error();d.push(f<<2|h>>4);64!=k&&(d.push(h<<4&240|k>>2),64!=m&&d.push(k<<6&192|m))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{a="";for(c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Ra(d,c,c+8192));b=a}return b}catch(l){E("base64Decode failed: ",
l)}return null}function Uc(a){var b=Mb(a);a=new ma;a.update(b);var b=[],c=8*a.Pd;56>a.ac?a.update(a.zd,56-a.ac):a.update(a.zd,a.Ya-(a.ac-56));for(var d=a.Ya-1;56<=d;d--)a.Wd[d]=c&255,c/=256;na(a,a.Wd);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.N[d]>>e&255,++c;return ab(b)}function Vc(a){for(var b="",c=0;c<arguments.length;c++)b=ea(arguments[c])?b+Vc.apply(null,arguments[c]):"object"===typeof arguments[c]?b+B(arguments[c]):b+arguments[c],b+=" ";return b}var sc=null,Wc=!0;
function Xc(a,b){Kb(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?sc=r(console.log,console):"object"===typeof console.log&&(sc=function(a){console.log(a)})),b&&Zb.set("logging_enabled",!0)):ga(a)?sc=a:(sc=null,Zb.remove("logging_enabled"))}function E(a){!0===Wc&&(Wc=!1,null===sc&&!0===Zb.get("logging_enabled")&&Xc(!0));if(sc){var b=Vc.apply(null,arguments);sc(b)}}
function Yc(a){return function(){E(a,arguments)}}function Zc(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+Vc.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function $c(a){var b=Vc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}function O(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+Vc.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function ad(a){var b,c,d,e,f,h=a;f=c=a=b="";d=!0;e="https";if(q(h)){var k=h.indexOf("//");0<=k&&(e=h.substring(0,k-1),h=h.substring(k+2));k=h.indexOf("/");-1===k&&(k=h.length);b=h.substring(0,k);f="";h=h.substring(k).split("/");for(k=0;k<h.length;k++)if(0<h[k].length){var m=h[k];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(l){}f+="/"+m}h=b.split(".");3===h.length?(a=h[1],c=h[0].toLowerCase()):2===h.length&&(a=h[0]);k=b.indexOf(":");0<=k&&(d="https"===e||"wss"===e)}"firebase"===a&&$c(b+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");
c&&"undefined"!=c||$c("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");return{kc:new gc(b,d,c,"ws"===e||"wss"===e),path:new L(f)}}function bd(a){return fa(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}
function cd(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}
function Hc(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=dd(a),d=dd(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function ed(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+B(b));}
function fd(a){if("object"!==typeof a||null===a)return B(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=B(b[d]),c+=":",c+=fd(a[b[d]]);return c+"}"}function gd(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function hd(a,b){if(da(a))for(var c=0;c<a.length;++c)b(c,a[c]);else t(a,b)}
function id(a){H(!bd(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var jd=/^-?\d{1,10}$/;function dd(a){return jd.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Ub(a){try{a()}catch(b){setTimeout(function(){O("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function kd(a,b,c){Object.defineProperty(a,b,{get:c})}function ld(a,b){var c=setTimeout(a,b);"object"===typeof c&&c.unref&&c.unref();return c};function md(a){var b={},c={},d={},e="";try{var f=a.split("."),b=Ob(Tc(f[0])||""),c=Ob(Tc(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(h){}return{Fg:b,Me:c,data:d,xg:e}}function nd(a){a=md(a);var b=a.Me;return!!a.xg&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")}function od(a){a=md(a).Me;return"object"===typeof a&&!0===x(a,"admin")};function pd(a,b,c){this.f=Yc("p:rest:");this.M=a;this.Hb=b;this.Vd=c;this.aa={}}function qd(a,b){if(p(b))return"tag$"+b;H(rd(a.n),"should have a tag if it's not a default query.");return a.path.toString()}g=pd.prototype;
g.df=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.ka());var f=qd(a,c),h={};this.aa[f]=h;a=sd(a.n);var k=this;td(this,e+".json",a,function(a,b){var u=b;404===a&&(a=u=null);null===a&&k.Hb(e,u,!1,c);x(k.aa,f)===h&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};g.Ef=function(a,b){var c=qd(a,b);delete this.aa[c]};g.qf=function(){};g.re=function(){};g.gf=function(){};g.xd=function(){};g.put=function(){};g.ef=function(){};g.ye=function(){};
function td(a,b,c,d){c=c||{};c.format="export";a.Vd.getToken(!1).then(function(e){(e=e&&e.accessToken)&&(c.auth=e);var f=(a.M.Sc?"https://":"http://")+a.M.host+b+"?"+Fb(c);a.f("Sending REST request for "+f);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(d&&4===h.readyState){a.f("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);var b=null;if(200<=h.status&&300>h.status){try{b=Ob(h.responseText)}catch(c){O("Failed to parse JSON response for "+f+": "+h.responseText)}d(null,
b)}else 401!==h.status&&404!==h.status&&O("Got unsuccessful REST response for "+f+" Status: "+h.status),d(h.status);d=null}};h.open("GET",f,!0);h.send()})};function vd(a,b,c){this.type=wd;this.source=a;this.path=b;this.children=c}vd.prototype.Nc=function(a){if(this.path.e())return a=this.children.subtree(new L(a)),a.e()?null:a.value?new $b(this.source,C,a.value):new vd(this.source,C,a);H(J(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new vd(this.source,D(this.path),this.children)};vd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};function xd(a,b){this.zf={};this.Vc=new lc(a);this.wa=b;var c=1E4+2E4*Math.random();ld(r(this.rf,this),Math.floor(c))}xd.prototype.rf=function(){var a=this.Vc.get(),b={},c=!1,d;for(d in a)0<a[d]&&Bb(this.zf,d)&&(b[d]=a[d],c=!0);c&&this.wa.ye(b);ld(r(this.rf,this),Math.floor(6E5*Math.random()))};var yd={},zd={};function Ad(a){a=a.toString();yd[a]||(yd[a]=new jc);return yd[a]}function Bd(a,b){var c=a.toString();zd[c]||(zd[c]=b());return zd[c]};var Cd=null;"undefined"!==typeof MozWebSocket?Cd=MozWebSocket:"undefined"!==typeof WebSocket&&(Cd=WebSocket);function Dd(a,b,c,d){this.Zd=a;this.f=Yc(this.Zd);this.frames=this.Ac=null;this.qb=this.rb=this.Fe=0;this.Xa=Ad(b);a={v:"5"};"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");c&&(a.s=c);d&&(a.ls=d);this.Ne=ic(b,"websocket",a)}var Ed;
Dd.prototype.open=function(a,b){this.kb=b;this.hg=a;this.f("Websocket connecting to "+this.Ne);this.xc=!1;Yb.set("previous_websocket_failure",!0);try{this.La=new Cd(this.Ne)}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.fb();return}var e=this;this.La.onopen=function(){e.f("Websocket connected.");e.xc=!0};this.La.onclose=function(){e.f("Websocket connection was disconnected.");e.La=null;e.fb()};this.La.onmessage=function(a){if(null!==e.La)if(a=a.data,e.qb+=
a.length,kc(e.Xa,"bytes_received",a.length),Fd(e),null!==e.frames)Gd(e,a);else{a:{H(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.Fe=b;e.frames=[];a=null;break a}}e.Fe=1;e.frames=[]}null!==a&&Gd(e,a)}};this.La.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.fb()}};Dd.prototype.start=function(){};
Dd.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==Cd&&!Ed};Dd.responsesRequiredToBeHealthy=2;Dd.healthyTimeout=3E4;g=Dd.prototype;g.sd=function(){Yb.remove("previous_websocket_failure")};function Gd(a,b){a.frames.push(b);if(a.frames.length==a.Fe){var c=a.frames.join("");a.frames=null;c=Ob(c);a.hg(c)}}
g.send=function(a){Fd(this);a=B(a);this.rb+=a.length;kc(this.Xa,"bytes_sent",a.length);a=gd(a,16384);1<a.length&&Hd(this,String(a.length));for(var b=0;b<a.length;b++)Hd(this,a[b])};g.Tc=function(){this.Bb=!0;this.Ac&&(clearInterval(this.Ac),this.Ac=null);this.La&&(this.La.close(),this.La=null)};g.fb=function(){this.Bb||(this.f("WebSocket is closing itself"),this.Tc(),this.kb&&(this.kb(this.xc),this.kb=null))};g.close=function(){this.Bb||(this.f("WebSocket is being closed"),this.Tc())};
function Fd(a){clearInterval(a.Ac);a.Ac=setInterval(function(){a.La&&Hd(a,"0");Fd(a)},Math.floor(45E3))}function Hd(a,b){try{a.La.send(b)}catch(c){a.f("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(r(a.fb,a),0)}};function Id(){this.hb={}}
function Jd(a,b){var c=b.type,d=b.Za;H("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");H(".priority"!==d,"Only non-priority child changes can be tracked.");var e=x(a.hb,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.hb[d]=new I("child_changed",b.Ma,d,e.Ma);else if("child_removed"==c&&"child_added"==f)delete a.hb[d];else if("child_removed"==c&&"child_changed"==f)a.hb[d]=new I("child_removed",e.qe,d);else if("child_changed"==c&&
"child_added"==f)a.hb[d]=new I("child_added",b.Ma,d);else if("child_changed"==c&&"child_changed"==f)a.hb[d]=new I("child_changed",b.Ma,d,e.qe);else throw Sc("Illegal combination of changes: "+b+" occurred after "+e);}else a.hb[d]=b};function Kd(a){this.W=a;this.g=a.n.g}function Ld(a,b,c,d){var e=[],f=[];Ja(b,function(b){"child_changed"===b.type&&a.g.nd(b.qe,b.Ma)&&f.push(new I("child_moved",b.Ma,b.Za))});Md(a,e,"child_removed",b,d,c);Md(a,e,"child_added",b,d,c);Md(a,e,"child_moved",f,d,c);Md(a,e,"child_changed",b,d,c);Md(a,e,Cc,b,d,c);return e}function Md(a,b,c,d,e,f){d=Ka(d,function(a){return a.type===c});Sa(d,r(a.Of,a));Ja(d,function(c){var d=Nd(a,c,f);Ja(e,function(e){e.tf(c.type)&&b.push(e.createEvent(d,a.W))})})}
function Nd(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Dd=c.Ze(b.Za,b.Ma,a.g));return b}Kd.prototype.Of=function(a,b){if(null==a.Za||null==b.Za)throw Sc("Should only compare child_ events.");return this.g.compare(new K(a.Za,a.Ma),new K(b.Za,b.Ma))};function Od(a,b){this.Sd=a;this.Mf=b}function Pd(a){this.V=a}
Pd.prototype.gb=function(a,b,c,d){var e=new Id,f;if(b.type===ac)b.source.ee?c=Qd(this,a,b.path,b.Ja,c,d,e):(H(b.source.We,"Unknown source."),f=b.source.Ee||Ec(a.w())&&!b.path.e(),c=Rd(this,a,b.path,b.Ja,c,d,f,e));else if(b.type===wd)b.source.ee?c=Sd(this,a,b.path,b.children,c,d,e):(H(b.source.We,"Unknown source."),f=b.source.Ee||Ec(a.w()),c=Td(this,a,b.path,b.children,c,d,f,e));else if(b.type===Ud)if(b.Id)if(b=b.path,null!=c.mc(b))c=a;else{f=new xc(c,a,d);d=a.O.j();if(b.e()||".priority"===J(b))Dc(a.w())?
b=c.Ba(Ac(a)):(b=a.w().j(),H(b instanceof P,"serverChildren would be complete if leaf node"),b=c.sc(b)),b=this.V.za(d,b,e);else{var h=J(b),k=c.rc(h,a.w());null==k&&yc(a.w(),h)&&(k=d.R(h));b=null!=k?this.V.F(d,h,k,D(b),f,e):a.O.j().Fa(h)?this.V.F(d,h,F,D(b),f,e):d;b.e()&&Dc(a.w())&&(d=c.Ba(Ac(a)),d.J()&&(b=this.V.za(b,d,e)))}d=Dc(a.w())||null!=c.mc(C);c=Vd(a,b,d,this.V.Qa())}else c=Wd(this,a,b.path,b.Pb,c,d,e);else if(b.type===cc)d=b.path,b=a.w(),f=b.j(),h=b.ea||d.e(),c=Xd(this,new Yd(a.O,new zc(f,
h,b.Tb)),d,c,wc,e);else throw Sc("Unknown operation type: "+b.type);e=sa(e.hb);d=c;b=d.O;b.ea&&(f=b.j().J()||b.j().e(),h=Zd(a),(0<e.length||!a.O.ea||f&&!b.j().$(h)||!b.j().C().$(h.C()))&&e.push(Bc(Zd(d))));return new Od(c,e)};
function Xd(a,b,c,d,e,f){var h=b.O;if(null!=d.mc(c))return b;var k;if(c.e())H(Dc(b.w()),"If change path is empty, we must have complete server data"),Ec(b.w())?(e=Ac(b),d=d.sc(e instanceof P?e:F)):d=d.Ba(Ac(b)),f=a.V.za(b.O.j(),d,f);else{var m=J(c);if(".priority"==m)H(1==$d(c),"Can't have a priority with additional path components"),f=h.j(),k=b.w().j(),d=d.$c(c,f,k),f=null!=d?a.V.ga(f,d):h.j();else{var l=D(c);yc(h,m)?(k=b.w().j(),d=d.$c(c,h.j(),k),d=null!=d?h.j().R(m).F(l,d):h.j().R(m)):d=d.rc(m,
b.w());f=null!=d?a.V.F(h.j(),m,d,l,e,f):h.j()}}return Vd(b,f,h.ea||c.e(),a.V.Qa())}function Rd(a,b,c,d,e,f,h,k){var m=b.w();h=h?a.V:a.V.Vb();if(c.e())d=h.za(m.j(),d,null);else if(h.Qa()&&!m.Tb)d=m.j().F(c,d),d=h.za(m.j(),d,null);else{var l=J(c);if(!Fc(m,c)&&1<$d(c))return b;var u=D(c);d=m.j().R(l).F(u,d);d=".priority"==l?h.ga(m.j(),d):h.F(m.j(),l,d,u,wc,null)}m=m.ea||c.e();b=new Yd(b.O,new zc(d,m,h.Qa()));return Xd(a,b,c,e,new xc(e,b,f),k)}
function Qd(a,b,c,d,e,f,h){var k=b.O;e=new xc(e,b,f);if(c.e())h=a.V.za(b.O.j(),d,h),a=Vd(b,h,!0,a.V.Qa());else if(f=J(c),".priority"===f)h=a.V.ga(b.O.j(),d),a=Vd(b,h,k.ea,k.Tb);else{c=D(c);var m=k.j().R(f);if(!c.e()){var l=e.Xe(f);d=null!=l?".priority"===ae(c)&&l.Q(c.parent()).e()?l:l.F(c,d):F}m.$(d)?a=b:(h=a.V.F(k.j(),f,d,c,e,h),a=Vd(b,h,k.ea,a.V.Qa()))}return a}
function Sd(a,b,c,d,e,f,h){var k=b;be(d,function(d,l){var u=c.k(d);yc(b.O,J(u))&&(k=Qd(a,k,u,l,e,f,h))});be(d,function(d,l){var u=c.k(d);yc(b.O,J(u))||(k=Qd(a,k,u,l,e,f,h))});return k}function ce(a,b){be(b,function(b,d){a=a.F(b,d)});return a}
function Td(a,b,c,d,e,f,h,k){if(b.w().j().e()&&!Dc(b.w()))return b;var m=b;c=c.e()?d:de(Q,c,d);var l=b.w().j();c.children.ia(function(c,d){if(l.Fa(c)){var G=b.w().j().R(c),G=ce(G,d);m=Rd(a,m,new L(c),G,e,f,h,k)}});c.children.ia(function(c,d){var G=!yc(b.w(),c)&&null==d.value;l.Fa(c)||G||(G=b.w().j().R(c),G=ce(G,d),m=Rd(a,m,new L(c),G,e,f,h,k))});return m}
function Wd(a,b,c,d,e,f,h){if(null!=e.mc(c))return b;var k=Ec(b.w()),m=b.w();if(null!=d.value){if(c.e()&&m.ea||Fc(m,c))return Rd(a,b,c,m.j().Q(c),e,f,k,h);if(c.e()){var l=Q;m.j().P(ee,function(a,b){l=l.set(new L(a),b)});return Td(a,b,c,l,e,f,k,h)}return b}l=Q;be(d,function(a){var b=c.k(a);Fc(m,b)&&(l=l.set(a,m.j().Q(b)))});return Td(a,b,c,l,e,f,k,h)};function fe(a){this.g=a}g=fe.prototype;g.F=function(a,b,c,d,e,f){H(a.zc(this.g),"A node must be indexed if only a child is updated");e=a.R(b);if(e.Q(d).$(c.Q(d))&&e.e()==c.e())return a;null!=f&&(c.e()?a.Fa(b)?Jd(f,new I("child_removed",e,b)):H(a.J(),"A child remove without an old child only makes sense on a leaf node"):e.e()?Jd(f,new I("child_added",c,b)):Jd(f,new I("child_changed",c,b,e)));return a.J()&&c.e()?a:a.U(b,c).ob(this.g)};
g.za=function(a,b,c){null!=c&&(a.J()||a.P(N,function(a,e){b.Fa(a)||Jd(c,new I("child_removed",e,a))}),b.J()||b.P(N,function(b,e){if(a.Fa(b)){var f=a.R(b);f.$(e)||Jd(c,new I("child_changed",e,b,f))}else Jd(c,new I("child_added",e,b))}));return b.ob(this.g)};g.ga=function(a,b){return a.e()?F:a.ga(b)};g.Qa=function(){return!1};g.Vb=function(){return this};function ge(a){this.he=new fe(a.g);this.g=a.g;var b;a.la?(b=he(a),b=a.g.Fc(ie(a),b)):b=a.g.Ic();this.Uc=b;a.oa?(b=je(a),a=a.g.Fc(ke(a),b)):a=a.g.Gc();this.wc=a}g=ge.prototype;g.matches=function(a){return 0>=this.g.compare(this.Uc,a)&&0>=this.g.compare(a,this.wc)};g.F=function(a,b,c,d,e,f){this.matches(new K(b,c))||(c=F);return this.he.F(a,b,c,d,e,f)};
g.za=function(a,b,c){b.J()&&(b=F);var d=b.ob(this.g),d=d.ga(F),e=this;b.P(N,function(a,b){e.matches(new K(a,b))||(d=d.U(a,F))});return this.he.za(a,d,c)};g.ga=function(a){return a};g.Qa=function(){return!0};g.Vb=function(){return this.he};function le(a){this.ta=new ge(a);this.g=a.g;H(a.ya,"Only valid if limit has been set");this.pa=a.pa;this.Jb=!me(a)}g=le.prototype;g.F=function(a,b,c,d,e,f){this.ta.matches(new K(b,c))||(c=F);return a.R(b).$(c)?a:a.Fb()<this.pa?this.ta.Vb().F(a,b,c,d,e,f):ne(this,a,b,c,e,f)};
g.za=function(a,b,c){var d;if(b.J()||b.e())d=F.ob(this.g);else if(2*this.pa<b.Fb()&&b.zc(this.g)){d=F.ob(this.g);b=this.Jb?b.$b(this.ta.wc,this.g):b.Yb(this.ta.Uc,this.g);for(var e=0;0<b.Sa.length&&e<this.pa;){var f=R(b),h;if(h=this.Jb?0>=this.g.compare(this.ta.Uc,f):0>=this.g.compare(f,this.ta.wc))d=d.U(f.name,f.S),e++;else break}}else{d=b.ob(this.g);d=d.ga(F);var k,m,l;if(this.Jb){b=d.$e(this.g);k=this.ta.wc;m=this.ta.Uc;var u=oe(this.g);l=function(a,b){return u(b,a)}}else b=d.Xb(this.g),k=this.ta.Uc,
m=this.ta.wc,l=oe(this.g);for(var e=0,z=!1;0<b.Sa.length;)f=R(b),!z&&0>=l(k,f)&&(z=!0),(h=z&&e<this.pa&&0>=l(f,m))?e++:d=d.U(f.name,F)}return this.ta.Vb().za(a,d,c)};g.ga=function(a){return a};g.Qa=function(){return!0};g.Vb=function(){return this.ta.Vb()};
function ne(a,b,c,d,e,f){var h;if(a.Jb){var k=oe(a.g);h=function(a,b){return k(b,a)}}else h=oe(a.g);H(b.Fb()==a.pa,"");var m=new K(c,d),l=a.Jb?pe(b,a.g):qe(b,a.g),u=a.ta.matches(m);if(b.Fa(c)){for(var z=b.R(c),l=e.fe(a.g,l,a.Jb);null!=l&&(l.name==c||b.Fa(l.name));)l=e.fe(a.g,l,a.Jb);e=null==l?1:h(l,m);if(u&&!d.e()&&0<=e)return null!=f&&Jd(f,new I("child_changed",d,c,z)),b.U(c,d);null!=f&&Jd(f,new I("child_removed",z,c));b=b.U(c,F);return null!=l&&a.ta.matches(l)?(null!=f&&Jd(f,new I("child_added",
l.S,l.name)),b.U(l.name,l.S)):b}return d.e()?b:u&&0<=h(l,m)?(null!=f&&(Jd(f,new I("child_removed",l.S,l.name)),Jd(f,new I("child_added",d,c))),b.U(c,d).U(l.name,F)):b};function Qc(a,b){this.B=a;H(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value.");this.ba=b||F;re(this.ba);this.Eb=null}var se=["object","boolean","number","string"];g=Qc.prototype;g.J=function(){return!0};g.C=function(){return this.ba};g.ga=function(a){return new Qc(this.B,a)};g.R=function(a){return".priority"===a?this.ba:F};g.Q=function(a){return a.e()?this:".priority"===J(a)?this.ba:F};g.Fa=function(){return!1};g.Ze=function(){return null};
g.U=function(a,b){return".priority"===a?this.ga(b):b.e()&&".priority"!==a?this:F.U(a,b).ga(this.ba)};g.F=function(a,b){var c=J(a);if(null===c)return b;if(b.e()&&".priority"!==c)return this;H(".priority"!==c||1===$d(a),".priority must be the last token in a path");return this.U(c,F.F(D(a),b))};g.e=function(){return!1};g.Fb=function(){return 0};g.P=function(){return!1};g.H=function(a){return a&&!this.C().e()?{".value":this.Ea(),".priority":this.C().H()}:this.Ea()};
g.hash=function(){if(null===this.Eb){var a="";this.ba.e()||(a+="priority:"+te(this.ba.H())+":");var b=typeof this.B,a=a+(b+":"),a="number"===b?a+id(this.B):a+this.B;this.Eb=Uc(a)}return this.Eb};g.Ea=function(){return this.B};g.tc=function(a){if(a===F)return 1;if(a instanceof P)return-1;H(a.J(),"Unknown node type");var b=typeof a.B,c=typeof this.B,d=Ia(se,b),e=Ia(se,c);H(0<=d,"Unknown leaf type: "+b);H(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.B<a.B?-1:this.B===a.B?0:1:e-d};
g.ob=function(){return this};g.zc=function(){return!0};g.$=function(a){return a===this?!0:a.J()?this.B===a.B&&this.ba.$(a.ba):!1};g.toString=function(){return B(this.H(!0))};function ue(){}var ve={};function oe(a){return r(a.compare,a)}ue.prototype.nd=function(a,b){return 0!==this.compare(new K("[MIN_NAME]",a),new K("[MIN_NAME]",b))};ue.prototype.Ic=function(){return we};function xe(a){H(!a.e()&&".priority"!==J(a),"Can't create PathIndex with empty path or .priority key");this.cc=a}ka(xe,ue);g=xe.prototype;g.yc=function(a){return!a.Q(this.cc).e()};g.compare=function(a,b){var c=a.S.Q(this.cc),d=b.S.Q(this.cc),c=c.tc(d);return 0===c?Hc(a.name,b.name):c};
g.Fc=function(a,b){var c=M(a),c=F.F(this.cc,c);return new K(b,c)};g.Gc=function(){var a=F.F(this.cc,ye);return new K("[MAX_NAME]",a)};g.toString=function(){return this.cc.slice().join("/")};function ze(){}ka(ze,ue);g=ze.prototype;g.compare=function(a,b){var c=a.S.C(),d=b.S.C(),c=c.tc(d);return 0===c?Hc(a.name,b.name):c};g.yc=function(a){return!a.C().e()};g.nd=function(a,b){return!a.C().$(b.C())};g.Ic=function(){return we};g.Gc=function(){return new K("[MAX_NAME]",new Qc("[PRIORITY-POST]",ye))};
g.Fc=function(a,b){var c=M(a);return new K(b,new Qc("[PRIORITY-POST]",c))};g.toString=function(){return".priority"};var N=new ze;function Ae(){}ka(Ae,ue);g=Ae.prototype;g.compare=function(a,b){return Hc(a.name,b.name)};g.yc=function(){throw Sc("KeyIndex.isDefinedOn not expected to be called.");};g.nd=function(){return!1};g.Ic=function(){return we};g.Gc=function(){return new K("[MAX_NAME]",F)};g.Fc=function(a){H(q(a),"KeyIndex indexValue must always be a string.");return new K(a,F)};g.toString=function(){return".key"};
var ee=new Ae;function Be(){}ka(Be,ue);g=Be.prototype;g.compare=function(a,b){var c=a.S.tc(b.S);return 0===c?Hc(a.name,b.name):c};g.yc=function(){return!0};g.nd=function(a,b){return!a.$(b)};g.Ic=function(){return we};g.Gc=function(){return Ce};g.Fc=function(a,b){var c=M(a);return new K(b,c)};g.toString=function(){return".value"};var De=new Be;function Ee(){this.Sb=this.oa=this.Lb=this.la=this.ya=!1;this.pa=0;this.oc="";this.ec=null;this.Ab="";this.bc=null;this.yb="";this.g=N}var Fe=new Ee;function me(a){return""===a.oc?a.la:"l"===a.oc}function ie(a){H(a.la,"Only valid if start has been set");return a.ec}function he(a){H(a.la,"Only valid if start has been set");return a.Lb?a.Ab:"[MIN_NAME]"}function ke(a){H(a.oa,"Only valid if end has been set");return a.bc}
function je(a){H(a.oa,"Only valid if end has been set");return a.Sb?a.yb:"[MAX_NAME]"}function Ge(a){var b=new Ee;b.ya=a.ya;b.pa=a.pa;b.la=a.la;b.ec=a.ec;b.Lb=a.Lb;b.Ab=a.Ab;b.oa=a.oa;b.bc=a.bc;b.Sb=a.Sb;b.yb=a.yb;b.g=a.g;return b}g=Ee.prototype;g.ne=function(a){var b=Ge(this);b.ya=!0;b.pa=a;b.oc="l";return b};g.oe=function(a){var b=Ge(this);b.ya=!0;b.pa=a;b.oc="r";return b};g.Nd=function(a,b){var c=Ge(this);c.la=!0;p(a)||(a=null);c.ec=a;null!=b?(c.Lb=!0,c.Ab=b):(c.Lb=!1,c.Ab="");return c};
g.fd=function(a,b){var c=Ge(this);c.oa=!0;p(a)||(a=null);c.bc=a;p(b)?(c.Sb=!0,c.yb=b):(c.Hg=!1,c.yb="");return c};function He(a,b){var c=Ge(a);c.g=b;return c}function Ie(a){var b={};a.la&&(b.sp=a.ec,a.Lb&&(b.sn=a.Ab));a.oa&&(b.ep=a.bc,a.Sb&&(b.en=a.yb));if(a.ya){b.l=a.pa;var c=a.oc;""===c&&(c=me(a)?"l":"r");b.vf=c}a.g!==N&&(b.i=a.g.toString());return b}function S(a){return!(a.la||a.oa||a.ya)}function rd(a){return S(a)&&a.g==N}
function sd(a){var b={};if(rd(a))return b;var c;a.g===N?c="$priority":a.g===De?c="$value":a.g===ee?c="$key":(H(a.g instanceof xe,"Unrecognized index type!"),c=a.g.toString());b.orderBy=B(c);a.la&&(b.startAt=B(a.ec),a.Lb&&(b.startAt+=","+B(a.Ab)));a.oa&&(b.endAt=B(a.bc),a.Sb&&(b.endAt+=","+B(a.yb)));a.ya&&(me(a)?b.limitToFirst=a.pa:b.limitToLast=a.pa);return b}g.toString=function(){return B(Ie(this))};function Je(a,b){this.od=a;this.dc=b}Je.prototype.get=function(a){var b=x(this.od,a);if(!b)throw Error("No index defined for "+a);return b===ve?null:b};function Ke(a,b,c){var d=oa(a.od,function(d,f){var h=x(a.dc,f);H(h,"Missing index implementation for "+f);if(d===ve){if(h.yc(b.S)){for(var k=[],m=c.Xb(Jc),l=R(m);l;)l.name!=b.name&&k.push(l),l=R(m);k.push(b);return Le(k,oe(h))}return ve}h=c.get(b.name);k=d;h&&(k=k.remove(new K(b.name,h)));return k.Ra(b,b.S)});return new Je(d,a.dc)}
function Me(a,b,c){var d=oa(a.od,function(a){if(a===ve)return a;var d=c.get(b.name);return d?a.remove(new K(b.name,d)):a});return new Je(d,a.dc)}var Ne=new Je({".priority":ve},{".priority":N});function Oe(){this.set={}}g=Oe.prototype;g.add=function(a,b){this.set[a]=null!==b?b:!0};g.contains=function(a){return Bb(this.set,a)};g.get=function(a){return this.contains(a)?this.set[a]:void 0};g.remove=function(a){delete this.set[a]};g.clear=function(){this.set={}};g.e=function(){return xa(this.set)};g.count=function(){return qa(this.set)};function Pe(a,b){t(a.set,function(a,d){b(d,a)})}g.keys=function(){var a=[];t(this.set,function(b,c){a.push(c)});return a};function Qe(a,b,c,d){this.Zd=a;this.f=Yc(a);this.kc=b;this.qb=this.rb=0;this.Xa=Ad(b);this.Bf=c;this.xc=!1;this.Db=d;this.Yc=function(a){return ic(b,"long_polling",a)}}var Re,Se;
Qe.prototype.open=function(a,b){this.Qe=0;this.ja=b;this.ff=new Rb(a);this.Bb=!1;var c=this;this.tb=setTimeout(function(){c.f("Timed out trying to connect.");c.fb();c.tb=null},Math.floor(3E4));cd(function(){if(!c.Bb){c.Wa=new Te(function(a,b,d,k,m){Ue(c,arguments);if(c.Wa)if(c.tb&&(clearTimeout(c.tb),c.tb=null),c.xc=!0,"start"==a)c.id=b,c.mf=d;else if("close"===a)b?(c.Wa.Kd=!1,Sb(c.ff,b,function(){c.fb()})):c.fb();else throw Error("Unrecognized command received: "+a);},function(a,b){Ue(c,arguments);
Tb(c.ff,a,b)},function(){c.fb()},c.Yc);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.Wa.Qd&&(a.cb=c.Wa.Qd);a.v="5";c.Bf&&(a.s=c.Bf);c.Db&&(a.ls=c.Db);"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");a=c.Yc(a);c.f("Connecting via long-poll to "+a);Ve(c.Wa,a,function(){})}})};
Qe.prototype.start=function(){var a=this.Wa,b=this.mf;a.fg=this.id;a.gg=b;for(a.Ud=!0;We(a););a=this.id;b=this.mf;this.gc=document.createElement("iframe");var c={dframe:"t"};c.id=a;c.pw=b;this.gc.src=this.Yc(c);this.gc.style.display="none";document.body.appendChild(this.gc)};
Qe.isAvailable=function(){return Re||!Se&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.Dg)&&!0};g=Qe.prototype;g.sd=function(){};g.Tc=function(){this.Bb=!0;this.Wa&&(this.Wa.close(),this.Wa=null);this.gc&&(document.body.removeChild(this.gc),this.gc=null);this.tb&&(clearTimeout(this.tb),this.tb=null)};
g.fb=function(){this.Bb||(this.f("Longpoll is closing itself"),this.Tc(),this.ja&&(this.ja(this.xc),this.ja=null))};g.close=function(){this.Bb||(this.f("Longpoll is being closed."),this.Tc())};g.send=function(a){a=B(a);this.rb+=a.length;kc(this.Xa,"bytes_sent",a.length);a=Mb(a);a=ab(a,!0);a=gd(a,1840);for(var b=0;b<a.length;b++){var c=this.Wa;c.Qc.push({ug:this.Qe,Bg:a.length,Se:a[b]});c.Ud&&We(c);this.Qe++}};function Ue(a,b){var c=B(b).length;a.qb+=c;kc(a.Xa,"bytes_received",c)}
function Te(a,b,c,d){this.Yc=d;this.kb=c;this.ve=new Oe;this.Qc=[];this.$d=Math.floor(1E8*Math.random());this.Kd=!0;this.Qd=Rc();window["pLPCommand"+this.Qd]=a;window["pRTLPCB"+this.Qd]=b;a=document.createElement("iframe");a.style.display="none";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||E("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
a.contentDocument?a.ib=a.contentDocument:a.contentWindow?a.ib=a.contentWindow.document:a.document&&(a.ib=a.document);this.Ga=a;a="";this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";\x3c/script>');a="<html><body>"+a+"</body></html>";try{this.Ga.ib.open(),this.Ga.ib.write(a),this.Ga.ib.close()}catch(f){E("frame writing exception"),f.stack&&E(f.stack),E(f)}}
Te.prototype.close=function(){this.Ud=!1;if(this.Ga){this.Ga.ib.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Ga&&(document.body.removeChild(a.Ga),a.Ga=null)},Math.floor(0))}var b=this.kb;b&&(this.kb=null,b())};
function We(a){if(a.Ud&&a.Kd&&a.ve.count()<(0<a.Qc.length?2:1)){a.$d++;var b={};b.id=a.fg;b.pw=a.gg;b.ser=a.$d;for(var b=a.Yc(b),c="",d=0;0<a.Qc.length;)if(1870>=a.Qc[0].Se.length+30+c.length){var e=a.Qc.shift(),c=c+"&seg"+d+"="+e.ug+"&ts"+d+"="+e.Bg+"&d"+d+"="+e.Se;d++}else break;Xe(a,b+c,a.$d);return!0}return!1}function Xe(a,b,c){function d(){a.ve.remove(c);We(a)}a.ve.add(c,1);var e=setTimeout(d,Math.floor(25E3));Ve(a,b,function(){clearTimeout(e);d()})}
function Ve(a,b,c){setTimeout(function(){try{if(a.Kd){var d=a.Ga.ib.createElement("script");d.type="text/javascript";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){E("Long-poll script failed to load: "+b);a.Kd=!1;a.close()};a.Ga.ib.body.appendChild(d)}}catch(e){}},Math.floor(1))};function Ye(a){Ze(this,a)}var $e=[Qe,Dd];function Ze(a,b){var c=Dd&&Dd.isAvailable(),d=c&&!(Yb.cf||!0===Yb.get("previous_websocket_failure"));b.Cg&&(c||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.Wc=[Dd];else{var e=a.Wc=[];hd($e,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function af(a){if(0<a.Wc.length)return a.Wc[0];throw Error("No transports available");};function bf(a,b,c,d,e,f,h){this.id=a;this.f=Yc("c:"+this.id+":");this.te=c;this.Mc=d;this.ja=e;this.se=f;this.M=b;this.Ad=[];this.Oe=0;this.Af=new Ye(b);this.L=0;this.Db=h;this.f("Connection created");cf(this)}
function cf(a){var b=af(a.Af);a.I=new b("c:"+a.id+":"+a.Oe++,a.M,void 0,a.Db);a.xe=b.responsesRequiredToBeHealthy||0;var c=df(a,a.I),d=ef(a,a.I);a.Xc=a.I;a.Rc=a.I;a.D=null;a.Cb=!1;setTimeout(function(){a.I&&a.I.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.md=ld(function(){a.md=null;a.Cb||(a.I&&102400<a.I.qb?(a.f("Connection exceeded healthy timeout but has received "+a.I.qb+" bytes.  Marking connection healthy."),a.Cb=!0,a.I.sd()):a.I&&10240<a.I.rb?a.f("Connection exceeded healthy timeout but has sent "+
a.I.rb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function ef(a,b){return function(c){b===a.I?(a.I=null,c||0!==a.L?1===a.L&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.M.bb.substr(0,2)&&(Yb.remove("host:"+a.M.host),a.M.bb=a.M.host)),a.close()):b===a.D?(a.f("Secondary connection lost."),c=a.D,a.D=null,a.Xc!==c&&a.Rc!==c||a.close()):a.f("closing an old connection")}}
function df(a,b){return function(c){if(2!=a.L)if(b===a.Rc){var d=ed("t",c);c=ed("d",c);if("c"==d){if(d=ed("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.yf=c.s;hc(a.M,f);0==a.L&&(a.I.start(),ff(a,a.I,d),"5"!==e&&O("Protocol version mismatch detected"),c=a.Af,(c=1<c.Wc.length?c.Wc[1]:null)&&gf(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.Rc=a.D;for(c=0;c<a.Ad.length;++c)a.wd(a.Ad[c]);a.Ad=[];hf(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),
a.se&&(a.se(c),a.se=null),a.ja=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),hc(a.M,c),1===a.L?a.close():(jf(a),cf(a))):"e"===d?Zc("Server Error: "+c):"o"===d?(a.f("got pong on primary."),kf(a),lf(a)):Zc("Unknown control packet command: "+d)}else"d"==d&&a.wd(c)}else if(b===a.D)if(d=ed("t",c),c=ed("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?mf(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.D.close(),a.Xc!==a.D&&a.Rc!==a.D||a.close()):"o"===c&&(a.f("got pong on secondary."),
a.xf--,mf(a)));else if("d"==d)a.Ad.push(c);else throw Error("Unknown protocol layer: "+d);else a.f("message on old connection")}}bf.prototype.va=function(a){nf(this,{t:"d",d:a})};function hf(a){a.Xc===a.D&&a.Rc===a.D&&(a.f("cleaning up and promoting a connection: "+a.D.Zd),a.I=a.D,a.D=null)}
function mf(a){0>=a.xf?(a.f("Secondary connection is healthy."),a.Cb=!0,a.D.sd(),a.D.start(),a.f("sending client ack on secondary"),a.D.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.I.send({t:"c",d:{t:"n",d:{}}}),a.Xc=a.D,hf(a)):(a.f("sending ping on secondary."),a.D.send({t:"c",d:{t:"p",d:{}}}))}bf.prototype.wd=function(a){kf(this);this.te(a)};function kf(a){a.Cb||(a.xe--,0>=a.xe&&(a.f("Primary connection is healthy."),a.Cb=!0,a.I.sd()))}
function gf(a,b){a.D=new b("c:"+a.id+":"+a.Oe++,a.M,a.yf);a.xf=b.responsesRequiredToBeHealthy||0;a.D.open(df(a,a.D),ef(a,a.D));ld(function(){a.D&&(a.f("Timed out trying to upgrade."),a.D.close())},Math.floor(6E4))}function ff(a,b,c){a.f("Realtime connection established.");a.I=b;a.L=1;a.Mc&&(a.Mc(c,a.yf),a.Mc=null);0===a.xe?(a.f("Primary connection is healthy."),a.Cb=!0):ld(function(){lf(a)},Math.floor(5E3))}
function lf(a){a.Cb||1!==a.L||(a.f("sending ping on primary."),nf(a,{t:"c",d:{t:"p",d:{}}}))}function nf(a,b){if(1!==a.L)throw"Connection is not connected";a.Xc.send(b)}bf.prototype.close=function(){2!==this.L&&(this.f("Closing realtime connection."),this.L=2,jf(this),this.ja&&(this.ja(),this.ja=null))};function jf(a){a.f("Shutting down all connections");a.I&&(a.I.close(),a.I=null);a.D&&(a.D.close(),a.D=null);a.md&&(clearTimeout(a.md),a.md=null)};function L(a,b){if(1==arguments.length){this.o=a.split("/");for(var c=0,d=0;d<this.o.length;d++)0<this.o[d].length&&(this.o[c]=this.o[d],c++);this.o.length=c;this.Z=0}else this.o=a,this.Z=b}function T(a,b){var c=J(a);if(null===c)return b;if(c===J(b))return T(D(a),D(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}
function of(a,b){for(var c=a.slice(),d=b.slice(),e=0;e<c.length&&e<d.length;e++){var f=Hc(c[e],d[e]);if(0!==f)return f}return c.length===d.length?0:c.length<d.length?-1:1}function J(a){return a.Z>=a.o.length?null:a.o[a.Z]}function $d(a){return a.o.length-a.Z}function D(a){var b=a.Z;b<a.o.length&&b++;return new L(a.o,b)}function ae(a){return a.Z<a.o.length?a.o[a.o.length-1]:null}g=L.prototype;
g.toString=function(){for(var a="",b=this.Z;b<this.o.length;b++)""!==this.o[b]&&(a+="/"+this.o[b]);return a||"/"};g.slice=function(a){return this.o.slice(this.Z+(a||0))};g.parent=function(){if(this.Z>=this.o.length)return null;for(var a=[],b=this.Z;b<this.o.length-1;b++)a.push(this.o[b]);return new L(a,0)};
g.k=function(a){for(var b=[],c=this.Z;c<this.o.length;c++)b.push(this.o[c]);if(a instanceof L)for(c=a.Z;c<a.o.length;c++)b.push(a.o[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new L(b,0)};g.e=function(){return this.Z>=this.o.length};g.$=function(a){if($d(this)!==$d(a))return!1;for(var b=this.Z,c=a.Z;b<=this.o.length;b++,c++)if(this.o[b]!==a.o[c])return!1;return!0};
g.contains=function(a){var b=this.Z,c=a.Z;if($d(this)>$d(a))return!1;for(;b<this.o.length;){if(this.o[b]!==a.o[c])return!1;++b;++c}return!0};var C=new L("");function pf(a,b){this.Ta=a.slice();this.Ka=Math.max(1,this.Ta.length);this.Te=b;for(var c=0;c<this.Ta.length;c++)this.Ka+=Nb(this.Ta[c]);qf(this)}pf.prototype.push=function(a){0<this.Ta.length&&(this.Ka+=1);this.Ta.push(a);this.Ka+=Nb(a);qf(this)};pf.prototype.pop=function(){var a=this.Ta.pop();this.Ka-=Nb(a);0<this.Ta.length&&--this.Ka};
function qf(a){if(768<a.Ka)throw Error(a.Te+"has a key path longer than 768 bytes ("+a.Ka+").");if(32<a.Ta.length)throw Error(a.Te+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rf(a));}function rf(a){return 0==a.Ta.length?"":"in property '"+a.Ta.join(".")+"'"};function sf(a){a instanceof tf||$c("Don't call new Database() directly - please use firebase.database().");this.ua=a;this.ca=new U(a,C);this.INTERNAL=new uf(this)}var vf={TIMESTAMP:{".sv":"timestamp"}};g=sf.prototype;g.app=null;g.pf=function(a){wf(this,"ref");y("database.ref",0,1,arguments.length);return p(a)?this.ca.k(a):this.ca};
g.rg=function(a){wf(this,"database.refFromURL");y("database.refFromURL",1,1,arguments.length);var b=ad(a);xf("database.refFromURL",b);var c=b.kc;c.host!==this.ua.M.host&&$c("database.refFromURL: Host name does not match the current database: (found "+c.host+" but expected "+this.ua.M.host+")");return this.pf(b.path.toString())};function wf(a,b){null===a.ua&&$c("Cannot call "+b+" on a deleted database.")}g.$f=function(){y("database.goOffline",0,0,arguments.length);wf(this,"goOffline");this.ua.eb()};
g.ag=function(){y("database.goOnline",0,0,arguments.length);wf(this,"goOnline");this.ua.lc()};Object.defineProperty(sf.prototype,"app",{get:function(){return this.ua.app}});function uf(a){this.$a=a}uf.prototype.delete=function(){wf(this.$a,"delete");var a=yf.Wb(),b=this.$a.ua;x(a.nb,b.app.name)!==b&&$c("Database "+b.app.name+" has already been deleted.");b.eb();delete a.nb[b.app.name];this.$a.ua=null;this.$a.ca=null;this.$a=this.$a.INTERNAL=null;return firebase.Promise.resolve()};
sf.prototype.ref=sf.prototype.pf;sf.prototype.refFromURL=sf.prototype.rg;sf.prototype.goOnline=sf.prototype.ag;sf.prototype.goOffline=sf.prototype.$f;uf.prototype["delete"]=uf.prototype.delete;function Mc(){this.m=this.B=null}Mc.prototype.find=function(a){if(null!=this.B)return this.B.Q(a);if(a.e()||null==this.m)return null;var b=J(a);a=D(a);return this.m.contains(b)?this.m.get(b).find(a):null};function Oc(a,b,c){if(b.e())a.B=c,a.m=null;else if(null!==a.B)a.B=a.B.F(b,c);else{null==a.m&&(a.m=new Oe);var d=J(b);a.m.contains(d)||a.m.add(d,new Mc);a=a.m.get(d);b=D(b);Oc(a,b,c)}}
function zf(a,b){if(b.e())return a.B=null,a.m=null,!0;if(null!==a.B){if(a.B.J())return!1;var c=a.B;a.B=null;c.P(N,function(b,c){Oc(a,new L(b),c)});return zf(a,b)}return null!==a.m?(c=J(b),b=D(b),a.m.contains(c)&&zf(a.m.get(c),b)&&a.m.remove(c),a.m.e()?(a.m=null,!0):!1):!0}function Nc(a,b,c){null!==a.B?c(b,a.B):a.P(function(a,e){var f=new L(b.toString()+"/"+a);Nc(e,f,c)})}Mc.prototype.P=function(a){null!==this.m&&Pe(this.m,function(b,c){a(b,c)})};var Af=/[\[\].#$\/\u0000-\u001F\u007F]/,Bf=/[\[\].#$\u0000-\u001F\u007F]/;function Cf(a){return q(a)&&0!==a.length&&!Af.test(a)}function Df(a){return null===a||q(a)||fa(a)&&!bd(a)||ha(a)&&Bb(a,".sv")}function Ef(a,b,c,d){d&&!p(b)||Ff(Db(a,1,d),b,c)}
function Ff(a,b,c){c instanceof L&&(c=new pf(c,a));if(!p(b))throw Error(a+"contains undefined "+rf(c));if(ga(b))throw Error(a+"contains a function "+rf(c)+" with contents: "+b.toString());if(bd(b))throw Error(a+"contains "+b.toString()+" "+rf(c));if(q(b)&&b.length>10485760/3&&10485760<Nb(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+rf(c)+" ('"+b.substring(0,50)+"...')");if(ha(b)){var d=!1,e=!1;Cb(b,function(b,h){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=
!0,!Cf(b)))throw Error(a+" contains an invalid key ("+b+") "+rf(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);Ff(a,h,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+rf(c)+" in addition to actual children.");}}
function Gf(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((".priority"!==e[f]||f!==e.length-1)&&!Cf(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');}b.sort(of);e=null;for(c=0;c<b.length;c++){d=b[c];if(null!==e&&e.contains(d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}}
function Hf(a,b,c){var d=Db(a,1,!1);if(!ha(b)||da(b))throw Error(d+" must be an object containing the children to replace.");var e=[];Cb(b,function(a,b){var k=new L(a);Ff(d,b,c.k(k));if(".priority"===ae(k)&&!Df(b))throw Error(d+"contains an invalid value for '"+k.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(k)});Gf(d,e)}
function If(a,b,c){if(bd(c))throw Error(Db(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Df(c))throw Error(Db(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).");}
function Jf(a,b,c){if(!c||p(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(Db(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function Kf(a,b){if(p(b)&&!Cf(b))throw Error(Db(a,2,!0)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function Lf(a,b){if(!q(b)||0===b.length||Bf.test(b))throw Error(Db(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function Mf(a,b){if(".info"===J(b))throw Error(a+" failed: Can't modify data under /.info/");}
function xf(a,b){var c=b.path.toString(),d;!(d=!q(b.kc.host)||0===b.kc.host.length||!Cf(b.kc.pe))&&(d=0!==c.length)&&(c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),d=!(q(c)&&0!==c.length&&!Bf.test(c)));if(d)throw Error(Db(a,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');};function V(a,b){this.ua=a;this.ra=b}V.prototype.cancel=function(a){y("Firebase.onDisconnect().cancel",0,1,arguments.length);A("Firebase.onDisconnect().cancel",1,a,!0);var b=new Hb;this.ua.xd(this.ra,Ib(b,a));return b.sa};V.prototype.cancel=V.prototype.cancel;V.prototype.remove=function(a){y("Firebase.onDisconnect().remove",0,1,arguments.length);Mf("Firebase.onDisconnect().remove",this.ra);A("Firebase.onDisconnect().remove",1,a,!0);var b=new Hb;Nf(this.ua,this.ra,null,Ib(b,a));return b.sa};
V.prototype.remove=V.prototype.remove;V.prototype.set=function(a,b){y("Firebase.onDisconnect().set",1,2,arguments.length);Mf("Firebase.onDisconnect().set",this.ra);Ef("Firebase.onDisconnect().set",a,this.ra,!1);A("Firebase.onDisconnect().set",2,b,!0);var c=new Hb;Nf(this.ua,this.ra,a,Ib(c,b));return c.sa};V.prototype.set=V.prototype.set;
V.prototype.Kb=function(a,b,c){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);Mf("Firebase.onDisconnect().setWithPriority",this.ra);Ef("Firebase.onDisconnect().setWithPriority",a,this.ra,!1);If("Firebase.onDisconnect().setWithPriority",2,b);A("Firebase.onDisconnect().setWithPriority",3,c,!0);var d=new Hb;Of(this.ua,this.ra,a,b,Ib(d,c));return d.sa};V.prototype.setWithPriority=V.prototype.Kb;
V.prototype.update=function(a,b){y("Firebase.onDisconnect().update",1,2,arguments.length);Mf("Firebase.onDisconnect().update",this.ra);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;O("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Hf("Firebase.onDisconnect().update",a,this.ra);A("Firebase.onDisconnect().update",2,b,!0);
c=new Hb;Pf(this.ua,this.ra,a,Ib(c,b));return c.sa};V.prototype.update=V.prototype.update;function Qf(a){H(da(a)&&0<a.length,"Requires a non-empty array");this.Kf=a;this.Ec={}}Qf.prototype.Ge=function(a,b){var c;c=this.Ec[a]||[];var d=c.length;if(0<d){for(var e=Array(d),f=0;f<d;f++)e[f]=c[f];c=e}else c=[];for(d=0;d<c.length;d++)c[d].Ke.apply(c[d].Pa,Array.prototype.slice.call(arguments,1))};Qf.prototype.hc=function(a,b,c){Rf(this,a);this.Ec[a]=this.Ec[a]||[];this.Ec[a].push({Ke:b,Pa:c});(a=this.Ye(a))&&b.apply(c,a)};
Qf.prototype.Jc=function(a,b,c){Rf(this,a);a=this.Ec[a]||[];for(var d=0;d<a.length;d++)if(a[d].Ke===b&&(!c||c===a[d].Pa)){a.splice(d,1);break}};function Rf(a,b){H(Oa(a.Kf,function(a){return a===b}),"Unknown event: "+b)};function Sf(){Qf.call(this,["online"]);this.ic=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&!Qb()){var a=this;window.addEventListener("online",function(){a.ic||(a.ic=!0,a.Ge("online",!0))},!1);window.addEventListener("offline",function(){a.ic&&(a.ic=!1,a.Ge("online",!1))},!1)}}ka(Sf,Qf);Sf.prototype.Ye=function(a){H("online"===a,"Unknown event type: "+a);return[this.ic]};ba(Sf);function Tf(){Qf.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.Nb=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.Nb&&(c.Nb=b,c.Ge("visible",b))},!1)}}ka(Tf,Qf);Tf.prototype.Ye=function(a){H("visible"===a,"Unknown event type: "+a);return[this.Nb]};ba(Tf);var Uf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);H(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);H(20===c.length,"nextPushId: Length should be 20.");
return c}}();function Vf(a,b){this.Oa=a;this.ca=b?b:Wf}g=Vf.prototype;g.Ra=function(a,b){return new Vf(this.Oa,this.ca.Ra(a,b,this.Oa).Y(null,null,!1,null,null))};g.remove=function(a){return new Vf(this.Oa,this.ca.remove(a,this.Oa).Y(null,null,!1,null,null))};g.get=function(a){for(var b,c=this.ca;!c.e();){b=this.Oa(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function Xf(a,b){for(var c,d=a.ca,e=null;!d.e();){c=a.Oa(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}g.e=function(){return this.ca.e()};g.count=function(){return this.ca.count()};g.Hc=function(){return this.ca.Hc()};g.fc=function(){return this.ca.fc()};g.ia=function(a){return this.ca.ia(a)};
g.Xb=function(a){return new Yf(this.ca,null,this.Oa,!1,a)};g.Yb=function(a,b){return new Yf(this.ca,a,this.Oa,!1,b)};g.$b=function(a,b){return new Yf(this.ca,a,this.Oa,!0,b)};g.$e=function(a){return new Yf(this.ca,null,this.Oa,!0,a)};function Yf(a,b,c,d,e){this.Hd=e||null;this.le=d;this.Sa=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.le?a.left:a.right;else if(0===e){this.Sa.push(a);break}else this.Sa.push(a),a=this.le?a.right:a.left}
function R(a){if(0===a.Sa.length)return null;var b=a.Sa.pop(),c;c=a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value};if(a.le)for(b=b.left;!b.e();)a.Sa.push(b),b=b.right;else for(b=b.right;!b.e();)a.Sa.push(b),b=b.left;return c}function Zf(a){if(0===a.Sa.length)return null;var b;b=a.Sa;b=b[b.length-1];return a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value}}function $f(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:Wf;this.right=null!=e?e:Wf}g=$f.prototype;
g.Y=function(a,b,c,d,e){return new $f(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};g.count=function(){return this.left.count()+1+this.right.count()};g.e=function(){return!1};g.ia=function(a){return this.left.ia(a)||a(this.key,this.value)||this.right.ia(a)};function ag(a){return a.left.e()?a:ag(a.left)}g.Hc=function(){return ag(this).key};g.fc=function(){return this.right.e()?this.key:this.right.fc()};
g.Ra=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.Y(null,null,null,e.left.Ra(a,b,c),null):0===d?e.Y(null,b,null,null,null):e.Y(null,null,null,null,e.right.Ra(a,b,c));return bg(e)};function cg(a){if(a.left.e())return Wf;a.left.fa()||a.left.left.fa()||(a=dg(a));a=a.Y(null,null,null,cg(a.left),null);return bg(a)}
g.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.fa()||c.left.left.fa()||(c=dg(c)),c=c.Y(null,null,null,c.left.remove(a,b),null);else{c.left.fa()&&(c=eg(c));c.right.e()||c.right.fa()||c.right.left.fa()||(c=fg(c),c.left.left.fa()&&(c=eg(c),c=fg(c)));if(0===b(a,c.key)){if(c.right.e())return Wf;d=ag(c.right);c=c.Y(d.key,d.value,null,null,cg(c.right))}c=c.Y(null,null,null,null,c.right.remove(a,b))}return bg(c)};g.fa=function(){return this.color};
function bg(a){a.right.fa()&&!a.left.fa()&&(a=gg(a));a.left.fa()&&a.left.left.fa()&&(a=eg(a));a.left.fa()&&a.right.fa()&&(a=fg(a));return a}function dg(a){a=fg(a);a.right.left.fa()&&(a=a.Y(null,null,null,null,eg(a.right)),a=gg(a),a=fg(a));return a}function gg(a){return a.right.Y(null,null,a.color,a.Y(null,null,!0,null,a.right.left),null)}function eg(a){return a.left.Y(null,null,a.color,null,a.Y(null,null,!0,a.left.right,null))}
function fg(a){return a.Y(null,null,!a.color,a.left.Y(null,null,!a.left.color,null,null),a.right.Y(null,null,!a.right.color,null,null))}function hg(){}g=hg.prototype;g.Y=function(){return this};g.Ra=function(a,b){return new $f(a,b,null)};g.remove=function(){return this};g.count=function(){return 0};g.e=function(){return!0};g.ia=function(){return!1};g.Hc=function(){return null};g.fc=function(){return null};g.fa=function(){return!1};var Wf=new hg;function P(a,b,c){this.m=a;(this.ba=b)&&re(this.ba);a.e()&&H(!this.ba||this.ba.e(),"An empty node cannot have a priority");this.zb=c;this.Eb=null}g=P.prototype;g.J=function(){return!1};g.C=function(){return this.ba||F};g.ga=function(a){return this.m.e()?this:new P(this.m,a,this.zb)};g.R=function(a){if(".priority"===a)return this.C();a=this.m.get(a);return null===a?F:a};g.Q=function(a){var b=J(a);return null===b?this:this.R(b).Q(D(a))};g.Fa=function(a){return null!==this.m.get(a)};
g.U=function(a,b){H(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.ga(b);var c=new K(a,b),d,e;b.e()?(d=this.m.remove(a),c=Me(this.zb,c,this.m)):(d=this.m.Ra(a,b),c=Ke(this.zb,c,this.m));e=d.e()?F:this.ba;return new P(d,e,c)};g.F=function(a,b){var c=J(a);if(null===c)return b;H(".priority"!==J(a)||1===$d(a),".priority must be the last token in a path");var d=this.R(c).F(D(a),b);return this.U(c,d)};g.e=function(){return this.m.e()};g.Fb=function(){return this.m.count()};
var ig=/^(0|[1-9]\d*)$/;g=P.prototype;g.H=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.P(N,function(f,h){b[f]=h.H(a);c++;e&&ig.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],h;for(h in b)f[h]=b[h];return f}a&&!this.C().e()&&(b[".priority"]=this.C().H());return b};g.hash=function(){if(null===this.Eb){var a="";this.C().e()||(a+="priority:"+te(this.C().H())+":");this.P(N,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.Eb=""===a?"":Uc(a)}return this.Eb};
g.Ze=function(a,b,c){return(c=jg(this,c))?(a=Xf(c,new K(a,b)))?a.name:null:Xf(this.m,a)};function pe(a,b){var c;c=(c=jg(a,b))?(c=c.Hc())&&c.name:a.m.Hc();return c?new K(c,a.m.get(c)):null}function qe(a,b){var c;c=(c=jg(a,b))?(c=c.fc())&&c.name:a.m.fc();return c?new K(c,a.m.get(c)):null}g.P=function(a,b){var c=jg(this,a);return c?c.ia(function(a){return b(a.name,a.S)}):this.m.ia(b)};g.Xb=function(a){return this.Yb(a.Ic(),a)};
g.Yb=function(a,b){var c=jg(this,b);if(c)return c.Yb(a,function(a){return a});for(var c=this.m.Yb(a.name,Jc),d=Zf(c);null!=d&&0>b.compare(d,a);)R(c),d=Zf(c);return c};g.$e=function(a){return this.$b(a.Gc(),a)};g.$b=function(a,b){var c=jg(this,b);if(c)return c.$b(a,function(a){return a});for(var c=this.m.$b(a.name,Jc),d=Zf(c);null!=d&&0<b.compare(d,a);)R(c),d=Zf(c);return c};g.tc=function(a){return this.e()?a.e()?0:-1:a.J()||a.e()?1:a===ye?-1:0};
g.ob=function(a){if(a===ee||ua(this.zb.dc,a.toString()))return this;var b=this.zb,c=this.m;H(a!==ee,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Xb(Jc),f=R(c);f;)e=e||a.yc(f.S),d.push(f),f=R(c);d=e?Le(d,oe(a)):ve;e=a.toString();c=ya(b.dc);c[e]=a;a=ya(b.od);a[e]=d;return new P(this.m,this.ba,new Je(a,c))};g.zc=function(a){return a===ee||ua(this.zb.dc,a.toString())};
g.$=function(a){if(a===this)return!0;if(a.J())return!1;if(this.C().$(a.C())&&this.m.count()===a.m.count()){var b=this.Xb(N);a=a.Xb(N);for(var c=R(b),d=R(a);c&&d;){if(c.name!==d.name||!c.S.$(d.S))return!1;c=R(b);d=R(a)}return null===c&&null===d}return!1};function jg(a,b){return b===ee?null:a.zb.get(b.toString())}g.toString=function(){return B(this.H(!0))};function M(a,b){if(null===a)return F;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);H(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new Qc(a,M(c));if(a instanceof Array){var d=F,e=a;t(e,function(a,b){if(Bb(e,b)&&"."!==b.substring(0,1)){var c=M(a);if(c.J()||!c.e())d=
d.U(b,c)}});return d.ga(M(c))}var f=[],h=!1,k=a;Cb(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=M(k[a]);b.e()||(h=h||!b.C().e(),f.push(new K(a,b)))}});if(0==f.length)return F;var m=Le(f,Gc,function(a){return a.name},Ic);if(h){var l=Le(f,oe(N));return new P(m,M(c),new Je({".priority":l},{".priority":N}))}return new P(m,M(c),Ne)}var kg=Math.log(2);
function lg(a){this.count=parseInt(Math.log(a+1)/kg,10);this.Re=this.count-1;this.Lf=a+1&parseInt(Array(this.count+1).join("1"),2)}function mg(a){var b=!(a.Lf&1<<a.Re);a.Re--;return b}
function Le(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var l=a[b],u=c?c(l):l;return new $f(u,l.S,!1,null,null)}var l=parseInt(f/2,10)+b,f=e(b,l),z=e(l+1,d),l=a[l],u=c?c(l):l;return new $f(u,l.S,!1,f,z)}a.sort(b);var f=function(b){function d(b,h){var k=u-b,z=u;u-=b;var z=e(k+1,z),k=a[k],G=c?c(k):k,z=new $f(G,k.S,h,null,z);f?f.left=z:l=z;f=z}for(var f=null,l=null,u=a.length,z=0;z<b.count;++z){var G=mg(b),ud=Math.pow(2,b.count-(z+1));G?d(ud,!1):(d(ud,!1),d(ud,!0))}return l}(new lg(a.length));
return null!==f?new Vf(d||b,f):new Vf(d||b)}function te(a){return"number"===typeof a?"number:"+id(a):"string:"+a}function re(a){if(a.J()){var b=a.H();H("string"===typeof b||"number"===typeof b||"object"===typeof b&&Bb(b,".sv"),"Priority must be a string or number.")}else H(a===ye||a.e(),"priority of unexpected type.");H(a===ye||a.C().e(),"Priority nodes can't have a priority of their own.")}var F=new P(new Vf(Ic),null,Ne);function ng(){P.call(this,new Vf(Ic),F,Ne)}ka(ng,P);g=ng.prototype;
g.tc=function(a){return a===this?0:1};g.$=function(a){return a===this};g.C=function(){return this};g.R=function(){return F};g.e=function(){return!1};var ye=new ng,we=new K("[MIN_NAME]",F),Ce=new K("[MAX_NAME]",ye);function W(a,b,c){this.A=a;this.W=b;this.g=c}W.prototype.H=function(){y("Firebase.DataSnapshot.val",0,0,arguments.length);return this.A.H()};W.prototype.val=W.prototype.H;W.prototype.Ue=function(){y("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.A.H(!0)};W.prototype.exportVal=W.prototype.Ue;W.prototype.Vf=function(){y("Firebase.DataSnapshot.exists",0,0,arguments.length);return!this.A.e()};W.prototype.exists=W.prototype.Vf;
W.prototype.k=function(a){y("Firebase.DataSnapshot.child",0,1,arguments.length);fa(a)&&(a=String(a));Lf("Firebase.DataSnapshot.child",a);var b=new L(a),c=this.W.k(b);return new W(this.A.Q(b),c,N)};W.prototype.child=W.prototype.k;W.prototype.Fa=function(a){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Lf("Firebase.DataSnapshot.hasChild",a);var b=new L(a);return!this.A.Q(b).e()};W.prototype.hasChild=W.prototype.Fa;
W.prototype.C=function(){y("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.A.C().H()};W.prototype.getPriority=W.prototype.C;W.prototype.forEach=function(a){y("Firebase.DataSnapshot.forEach",1,1,arguments.length);A("Firebase.DataSnapshot.forEach",1,a,!1);if(this.A.J())return!1;var b=this;return!!this.A.P(this.g,function(c,d){return a(new W(d,b.W.k(c),N))})};W.prototype.forEach=W.prototype.forEach;
W.prototype.kd=function(){y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.A.J()?!1:!this.A.e()};W.prototype.hasChildren=W.prototype.kd;W.prototype.getKey=function(){y("Firebase.DataSnapshot.key",0,0,arguments.length);return this.W.getKey()};kd(W.prototype,"key",W.prototype.getKey);W.prototype.Fb=function(){y("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.A.Fb()};W.prototype.numChildren=W.prototype.Fb;
W.prototype.xb=function(){y("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.W};kd(W.prototype,"ref",W.prototype.xb);function Yd(a,b){this.O=a;this.Ld=b}function Vd(a,b,c,d){return new Yd(new zc(b,c,d),a.Ld)}function Zd(a){return a.O.ea?a.O.j():null}Yd.prototype.w=function(){return this.Ld};function Ac(a){return a.Ld.ea?a.Ld.j():null};function og(a,b){this.W=a;var c=a.n,d=new fe(c.g),c=S(c)?new fe(c.g):c.ya?new le(c):new ge(c);this.of=new Pd(c);var e=b.w(),f=b.O,h=d.za(F,e.j(),null),k=c.za(F,f.j(),null);this.Na=new Yd(new zc(k,f.ea,c.Qa()),new zc(h,e.ea,d.Qa()));this.ab=[];this.Sf=new Kd(a)}function pg(a){return a.W}g=og.prototype;g.w=function(){return this.Na.w().j()};g.jb=function(a){var b=Ac(this.Na);return b&&(S(this.W.n)||!a.e()&&!b.R(J(a)).e())?b.Q(a):null};g.e=function(){return 0===this.ab.length};g.Ob=function(a){this.ab.push(a)};
g.mb=function(a,b){var c=[];if(b){H(null==a,"A cancel should cancel all event registrations.");var d=this.W.path;Ja(this.ab,function(a){(a=a.Pe(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.ab.length;++f){var h=this.ab[f];if(!h.matches(a))e.push(h);else if(a.af()){e=e.concat(this.ab.slice(f+1));break}}this.ab=e}else this.ab=[];return c};
g.gb=function(a,b,c){a.type===wd&&null!==a.source.Ib&&(H(Ac(this.Na),"We should always have a full cache before handling merges"),H(Zd(this.Na),"Missing event cache, even though we have a server cache"));var d=this.Na;a=this.of.gb(d,a,b,c);b=this.of;c=a.Sd;H(c.O.j().zc(b.V.g),"Event snap not indexed");H(c.w().j().zc(b.V.g),"Server snap not indexed");H(Dc(a.Sd.w())||!Dc(d.w()),"Once a server snap is complete, it should never go back");this.Na=a.Sd;return qg(this,a.Mf,a.Sd.O.j(),null)};
function rg(a,b){var c=a.Na.O,d=[];c.j().J()||c.j().P(N,function(a,b){d.push(new I("child_added",b,a))});c.ea&&d.push(Bc(c.j()));return qg(a,d,c.j(),b)}function qg(a,b,c,d){return Ld(a.Sf,b,c,d?[d]:a.ab)};function sg(a,b,c){this.Qb=a;this.sb=b;this.ub=c||null}g=sg.prototype;g.tf=function(a){return"value"===a};g.createEvent=function(a,b){var c=b.n.g;return new tc("value",this,new W(a.Ma,b.xb(),c))};g.Ub=function(a){var b=this.ub;if("cancel"===a.ge()){H(this.sb,"Raising a cancel event on a listener with no cancel callback");var c=this.sb;return function(){c.call(b,a.error)}}var d=this.Qb;return function(){d.call(b,a.Md)}};g.Pe=function(a,b){return this.sb?new uc(this,a,b):null};
g.matches=function(a){return a instanceof sg?a.Qb&&this.Qb?a.Qb===this.Qb&&a.ub===this.ub:!0:!1};g.af=function(){return null!==this.Qb};function tg(a,b,c){this.ha=a;this.sb=b;this.ub=c}g=tg.prototype;g.tf=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.ha};g.Pe=function(a,b){return this.sb?new uc(this,a,b):null};
g.createEvent=function(a,b){H(null!=a.Za,"Child events should have a childName.");var c=b.xb().k(a.Za);return new tc(a.type,this,new W(a.Ma,c,b.n.g),a.Dd)};g.Ub=function(a){var b=this.ub;if("cancel"===a.ge()){H(this.sb,"Raising a cancel event on a listener with no cancel callback");var c=this.sb;return function(){c.call(b,a.error)}}var d=this.ha[a.gd];return function(){d.call(b,a.Md,a.Dd)}};
g.matches=function(a){if(a instanceof tg){if(!this.ha||!a.ha)return!0;if(this.ub===a.ub){var b=qa(a.ha);if(b===qa(this.ha)){if(1===b){var b=ra(a.ha),c=ra(this.ha);return c===b&&(!a.ha[b]||!this.ha[c]||a.ha[b]===this.ha[c])}return pa(this.ha,function(b,c){return a.ha[c]===b})}}}return!1};g.af=function(){return null!==this.ha};function X(a,b,c,d){this.u=a;this.path=b;this.n=c;this.Oc=d}
function ug(a){var b=null,c=null;a.la&&(b=ie(a));a.oa&&(c=ke(a));if(a.g===ee){if(a.la){if("[MIN_NAME]"!=he(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.oa){if("[MAX_NAME]"!=je(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==
typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.g===N){if(null!=b&&!Df(b)||null!=c&&!Df(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(H(a.g instanceof xe||a.g===De,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function vg(a){if(a.la&&a.oa&&a.ya&&(!a.ya||""===a.oc))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function wg(a,b){if(!0===a.Oc)throw Error(b+": You can't combine multiple orderBy calls.");}g=X.prototype;g.xb=function(){y("Query.ref",0,0,arguments.length);return new U(this.u,this.path)};
g.hc=function(a,b,c,d){y("Query.on",2,4,arguments.length);Jf("Query.on",a,!1);A("Query.on",2,b,!1);var e=xg("Query.on",c,d);if("value"===a)yg(this.u,this,new sg(b,e.cancel||null,e.Pa||null));else{var f={};f[a]=b;yg(this.u,this,new tg(f,e.cancel,e.Pa))}return b};
g.Jc=function(a,b,c){y("Query.off",0,3,arguments.length);Jf("Query.off",a,!0);A("Query.off",2,b,!0);Eb("Query.off",3,c);var d=null,e=null;"value"===a?d=new sg(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new tg(e,null,c||null));e=this.u;d=".info"===J(this.path)?e.pd.mb(this,d):e.K.mb(this,d);pc(e.da,this.path,d)};
g.kg=function(a,b){function c(k){f&&(f=!1,e.Jc(a,c),b&&b.call(d.Pa,k),h.resolve(k))}y("Query.once",1,4,arguments.length);Jf("Query.once",a,!1);A("Query.once",2,b,!0);var d=xg("Query.once",arguments[2],arguments[3]),e=this,f=!0,h=new Hb;Jb(h.sa);this.hc(a,c,function(b){e.Jc(a,c);d.cancel&&d.cancel.call(d.Pa,b);h.reject(b)});return h.sa};
g.ne=function(a){y("Query.limitToFirst",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.ya)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.n.ne(a),this.Oc)};
g.oe=function(a){y("Query.limitToLast",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.ya)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.n.oe(a),this.Oc)};
g.lg=function(a){y("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Lf("Query.orderByChild",a);wg(this,"Query.orderByChild");var b=new L(a);if(b.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");
b=new xe(b);b=He(this.n,b);ug(b);return new X(this.u,this.path,b,!0)};g.mg=function(){y("Query.orderByKey",0,0,arguments.length);wg(this,"Query.orderByKey");var a=He(this.n,ee);ug(a);return new X(this.u,this.path,a,!0)};g.ng=function(){y("Query.orderByPriority",0,0,arguments.length);wg(this,"Query.orderByPriority");var a=He(this.n,N);ug(a);return new X(this.u,this.path,a,!0)};
g.og=function(){y("Query.orderByValue",0,0,arguments.length);wg(this,"Query.orderByValue");var a=He(this.n,De);ug(a);return new X(this.u,this.path,a,!0)};g.Nd=function(a,b){y("Query.startAt",0,2,arguments.length);Ef("Query.startAt",a,this.path,!0);Kf("Query.startAt",b);var c=this.n.Nd(a,b);vg(c);ug(c);if(this.n.la)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");p(a)||(b=a=null);return new X(this.u,this.path,c,this.Oc)};
g.fd=function(a,b){y("Query.endAt",0,2,arguments.length);Ef("Query.endAt",a,this.path,!0);Kf("Query.endAt",b);var c=this.n.fd(a,b);vg(c);ug(c);if(this.n.oa)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.u,this.path,c,this.Oc)};
g.Rf=function(a,b){y("Query.equalTo",1,2,arguments.length);Ef("Query.equalTo",a,this.path,!1);Kf("Query.equalTo",b);if(this.n.la)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.oa)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(a,b).fd(a,b)};
g.toString=function(){y("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.Z;c<a.o.length;c++)""!==a.o[c]&&(b+="/"+encodeURIComponent(String(a.o[c])));return this.u.toString()+(b||"/")};g.ka=function(){var a=fd(Ie(this.n));return"{}"===a?"default":a};
g.isEqual=function(a){y("Query.isEqual",1,1,arguments.length);if(!(a instanceof X))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var b=this.u===a.u,c=this.path.$(a.path),d=this.ka()===a.ka();return b&&c&&d};
function xg(a,b,c){var d={cancel:null,Pa:null};if(b&&c)d.cancel=b,A(a,3,d.cancel,!0),d.Pa=c,Eb(a,4,d.Pa);else if(b)if("object"===typeof b&&null!==b)d.Pa=b;else if("function"===typeof b)d.cancel=b;else throw Error(Db(a,3,!0)+" must either be a cancel callback or a context object.");return d}X.prototype.on=X.prototype.hc;X.prototype.off=X.prototype.Jc;X.prototype.once=X.prototype.kg;X.prototype.limitToFirst=X.prototype.ne;X.prototype.limitToLast=X.prototype.oe;X.prototype.orderByChild=X.prototype.lg;
X.prototype.orderByKey=X.prototype.mg;X.prototype.orderByPriority=X.prototype.ng;X.prototype.orderByValue=X.prototype.og;X.prototype.startAt=X.prototype.Nd;X.prototype.endAt=X.prototype.fd;X.prototype.equalTo=X.prototype.Rf;X.prototype.toString=X.prototype.toString;X.prototype.isEqual=X.prototype.isEqual;kd(X.prototype,"ref",X.prototype.xb);function zg(a,b){this.value=a;this.children=b||Ag}var Ag=new Vf(function(a,b){return a===b?0:a<b?-1:1});function Bg(a){var b=Q;t(a,function(a,d){b=b.set(new L(d),a)});return b}g=zg.prototype;g.e=function(){return null===this.value&&this.children.e()};function Cg(a,b,c){if(null!=a.value&&c(a.value))return{path:C,value:a.value};if(b.e())return null;var d=J(b);a=a.children.get(d);return null!==a?(b=Cg(a,D(b),c),null!=b?{path:(new L(d)).k(b.path),value:b.value}:null):null}
function Dg(a,b){return Cg(a,b,function(){return!0})}g.subtree=function(a){if(a.e())return this;var b=this.children.get(J(a));return null!==b?b.subtree(D(a)):Q};g.set=function(a,b){if(a.e())return new zg(b,this.children);var c=J(a),d=(this.children.get(c)||Q).set(D(a),b),c=this.children.Ra(c,d);return new zg(this.value,c)};
g.remove=function(a){if(a.e())return this.children.e()?Q:new zg(null,this.children);var b=J(a),c=this.children.get(b);return c?(a=c.remove(D(a)),b=a.e()?this.children.remove(b):this.children.Ra(b,a),null===this.value&&b.e()?Q:new zg(this.value,b)):this};g.get=function(a){if(a.e())return this.value;var b=this.children.get(J(a));return b?b.get(D(a)):null};
function de(a,b,c){if(b.e())return c;var d=J(b);b=de(a.children.get(d)||Q,D(b),c);d=b.e()?a.children.remove(d):a.children.Ra(d,b);return new zg(a.value,d)}function Eg(a,b){return Fg(a,C,b)}function Fg(a,b,c){var d={};a.children.ia(function(a,f){d[a]=Fg(f,b.k(a),c)});return c(b,a.value,d)}function Gg(a,b,c){return Hg(a,b,C,c)}function Hg(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=J(b);return(a=a.children.get(e))?Hg(a,D(b),c.k(e),d):null}
function Ig(a,b,c){Jg(a,b,C,c)}function Jg(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=J(b);return(a=a.children.get(e))?Jg(a,D(b),c.k(e),d):Q}function be(a,b){Kg(a,C,b)}function Kg(a,b,c){a.children.ia(function(a,e){Kg(e,b.k(a),c)});a.value&&c(b,a.value)}function Lg(a,b){a.children.ia(function(a,d){d.value&&b(a,d.value)})}var Q=new zg(null);zg.prototype.toString=function(){var a={};be(this,function(b,c){a[b.toString()]=c.toString()});return B(a)};function Mg(a,b,c){this.type=Ud;this.source=Ng;this.path=a;this.Pb=b;this.Id=c}Mg.prototype.Nc=function(a){if(this.path.e()){if(null!=this.Pb.value)return H(this.Pb.children.e(),"affectedTree should not have overlapping affected paths."),this;a=this.Pb.subtree(new L(a));return new Mg(C,a,this.Id)}H(J(this.path)===a,"operationForChild called for unrelated child.");return new Mg(D(this.path),this.Pb,this.Id)};
Mg.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Pb+")"};var ac=0,wd=1,Ud=2,cc=3;function Og(a,b,c,d){this.ee=a;this.We=b;this.Ib=c;this.Ee=d;H(!d||b,"Tagged queries must be from server.")}var Ng=new Og(!0,!1,null,!1),Pg=new Og(!1,!0,null,!1);Og.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Ib+")":"server"};function Qg(a){this.X=a}var Rg=new Qg(new zg(null));function Sg(a,b,c){if(b.e())return new Qg(new zg(c));var d=Dg(a.X,b);if(null!=d){var e=d.path,d=d.value;b=T(e,b);d=d.F(b,c);return new Qg(a.X.set(e,d))}a=de(a.X,b,new zg(c));return new Qg(a)}function Tg(a,b,c){var d=a;Cb(c,function(a,c){d=Sg(d,b.k(a),c)});return d}Qg.prototype.Ed=function(a){if(a.e())return Rg;a=de(this.X,a,Q);return new Qg(a)};function Ug(a,b){var c=Dg(a.X,b);return null!=c?a.X.get(c.path).Q(T(c.path,b)):null}
function Vg(a){var b=[],c=a.X.value;null!=c?c.J()||c.P(N,function(a,c){b.push(new K(a,c))}):a.X.children.ia(function(a,c){null!=c.value&&b.push(new K(a,c.value))});return b}function Wg(a,b){if(b.e())return a;var c=Ug(a,b);return null!=c?new Qg(new zg(c)):new Qg(a.X.subtree(b))}Qg.prototype.e=function(){return this.X.e()};Qg.prototype.apply=function(a){return Xg(C,this.X,a)};
function Xg(a,b,c){if(null!=b.value)return c.F(a,b.value);var d=null;b.children.ia(function(b,f){".priority"===b?(H(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Xg(a.k(b),f,c)});c.Q(a).e()||null===d||(c=c.F(a.k(".priority"),d));return c};function Yg(){this.Aa={}}g=Yg.prototype;g.e=function(){return xa(this.Aa)};g.gb=function(a,b,c){var d=a.source.Ib;if(null!==d)return d=x(this.Aa,d),H(null!=d,"SyncTree gave us an op for an invalid query."),d.gb(a,b,c);var e=[];t(this.Aa,function(d){e=e.concat(d.gb(a,b,c))});return e};g.Ob=function(a,b,c,d,e){var f=a.ka(),h=x(this.Aa,f);if(!h){var h=c.Ba(e?d:null),k=!1;h?k=!0:(h=d instanceof P?c.sc(d):F,k=!1);h=new og(a,new Yd(new zc(h,k,!1),new zc(d,e,!1)));this.Aa[f]=h}h.Ob(b);return rg(h,b)};
g.mb=function(a,b,c){var d=a.ka(),e=[],f=[],h=null!=Zg(this);if("default"===d){var k=this;t(this.Aa,function(a,d){f=f.concat(a.mb(b,c));a.e()&&(delete k.Aa[d],S(a.W.n)||e.push(a.W))})}else{var m=x(this.Aa,d);m&&(f=f.concat(m.mb(b,c)),m.e()&&(delete this.Aa[d],S(m.W.n)||e.push(m.W)))}h&&null==Zg(this)&&e.push(new U(a.u,a.path));return{sg:e,Tf:f}};function $g(a){return Ka(sa(a.Aa),function(a){return!S(a.W.n)})}g.jb=function(a){var b=null;t(this.Aa,function(c){b=b||c.jb(a)});return b};
function ah(a,b){if(S(b.n))return Zg(a);var c=b.ka();return x(a.Aa,c)}function Zg(a){return wa(a.Aa,function(a){return S(a.W.n)})||null};function bh(){this.T=Rg;this.ma=[];this.Cc=-1}function ch(a,b){for(var c=0;c<a.ma.length;c++){var d=a.ma[c];if(d.Zc===b)return d}return null}g=bh.prototype;
g.Ed=function(a){var b=Pa(this.ma,function(b){return b.Zc===a});H(0<=b,"removeWrite called with nonexistent writeId.");var c=this.ma[b];this.ma.splice(b,1);for(var d=c.visible,e=!1,f=this.ma.length-1;d&&0<=f;){var h=this.ma[f];h.visible&&(f>=b&&dh(h,c.path)?d=!1:c.path.contains(h.path)&&(e=!0));f--}if(d){if(e)this.T=eh(this.ma,fh,C),this.Cc=0<this.ma.length?this.ma[this.ma.length-1].Zc:-1;else if(c.Ja)this.T=this.T.Ed(c.path);else{var k=this;t(c.children,function(a,b){k.T=k.T.Ed(c.path.k(b))})}return!0}return!1};
g.Ba=function(a,b,c,d){if(c||d){var e=Wg(this.T,a);return!d&&e.e()?b:d||null!=b||null!=Ug(e,C)?(e=eh(this.ma,function(b){return(b.visible||d)&&(!c||!(0<=Ia(c,b.Zc)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||F,e.apply(b)):null}e=Ug(this.T,a);if(null!=e)return e;e=Wg(this.T,a);return e.e()?b:null!=b||null!=Ug(e,C)?(b=b||F,e.apply(b)):null};
g.sc=function(a,b){var c=F,d=Ug(this.T,a);if(d)d.J()||d.P(N,function(a,b){c=c.U(a,b)});else if(b){var e=Wg(this.T,a);b.P(N,function(a,b){var d=Wg(e,new L(a)).apply(b);c=c.U(a,d)});Ja(Vg(e),function(a){c=c.U(a.name,a.S)})}else e=Wg(this.T,a),Ja(Vg(e),function(a){c=c.U(a.name,a.S)});return c};g.$c=function(a,b,c,d){H(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.k(b);if(null!=Ug(this.T,a))return null;a=Wg(this.T,a);return a.e()?d.Q(b):a.apply(d.Q(b))};
g.rc=function(a,b,c){a=a.k(b);var d=Ug(this.T,a);return null!=d?d:yc(c,b)?Wg(this.T,a).apply(c.j().R(b)):null};g.mc=function(a){return Ug(this.T,a)};g.Xd=function(a,b,c,d,e,f){var h;a=Wg(this.T,a);h=Ug(a,C);if(null==h)if(null!=b)h=a.apply(b);else return[];h=h.ob(f);if(h.e()||h.J())return[];b=[];a=oe(f);e=e?h.$b(c,f):h.Yb(c,f);for(f=R(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=R(e);return b};
function dh(a,b){return a.Ja?a.path.contains(b):!!va(a.children,function(c,d){return a.path.k(d).contains(b)})}function fh(a){return a.visible}
function eh(a,b,c){for(var d=Rg,e=0;e<a.length;++e){var f=a[e];if(b(f)){var h=f.path;if(f.Ja)c.contains(h)?(h=T(c,h),d=Sg(d,h,f.Ja)):h.contains(c)&&(h=T(h,c),d=Sg(d,C,f.Ja.Q(h)));else if(f.children)if(c.contains(h))h=T(c,h),d=Tg(d,h,f.children);else{if(h.contains(c))if(h=T(h,c),h.e())d=Tg(d,C,f.children);else if(f=x(f.children,J(h)))f=f.Q(D(h)),d=Sg(d,C,f)}else throw Sc("WriteRecord should have .snap or .children");}}return d}function gh(a,b){this.Mb=a;this.X=b}g=gh.prototype;
g.Ba=function(a,b,c){return this.X.Ba(this.Mb,a,b,c)};g.sc=function(a){return this.X.sc(this.Mb,a)};g.$c=function(a,b,c){return this.X.$c(this.Mb,a,b,c)};g.mc=function(a){return this.X.mc(this.Mb.k(a))};g.Xd=function(a,b,c,d,e){return this.X.Xd(this.Mb,a,b,c,d,e)};g.rc=function(a,b){return this.X.rc(this.Mb,a,b)};g.k=function(a){return new gh(this.Mb.k(a),this.X)};function hh(){this.children={};this.ad=0;this.value=null}function ih(a,b,c){this.ud=a?a:"";this.Ha=b?b:null;this.A=c?c:new hh}function jh(a,b){for(var c=b instanceof L?b:new L(b),d=a,e;null!==(e=J(c));)d=new ih(e,d,x(d.A.children,e)||new hh),c=D(c);return d}g=ih.prototype;g.Ea=function(){return this.A.value};function kh(a,b){H("undefined"!==typeof b,"Cannot set value to undefined");a.A.value=b;lh(a)}g.clear=function(){this.A.value=null;this.A.children={};this.A.ad=0;lh(this)};
g.kd=function(){return 0<this.A.ad};g.e=function(){return null===this.Ea()&&!this.kd()};g.P=function(a){var b=this;t(this.A.children,function(c,d){a(new ih(d,b,c))})};function mh(a,b,c,d){c&&!d&&b(a);a.P(function(a){mh(a,b,!0,d)});c&&d&&b(a)}function nh(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}g.path=function(){return new L(null===this.Ha?this.ud:this.Ha.path()+"/"+this.ud)};g.name=function(){return this.ud};g.parent=function(){return this.Ha};
function lh(a){if(null!==a.Ha){var b=a.Ha,c=a.ud,d=a.e(),e=Bb(b.A.children,c);d&&e?(delete b.A.children[c],b.A.ad--,lh(b)):d||e||(b.A.children[c]=a.A,b.A.ad++,lh(b))}};function oh(a,b,c,d,e,f){this.id=ph++;this.f=Yc("p:"+this.id+":");this.qd={};this.aa={};this.qa=[];this.Pc=0;this.Lc=[];this.na=!1;this.Va=1E3;this.td=3E5;this.Hb=b;this.Kc=c;this.ue=d;this.M=a;this.pb=this.Ia=this.Db=this.ze=null;this.Vd=e;this.de=!1;this.ke=0;if(f)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Je=f||null;this.vb=null;this.Nb=!1;this.Gd={};this.tg=0;this.Ve=!0;this.Bc=this.me=null;qh(this,0);Tf.Wb().hc("visible",this.jg,this);-1===
a.host.indexOf("fblocal")&&Sf.Wb().hc("online",this.ig,this)}var ph=0,rh=0;g=oh.prototype;g.va=function(a,b,c){var d=++this.tg;a={r:d,a:a,b:b};this.f(B(a));H(this.na,"sendRequest call when we're not connected not allowed.");this.Ia.va(a);c&&(this.Gd[d]=c)};
g.df=function(a,b,c,d){var e=a.ka(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.aa[f]=this.aa[f]||{};H(rd(a.n)||!S(a.n),"listen() called for non-default but complete query");H(!this.aa[f][e],"listen() called twice for same path/queryId.");a={G:d,ld:b,pg:a,tag:c};this.aa[f][e]=a;this.na&&sh(this,a)};
function sh(a,b){var c=b.pg,d=c.path.toString(),e=c.ka();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=Ie(c.n),f.t=b.tag);f.h=b.ld();a.va("q",f,function(f){var k=f.d,m=f.s;if(k&&"object"===typeof k&&Bb(k,"w")){var l=x(k,"w");da(l)&&0<=Ia(l,"no_index")&&O("Using an unspecified index. Consider adding "+('".indexOn": "'+c.n.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.aa[d]&&a.aa[d][e])===b&&(a.f("listen response",f),"ok"!==m&&th(a,d,e),b.G&&
b.G(m,k))})}g.qf=function(a){this.pb=a;this.f("Auth token refreshed");this.pb?uh(this):this.na&&this.va("unauth",{},function(){});if(a&&40===a.length||od(a))this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3E4};function uh(a){if(a.na&&a.pb){var b=a.pb,c=nd(b)?"auth":"gauth",d={cred:b};a.Je&&(d.authvar=a.Je);a.va(c,d,function(c){var d=c.s;c=c.d||"error";a.pb===b&&("ok"===d?a.ke=0:vh(a,d,c))})}}
g.Ef=function(a,b){var c=a.path.toString(),d=a.ka();this.f("Unlisten called for "+c+" "+d);H(rd(a.n)||!S(a.n),"unlisten() called for non-default but complete query");if(th(this,c,d)&&this.na){var e=Ie(a.n);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.va("n",c)}};g.re=function(a,b,c){this.na?wh(this,"o",a,b,c):this.Lc.push({we:a,action:"o",data:b,G:c})};g.gf=function(a,b,c){this.na?wh(this,"om",a,b,c):this.Lc.push({we:a,action:"om",data:b,G:c})};
g.xd=function(a,b){this.na?wh(this,"oc",a,null,b):this.Lc.push({we:a,action:"oc",data:null,G:b})};function wh(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.va(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}g.put=function(a,b,c,d){xh(this,"p",a,b,c,d)};g.ef=function(a,b,c,d){xh(this,"m",a,b,c,d)};function xh(a,b,c,d,e,f){d={p:c,d:d};p(f)&&(d.h=f);a.qa.push({action:b,sf:d,G:e});a.Pc++;b=a.qa.length-1;a.na?yh(a,b):a.f("Buffering put: "+c)}
function yh(a,b){var c=a.qa[b].action,d=a.qa[b].sf,e=a.qa[b].G;a.qa[b].qg=a.na;a.va(c,d,function(d){a.f(c+" response",d);delete a.qa[b];a.Pc--;0===a.Pc&&(a.qa=[]);e&&e(d.s,d.d)})}g.ye=function(a){this.na&&(a={c:a},this.f("reportStats",a),this.va("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))};
g.wd=function(a){if("r"in a){this.f("from server: "+B(a));var b=a.r,c=this.Gd[b];c&&(delete this.Gd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,a=a.b,this.f("handleServerMessage",b,a),"d"===b?this.Hb(a.p,a.d,!1,a.t):"m"===b?this.Hb(a.p,a.d,!0,a.t):"c"===b?zh(this,a.p,a.q):"ac"===b?vh(this,a.s,a.d):"sd"===b?this.ze?this.ze(a):"msg"in a&&"undefined"!==typeof console&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: ")):Zc("Unrecognized action received from server: "+
B(b)+"\nAre you using the latest client?"))}};g.Mc=function(a,b){this.f("connection ready");this.na=!0;this.Bc=(new Date).getTime();this.ue({serverTimeOffset:a-(new Date).getTime()});this.Db=b;if(this.Ve){var c={};c["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1;Qb()?c["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(c["framework.reactnative"]=1);this.ye(c)}Ah(this);this.Ve=!1;this.Kc(!0)};
function qh(a,b){H(!a.Ia,"Scheduling a connect when we're already connected/ing?");a.vb&&clearTimeout(a.vb);a.vb=setTimeout(function(){a.vb=null;Bh(a)},Math.floor(b))}g.jg=function(a){a&&!this.Nb&&this.Va===this.td&&(this.f("Window became visible.  Reducing delay."),this.Va=1E3,this.Ia||qh(this,0));this.Nb=a};g.ig=function(a){a?(this.f("Browser went online."),this.Va=1E3,this.Ia||qh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ia&&this.Ia.close())};
g.jf=function(){this.f("data client disconnected");this.na=!1;this.Ia=null;for(var a=0;a<this.qa.length;a++){var b=this.qa[a];b&&"h"in b.sf&&b.qg&&(b.G&&b.G("disconnect"),delete this.qa[a],this.Pc--)}0===this.Pc&&(this.qa=[]);this.Gd={};Ch(this)&&(this.Nb?this.Bc&&(3E4<(new Date).getTime()-this.Bc&&(this.Va=1E3),this.Bc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Va=this.td,this.me=(new Date).getTime()),a=Math.max(0,this.Va-((new Date).getTime()-this.me)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),qh(this,a),this.Va=Math.min(this.td,1.3*this.Va));this.Kc(!1)};
function Bh(a){if(Ch(a)){a.f("Making a connection attempt");a.me=(new Date).getTime();a.Bc=null;var b=r(a.wd,a),c=r(a.Mc,a),d=r(a.jf,a),e=a.id+":"+rh++,f=a.Db,h=!1,k=null,m=function(){k?k.close():(h=!0,d())};a.Ia={close:m,va:function(a){H(k,"sendRequest call when we're not connected not allowed.");k.va(a)}};var l=a.de;a.de=!1;a.Vd.getToken(l).then(function(l){h?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),a.pb=l&&l.accessToken,k=new bf(e,a.M,b,c,d,function(b){O(b+
" ("+a.M.toString()+")");a.eb("server_kill")},f))}).then(null,function(b){a.f("Failed to get token: "+b);h||m()})}}g.eb=function(a){E("Interrupting connection for reason: "+a);this.qd[a]=!0;this.Ia?this.Ia.close():(this.vb&&(clearTimeout(this.vb),this.vb=null),this.na&&this.jf())};g.lc=function(a){E("Resuming connection for reason: "+a);delete this.qd[a];xa(this.qd)&&(this.Va=1E3,this.Ia||qh(this,0))};
function zh(a,b,c){c=c?La(c,function(a){return fd(a)}).join("$"):"default";(a=th(a,b,c))&&a.G&&a.G("permission_denied")}function th(a,b,c){b=(new L(b)).toString();var d;p(a.aa[b])?(d=a.aa[b][c],delete a.aa[b][c],0===qa(a.aa[b])&&delete a.aa[b]):d=void 0;return d}
function vh(a,b,c){E("Auth token revoked: "+b+"/"+c);a.pb=null;a.de=!0;a.Ia.close();"invalid_token"===b&&(a.ke++,3<=a.ke&&(a.Va=3E4,O("Provided authentication credentials are invalid. This usually indicates your FirebaseApp instance was not initialized correctly. Make sure your apiKey and databaseURL match the values provided for your app at https://console.firebase.google.com/, or if you're using a service account, make sure it's authorized to access the specified databaseURL and is from the correct project.")))}
function Ah(a){uh(a);t(a.aa,function(b){t(b,function(b){sh(a,b)})});for(var b=0;b<a.qa.length;b++)a.qa[b]&&yh(a,b);for(;a.Lc.length;)b=a.Lc.shift(),wh(a,b.action,b.we,b.data,b.G)}function Ch(a){var b;b=Sf.Wb().ic;return xa(a.qd)&&b};var Y={Xf:function(){Re=Ed=!0}};Y.forceLongPolling=Y.Xf;Y.Yf=function(){Se=!0};Y.forceWebSockets=Y.Yf;Y.dg=function(){return Dd.isAvailable()};Y.isWebSocketsAvailable=Y.dg;Y.wg=function(a,b){a.u.Ua.ze=b};Y.setSecurityDebugCallback=Y.wg;Y.Be=function(a,b){a.u.Be(b)};Y.stats=Y.Be;Y.Ce=function(a,b){a.u.Ce(b)};Y.statsIncrementCounter=Y.Ce;Y.ed=function(a){return a.u.ed};Y.dataUpdateCount=Y.ed;Y.cg=function(a,b){a.u.je=b};Y.interceptServerData=Y.cg;function Dh(a){this.xa=Q;this.lb=new bh;this.De={};this.jc={};this.Dc=a}function Eh(a,b,c,d,e){var f=a.lb,h=e;H(d>f.Cc,"Stacking an older write on top of newer ones");p(h)||(h=!0);f.ma.push({path:b,Ja:c,Zc:d,visible:h});h&&(f.T=Sg(f.T,b,c));f.Cc=d;return e?Fh(a,new $b(Ng,b,c)):[]}function Gh(a,b,c,d){var e=a.lb;H(d>e.Cc,"Stacking an older merge on top of newer ones");e.ma.push({path:b,children:c,Zc:d,visible:!0});e.T=Tg(e.T,b,c);e.Cc=d;c=Bg(c);return Fh(a,new vd(Ng,b,c))}
function Hh(a,b,c){c=c||!1;var d=ch(a.lb,b);if(a.lb.Ed(b)){var e=Q;null!=d.Ja?e=e.set(C,!0):Cb(d.children,function(a,b){e=e.set(new L(a),b)});return Fh(a,new Mg(d.path,e,c))}return[]}function Ih(a,b,c){c=Bg(c);return Fh(a,new vd(Pg,b,c))}function Jh(a,b,c,d){d=Kh(a,d);if(null!=d){var e=Lh(d);d=e.path;e=e.Ib;b=T(d,b);c=new $b(new Og(!1,!0,e,!0),b,c);return Mh(a,d,c)}return[]}
function Nh(a,b,c,d){if(d=Kh(a,d)){var e=Lh(d);d=e.path;e=e.Ib;b=T(d,b);c=Bg(c);c=new vd(new Og(!1,!0,e,!0),b,c);return Mh(a,d,c)}return[]}
Dh.prototype.Ob=function(a,b){var c=a.path,d=null,e=!1;Ig(this.xa,c,function(a,b){var f=T(a,c);d=d||b.jb(f);e=e||null!=Zg(b)});var f=this.xa.get(c);f?(e=e||null!=Zg(f),d=d||f.jb(C)):(f=new Yg,this.xa=this.xa.set(c,f));var h;null!=d?h=!0:(h=!1,d=F,Lg(this.xa.subtree(c),function(a,b){var c=b.jb(C);c&&(d=d.U(a,c))}));var k=null!=ah(f,a);if(!k&&!S(a.n)){var m=Oh(a);H(!(m in this.jc),"View does not exist, but we have a tag");var l=Ph++;this.jc[m]=l;this.De["_"+l]=m}h=f.Ob(a,b,new gh(c,this.lb),d,h);k||
e||(f=ah(f,a),h=h.concat(Qh(this,a,f)));return h};
Dh.prototype.mb=function(a,b,c){var d=a.path,e=this.xa.get(d),f=[];if(e&&("default"===a.ka()||null!=ah(e,a))){f=e.mb(a,b,c);e.e()&&(this.xa=this.xa.remove(d));e=f.sg;f=f.Tf;b=-1!==Pa(e,function(a){return S(a.n)});var h=Gg(this.xa,d,function(a,b){return null!=Zg(b)});if(b&&!h&&(d=this.xa.subtree(d),!d.e()))for(var d=Rh(d),k=0;k<d.length;++k){var m=d[k],l=m.W,m=Sh(this,m);this.Dc.Ae(Th(l),Uh(this,l),m.ld,m.G)}if(!h&&0<e.length&&!c)if(b)this.Dc.Od(Th(a),null);else{var u=this;Ja(e,function(a){a.ka();
var b=u.jc[Oh(a)];u.Dc.Od(Th(a),b)})}Vh(this,e)}return f};Dh.prototype.Ba=function(a,b){var c=this.lb,d=Gg(this.xa,a,function(b,c){var d=T(b,a);if(d=c.jb(d))return d});return c.Ba(a,d,b,!0)};function Rh(a){return Eg(a,function(a,c,d){if(c&&null!=Zg(c))return[Zg(c)];var e=[];c&&(e=$g(c));t(d,function(a){e=e.concat(a)});return e})}function Vh(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!S(d.n)){var d=Oh(d),e=a.jc[d];delete a.jc[d];delete a.De["_"+e]}}}
function Th(a){return S(a.n)&&!rd(a.n)?a.xb():a}function Qh(a,b,c){var d=b.path,e=Uh(a,b);c=Sh(a,c);b=a.Dc.Ae(Th(b),e,c.ld,c.G);d=a.xa.subtree(d);if(e)H(null==Zg(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Eg(d,function(a,b,c){if(!a.e()&&b&&null!=Zg(b))return[pg(Zg(b))];var d=[];b&&(d=d.concat(La($g(b),function(a){return a.W})));t(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Dc.Od(Th(c),Uh(a,c));return b}
function Sh(a,b){var c=b.W,d=Uh(a,c);return{ld:function(){return(b.w()||F).hash()},G:function(b){if("ok"===b){if(d){var f=c.path;if(b=Kh(a,d)){var h=Lh(b);b=h.path;h=h.Ib;f=T(b,f);f=new bc(new Og(!1,!0,h,!0),f);b=Mh(a,b,f)}else b=[]}else b=Fh(a,new bc(Pg,c.path));return b}f="Unknown Error";"too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&
(f="The service is unavailable");f=Error(b+" at "+c.path.toString()+": "+f);f.code=b.toUpperCase();return a.mb(c,null,f)}}}function Oh(a){return a.path.toString()+"$"+a.ka()}function Lh(a){var b=a.indexOf("$");H(-1!==b&&b<a.length-1,"Bad queryKey.");return{Ib:a.substr(b+1),path:new L(a.substr(0,b))}}function Kh(a,b){var c=a.De,d="_"+b;return d in c?c[d]:void 0}function Uh(a,b){var c=Oh(b);return x(a.jc,c)}var Ph=1;
function Mh(a,b,c){var d=a.xa.get(b);H(d,"Missing sync point for query tag that we're tracking");return d.gb(c,new gh(b,a.lb),null)}function Fh(a,b){return Wh(a,b,a.xa,null,new gh(C,a.lb))}function Wh(a,b,c,d,e){if(b.path.e())return Xh(a,b,c,d,e);var f=c.get(C);null==d&&null!=f&&(d=f.jb(C));var h=[],k=J(b.path),m=b.Nc(k);if((c=c.children.get(k))&&m)var l=d?d.R(k):null,k=e.k(k),h=h.concat(Wh(a,m,c,l,k));f&&(h=h.concat(f.gb(b,e,d)));return h}
function Xh(a,b,c,d,e){var f=c.get(C);null==d&&null!=f&&(d=f.jb(C));var h=[];c.children.ia(function(c,f){var l=d?d.R(c):null,u=e.k(c),z=b.Nc(c);z&&(h=h.concat(Xh(a,z,f,l,u)))});f&&(h=h.concat(f.gb(b,e,d)));return h};function tf(a,b,c){this.app=c;var d=new dc(c);this.M=a;this.Xa=Ad(a);this.Vc=null;this.da=new mc;this.vd=1;this.Ua=null;if(b||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.wa=new pd(this.M,r(this.Hb,this),d),setTimeout(r(this.Kc,this,!0),0);else{b=c.options.databaseAuthVariableOverride||null;if(null!==b){if("object"!==ca(b))throw Error("Only objects are supported for option databaseAuthVariableOverride");
try{B(b)}catch(e){throw Error("Invalid authOverride provided: "+e);}}this.wa=this.Ua=new oh(this.M,r(this.Hb,this),r(this.Kc,this),r(this.ue,this),d,b)}var f=this;ec(d,function(a){f.wa.qf(a)});this.zg=Bd(a,r(function(){return new xd(this.Xa,this.wa)},this));this.nc=new ih;this.ie=new fc;this.pd=new Dh({Ae:function(a,b,c,d){b=[];c=f.ie.j(a.path);c.e()||(b=Fh(f.pd,new $b(Pg,a.path,c)),setTimeout(function(){d("ok")},0));return b},Od:aa});Yh(this,"connected",!1);this.ja=new Mc;this.$a=new sf(this);this.ed=
0;this.je=null;this.K=new Dh({Ae:function(a,b,c,d){f.wa.df(a,c,b,function(b,c){var e=d(b,c);rc(f.da,a.path,e)});return[]},Od:function(a,b){f.wa.Ef(a,b)}})}g=tf.prototype;g.toString=function(){return(this.M.Sc?"https://":"http://")+this.M.host};g.name=function(){return this.M.pe};function Zh(a){a=a.ie.j(new L(".info/serverTimeOffset")).H()||0;return(new Date).getTime()+a}function $h(a){a=a={timestamp:Zh(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
g.Hb=function(a,b,c,d){this.ed++;var e=new L(a);b=this.je?this.je(a,b):b;a=[];d?c?(b=oa(b,function(a){return M(a)}),a=Nh(this.K,e,b,d)):(b=M(b),a=Jh(this.K,e,b,d)):c?(d=oa(b,function(a){return M(a)}),a=Ih(this.K,e,d)):(d=M(b),a=Fh(this.K,new $b(Pg,e,d)));d=e;0<a.length&&(d=ai(this,e));rc(this.da,d,a)};g.Kc=function(a){Yh(this,"connected",a);!1===a&&bi(this)};g.ue=function(a){var b=this;hd(a,function(a,d){Yh(b,d,a)})};
function Yh(a,b,c){b=new L("/.info/"+b);c=M(c);var d=a.ie;d.Jd=d.Jd.F(b,c);c=Fh(a.pd,new $b(Pg,b,c));rc(a.da,b,c)}g.Kb=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,Gg:c});var e=$h(this);b=M(b,c);var e=Pc(b,e),f=this.vd++,e=Eh(this.K,a,e,f,!0);nc(this.da,e);var h=this;this.wa.put(a.toString(),b.H(!0),function(b,c){var e="ok"===b;e||O("set at "+a+" failed: "+b);e=Hh(h.K,f,!e);rc(h.da,a,e);ci(d,b,c)});e=di(this,a);ai(this,e);rc(this.da,e,[])};
g.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=$h(this),f={};t(b,function(a,b){d=!1;var c=M(a);f[b]=Pc(c,e)});if(d)E("update() called with empty data.  Don't do anything."),ci(c,"ok");else{var h=this.vd++,k=Gh(this.K,a,f,h);nc(this.da,k);var m=this;this.wa.ef(a.toString(),b,function(b,d){var e="ok"===b;e||O("update at "+a+" failed: "+b);var e=Hh(m.K,h,!e),f=a;0<e.length&&(f=ai(m,a));rc(m.da,f,e);ci(c,b,d)});t(b,function(b,c){var d=di(m,a.k(c));ai(m,d)});rc(this.da,
a,[])}};function bi(a){a.f("onDisconnectEvents");var b=$h(a),c=[];Nc(Lc(a.ja,b),C,function(b,e){c=c.concat(Fh(a.K,new $b(Pg,b,e)));var f=di(a,b);ai(a,f)});a.ja=new Mc;rc(a.da,C,c)}g.xd=function(a,b){var c=this;this.wa.xd(a.toString(),function(d,e){"ok"===d&&zf(c.ja,a);ci(b,d,e)})};function Nf(a,b,c,d){var e=M(c);a.wa.re(b.toString(),e.H(!0),function(c,h){"ok"===c&&Oc(a.ja,b,e);ci(d,c,h)})}
function Of(a,b,c,d,e){var f=M(c,d);a.wa.re(b.toString(),f.H(!0),function(c,d){"ok"===c&&Oc(a.ja,b,f);ci(e,c,d)})}function Pf(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(E("onDisconnect().update() called with empty data.  Don't do anything."),ci(d,"ok")):a.wa.gf(b.toString(),c,function(e,f){if("ok"===e)for(var m in c){var l=M(c[m]);Oc(a.ja,b.k(m),l)}ci(d,e,f)})}function yg(a,b,c){c=".info"===J(b.path)?a.pd.Ob(b,c):a.K.Ob(b,c);pc(a.da,b.path,c)}g.eb=function(){this.Ua&&this.Ua.eb("repo_interrupt")};
g.lc=function(){this.Ua&&this.Ua.lc("repo_interrupt")};g.Be=function(a){if("undefined"!==typeof console){a?(this.Vc||(this.Vc=new lc(this.Xa)),a=this.Vc.get()):a=this.Xa.get();var b=Ma(ta(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};g.Ce=function(a){kc(this.Xa,a);this.zg.zf[a]=!0};g.f=function(a){var b="";this.Ua&&(b=this.Ua.id+":");E(b,arguments)};
function ci(a,b,c){a&&Ub(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function ei(a,b,c,d,e){function f(){}a.f("transaction on "+b);var h=new U(a,b);h.hc("value",f);c={path:b,update:c,G:d,status:null,lf:Rc(),Ie:e,wf:0,Rd:function(){h.Jc("value",f)},Td:null,Da:null,bd:null,cd:null,dd:null};d=a.K.Ba(b,void 0)||F;c.bd=d;d=c.update(d.H());if(p(d)){Ff("transaction failed: Data returned ",d,c.path);c.status=1;e=jh(a.nc,b);var k=e.Ea()||[];k.push(c);kh(e,k);"object"===typeof d&&null!==d&&Bb(d,".priority")?(k=x(d,".priority"),H(Df(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
k=(a.K.Ba(b)||F).C().H();e=$h(a);d=M(d,k);e=Pc(d,e);c.cd=d;c.dd=e;c.Da=a.vd++;c=Eh(a.K,b,e,c.Da,c.Ie);rc(a.da,b,c);fi(a)}else c.Rd(),c.cd=null,c.dd=null,c.G&&(a=new W(c.bd,new U(a,c.path),N),c.G(null,!1,a))}function fi(a,b){var c=b||a.nc;b||gi(a,c);if(null!==c.Ea()){var d=hi(a,c);H(0<d.length,"Sending zero length transaction queue");Na(d,function(a){return 1===a.status})&&ii(a,c.path(),d)}else c.kd()&&c.P(function(b){fi(a,b)})}
function ii(a,b,c){for(var d=La(c,function(a){return a.Da}),e=a.K.Ba(b,d)||F,d=e,e=e.hash(),f=0;f<c.length;f++){var h=c[f];H(1===h.status,"tryToSendTransactionQueue_: items in queue should all be run.");h.status=2;h.wf++;var k=T(b,h.path),d=d.F(k,h.cd)}d=d.H(!0);a.wa.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(Hh(a.K,c[f].Da));if(c[f].G){var h=c[f].dd,k=new U(a,c[f].path);d.push(r(c[f].G,
null,null,!0,new W(h,k,N)))}c[f].Rd()}gi(a,jh(a.nc,b));fi(a);rc(a.da,b,e);for(f=0;f<d.length;f++)Ub(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(O("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].Td=d;ai(a,b)}},e)}function ai(a,b){var c=ji(a,b),d=c.path(),c=hi(a,c);ki(a,c,d);return d}
function ki(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Ka(b,function(a){return 1===a.status}),f=La(f,function(a){return a.Da}),h=0;h<b.length;h++){var k=b[h],m=T(c,k.path),l=!1,u;H(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)l=!0,u=k.Td,e=e.concat(Hh(a.K,k.Da,!0));else if(1===k.status)if(25<=k.wf)l=!0,u="maxretry",e=e.concat(Hh(a.K,k.Da,!0));else{var z=a.K.Ba(k.path,f)||F;k.bd=z;var G=b[h].update(z.H());p(G)?(Ff("transaction failed: Data returned ",G,
k.path),m=M(G),"object"===typeof G&&null!=G&&Bb(G,".priority")||(m=m.ga(z.C())),z=k.Da,G=$h(a),G=Pc(m,G),k.cd=m,k.dd=G,k.Da=a.vd++,Qa(f,z),e=e.concat(Eh(a.K,k.path,G,k.Da,k.Ie)),e=e.concat(Hh(a.K,z,!0))):(l=!0,u="nodata",e=e.concat(Hh(a.K,k.Da,!0)))}rc(a.da,c,e);e=[];l&&(b[h].status=3,setTimeout(b[h].Rd,Math.floor(0)),b[h].G&&("nodata"===u?(k=new U(a,b[h].path),d.push(r(b[h].G,null,null,!1,new W(b[h].bd,k,N)))):d.push(r(b[h].G,null,Error(u),!1,null))))}gi(a,a.nc);for(h=0;h<d.length;h++)Ub(d[h]);fi(a)}}
function ji(a,b){for(var c,d=a.nc;null!==(c=J(b))&&null===d.Ea();)d=jh(d,c),b=D(b);return d}function hi(a,b){var c=[];li(a,b,c);c.sort(function(a,b){return a.lf-b.lf});return c}function li(a,b,c){var d=b.Ea();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.P(function(b){li(a,b,c)})}function gi(a,b){var c=b.Ea();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;kh(b,0<c.length?c:null)}b.P(function(b){gi(a,b)})}
function di(a,b){var c=ji(a,b).path(),d=jh(a.nc,b);nh(d,function(b){mi(a,b)});mi(a,d);mh(d,function(b){mi(a,b)});return c}
function mi(a,b){var c=b.Ea();if(null!==c){for(var d=[],e=[],f=-1,h=0;h<c.length;h++)4!==c[h].status&&(2===c[h].status?(H(f===h-1,"All SENT items should be at beginning of queue."),f=h,c[h].status=4,c[h].Td="set"):(H(1===c[h].status,"Unexpected transaction status in abort"),c[h].Rd(),e=e.concat(Hh(a.K,c[h].Da,!0)),c[h].G&&d.push(r(c[h].G,null,Error("set"),!1,null))));-1===f?kh(b,null):c.length=f+1;rc(a.da,b.path(),e);for(h=0;h<d.length;h++)Ub(d[h])}};function yf(){this.nb={};this.Ff=!1}yf.prototype.eb=function(){for(var a in this.nb)this.nb[a].eb()};yf.prototype.lc=function(){for(var a in this.nb)this.nb[a].lc()};yf.prototype.ce=function(a){this.Ff=a};ba(yf);yf.prototype.interrupt=yf.prototype.eb;yf.prototype.resume=yf.prototype.lc;var Z={};Z.pc=oh;Z.DataConnection=Z.pc;oh.prototype.yg=function(a,b){this.va("q",{p:a},b)};Z.pc.prototype.simpleListen=Z.pc.prototype.yg;oh.prototype.Qf=function(a,b){this.va("echo",{d:a},b)};Z.pc.prototype.echo=Z.pc.prototype.Qf;oh.prototype.interrupt=oh.prototype.eb;Z.If=bf;Z.RealTimeConnection=Z.If;bf.prototype.sendRequest=bf.prototype.va;bf.prototype.close=bf.prototype.close;
Z.bg=function(a){var b=oh.prototype.put;oh.prototype.put=function(c,d,e,f){p(f)&&(f=a());b.call(this,c,d,e,f)};return function(){oh.prototype.put=b}};Z.hijackHash=Z.bg;Z.Hf=gc;Z.ConnectionTarget=Z.Hf;Z.ka=function(a){return a.ka()};Z.queryIdentifier=Z.ka;Z.eg=function(a){return a.u.Ua.aa};Z.listens=Z.eg;Z.ce=function(a){yf.Wb().ce(a)};Z.forceRestClient=Z.ce;Z.Context=yf;function U(a,b){if(!(a instanceof tf))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,a,b,Fe,!1);this.then=void 0;this["catch"]=void 0}ka(U,X);g=U.prototype;g.getKey=function(){y("Firebase.key",0,0,arguments.length);return this.path.e()?null:ae(this.path)};
g.k=function(a){y("Firebase.child",1,1,arguments.length);if(fa(a))a=String(a);else if(!(a instanceof L))if(null===J(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Lf("Firebase.child",b)}else Lf("Firebase.child",a);return new U(this.u,this.path.k(a))};g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new U(this.u,a)};
g.Zf=function(){y("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.getParent();)a=a.getParent();return a};g.Pf=function(){return this.u.$a};g.set=function(a,b){y("Firebase.set",1,2,arguments.length);Mf("Firebase.set",this.path);Ef("Firebase.set",a,this.path,!1);A("Firebase.set",2,b,!0);var c=new Hb;this.u.Kb(this.path,a,null,Ib(c,b));return c.sa};
g.update=function(a,b){y("Firebase.update",1,2,arguments.length);Mf("Firebase.update",this.path);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Hf("Firebase.update",a,this.path);A("Firebase.update",2,b,!0);c=new Hb;this.u.update(this.path,a,Ib(c,b));return c.sa};
g.Kb=function(a,b,c){y("Firebase.setWithPriority",2,3,arguments.length);Mf("Firebase.setWithPriority",this.path);Ef("Firebase.setWithPriority",a,this.path,!1);If("Firebase.setWithPriority",2,b);A("Firebase.setWithPriority",3,c,!0);if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var d=new Hb;this.u.Kb(this.path,a,b,Ib(d,c));return d.sa};
g.remove=function(a){y("Firebase.remove",0,1,arguments.length);Mf("Firebase.remove",this.path);A("Firebase.remove",1,a,!0);return this.set(null,a)};
g.transaction=function(a,b,c){y("Firebase.transaction",1,3,arguments.length);Mf("Firebase.transaction",this.path);A("Firebase.transaction",1,a,!1);A("Firebase.transaction",2,b,!0);if(p(c)&&"boolean"!=typeof c)throw Error(Db("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";"undefined"===typeof c&&(c=!0);var d=new Hb;ga(b)&&Jb(d.sa);ei(this.u,this.path,a,function(a,c,
h){a?d.reject(a):d.resolve(new Pb(c,h));ga(b)&&b(a,c,h)},c);return d.sa};g.vg=function(a,b){y("Firebase.setPriority",1,2,arguments.length);Mf("Firebase.setPriority",this.path);If("Firebase.setPriority",1,a);A("Firebase.setPriority",2,b,!0);var c=new Hb;this.u.Kb(this.path.k(".priority"),a,null,Ib(c,b));return c.sa};
g.push=function(a,b){y("Firebase.push",0,2,arguments.length);Mf("Firebase.push",this.path);Ef("Firebase.push",a,this.path,!0);A("Firebase.push",2,b,!0);var c=Zh(this.u),d=Uf(c),c=this.k(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.k(d)});c.then=r(f.then,f);c["catch"]=r(f.then,f,void 0);ga(b)&&Jb(f)}return c};g.kb=function(){Mf("Firebase.onDisconnect",this.path);return new V(this.u,this.path)};U.prototype.child=U.prototype.k;U.prototype.set=U.prototype.set;U.prototype.update=U.prototype.update;
U.prototype.setWithPriority=U.prototype.Kb;U.prototype.remove=U.prototype.remove;U.prototype.transaction=U.prototype.transaction;U.prototype.setPriority=U.prototype.vg;U.prototype.push=U.prototype.push;U.prototype.onDisconnect=U.prototype.kb;kd(U.prototype,"database",U.prototype.Pf);kd(U.prototype,"key",U.prototype.getKey);kd(U.prototype,"parent",U.prototype.getParent);kd(U.prototype,"root",U.prototype.Zf);if("undefined"===typeof firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");
try{firebase.INTERNAL.registerService("database",function(a){var b=yf.Wb(),c=a.options.databaseURL;p(c)||$c("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var d=ad(c),c=d.kc;xf("Invalid Firebase Database URL",d);d.path.e()||$c("Database URL must point to the root of a Firebase Database (not including a child path).");(d=x(b.nb,a.name))&&$c("FIREBASE INTERNAL ERROR: Database initialized multiple times.");d=new tf(c,b.Ff,a);b.nb[a.name]=
d;return d.$a},{Reference:U,Query:X,Database:sf,enableLogging:Xc,INTERNAL:Y,TEST_ACCESS:Z,ServerValue:vf})}catch(ni){$c("Failed to register the Firebase Database Service ("+ni+")")};})();

module.exports = firebase.database;

},{"./app":4}],7:[function(require,module,exports){
/**
 *  Firebase libraries for browser - npm package.
 *
 * Usage:
 *
 *   firebase = require('firebase');
 */
var firebase = require('./app');
require('./auth');
require('./database');
require('./storage');
module.exports = firebase;

},{"./app":4,"./auth":5,"./database":6,"./storage":8}],8:[function(require,module,exports){
var firebase = require('./app');
/*! @license Firebase v3.4.1
    Build: 3.4.1-rc.2
    Terms: https://developers.google.com/terms */
(function() {var k,aa=aa||{},l=this,n=function(a){return void 0!==a},ba=function(){},ca=function(){throw Error("unimplemented abstract method");},p=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},da=function(a){var b=p(a);return"array"==b||"object"==b&&"number"==typeof a.length},r=function(a){return"string"==typeof a},t=function(a){return"function"==p(a)},ea=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},fa="closure_uid_"+(1E9*Math.random()>>>
0),ga=0,ha=function(a,b,c){return a.call.apply(a.bind,arguments)},ia=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},u=function(a,b,c){u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return u.apply(null,arguments)},ja=Date.now||function(){return+new Date},
v=function(a,b){function c(){}c.prototype=b.prototype;a.I=b.prototype;a.prototype=new c;a.Ka=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var ka=function(a,b,c){function d(){P||(P=!0,b.apply(null,arguments))}function e(b){m=setTimeout(function(){m=null;a(f,2===Q)},b)}function f(a,b){if(!P)if(a)d.apply(null,arguments);else if(2===Q||q)d.apply(null,arguments);else{64>h&&(h*=2);var c;1===Q?(Q=2,c=0):c=1E3*(h+Math.random());e(c)}}function g(a){jc||(jc=!0,P||(null!==m?(a||(Q=2),clearTimeout(m),e(0)):a||(Q=1)))}var h=1,m=null,q=!1,Q=0,P=!1,jc=!1;e(0);setTimeout(function(){q=!0;g(!0)},c);return g};var la="https://firebasestorage.googleapis.com";var w=function(a,b){this.code="storage/"+a;this.message="Firebase Storage: "+b;this.serverResponse=null;this.name="FirebaseError"};v(w,Error);
var ma=function(){return new w("unknown","An unknown error occurred, please check the error payload for server response.")},na=function(){return new w("canceled","User canceled the upload/download.")},oa=function(){return new w("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},pa=function(a,b,c){return new w("invalid-argument","Invalid argument in `"+b+"` at index "+a+": "+c)},qa=function(){return new w("app-deleted","The Firebase app was deleted.")},ra=function(a,b){return new w("invalid-format",
"String does not match format '"+a+"': "+b)};var sa=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])},ta=function(a){var b={};sa(a,function(a,d){b[a]=d});return b};var x=function(a,b,c,d){this.j=a;this.b={};this.method=b;this.headers={};this.body="";this.M=c;this.c=this.a=null;this.f=[200];this.h=[];this.i=d;this.g=!0};var ua={STATE_CHANGED:"state_changed"},va={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},wa=function(a){switch(a){case "running":case "pausing":case "canceling":return"running";case "paused":return"paused";case "success":return"success";case "canceled":return"canceled";case "error":return"error";default:return"error"}};var y=function(a){return n(a)&&null!==a},xa=function(a){return"string"===typeof a||a instanceof String},ya=function(){return"undefined"!==typeof Blob};var za=function(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null};za.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};var Aa=function(a,b){a.g(b);a.b<a.f&&(a.b++,b.next=a.a,a.a=b)};var z=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,z);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};v(z,Error);z.prototype.name="CustomError";var Ba=function(a,b,c,d,e){this.reset(a,b,c,d,e)};Ba.prototype.a=null;var Ca=0;Ba.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Ca++;d||ja();this.b=b;delete this.a};var Da=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ea=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Fa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ga=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Fa.length;f++)c=Fa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ha=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},Ia=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var Ja=function(a){Ja[" "](a);return a};Ja[" "]=ba;var La=function(a,b){var c=Ka;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Ma=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},Na=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Oa=function(a,b){return a<b?-1:a>b?1:0};var Pa=function(a,b){this.a=a;this.b=b};var Qa=function(a,b){this.bucket=a;this.path=b},Ra=function(a){var b=encodeURIComponent;return"/b/"+b(a.bucket)+"/o/"+b(a.path)},Sa=function(a){for(var b=null,c=[{ia:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,ba:{bucket:1,path:3},ha:function(a){"/"===a.path.charAt(a.path.length-1)&&(a.path=a.path.slice(0,-1))}},{ia:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,ba:{bucket:1,path:3},ha:function(a){a.path=decodeURIComponent(a.path)}}],d=0;d<c.length;d++){var e=
c[d],f=e.ia.exec(a);if(f){b=f[e.ba.bucket];(f=f[e.ba.path])||(f="");b=new Qa(b,f);e.ha(b);break}}if(null==b)throw new w("invalid-url","Invalid URL '"+a+"'.");return b};var Ta=function(a,b,c){t(a)||y(b)||y(c)?(this.next=a,this.a=b||null,this.b=c||null):(this.next=a.next||null,this.a=a.error||null,this.b=a.complete||null)};var Ua={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Va=function(a){switch(a){case "raw":case "base64":case "base64url":case "data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url].";}},Wa=function(a,b){this.data=a;this.a=b||null},$a=function(a,b){switch(a){case "raw":return new Wa(Xa(b));case "base64":case "base64url":return new Wa(Ya(a,b));case "data_url":return a=new Za(b),a=a.a?Ya("base64",a.c):Xa(a.c),new Wa(a,(new Za(b)).b)}throw ma();
},Xa=function(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(d);else if(2047>=d)b.push(192|d>>6,128|d&63);else if(55296==(d&64512))if(c<a.length-1&&56320==(a.charCodeAt(c+1)&64512)){var e=a.charCodeAt(++c),d=65536|(d&1023)<<10|e&1023;b.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|d&63)}else b.push(239,191,189);else 56320==(d&64512)?b.push(239,191,189):b.push(224|d>>12,128|d>>6&63,128|d&63)}return new Uint8Array(b)},Ya=function(a,b){switch(a){case "base64":var c=-1!==b.indexOf("-"),
d=-1!==b.indexOf("_");if(c||d)throw ra(a,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break;case "base64url":c=-1!==b.indexOf("+");d=-1!==b.indexOf("/");if(c||d)throw ra(a,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");b=b.replace(/-/g,"+").replace(/_/g,"/")}var e;try{e=atob(b)}catch(f){throw ra(a,"Invalid character found");}a=new Uint8Array(e.length);for(b=0;b<e.length;b++)a[b]=e.charCodeAt(b);return a},Za=function(a){var b=a.match(/^data:([^,]+)?,/);
if(null===b)throw ra("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");b=b[1]||null;this.a=!1;this.b=null;if(null!=b){var c=b.length-7;this.b=(this.a=0<=c&&b.indexOf(";base64",c)==c)?b.substring(0,b.length-7):b}this.c=a.substring(a.indexOf(",")+1)};var ab=function(a){var b=encodeURIComponent,c="?";sa(a,function(a,e){a=b(a)+"="+b(e);c=c+a+"&"});return c=c.slice(0,-1)};var A=function(a,b,c,d,e,f){this.b=a;this.h=b;this.f=c;this.a=d;this.g=e;this.c=f};k=A.prototype;k.na=function(){return this.b};k.Ja=function(){return this.h};k.Ga=function(){return this.f};k.Ba=function(){return this.a};k.pa=function(){if(y(this.a)){var a=this.a.downloadURLs;return y(a)&&y(a[0])?a[0]:null}return null};k.Ia=function(){return this.g};k.Ea=function(){return this.c};var bb=function(a,b){b.unshift(a);z.call(this,Ma.apply(null,b));b.shift()};v(bb,z);bb.prototype.name="AssertionError";
var cb=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new bb(""+e,f||[]);},B=function(a,b,c){a||cb("",null,b,Array.prototype.slice.call(arguments,2))},db=function(a,b){throw new bb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},eb=function(a,b,c){t(a)||cb("Expected function but got %s: %s.",[p(a),a],b,Array.prototype.slice.call(arguments,2))};var fb=function(){this.g=this.g;this.o=this.o};fb.prototype.g=!1;fb.prototype.ea=function(){this.g||(this.g=!0,this.D())};fb.prototype.D=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var gb="closure_listenable_"+(1E6*Math.random()|0),hb=0;var ib;a:{var jb=l.navigator;if(jb){var kb=jb.userAgent;if(kb){ib=kb;break a}}ib=""}var C=function(a){return-1!=ib.indexOf(a)};var lb=function(){};lb.prototype.b=null;lb.prototype.a=ca;var mb=function(a){return a.b||(a.b=a.f())};lb.prototype.f=ca;var nb=Array.prototype.indexOf?function(a,b,c){B(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(r(a))return r(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ob=Array.prototype.forEach?function(a,b,c){B(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},pb=Array.prototype.filter?function(a,
b,c){B(null!=a.length);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=r(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var m=g[h];b.call(c,m,h,a)&&(e[f++]=m)}return e},qb=Array.prototype.map?function(a,b,c){B(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=r(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},rb=Array.prototype.some?function(a,b,c){B(null!=a.length);return Array.prototype.some.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},tb=function(a){var b;a:{b=sb;for(var c=a.length,d=r(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:r(a)?a.charAt(b):a[b]},ub=function(a,b){return 0<=nb(a,b)},vb=function(a){if("array"!=p(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},wb=function(a,b){b=nb(a,b);var c;if(c=0<=b)B(null!=a.length),Array.prototype.splice.call(a,
b,1);return c},xb=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var zb=new za(function(){return new yb},function(a){a.reset()},100),Bb=function(){var a=Ab,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b},yb=function(){this.next=this.b=this.a=null};yb.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};yb.prototype.reset=function(){this.next=this.b=this.a=null};var Cb=function(a,b){this.type=a;this.a=this.target=b;this.ja=!0};Cb.prototype.b=function(){this.ja=!1};var Db=function(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.U=!!d;this.M=e;++hb;this.N=this.T=!1},Eb=function(a){a.N=!0;a.listener=null;a.a=null;a.src=null;a.M=null};var Fb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;var Gb=function(a,b){b=pb(b.split("/"),function(a){return 0<a.length}).join("/");return 0===a.length?b:a+"/"+b},Hb=function(a){var b=a.lastIndexOf("/",a.length-2);return-1===b?a:a.slice(b+1)};var Ib=function(a){this.src=a;this.a={};this.b=0},Kb=function(a,b,c,d,e,f){var g=b.toString();b=a.a[g];b||(b=a.a[g]=[],a.b++);var h=Jb(b,c,e,f);-1<h?(a=b[h],d||(a.T=!1)):(a=new Db(c,a.src,g,!!e,f),a.T=d,b.push(a));return a},Lb=function(a,b){var c=b.type;c in a.a&&wb(a.a[c],b)&&(Eb(b),0==a.a[c].length&&(delete a.a[c],a.b--))},Jb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.N&&f.listener==b&&f.U==!!c&&f.M==d)return e}return-1};var Mb,Nb=function(){};v(Nb,lb);Nb.prototype.a=function(){var a=Ob(this);return a?new ActiveXObject(a):new XMLHttpRequest};Nb.prototype.f=function(){var a={};Ob(this)&&(a[0]=!0,a[1]=!0);return a};
var Ob=function(a){if(!a.c&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.c=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.c};Mb=new Nb;var Pb=function(a){this.a=[];if(a)a:{var b;if(a instanceof Pb){if(b=a.H(),a=a.A(),0>=this.b()){for(var c=this.a,d=0;d<b.length;d++)c.push(new Pa(b[d],a[d]));break a}}else b=Ea(a),a=Da(a);for(d=0;d<b.length;d++)Qb(this,b[d],a[d])}},Qb=function(a,b,c){var d=a.a;d.push(new Pa(b,c));b=d.length-1;a=a.a;for(c=a[b];0<b;)if(d=b-1>>1,a[d].a>c.a)a[b]=a[d],b=d;else break;a[b]=c};Pb.prototype.A=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].b);return b};
Pb.prototype.H=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].a);return b};Pb.prototype.b=function(){return this.a.length};var Rb=function(){this.c=[];this.a=[]},Sb=function(a){0==a.c.length&&(a.c=a.a,a.c.reverse(),a.a=[]);return a.c.pop()};Rb.prototype.b=function(){return this.c.length+this.a.length};Rb.prototype.A=function(){for(var a=[],b=this.c.length-1;0<=b;--b)a.push(this.c[b]);for(var c=this.a.length,b=0;b<c;++b)a.push(this.a[b]);return a};var Tb=function(a){if(a.A&&"function"==typeof a.A)return a.A();if(r(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Da(a)},Ub=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(da(a)||r(a))ob(a,b,void 0);else{var c;if(a.H&&"function"==typeof a.H)c=a.H();else if(a.A&&"function"==typeof a.A)c=void 0;else if(da(a)||r(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Ea(a);for(var d=Tb(a),e=d.length,f=0;f<e;f++)b.call(void 0,
d[f],c&&c[f],a)}};var Vb=function(a){l.setTimeout(function(){throw a;},0)},Wb,Xb=function(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!C("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,
a=u(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!C("Trident")&&!C("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(n(c.next)){c=c.next;var a=c.da;c.da=null;a()}};return function(a){d.next={da:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};var Yb="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},Zb=function(){};Zb.prototype.next=function(){throw Yb;};Zb.prototype.h=function(){return this};var $b=function(){Pb.call(this)};v($b,Pb);var ac=C("Opera"),D=C("Trident")||C("MSIE"),bc=C("Edge"),cc=C("Gecko")&&!(-1!=ib.toLowerCase().indexOf("webkit")&&!C("Edge"))&&!(C("Trident")||C("MSIE"))&&!C("Edge"),dc=-1!=ib.toLowerCase().indexOf("webkit")&&!C("Edge"),ec=function(){var a=l.document;return a?a.documentMode:void 0},fc;
a:{var gc="",hc=function(){var a=ib;if(cc)return/rv\:([^\);]+)(\)|;)/.exec(a);if(bc)return/Edge\/([\d\.]+)/.exec(a);if(D)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(dc)return/WebKit\/(\S+)/.exec(a);if(ac)return/(?:Version)[ \/]?(\S+)/.exec(a)}();hc&&(gc=hc?hc[1]:"");if(D){var ic=ec();if(null!=ic&&ic>parseFloat(gc)){fc=String(ic);break a}}fc=gc}
var kc=fc,Ka={},E=function(a){return La(a,function(){for(var b=0,c=Na(String(kc)).split("."),d=Na(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==g[0].length&&0==h[0].length)break;b=Oa(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||Oa(0==g[2].length,0==h[2].length)||Oa(g[2],h[2]);g=g[3];h=h[3]}while(0==b)}return 0<=b})},lc;var mc=l.document;
lc=mc&&D?ec()||("CSS1Compat"==mc.compatMode?parseInt(kc,10):5):void 0;var qc=function(a,b){nc||oc();pc||(nc(),pc=!0);var c=Ab,d=zb.get();d.set(a,b);c.b?c.b.next=d:(B(!c.a),c.a=d);c.b=d},nc,oc=function(){var a=l.Promise;if(-1!=String(a).indexOf("[native code]")){var b=a.resolve(void 0);nc=function(){b.then(rc)}}else nc=function(){var a=rc;!t(l.setImmediate)||l.Window&&l.Window.prototype&&!C("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(Wb||(Wb=Xb()),Wb(a)):l.setImmediate(a)}},pc=!1,Ab=new function(){this.b=this.a=null},rc=function(){for(var a;a=Bb();){try{a.a.call(a.b)}catch(b){Vb(b)}Aa(zb,
a)}pc=!1};var sc;(sc=!D)||(sc=9<=Number(lc));var tc=sc,uc=D&&!E("9");!dc||E("528");cc&&E("1.9b")||D&&E("8")||ac&&E("9.5")||dc&&E("528");cc&&!E("8")||D&&E("9");var F=function(a,b){this.c={};this.a=[];this.g=this.f=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof F?(c=a.H(),d=a.A()):(c=Ea(a),d=Da(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};F.prototype.b=function(){return this.f};F.prototype.A=function(){vc(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.c[this.a[b]]);return a};F.prototype.H=function(){vc(this);return this.a.concat()};
var wc=function(a,b){return Object.prototype.hasOwnProperty.call(a.c,b)?(delete a.c[b],a.f--,a.g++,a.a.length>2*a.f&&vc(a),!0):!1},vc=function(a){if(a.f!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Object.prototype.hasOwnProperty.call(a.c,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.f!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],Object.prototype.hasOwnProperty.call(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}};
F.prototype.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.c,a)?this.c[a]:b};F.prototype.set=function(a,b){Object.prototype.hasOwnProperty.call(this.c,a)||(this.f++,this.a.push(a),this.g++);this.c[a]=b};F.prototype.forEach=function(a,b){for(var c=this.H(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};
F.prototype.h=function(a){vc(this);var b=0,c=this.g,d=this,e=new Zb;e.next=function(){if(c!=d.g)throw Error("The map has changed since the iterator was created");if(b>=d.a.length)throw Yb;var e=d.a[b++];return a?e:d.c[e]};return e};var xc=function(a,b){Cb.call(this,a?a.type:"");this.c=this.a=this.target=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.a=b;if((b=a.relatedTarget)&&cc)try{Ja(b.nodeName)}catch(c){}this.c=a;a.defaultPrevented&&this.b()}};v(xc,Cb);xc.prototype.b=function(){xc.I.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,uc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var G=function(a,b){this.a=0;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(a!=ba)try{var c=this;a.call(b,function(a){yc(c,2,a)},function(a){if(!(a instanceof zc))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(e){}yc(c,3,a)})}catch(d){yc(this,3,d)}},Ac=function(){this.next=this.f=this.c=this.b=this.a=null;this.g=!1};Ac.prototype.reset=function(){this.f=this.c=this.b=this.a=null;this.g=!1};
var Bc=new za(function(){return new Ac},function(a){a.reset()},100),Cc=function(a,b,c){var d=Bc.get();d.b=a;d.c=b;d.f=c;return d},Dc=function(a){if(a instanceof G)return a;var b=new G(ba);yc(b,2,a);return b},Ec=function(a){return new G(function(b,c){c(a)})};
G.prototype.then=function(a,b,c){null!=a&&eb(a,"opt_onFulfilled should be a function.");null!=b&&eb(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return Fc(this,t(a)?a:null,t(b)?b:null,c)};Ha(G);G.prototype.l=function(a,b){return Fc(this,null,a,b)};G.prototype.cancel=function(a){0==this.a&&qc(function(){var b=new zc(a);Gc(this,b)},this)};
var Gc=function(a,b){if(0==a.a)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.a&&1==d?Gc(c,b):(f?(d=f,B(c.b),B(null!=d),d.next==c.f&&(c.f=d),d.next=d.next.next):Hc(c),Ic(c,e,3,b)))}a.c=null}else yc(a,3,b)},Kc=function(a,b){a.b||2!=a.a&&3!=a.a||Jc(a);B(null!=b.b);a.f?a.f.next=b:a.b=b;a.f=b},Fc=function(a,b,c,d){var e=Cc(null,null,null);e.a=new G(function(a,g){e.b=b?function(c){try{var e=b.call(d,c);a(e)}catch(q){g(q)}}:a;
e.c=c?function(b){try{var e=c.call(d,b);!n(e)&&b instanceof zc?g(b):a(e)}catch(q){g(q)}}:g});e.a.c=a;Kc(a,e);return e.a};G.prototype.o=function(a){B(1==this.a);this.a=0;yc(this,2,a)};G.prototype.m=function(a){B(1==this.a);this.a=0;yc(this,3,a)};
var yc=function(a,b,c){if(0==a.a){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.a=1;var d;a:{var e=c,f=a.o,g=a.m;if(e instanceof G)null!=f&&eb(f,"opt_onFulfilled should be a function."),null!=g&&eb(g,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Kc(e,Cc(f||ba,g||null,a)),d=!0;else if(Ia(e))e.then(f,g,a),d=!0;else{if(ea(e))try{var h=e.then;if(t(h)){Lc(e,h,f,g,a);d=!0;break a}}catch(m){g.call(a,m);d=!0;break a}d=!1}}d||
(a.i=c,a.a=b,a.c=null,Jc(a),3!=b||c instanceof zc||Mc(a,c))}},Lc=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(m){h(m)}},Jc=function(a){a.h||(a.h=!0,qc(a.j,a))},Hc=function(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);null!=b&&B(null!=b.b);return b};G.prototype.j=function(){for(var a;a=Hc(this);)Ic(this,a,this.a,this.i);this.h=!1};
var Ic=function(a,b,c,d){if(3==c&&b.c&&!b.g)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,Nc(b,c,d);else try{b.g?b.b.call(b.f):Nc(b,c,d)}catch(e){Oc.call(null,e)}Aa(Bc,b)},Nc=function(a,b,c){2==b?a.b.call(a.f,c):a.c&&a.c.call(a.f,c)},Mc=function(a,b){a.g=!0;qc(function(){a.g&&Oc.call(null,b)})},Oc=Vb,zc=function(a){z.call(this,a)};v(zc,z);zc.prototype.name="cancel";var Qc=function(a){this.a=new F;if(a){a=Tb(a);for(var b=a.length,c=0;c<b;c++){var d=a[c];this.a.set(Pc(d),d)}}},Pc=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[fa]||(a[fa]=++ga)):b.substr(0,1)+a};Qc.prototype.b=function(){return this.a.b()};Qc.prototype.A=function(){return this.a.A()};Qc.prototype.h=function(){return this.a.h(!1)};var Rc=function(a){return function(){var b=[];Array.prototype.push.apply(b,arguments);Dc(!0).then(function(){a.apply(null,b)})}};var Sc="closure_lm_"+(1E6*Math.random()|0),Tc={},Uc=0,Vc=function(a,b,c,d,e){if("array"==p(b)){for(var f=0;f<b.length;f++)Vc(a,b[f],c,d,e);return null}c=Wc(c);a&&a[gb]?(Xc(a),a=Kb(a.b,String(b),c,!1,d,e)):a=Yc(a,b,c,!1,d,e);return a},Yc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Zc(a);h||(a[Sc]=h=new Ib(a));c=Kb(h,b,c,d,e,f);if(c.a)return c;d=$c();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(ad(b.toString()),
d);else throw Error("addEventListener and attachEvent are unavailable.");Uc++;return c},$c=function(){var a=bd,b=tc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},cd=function(a,b,c,d,e){if("array"==p(b))for(var f=0;f<b.length;f++)cd(a,b[f],c,d,e);else c=Wc(c),a&&a[gb]?Kb(a.b,String(b),c,!0,d,e):Yc(a,b,c,!0,d,e)},dd=function(a,b,c,d,e){if("array"==p(b))for(var f=0;f<b.length;f++)dd(a,b[f],c,d,e);else(c=Wc(c),a&&a[gb])?(a=a.b,b=String(b).toString(),
b in a.a&&(f=a.a[b],c=Jb(f,c,d,e),-1<c&&(Eb(f[c]),B(null!=f.length),Array.prototype.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=Zc(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Jb(b,c,!!d,e)),(c=-1<a?b[a]:null)&&ed(c))},ed=function(a){if("number"!=typeof a&&a&&!a.N){var b=a.src;if(b&&b[gb])Lb(b.b,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.U):b.detachEvent&&b.detachEvent(ad(c),d);Uc--;(c=Zc(b))?(Lb(c,a),0==c.b&&(c.src=null,b[Sc]=null)):Eb(a)}}},ad=function(a){return a in
Tc?Tc[a]:Tc[a]="on"+a},gd=function(a,b,c,d){var e=!0;if(a=Zc(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.U==c&&!f.N&&(f=fd(f,d),e=e&&!1!==f)}return e},fd=function(a,b){var c=a.listener,d=a.M||a.src;a.T&&ed(a);return c.call(d,b)},bd=function(a,b){if(a.N)return!0;if(!tc){if(!b)a:{b=["window","event"];for(var c=l,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new xc(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=
-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.a;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;0<=e;e--){b.a=d[e];var f=gd(d[e],a,!0,b),c=c&&f}for(e=0;e<d.length;e++)b.a=d[e],f=gd(d[e],a,!1,b),c=c&&f}return c}return fd(a,new xc(b,this))},Zc=function(a){a=a[Sc];return a instanceof Ib?a:null},hd="__closure_events_fn_"+(1E9*Math.random()>>>0),Wc=function(a){B(a,"Listener can not be null.");if(t(a))return a;B(a.handleEvent,"An object listener must have handleEvent method.");
a[hd]||(a[hd]=function(b){return a.handleEvent(b)});return a[hd]};var H=function(a,b){fb.call(this);this.m=a||0;this.f=b||10;if(this.m>this.f)throw Error("[goog.structs.Pool] Min can not be greater than max");this.a=new Rb;this.c=new Qc;this.j=null;this.S()};v(H,fb);H.prototype.W=function(){var a=ja();if(!(null!=this.j&&0>a-this.j)){for(var b;0<this.a.b()&&(b=Sb(this.a),!this.l(b));)this.S();!b&&this.b()<this.f&&(b=this.i());b&&(this.j=a,this.c.a.set(Pc(b),b));return b}};var jd=function(a){var b=id;wc(b.c.a,Pc(a))&&b.$(a)};
H.prototype.$=function(a){wc(this.c.a,Pc(a));this.l(a)&&this.b()<this.f?this.a.a.push(a):kd(a)};H.prototype.S=function(){for(var a=this.a;this.b()<this.m;){var b=this.i();a.a.push(b)}for(;this.b()>this.f&&0<this.a.b();)kd(Sb(a))};H.prototype.i=function(){return{}};var kd=function(a){if("function"==typeof a.ea)a.ea();else for(var b in a)a[b]=null};H.prototype.l=function(a){return"function"==typeof a.oa?a.oa():!0};H.prototype.b=function(){return this.a.b()+this.c.b()};
H.prototype.D=function(){H.I.D.call(this);if(0<this.c.b())throw Error("[goog.structs.Pool] Objects not released");delete this.c;for(var a=this.a;0!=a.c.length||0!=a.a.length;)kd(Sb(a));delete this.a};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var ld=function(a,b){this.g=[];this.u=a;this.s=b||null;this.f=this.a=!1;this.b=void 0;this.l=this.o=this.i=!1;this.h=0;this.c=null;this.j=0};
ld.prototype.cancel=function(a){if(this.a)this.b instanceof ld&&this.b.cancel();else{if(this.c){var b=this.c;delete this.c;a?b.cancel(a):(b.j--,0>=b.j&&b.cancel())}this.u?this.u.call(this.s,this):this.l=!0;if(!this.a){a=new md;if(this.a){if(!this.l)throw new nd;this.l=!1}B(!(a instanceof ld),"An execution sequence may not be initiated with a blocking Deferred.");this.a=!0;this.b=a;this.f=!0;od(this)}}};ld.prototype.m=function(a,b){this.i=!1;this.a=!0;this.b=b;this.f=!a;od(this)};
var pd=function(a,b,c){B(!a.o,"Blocking Deferreds can not be re-used");a.g.push([b,c,void 0]);a.a&&od(a)};ld.prototype.then=function(a,b,c){var d,e,f=new G(function(a,b){d=a;e=b});pd(this,d,function(a){a instanceof md?f.cancel():e(a)});return f.then(a,b,c)};Ha(ld);
var qd=function(a){return rb(a.g,function(a){return t(a[1])})},od=function(a){if(a.h&&a.a&&qd(a)){var b=a.h,c=rd[b];c&&(l.clearTimeout(c.a),delete rd[b]);a.h=0}a.c&&(a.c.j--,delete a.c);for(var b=a.b,d=c=!1;a.g.length&&!a.i;){var e=a.g.shift(),f=e[0],g=e[1],e=e[2];if(f=a.f?g:f)try{var h=f.call(e||a.s,b);n(h)&&(a.f=a.f&&(h==b||h instanceof Error),a.b=b=h);if(Ia(b)||"function"===typeof l.Promise&&b instanceof l.Promise)d=!0,a.i=!0}catch(m){b=m,a.f=!0,qd(a)||(c=!0)}}a.b=b;d&&(h=u(a.m,a,!0),d=u(a.m,a,
!1),b instanceof ld?(pd(b,h,d),b.o=!0):b.then(h,d));c&&(b=new sd(b),rd[b.a]=b,a.h=b.a)},nd=function(){z.call(this)};v(nd,z);nd.prototype.message="Deferred has already fired";nd.prototype.name="AlreadyCalledError";var md=function(){z.call(this)};v(md,z);md.prototype.message="Deferred was canceled";md.prototype.name="CanceledError";var sd=function(a){this.a=l.setTimeout(u(this.c,this),0);this.b=a};
sd.prototype.c=function(){B(rd[this.a],"Cannot throw an error that is not scheduled.");delete rd[this.a];throw this.b;};var rd={};var td=function(a){this.f=a;this.b=this.c=this.a=null},ud=function(a,b){this.name=a;this.value=b};ud.prototype.toString=function(){return this.name};var vd=new ud("SEVERE",1E3),wd=new ud("CONFIG",700),xd=new ud("FINE",500),yd=function(a){if(a.c)return a.c;if(a.a)return yd(a.a);db("Root logger has no level set.");return null};
td.prototype.log=function(a,b,c){if(a.value>=yd(this).value)for(t(b)&&(b=b()),a=new Ba(a,String(b),this.f),c&&(a.a=c),c="log:"+a.b,l.console&&(l.console.timeStamp?l.console.timeStamp(c):l.console.markTimeline&&l.console.markTimeline(c)),l.msWriteProfilerMark&&l.msWriteProfilerMark(c),c=this;c;)c=c.a};
var zd={},Ad=null,Bd=function(a){Ad||(Ad=new td(""),zd[""]=Ad,Ad.c=wd);var b;if(!(b=zd[a])){b=new td(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Bd(a.substr(0,c));c.b||(c.b={});c.b[d]=b;b.a=c;zd[a]=b}return b};var Cd=function(){fb.call(this);this.b=new Ib(this);this.Y=this;this.G=null};v(Cd,fb);Cd.prototype[gb]=!0;Cd.prototype.removeEventListener=function(a,b,c,d){dd(this,a,b,c,d)};
var I=function(a,b){Xc(a);var c,d=a.G;if(d){c=[];for(var e=1;d;d=d.G)c.push(d),B(1E3>++e,"infinite loop")}a=a.Y;d=b.type||b;r(b)?b=new Cb(b,a):b instanceof Cb?b.target=b.target||a:(e=b,b=new Cb(d,a),Ga(b,e));var e=!0,f;if(c)for(var g=c.length-1;0<=g;g--)f=b.a=c[g],e=Dd(f,d,!0,b)&&e;f=b.a=a;e=Dd(f,d,!0,b)&&e;e=Dd(f,d,!1,b)&&e;if(c)for(g=0;g<c.length;g++)f=b.a=c[g],e=Dd(f,d,!1,b)&&e};
Cd.prototype.D=function(){Cd.I.D.call(this);if(this.b){var a=this.b,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,Eb(d[e]);delete a.a[c];a.b--}}this.G=null};var Dd=function(a,b,c,d){b=a.b.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.N&&g.U==c){var h=g.listener,m=g.M||g.src;g.T&&Lb(a.b,g);e=!1!==h.call(m,d)&&e}}return e&&0!=d.ja},Xc=function(a){B(a.b,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var J=function(a,b){this.h=new $b;H.call(this,a,b)};v(J,H);k=J.prototype;k.W=function(a,b){if(!a)return J.I.W.call(this);Qb(this.h,n(b)?b:100,a);this.aa()};k.aa=function(){for(var a=this.h;0<a.b();){var b=this.W();if(b){var c;var d=a,e=d.a,f=e.length;c=e[0];if(0>=f)c=void 0;else{if(1==f)vb(e);else{e[0]=e.pop();for(var e=0,d=d.a,f=d.length,g=d[e];e<f>>1;){var h=2*e+1,m=2*e+2,h=m<f&&d[m].a<d[h].a?m:h;if(d[h].a>g.a)break;d[e]=d[h];e=h}d[e]=g}c=c.b}c.apply(this,[b])}else break}};
k.$=function(a){J.I.$.call(this,a);this.aa()};k.S=function(){J.I.S.call(this);this.aa()};k.D=function(){J.I.D.call(this);l.clearTimeout(void 0);vb(this.h.a);this.h=null};var K=function(a,b){a&&a.log(xd,b,void 0)};var Ed=function(a,b,c){if(t(a))c&&(a=u(a,c));else if(a&&"function"==typeof a.handleEvent)a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)};var L=function(a){Cd.call(this);this.headers=new F;this.B=a||null;this.c=!1;this.u=this.a=null;this.L=this.l="";this.K=0;this.h="";this.f=this.C=this.j=this.F=!1;this.i=0;this.m=null;this.R="";this.s=this.ca=this.X=!1};v(L,Cd);var Fd=L.prototype,Gd=Bd("goog.net.XhrIo");Fd.w=Gd;var Hd=/^https?$/i,Id=["POST","PUT"];
L.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.l+"; newUri="+a);b=b?b.toUpperCase():"GET";this.l=a;this.h="";this.K=0;this.L=b;this.F=!1;this.c=!0;this.a=this.B?this.B.a():Mb.a();this.u=this.B?mb(this.B):mb(Mb);this.a.onreadystatechange=u(this.P,this);this.ca&&"onprogress"in this.a&&(this.a.onprogress=u(function(a){this.O(a,!0)},this),this.a.upload&&(this.a.upload.onprogress=u(this.O,this)));try{K(this.w,M(this,"Opening Xhr")),
this.C=!0,this.a.open(b,String(a),!0),this.C=!1}catch(f){K(this.w,M(this,"Error opening Xhr: "+f.message));Jd(this,f);return}a=c||"";var e=new F(this.headers);d&&Ub(d,function(a,b){e.set(b,a)});d=tb(e.H());c=l.FormData&&a instanceof l.FormData;!ub(Id,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.a.setRequestHeader(b,a)},this);this.R&&(this.a.responseType=this.R);"withCredentials"in this.a&&this.a.withCredentials!==this.X&&(this.a.withCredentials=
this.X);try{Kd(this),0<this.i&&(this.s=Ld(this.a),K(this.w,M(this,"Will abort after "+this.i+"ms if incomplete, xhr2 "+this.s)),this.s?(this.a.timeout=this.i,this.a.ontimeout=u(this.J,this)):this.m=Ed(this.J,this.i,this)),K(this.w,M(this,"Sending request")),this.j=!0,this.a.send(a),this.j=!1}catch(f){K(this.w,M(this,"Send error: "+f.message)),Jd(this,f)}};var Ld=function(a){return D&&E(9)&&"number"==typeof a.timeout&&n(a.ontimeout)},sb=function(a){return"content-type"==a.toLowerCase()};
L.prototype.J=function(){"undefined"!=typeof aa&&this.a&&(this.h="Timed out after "+this.i+"ms, aborting",this.K=8,K(this.w,M(this,this.h)),I(this,"timeout"),this.abort(8))};var Jd=function(a,b){a.c=!1;a.a&&(a.f=!0,a.a.abort(),a.f=!1);a.h=b;a.K=5;Md(a);Nd(a)},Md=function(a){a.F||(a.F=!0,I(a,"complete"),I(a,"error"))};L.prototype.abort=function(a){this.a&&this.c&&(K(this.w,M(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.K=a||7,I(this,"complete"),I(this,"abort"),Nd(this))};
L.prototype.D=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Nd(this,!0));L.I.D.call(this)};L.prototype.P=function(){this.g||(this.C||this.j||this.f?Od(this):this.Z())};L.prototype.Z=function(){Od(this)};
var Od=function(a){if(a.c&&"undefined"!=typeof aa)if(a.u[1]&&4==Pd(a)&&2==N(a))K(a.w,M(a,"Local request error detected and ignored"));else if(a.j&&4==Pd(a))Ed(a.P,0,a);else if(I(a,"readystatechange"),4==Pd(a)){K(a.w,M(a,"Request complete"));a.c=!1;try{if(Qd(a))I(a,"complete"),I(a,"success");else{a.K=6;var b;try{b=2<Pd(a)?a.a.statusText:""}catch(c){K(a.w,"Can not get status: "+c.message),b=""}a.h=b+" ["+N(a)+"]";Md(a)}}finally{Nd(a)}}};
L.prototype.O=function(a,b){B("progress"===a.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");I(this,Rd(a,"progress"));I(this,Rd(a,b?"downloadprogress":"uploadprogress"))};
var Rd=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},Nd=function(a,b){if(a.a){Kd(a);var c=a.a,d=a.u[0]?ba:null;a.a=null;a.u=null;b||I(a,"ready");try{c.onreadystatechange=d}catch(e){(a=a.w)&&a.log(vd,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},Kd=function(a){a.a&&a.s&&(a.a.ontimeout=null);"number"==typeof a.m&&(l.clearTimeout(a.m),a.m=null)},Qd=function(a){var b=N(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=
!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.l).match(Fb)[1]||null,!a&&l.self&&l.self.location&&(a=l.self.location.protocol,a=a.substr(0,a.length-1)),b=!Hd.test(a?a.toLowerCase():"");c=b}return c},Pd=function(a){return a.a?a.a.readyState:0},N=function(a){try{return 2<Pd(a)?a.a.status:-1}catch(b){return-1}},Sd=function(a){try{return a.a?a.a.responseText:""}catch(b){return K(a.w,"Can not get responseText: "+b.message),""}},Td=function(a,b){return a.a&&4==Pd(a)?a.a.getResponseHeader(b):void 0},
M=function(a,b){return b+" ["+a.L+" "+a.l+" "+N(a)+"]"};var Ud=function(a,b,c,d){this.s=a;this.u=!!d;J.call(this,b,c)};v(Ud,J);Ud.prototype.i=function(){var a=new L,b=this.s;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.u&&(a.X=!0);return a};Ud.prototype.l=function(a){return!a.g&&!a.a};var id=new Ud;var Wd=function(a,b,c,d,e,f,g,h,m,q,Q){this.J=a;this.C=b;this.u=c;this.m=d;this.G=e.slice();this.o=f.slice();this.j=this.l=this.c=this.b=null;this.g=this.h=!1;this.s=g;this.i=h;this.f=q;this.L=Q;this.F=m;var P=this;this.B=new G(function(a,b){P.l=a;P.j=b;Vd(P)})},Xd=function(a,b,c){this.b=a;this.c=b;this.a=!!c},Vd=function(a){function b(a,b){b?a(!1,new Xd(!1,null,!0)):id.W(function(b){b.X=d.L;d.b=b;var c=null;null!==d.f&&(b.ca=!0,c=Vc(b,"uploadprogress",function(a){d.f(a.loaded,a.lengthComputable?
a.total:-1)}),b.ca=null!==d.f);b.send(d.J,d.C,d.m,d.u);cd(b,"complete",function(b){null!==c&&ed(c);d.b=null;b=b.target;var e=6===b.K&&100<=N(b),f=Qd(b)||e,e=N(b);if(!(f=!f))var g=d,f=500<=e&&600>e,h=ub([408,429],e),g=ub(g.o,e),f=f||h||g;f?(e=7===b.K,jd(b),a(!1,new Xd(!1,null,e))):(e=ub(d.G,e),a(!0,new Xd(e,b)))})})}function c(a,b){var c=d.l;a=d.j;var e=b.c;if(b.b)try{var f=d.s(e,Sd(e));n(f)?c(f):c()}catch(q){a(q)}else null!==e?(b=ma(),f=Sd(e),b.serverResponse=f,d.i?a(d.i(e,b)):a(b)):(b=b.a?d.g?qa():
na():new w("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),a(b));jd(e)}var d=a;a.h?c(0,new Xd(!1,null,!0)):a.c=ka(b,c,a.F)};Wd.prototype.a=function(){return this.B};Wd.prototype.cancel=function(a){this.h=!0;this.g=a||!1;null!==this.c&&(0,this.c)(!1);null!==this.b&&this.b.abort()};
var Yd=function(a,b,c){var d=ab(a.b),d=a.j+d,e=a.headers?ta(a.headers):{};null!==b&&0<b.length&&(e.Authorization="Firebase "+b);e["X-Firebase-Storage-Version"]="webjs/"+("undefined"!==typeof firebase?firebase.SDK_VERSION:"AppManager");return new Wd(d,a.method,e,a.body,a.f,a.h,a.M,a.a,a.i,a.c,c)};var Zd=function(a){var b=l.BlobBuilder||l.WebKitBlobBuilder;if(n(b)){for(var b=new b,c=0;c<arguments.length;c++)b.append(arguments[c]);return b.getBlob()}b=xb(arguments);c=l.BlobBuilder||l.WebKitBlobBuilder;if(n(c)){for(var c=new c,d=0;d<b.length;d++)c.append(b[d],void 0);b=c.getBlob(void 0)}else if(n(l.Blob))b=new Blob(b,{});else throw Error("This browser doesn't seem to support creating Blobs");return b},$d=function(a,b,c){n(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,
c):a.slice?cc&&!E("13.0")||dc&&!E("537.1")?(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):a.slice(b,c):null};var O=function(a,b){ya()&&a instanceof Blob?(this.v=a,b=a.size,a=a.type):(a instanceof ArrayBuffer?(b?this.v=new Uint8Array(a):(this.v=new Uint8Array(a.byteLength),this.v.set(new Uint8Array(a))),b=this.v.length):(b?this.v=a:(this.v=new Uint8Array(a.length),this.v.set(a)),b=a.length),a="");this.a=b;this.b=a};O.prototype.type=function(){return this.b};
O.prototype.slice=function(a,b){if(ya()&&this.v instanceof Blob)return a=$d(this.v,a,b),null===a?null:new O(a);a=new Uint8Array(this.v.buffer,a,b-a);return new O(a,!0)};
var ae=function(a){var b=[];Array.prototype.push.apply(b,arguments);if(ya())return b=qb(b,function(a){return a instanceof O?a.v:a}),new O(Zd.apply(null,b));var b=qb(b,function(a){return xa(a)?$a("raw",a).data.buffer:a.v.buffer}),c=0;ob(b,function(a){c+=a.byteLength});var d=new Uint8Array(c),e=0;ob(b,function(a){a=new Uint8Array(a);for(var b=0;b<a.length;b++)d[e++]=a[b]});return new O(d,!0)};var be=function(a){this.b=Ec(a)};be.prototype.a=function(){return this.b};be.prototype.cancel=function(){};var ce=function(){this.a={};this.b=Number.MIN_SAFE_INTEGER},de=function(a,b){function c(){delete e.a[d]}var d=a.b;a.b++;a.a[d]=b;var e=a;b.a().then(c,c)},ee=function(a){sa(a.a,function(a,c){c&&c.cancel(!0)});a.a={}};var fe=function(a,b,c,d){this.a=a;this.g=null;if(null!==this.a&&(a=this.a.options,y(a))){a=a.storageBucket||null;if(null==a)a=null;else{var e=null;try{e=Sa(a)}catch(f){}if(null!==e){if(""!==e.path)throw new w("invalid-default-bucket","Invalid default bucket '"+a+"'.");a=e.bucket}}this.g=a}this.l=b;this.j=c;this.i=d;this.c=12E4;this.b=6E4;this.h=new ce;this.f=!1},ge=function(a){return null!==a.a&&y(a.a.INTERNAL)&&y(a.a.INTERNAL.getToken)?a.a.INTERNAL.getToken().then(function(a){return y(a)?a.accessToken:
null},function(){return null}):Dc(null)};fe.prototype.bucket=function(){if(this.f)throw qa();return this.g};var R=function(a,b,c){if(a.f)return new be(qa());b=a.j(b,c,null===a.a);de(a.h,b);return b};var he=function(a,b){return b},S=function(a,b,c,d){this.c=a;this.b=b||a;this.writable=!!c;this.a=d||he},ie=null,je=function(){if(ie)return ie;var a=[];a.push(new S("bucket"));a.push(new S("generation"));a.push(new S("metageneration"));a.push(new S("name","fullPath",!0));var b=new S("name");b.a=function(a,b){return!xa(b)||2>b.length?b:Hb(b)};a.push(b);b=new S("size");b.a=function(a,b){return y(b)?+b:b};a.push(b);a.push(new S("timeCreated"));a.push(new S("updated"));a.push(new S("md5Hash",null,!0));
a.push(new S("cacheControl",null,!0));a.push(new S("contentDisposition",null,!0));a.push(new S("contentEncoding",null,!0));a.push(new S("contentLanguage",null,!0));a.push(new S("contentType",null,!0));a.push(new S("metadata","customMetadata",!0));a.push(new S("downloadTokens","downloadURLs",!1,function(a,b){if(!(xa(b)&&0<b.length))return[];var c=encodeURIComponent;return qb(b.split(","),function(b){var d=a.fullPath,d="https://firebasestorage.googleapis.com/v0"+("/b/"+c(a.bucket)+"/o/"+c(d));b=ab({alt:"media",
token:b});return d+b})}));return ie=a},ke=function(a,b){Object.defineProperty(a,"ref",{get:function(){return b.l(b,new Qa(a.bucket,a.fullPath))}})},le=function(a,b){for(var c={},d=b.length,e=0;e<d;e++){var f=b[e];f.writable&&(c[f.c]=a[f.b])}return JSON.stringify(c)},me=function(a){if(!a||"object"!==typeof a)throw"Expected Metadata object.";for(var b in a){var c=a[b];if("customMetadata"===b&&"object"!==typeof c)throw"Expected object for 'customMetadata' mapping.";}};var T=function(a,b,c){for(var d=b.length,e=b.length,f=0;f<b.length;f++)if(b[f].b){d=f;break}if(!(d<=c.length&&c.length<=e))throw d===e?(b=d,d=1===d?"argument":"arguments"):(b="between "+d+" and "+e,d="arguments"),new w("invalid-argument-count","Invalid argument count in `"+a+"`: Expected "+b+" "+d+", received "+c.length+".");for(f=0;f<c.length;f++)try{b[f].a(c[f])}catch(g){if(g instanceof Error)throw pa(f,a,g.message);throw pa(f,a,g);}},U=function(a,b){var c=this;this.a=function(b){c.b&&!n(b)||a(b)};
this.b=!!b},ne=function(a,b){return function(c){a(c);b(c)}},oe=function(a,b){function c(a){if(!("string"===typeof a||a instanceof String))throw"Expected string.";}var d;a?d=ne(c,a):d=c;return new U(d,b)},pe=function(){return new U(function(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer||ya()&&a instanceof Blob))throw"Expected Blob or File.";})},qe=function(){return new U(function(a){if(!(("number"===typeof a||a instanceof Number)&&0<=a))throw"Expected a number 0 or greater.";})},re=function(a,
b){return new U(function(b){if(!(null===b||y(b)&&b instanceof Object))throw"Expected an Object.";y(a)&&a(b)},b)},se=function(){return new U(function(a){if(null!==a&&!t(a))throw"Expected a Function.";},!0)};var te=function(a){if(!a)throw ma();},ue=function(a,b){return function(c,d){a:{var e;try{e=JSON.parse(d)}catch(h){c=null;break a}c=ea(e)?e:null}if(null===c)c=null;else{d={type:"file"};e=b.length;for(var f=0;f<e;f++){var g=b[f];d[g.b]=g.a(d,c[g.c])}ke(d,a);c=d}te(null!==c);return c}},ve=function(a){return function(b,c){b=401===N(b)?new w("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===N(b)?new w("quota-exceeded","Quota for bucket '"+
a.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===N(b)?new w("unauthorized","User does not have permission to access '"+a.path+"'."):c;b.serverResponse=c.serverResponse;return b}},we=function(a){var b=ve(a);return function(c,d){var e=b(c,d);404===N(c)&&(e=new w("object-not-found","Object '"+a.path+"' does not exist."));e.serverResponse=d.serverResponse;return e}},xe=function(a,b,c){var d=Ra(b);a=new x(la+"/v0"+d,"GET",ue(a,c),a.c);a.a=we(b);return a},ye=function(a,
b){var c=Ra(b);a=new x(la+"/v0"+c,"DELETE",function(){},a.c);a.f=[200,204];a.a=we(b);return a},ze=function(a,b,c){c=c?ta(c):{};c.fullPath=a.path;c.size=b.a;c.contentType||(a=b&&b.type()||"application/octet-stream",c.contentType=a);return c},Ae=function(a,b,c,d,e){var f="/b/"+encodeURIComponent(b.bucket)+"/o",g={"X-Goog-Upload-Protocol":"multipart"},h;h="";for(var m=0;2>m;m++)h+=Math.random().toString().slice(2);g["Content-Type"]="multipart/related; boundary="+h;e=ze(b,d,e);m=le(e,c);d=ae("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+
m+"\r\n--"+h+"\r\nContent-Type: "+e.contentType+"\r\n\r\n",d,"\r\n--"+h+"--");if(null===d)throw oa();a=new x(la+"/v0"+f,"POST",ue(a,c),a.b);a.b={name:e.fullPath};a.headers=g;a.body=d.v;a.a=ve(b);return a},Be=function(a,b,c,d){this.a=a;this.total=b;this.b=!!c;this.c=d||null},Ce=function(a,b){var c;try{c=Td(a,"X-Goog-Upload-Status")}catch(d){te(!1)}te(ub(b||["active"],c));return c},De=function(a,b,c,d,e){var f="/b/"+encodeURIComponent(b.bucket)+"/o",g=ze(b,d,e);e={name:g.fullPath};f=la+"/v0"+f;d={"X-Goog-Upload-Protocol":"resumable",
"X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":d.a,"X-Goog-Upload-Header-Content-Type":g.contentType,"Content-Type":"application/json; charset=utf-8"};c=le(g,c);a=new x(f,"POST",function(a){Ce(a);var b;try{b=Td(a,"X-Goog-Upload-URL")}catch(q){te(!1)}te(xa(b));return b},a.b);a.b=e;a.headers=d;a.body=c;a.a=ve(b);return a},Ee=function(a,b,c,d){a=new x(c,"POST",function(a){var b=Ce(a,["active","final"]),c;try{c=Td(a,"X-Goog-Upload-Size-Received")}catch(h){te(!1)}a=c;isFinite(a)&&
(a=String(a));a=r(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN;te(!isNaN(a));return new Be(a,d.a,"final"===b)},a.b);a.headers={"X-Goog-Upload-Command":"query"};a.a=ve(b);a.g=!1;return a},Fe=function(a,b,c,d,e,f,g){var h=new Be(0,0);g?(h.a=g.a,h.total=g.total):(h.a=0,h.total=d.a);if(d.a!==h.total)throw new w("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var m=g=h.total-h.a;0<e&&(m=Math.min(m,e));var q=h.a;e={"X-Goog-Upload-Command":m===
g?"upload, finalize":"upload","X-Goog-Upload-Offset":h.a};g=d.slice(q,q+m);if(null===g)throw oa();c=new x(c,"POST",function(a,c){var e=Ce(a,["active","final"]),g=h.a+m,Q=d.a,q;"final"===e?q=ue(b,f)(a,c):q=null;return new Be(g,Q,"final"===e,q)},b.b);c.headers=e;c.body=g.v;c.c=null;c.a=ve(a);c.g=!1;return c};var W=function(a,b,c,d,e,f){this.L=a;this.c=b;this.j=c;this.f=e;this.h=f||null;this.m=d;this.l=0;this.J=this.s=!1;this.F=[];this.Z=262144<this.f.a;this.b="running";this.a=this.u=this.g=null;this.i=1;var g=this;this.V=function(a){g.a=null;g.i=1;"storage/canceled"===a.code?(g.s=!0,Ge(g)):(g.g=a,V(g,"error"))};this.Y=function(a){g.a=null;"storage/canceled"===a.code?Ge(g):(g.g=a,V(g,"error"))};this.B=this.o=null;this.G=new G(function(a,b){g.o=a;g.B=b;He(g)});this.G.then(null,function(){})},He=function(a){"running"===
a.b&&null===a.a&&(a.Z?null===a.u?Ie(a):a.s?Je(a):a.J?Ke(a):Le(a):Me(a))},Ne=function(a,b){ge(a.c).then(function(c){switch(a.b){case "running":b(c);break;case "canceling":V(a,"canceled");break;case "pausing":V(a,"paused")}})},Ie=function(a){Ne(a,function(b){var c=De(a.c,a.j,a.m,a.f,a.h);a.a=R(a.c,c,b);a.a.a().then(function(b){a.a=null;a.u=b;a.s=!1;Ge(a)},this.V)})},Je=function(a){var b=a.u;Ne(a,function(c){var d=Ee(a.c,a.j,b,a.f);a.a=R(a.c,d,c);a.a.a().then(function(b){a.a=null;Oe(a,b.a);a.s=!1;b.b&&
(a.J=!0);Ge(a)},a.V)})},Le=function(a){var b=262144*a.i,c=new Be(a.l,a.f.a),d=a.u;Ne(a,function(e){var f;try{f=Fe(a.j,a.c,d,a.f,b,a.m,c)}catch(g){a.g=g;V(a,"error");return}a.a=R(a.c,f,e);a.a.a().then(function(b){33554432>262144*a.i&&(a.i*=2);a.a=null;Oe(a,b.a);b.b?(a.h=b.c,V(a,"success")):Ge(a)},a.V)})},Ke=function(a){Ne(a,function(b){var c=xe(a.c,a.j,a.m);a.a=R(a.c,c,b);a.a.a().then(function(b){a.a=null;a.h=b;V(a,"success")},a.Y)})},Me=function(a){Ne(a,function(b){var c=Ae(a.c,a.j,a.m,a.f,a.h);a.a=
R(a.c,c,b);a.a.a().then(function(b){a.a=null;a.h=b;Oe(a,a.f.a);V(a,"success")},a.V)})},Oe=function(a,b){var c=a.l;a.l=b;a.l>c&&Pe(a)},V=function(a,b){if(a.b!==b)switch(b){case "canceling":a.b=b;null!==a.a&&a.a.cancel();break;case "pausing":a.b=b;null!==a.a&&a.a.cancel();break;case "running":var c="paused"===a.b;a.b=b;c&&(Pe(a),He(a));break;case "paused":a.b=b;Pe(a);break;case "canceled":a.g=na();a.b=b;Pe(a);break;case "error":a.b=b;Pe(a);break;case "success":a.b=b,Pe(a)}},Ge=function(a){switch(a.b){case "pausing":V(a,
"paused");break;case "canceling":V(a,"canceled");break;case "running":He(a)}};W.prototype.C=function(){return new A(this.l,this.f.a,wa(this.b),this.h,this,this.L)};
W.prototype.O=function(a,b,c,d){function e(a){try{g(a);return}catch(P){}try{if(h(a),!(n(a.next)||n(a.error)||n(a.complete)))throw"";}catch(P){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";}}function f(a){return function(b,c,d){null!==a&&T("on",a,arguments);var e=new Ta(b,c,d);Qe(m,e);return function(){wb(m.F,e)}}}var g=se().a,h=re(null,!0).a;T("on",[oe(function(){if("state_changed"!==a)throw"Expected one of the event types: [state_changed].";}),re(e,!0),
se(),se()],arguments);var m=this,q=[re(function(a){if(null===a)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";e(a)}),se(),se()];return n(b)||n(c)||n(d)?f(null)(b,c,d):f(q)};W.prototype.then=function(a,b){return this.G.then(a,b)};
var Qe=function(a,b){a.F.push(b);Re(a,b)},Pe=function(a){Se(a);var b=xb(a.F);ob(b,function(b){Re(a,b)})},Se=function(a){if(null!==a.o){var b=!0;switch(wa(a.b)){case "success":Rc(a.o.bind(null,a.C()))();break;case "canceled":case "error":Rc(a.B.bind(null,a.g))();break;default:b=!1}b&&(a.o=null,a.B=null)}},Re=function(a,b){switch(wa(a.b)){case "running":case "paused":null!==b.next&&Rc(b.next.bind(b,a.C()))();break;case "success":null!==b.b&&Rc(b.b.bind(b))();break;case "canceled":case "error":null!==
b.a&&Rc(b.a.bind(b,a.g))();break;default:null!==b.a&&Rc(b.a.bind(b,a.g))()}};W.prototype.R=function(){T("resume",[],arguments);var a="paused"===this.b||"pausing"===this.b;a&&V(this,"running");return a};W.prototype.P=function(){T("pause",[],arguments);var a="running"===this.b;a&&V(this,"pausing");return a};W.prototype.cancel=function(){T("cancel",[],arguments);var a="running"===this.b||"pausing"===this.b;a&&V(this,"canceling");return a};var X=function(a,b){this.b=a;if(b)this.a=b instanceof Qa?b:Sa(b);else if(a=a.bucket(),null!==a)this.a=new Qa(a,"");else throw new w("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");};X.prototype.toString=function(){T("toString",[],arguments);return"gs://"+this.a.bucket+"/"+this.a.path};var Te=function(a,b){return new X(a,b)};k=X.prototype;
k.fa=function(a){T("child",[oe()],arguments);var b=Gb(this.a.path,a);return Te(this.b,new Qa(this.a.bucket,b))};k.Da=function(){var a;a=this.a.path;if(0==a.length)a=null;else{var b=a.lastIndexOf("/");a=-1===b?"":a.slice(0,b)}return null===a?null:Te(this.b,new Qa(this.a.bucket,a))};k.Fa=function(){return Te(this.b,new Qa(this.a.bucket,""))};k.ma=function(){return this.a.bucket};k.ya=function(){return this.a.path};k.Ca=function(){return Hb(this.a.path)};k.Ha=function(){return this.b.i};
k.ra=function(a,b){T("put",[pe(),new U(me,!0)],arguments);Ue(this,"put");return new W(this,this.b,this.a,je(),new O(a),b)};k.sa=function(a,b,c){T("putString",[oe(),oe(Va,!0),new U(me,!0)],arguments);Ue(this,"putString");var d=$a(y(b)?b:"raw",a),e=c?ta(c):{};!y(e.contentType)&&y(d.a)&&(e.contentType=d.a);return new W(this,this.b,this.a,je(),new O(d.data,!0),e)};
k.delete=function(){T("delete",[],arguments);Ue(this,"delete");var a=this;return ge(this.b).then(function(b){var c=ye(a.b,a.a);return R(a.b,c,b).a()})};k.ga=function(){T("getMetadata",[],arguments);Ue(this,"getMetadata");var a=this;return ge(this.b).then(function(b){var c=xe(a.b,a.a,je());return R(a.b,c,b).a()})};
k.ta=function(a){T("updateMetadata",[new U(me,void 0)],arguments);Ue(this,"updateMetadata");var b=this;return ge(this.b).then(function(c){var d=b.b,e=b.a,f=a,g=je(),h=Ra(e),h=la+"/v0"+h,f=le(f,g),d=new x(h,"PATCH",ue(d,g),d.c);d.headers={"Content-Type":"application/json; charset=utf-8"};d.body=f;d.a=we(e);return R(b.b,d,c).a()})};
k.qa=function(){T("getDownloadURL",[],arguments);Ue(this,"getDownloadURL");return this.ga().then(function(a){a=a.downloadURLs[0];if(y(a))return a;throw new w("no-download-url","The given file does not have any download URLs.");})};var Ue=function(a,b){if(""===a.a.path)throw new w("invalid-root-operation","The operation '"+b+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').");};var Y=function(a){this.a=new fe(a,function(a,c){return new X(a,c)},Yd,this);this.b=a;this.c=new Ve(this)};k=Y.prototype;k.ua=function(a){T("ref",[oe(function(a){if(/^[A-Za-z]+:\/\//.test(a))throw"Expected child path but got a URL, use refFromURL instead.";},!0)],arguments);var b=new X(this.a);return n(a)?b.fa(a):b};
k.va=function(a){T("refFromURL",[oe(function(a){if(!/^[A-Za-z]+:\/\//.test(a))throw"Expected full URL but got a child path, use ref instead.";try{Sa(a)}catch(c){throw"Expected valid full URL but got an invalid one.";}},!1)],arguments);return new X(this.a,a)};k.Aa=function(){return this.a.b};k.xa=function(a){T("setMaxUploadRetryTime",[qe()],arguments);this.a.b=a};k.za=function(){return this.a.c};k.wa=function(a){T("setMaxOperationRetryTime",[qe()],arguments);this.a.c=a};k.la=function(){return this.b};
k.ka=function(){return this.c};var Ve=function(a){this.a=a};Ve.prototype.delete=function(){var a=this.a.a;a.f=!0;a.a=null;ee(a.h)};var Z=function(a,b,c){Object.defineProperty(a,b,{get:c})};X.prototype.toString=X.prototype.toString;X.prototype.child=X.prototype.fa;X.prototype.put=X.prototype.ra;X.prototype.putString=X.prototype.sa;X.prototype["delete"]=X.prototype.delete;X.prototype.getMetadata=X.prototype.ga;X.prototype.updateMetadata=X.prototype.ta;X.prototype.getDownloadURL=X.prototype.qa;Z(X.prototype,"parent",X.prototype.Da);Z(X.prototype,"root",X.prototype.Fa);Z(X.prototype,"bucket",X.prototype.ma);
Z(X.prototype,"fullPath",X.prototype.ya);Z(X.prototype,"name",X.prototype.Ca);Z(X.prototype,"storage",X.prototype.Ha);Y.prototype.ref=Y.prototype.ua;Y.prototype.refFromURL=Y.prototype.va;Z(Y.prototype,"maxOperationRetryTime",Y.prototype.za);Y.prototype.setMaxOperationRetryTime=Y.prototype.wa;Z(Y.prototype,"maxUploadRetryTime",Y.prototype.Aa);Y.prototype.setMaxUploadRetryTime=Y.prototype.xa;Z(Y.prototype,"app",Y.prototype.la);Z(Y.prototype,"INTERNAL",Y.prototype.ka);Ve.prototype["delete"]=Ve.prototype.delete;
Y.prototype.capi_=function(a){la=a};W.prototype.on=W.prototype.O;W.prototype.resume=W.prototype.R;W.prototype.pause=W.prototype.P;W.prototype.cancel=W.prototype.cancel;Z(W.prototype,"snapshot",W.prototype.C);Z(A.prototype,"bytesTransferred",A.prototype.na);Z(A.prototype,"totalBytes",A.prototype.Ja);Z(A.prototype,"state",A.prototype.Ga);Z(A.prototype,"metadata",A.prototype.Ba);Z(A.prototype,"downloadURL",A.prototype.pa);Z(A.prototype,"task",A.prototype.Ia);Z(A.prototype,"ref",A.prototype.Ea);
ua.STATE_CHANGED="state_changed";va.RUNNING="running";va.PAUSED="paused";va.SUCCESS="success";va.CANCELED="canceled";va.ERROR="error";Ua.RAW="raw";Ua.BASE64="base64";Ua.BASE64URL="base64url";Ua.DATA_URL="data_url";G.prototype["catch"]=G.prototype.l;G.prototype.then=G.prototype.then;
(function(){function a(a){return new Y(a)}var b={TaskState:va,TaskEvent:ua,StringFormat:Ua,Storage:Y,Reference:X};if("undefined"!==typeof firebase)firebase.INTERNAL.registerService("storage",a,b);else throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.");})();})();
module.exports = firebase.storage;

},{"./app":4}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvanMvTmV3cy5qc3giLCJhcHAvanMvTmV3c0l0ZW0uanN4IiwiYXBwL2pzL2FwcC5qcyIsIm5vZGVfbW9kdWxlcy9maXJlYmFzZS9hcHAuanMiLCJub2RlX21vZHVsZXMvZmlyZWJhc2UvYXV0aC5qcyIsIm5vZGVfbW9kdWxlcy9maXJlYmFzZS9kYXRhYmFzZS5qcyIsIm5vZGVfbW9kdWxlcy9maXJlYmFzZS9maXJlYmFzZS1icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL2ZpcmViYXNlL3N0b3JhZ2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0FDR0E7Ozs7QUFDQTs7QUFDQTs7Ozs7O0FBRU8sSUFBSSxzQkFBTyxnQkFBTSxXQUFOLENBQWtCO0FBQUE7O0FBQ2hDLHFCQUFpQiwyQkFBWTtBQUN6QixlQUFPO0FBQ0gsdUJBQVcsSUFEUjtBQUVILG1CQUFPO0FBRkosU0FBUDtBQUlILEtBTitCO0FBT2hDLHVCQUFtQiw2QkFBWTtBQUFBOztBQUMzQiwyQkFBUyxhQUFULENBQXVCO0FBQ25CLG9CQUFRLFVBRFc7QUFFbkIsd0JBQVksYUFGTztBQUduQix5QkFBYSxhQUhNO0FBSW5CLDJCQUFlLFFBSkk7QUFLbkIsK0JBQW1CO0FBTEEsU0FBdkI7O0FBUUEsMkJBQVMsUUFBVCxHQUFvQixHQUFwQixDQUF3QixPQUF4QixFQUFpQyxFQUFqQyxDQUFvQyxPQUFwQyxFQUE2QyxVQUFDLElBQUQsRUFBVTtBQUNuRCxnQkFBSSxTQUFTLEtBQUssR0FBTCxFQUFiO0FBQ0EsZ0JBQUksUUFBUSxFQUFaO0FBQ0EsaUJBQUksSUFBSSxHQUFSLElBQWUsTUFBZixFQUF1QjtBQUNuQixvQkFBSSxPQUFPLE9BQU8sR0FBUCxDQUFYO0FBQ0EscUJBQUssR0FBTCxHQUFXLEdBQVg7QUFDQSxzQkFBTSxJQUFOLENBQVcsSUFBWDtBQUNIOztBQUVELGtCQUFLLFFBQUwsQ0FBYyxFQUFDLE9BQU8sS0FBUixFQUFlLFdBQVcsS0FBMUIsRUFBZDtBQUNILFNBVkQ7QUFXSCxLQTNCK0I7QUE0QmhDLDJCQUF1QiwrQkFBVSxDQUFWLEVBQWE7QUFDaEMsWUFBSSxFQUFFLEdBQUYsS0FBVSxPQUFkLEVBQXVCO0FBQ25CLGlCQUFLLGtCQUFMO0FBQ0g7QUFDSixLQWhDK0I7QUFpQ2hDLHdCQUFvQiw4QkFBWTtBQUM1QiwyQkFBUyxRQUFULEdBQW9CLEdBQXBCLENBQXdCLE9BQXhCLEVBQWlDLElBQWpDLENBQXNDO0FBQ2xDLG1CQUFPLFNBQVMsY0FBVCxDQUF3QixTQUF4QixFQUFtQyxLQURSO0FBRWxDLG1CQUFPO0FBRjJCLFNBQXRDO0FBSUEsaUJBQVMsY0FBVCxDQUF3QixTQUF4QixFQUFtQyxLQUFuQyxHQUEyQyxFQUEzQztBQUNILEtBdkMrQjtBQXdDaEMsWUFBUSxnQkFBVSxJQUFWLEVBQWdCO0FBQ3BCLGFBQUssS0FBTDtBQUNBLDJCQUFTLFFBQVQsR0FBb0IsR0FBcEIsWUFBaUMsS0FBSyxHQUF0QyxFQUE2QyxHQUE3QyxDQUFpRCxFQUFDLE9BQU8sS0FBSyxLQUFiLEVBQW9CLE9BQU8sS0FBSyxLQUFoQyxFQUFqRDtBQUNILEtBM0MrQjtBQTRDaEMsY0FBVSxrQkFBVSxJQUFWLEVBQWdCO0FBQ3RCLGFBQUssS0FBTDtBQUNBLDJCQUFTLFFBQVQsR0FBb0IsR0FBcEIsWUFBaUMsS0FBSyxHQUF0QyxFQUE2QyxHQUE3QyxDQUFpRCxFQUFDLE9BQU8sS0FBSyxLQUFiLEVBQW9CLE9BQU8sS0FBSyxLQUFoQyxFQUFqRDtBQUVILEtBaEQrQjtBQWlEaEMsWUFBUSxrQkFBWTtBQUFBOztBQUNoQjtBQUNBLFlBQUksUUFBUSxLQUFLLEtBQUwsQ0FBVyxLQUF2QjtBQUNBLGdCQUFRLE1BQU0sSUFBTixDQUFXLFVBQUMsQ0FBRCxFQUFJLENBQUosRUFBVTtBQUN6QixtQkFBTyxFQUFFLEtBQUYsR0FBVSxFQUFFLEtBQVosR0FBb0IsQ0FBcEIsR0FBeUIsRUFBRSxLQUFGLEdBQVUsRUFBRSxLQUFaLEdBQW9CLENBQUMsQ0FBckIsR0FBeUIsQ0FBekQ7QUFDSCxTQUZPLENBQVI7O0FBSUEsWUFBSSxTQUFTLE1BQU0sR0FBTixDQUFVLFVBQUMsSUFBRCxFQUFPLEtBQVAsRUFBaUI7QUFDcEMsbUJBQ0k7QUFDSSx1QkFBTyxLQUFLLEtBRGhCO0FBRUksdUJBQU8sS0FBSyxLQUZoQjtBQUdJLHFCQUFLLEtBSFQ7QUFJSSwwQkFBVSxPQUFLLE1BQUwsQ0FBWSxJQUFaLFNBQXVCLElBQXZCLENBSmQ7QUFLSSw0QkFBWSxPQUFLLFFBQUwsQ0FBYyxJQUFkLFNBQXlCLElBQXpCO0FBTGhCLGNBREo7QUFTSCxTQVZZLENBQWI7O0FBWUEsZUFDSTtBQUFBO0FBQUEsY0FBSyxXQUFVLDJCQUFmO0FBQ0k7QUFBQTtBQUFBO0FBQUE7QUFBQSxhQURKO0FBRUk7QUFBQTtBQUFBO0FBQUE7QUFBQSxhQUZKO0FBR0k7QUFBQTtBQUFBLGtCQUFLLFdBQVUsS0FBZjtBQUNJO0FBQUE7QUFBQSxzQkFBSyxXQUFVLGVBQWY7QUFDSTtBQUFBO0FBQUEsMEJBQUssV0FBVSxLQUFmO0FBQ0k7QUFBQTtBQUFBLDhCQUFLLFdBQVUsWUFBZjtBQUNJO0FBQUE7QUFBQSxrQ0FBSyxXQUFVLFdBQWY7QUFDSTtBQUNJLDBDQUFLLE1BRFQ7QUFFSSwrQ0FBVSxjQUZkO0FBR0ksd0NBQUcsU0FIUDtBQUlJLGlEQUFZLHlCQUpoQjtBQUtJLGdEQUFZLEtBQUs7QUFMckI7QUFESiw2QkFESjtBQVVJO0FBQUE7QUFBQSxrQ0FBUSxJQUFHLEtBQVgsRUFBaUIsV0FBVSx1QkFBM0IsRUFBbUQsU0FBUyxLQUFLLGtCQUFqRTtBQUNJLHdFQUFNLFdBQVUsMEJBQWhCO0FBREo7QUFWSjtBQURKLHFCQURKO0FBaUJJO0FBQUE7QUFBQSwwQkFBSyxXQUFVLEtBQWY7QUFDSTtBQUFBO0FBQUEsOEJBQU8sV0FBVSxPQUFqQjtBQUNJO0FBQUE7QUFBQTtBQUNDLHFDQUFLLEtBQUwsQ0FBVyxTQUFYLEdBQXFCO0FBQUE7QUFBQTtBQUNsQjtBQUFBO0FBQUEsMENBQUksU0FBUSxHQUFaLEVBQWdCLFdBQVUsYUFBMUI7QUFDSTtBQUFBO0FBQUEsOENBQUssT0FBTSxNQUFYLEVBQWtCLFFBQU8sTUFBekIsRUFBZ0MsT0FBTSw0QkFBdEMsRUFBbUUsU0FBUSxhQUEzRSxFQUF5RixxQkFBb0IsVUFBN0csRUFBd0gsV0FBVSxhQUFsSTtBQUFnSixvRkFBTSxHQUFFLEdBQVIsRUFBWSxHQUFFLEdBQWQsRUFBa0IsT0FBTSxLQUF4QixFQUE4QixRQUFPLEtBQXJDLEVBQTJDLE1BQUssTUFBaEQsRUFBdUQsV0FBVSxJQUFqRSxHQUFoSjtBQUE2TjtBQUFBO0FBQUEsa0RBQU8sR0FBRSxNQUFULEVBQWdCLEdBQUUsSUFBbEIsRUFBdUIsT0FBTSxHQUE3QixFQUFpQyxRQUFPLElBQXhDLEVBQTZDLElBQUcsR0FBaEQsRUFBb0QsSUFBRyxHQUF2RCxFQUEyRCxNQUFLLFNBQWhFLEVBQTBFLFdBQVUsa0NBQXBGO0FBQUE7QUFBeUgsMkZBQVMsZUFBYyxTQUF2QixFQUFpQyxNQUFLLEdBQXRDLEVBQTBDLElBQUcsR0FBN0MsRUFBaUQsS0FBSSxJQUFyRCxFQUEwRCxPQUFNLElBQWhFLEVBQXFFLGFBQVksWUFBakY7QUFBekgsNkNBQTdOO0FBQTRiO0FBQUE7QUFBQSxrREFBTyxHQUFFLE1BQVQsRUFBZ0IsR0FBRSxJQUFsQixFQUF1QixPQUFNLEdBQTdCLEVBQWlDLFFBQU8sSUFBeEMsRUFBNkMsSUFBRyxHQUFoRCxFQUFvRCxJQUFHLEdBQXZELEVBQTJELE1BQUssU0FBaEUsRUFBMEUsV0FBVSxtQ0FBcEY7QUFBQTtBQUEwSCwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJELEVBQTBELE9BQU0sc0JBQWhFLEVBQXVGLGFBQVksWUFBbkc7QUFBMUgsNkNBQTViO0FBQThxQjtBQUFBO0FBQUEsa0RBQU8sR0FBRSxNQUFULEVBQWdCLEdBQUUsSUFBbEIsRUFBdUIsT0FBTSxHQUE3QixFQUFpQyxRQUFPLElBQXhDLEVBQTZDLElBQUcsR0FBaEQsRUFBb0QsSUFBRyxHQUF2RCxFQUEyRCxNQUFLLFNBQWhFLEVBQTBFLFdBQVUsbUNBQXBGO0FBQUE7QUFBMEgsMkZBQVMsZUFBYyxTQUF2QixFQUFpQyxNQUFLLEdBQXRDLEVBQTBDLElBQUcsR0FBN0MsRUFBaUQsS0FBSSxJQUFyRCxFQUEwRCxPQUFNLHNCQUFoRSxFQUF1RixhQUFZLFlBQW5HO0FBQTFILDZDQUE5cUI7QUFBZzZCO0FBQUE7QUFBQSxrREFBTyxHQUFFLE1BQVQsRUFBZ0IsR0FBRSxJQUFsQixFQUF1QixPQUFNLEdBQTdCLEVBQWlDLFFBQU8sSUFBeEMsRUFBNkMsSUFBRyxHQUFoRCxFQUFvRCxJQUFHLEdBQXZELEVBQTJELE1BQUssU0FBaEUsRUFBMEUsV0FBVSxtQ0FBcEY7QUFBQTtBQUEwSCwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJELEVBQTBELE9BQU0sT0FBaEUsRUFBd0UsYUFBWSxZQUFwRjtBQUExSCw2Q0FBaDZCO0FBQW1vQztBQUFBO0FBQUEsa0RBQU8sR0FBRSxNQUFULEVBQWdCLEdBQUUsSUFBbEIsRUFBdUIsT0FBTSxHQUE3QixFQUFpQyxRQUFPLElBQXhDLEVBQTZDLElBQUcsR0FBaEQsRUFBb0QsSUFBRyxHQUF2RCxFQUEyRCxNQUFLLFNBQWhFLEVBQTBFLFdBQVUsb0NBQXBGO0FBQUE7QUFBMkgsMkZBQVMsZUFBYyxTQUF2QixFQUFpQyxNQUFLLEdBQXRDLEVBQTBDLElBQUcsR0FBN0MsRUFBaUQsS0FBSSxJQUFyRCxFQUEwRCxPQUFNLHFCQUFoRSxFQUFzRixhQUFZLFlBQWxHO0FBQTNILDZDQUFub0M7QUFBcTNDO0FBQUE7QUFBQSxrREFBTyxHQUFFLE1BQVQsRUFBZ0IsR0FBRSxJQUFsQixFQUF1QixPQUFNLEdBQTdCLEVBQWlDLFFBQU8sSUFBeEMsRUFBNkMsSUFBRyxHQUFoRCxFQUFvRCxJQUFHLEdBQXZELEVBQTJELE1BQUssU0FBaEUsRUFBMEUsV0FBVSxvQ0FBcEY7QUFBQTtBQUEySCwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJELEVBQTBELE9BQU0scUJBQWhFLEVBQXNGLGFBQVksWUFBbEc7QUFBM0gsNkNBQXIzQztBQUF1bUQ7QUFBQTtBQUFBLGtEQUFPLEdBQUUsTUFBVCxFQUFnQixHQUFFLElBQWxCLEVBQXVCLE9BQU0sR0FBN0IsRUFBaUMsUUFBTyxJQUF4QyxFQUE2QyxJQUFHLEdBQWhELEVBQW9ELElBQUcsR0FBdkQsRUFBMkQsTUFBSyxTQUFoRSxFQUEwRSxXQUFVLG9DQUFwRjtBQUFBO0FBQTJILDJGQUFTLGVBQWMsU0FBdkIsRUFBaUMsTUFBSyxHQUF0QyxFQUEwQyxJQUFHLEdBQTdDLEVBQWlELEtBQUksSUFBckQsRUFBMEQsT0FBTSxNQUFoRSxFQUF1RSxhQUFZLFlBQW5GO0FBQTNILDZDQUF2bUQ7QUFBMDBEO0FBQUE7QUFBQSxrREFBTyxHQUFFLE1BQVQsRUFBZ0IsR0FBRSxJQUFsQixFQUF1QixPQUFNLEdBQTdCLEVBQWlDLFFBQU8sSUFBeEMsRUFBNkMsSUFBRyxHQUFoRCxFQUFvRCxJQUFHLEdBQXZELEVBQTJELE1BQUssU0FBaEUsRUFBMEUsV0FBVSxvQ0FBcEY7QUFBQTtBQUEySCwyRkFBUyxlQUFjLFNBQXZCLEVBQWlDLE1BQUssR0FBdEMsRUFBMEMsSUFBRyxHQUE3QyxFQUFpRCxLQUFJLElBQXJELEVBQTBELE9BQU0scUJBQWhFLEVBQXNGLGFBQVksWUFBbEc7QUFBM0gsNkNBQTEwRDtBQUE0akU7QUFBQTtBQUFBLGtEQUFPLEdBQUUsTUFBVCxFQUFnQixHQUFFLElBQWxCLEVBQXVCLE9BQU0sR0FBN0IsRUFBaUMsUUFBTyxJQUF4QyxFQUE2QyxJQUFHLEdBQWhELEVBQW9ELElBQUcsR0FBdkQsRUFBMkQsTUFBSyxTQUFoRSxFQUEwRSxXQUFVLG9DQUFwRjtBQUFBO0FBQTJILDJGQUFTLGVBQWMsU0FBdkIsRUFBaUMsTUFBSyxHQUF0QyxFQUEwQyxJQUFHLEdBQTdDLEVBQWlELEtBQUksSUFBckQsRUFBMEQsT0FBTSxxQkFBaEUsRUFBc0YsYUFBWSxZQUFsRztBQUEzSCw2Q0FBNWpFO0FBQTh5RTtBQUFBO0FBQUEsa0RBQU8sR0FBRSxNQUFULEVBQWdCLEdBQUUsSUFBbEIsRUFBdUIsT0FBTSxHQUE3QixFQUFpQyxRQUFPLElBQXhDLEVBQTZDLElBQUcsR0FBaEQsRUFBb0QsSUFBRyxHQUF2RCxFQUEyRCxNQUFLLFNBQWhFLEVBQTBFLFdBQVUsb0NBQXBGO0FBQUE7QUFBMkgsMkZBQVMsZUFBYyxTQUF2QixFQUFpQyxNQUFLLEdBQXRDLEVBQTBDLElBQUcsR0FBN0MsRUFBaUQsS0FBSSxJQUFyRCxFQUEwRCxPQUFNLE9BQWhFLEVBQXdFLGFBQVksWUFBcEY7QUFBM0gsNkNBQTl5RTtBQUFraEY7QUFBQTtBQUFBLGtEQUFPLEdBQUUsTUFBVCxFQUFnQixHQUFFLElBQWxCLEVBQXVCLE9BQU0sR0FBN0IsRUFBaUMsUUFBTyxJQUF4QyxFQUE2QyxJQUFHLEdBQWhELEVBQW9ELElBQUcsR0FBdkQsRUFBMkQsTUFBSyxTQUFoRSxFQUEwRSxXQUFVLG9DQUFwRjtBQUFBO0FBQTJILDJGQUFTLGVBQWMsU0FBdkIsRUFBaUMsTUFBSyxHQUF0QyxFQUEwQyxJQUFHLEdBQTdDLEVBQWlELEtBQUksSUFBckQsRUFBMEQsT0FBTSxxQkFBaEUsRUFBc0YsYUFBWSxZQUFsRztBQUEzSCw2Q0FBbGhGO0FBQW93RjtBQUFBO0FBQUEsa0RBQU8sR0FBRSxNQUFULEVBQWdCLEdBQUUsSUFBbEIsRUFBdUIsT0FBTSxHQUE3QixFQUFpQyxRQUFPLElBQXhDLEVBQTZDLElBQUcsR0FBaEQsRUFBb0QsSUFBRyxHQUF2RCxFQUEyRCxNQUFLLFNBQWhFLEVBQTBFLFdBQVUsb0NBQXBGO0FBQUE7QUFBMkgsMkZBQVMsZUFBYyxTQUF2QixFQUFpQyxNQUFLLEdBQXRDLEVBQTBDLElBQUcsR0FBN0MsRUFBaUQsS0FBSSxJQUFyRCxFQUEwRCxPQUFNLHFCQUFoRSxFQUFzRixhQUFZLFlBQWxHO0FBQTNIO0FBQXB3RjtBQURKO0FBRGtCLGlDQUFyQixHQUlLO0FBQUE7QUFBQTtBQUFJLDBFQUFJLFNBQVEsR0FBWjtBQUFKLGlDQUxOO0FBTUM7QUFORDtBQURKO0FBREo7QUFqQko7QUFESjtBQUhKLFNBREo7QUFzQ0g7QUExRytCLENBQWxCLENBQVgsQyxDQVBQOzs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7O0FBRU8sSUFBSSw4QkFBVyxnQkFBTSxXQUFOLENBQWtCO0FBQUE7O0FBQ3BDLHFCQUFpQiwyQkFBWTtBQUN6QixlQUFPLEVBQUMsT0FBTyxFQUFSLEVBQVksT0FBTyxDQUFuQixFQUFQO0FBQ0gsS0FIbUM7QUFJcEMsWUFBUSxrQkFBWTtBQUNoQixlQUNJO0FBQUE7QUFBQSxjQUFJLFdBQVUsVUFBZDtBQUNJO0FBQUE7QUFBQSxrQkFBSSxXQUFVLFVBQWQ7QUFDSyxxQkFBSyxLQUFMLENBQVc7QUFEaEIsYUFESjtBQUlJO0FBQUE7QUFBQSxrQkFBSSxXQUFXLGVBQWEsS0FBSyxLQUFMLENBQVcsS0FBWCxHQUFpQixDQUFqQixHQUFtQixZQUFuQixHQUFnQyxLQUFLLEtBQUwsQ0FBVyxLQUFYLElBQWtCLENBQWxCLEdBQW9CLFdBQXBCLEdBQWdDLFVBQTdFLENBQWY7QUFDSyxxQkFBSyxLQUFMLENBQVc7QUFEaEIsYUFKSjtBQU9JO0FBQUE7QUFBQSxrQkFBSSxXQUFVLFVBQWQ7QUFDSTtBQUFBO0FBQUEsc0JBQUssV0FBVSxzQkFBZixFQUFzQyxNQUFLLE9BQTNDLEVBQW1ELGNBQVcsS0FBOUQ7QUFDSTtBQUFBO0FBQUEsMEJBQVEsTUFBSyxHQUFiLEVBQWlCLFdBQVUsaUJBQTNCLEVBQTZDLFNBQVMsS0FBSyxLQUFMLENBQVcsUUFBakU7QUFDSSxnRUFBTSxXQUFVLDhCQUFoQjtBQURKLHFCQURKO0FBSUk7QUFBQTtBQUFBLDBCQUFRLE1BQUssR0FBYixFQUFpQixXQUFVLGdCQUEzQixFQUE0QyxTQUFTLEtBQUssS0FBTCxDQUFXLFVBQWhFO0FBQ0ksZ0VBQU0sV0FBVSxnQ0FBaEI7QUFESjtBQUpKO0FBREo7QUFQSixTQURKO0FBb0JIO0FBekJtQyxDQUFsQixDQUFmOzs7OztBQ0NQOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBLElBQUksZ0JBQWdCLG1CQUFTLE1BQVQsQ0FDaEIsK0NBRGdCLEVBRWhCLFNBQVMsY0FBVCxDQUF3QixLQUF4QixDQUZnQixDQUFwQixDLENBUEE7Ozs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKipcbiAqIENyZWF0ZWQgYnkgeW91c3NlZiBvbiAxMC8xMi8xNi5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7TmV3c0l0ZW19IGZyb20gJy4vTmV3c0l0ZW0uanN4JztcbmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7XG5cbmV4cG9ydCB2YXIgTmV3cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGl0ZW1zOiBbXVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcCh7XG4gICAgICAgICAgICBhcGlLZXk6IFwiWU9VUl9LRVlcIixcbiAgICAgICAgICAgIGF1dGhEb21haW46IFwiWU9VUl9ET01BSU5cIixcbiAgICAgICAgICAgIGRhdGFiYXNlVVJMOiBcIllPVVJfREJfVVJMXCIsXG4gICAgICAgICAgICBzdG9yYWdlQnVja2V0OiBcIkJVQ0tFVFwiLFxuICAgICAgICAgICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiU0VOREVSX0lEXCJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2l0ZW1zJykub24oJ3ZhbHVlJywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHZhciBvSXRlbXMgPSBkYXRhLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBvSXRlbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IG9JdGVtc1trZXldO1xuICAgICAgICAgICAgICAgIGl0ZW0ua2V5ID0ga2V5O1xuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2l0ZW1zOiBpdGVtcywgaXNMb2FkaW5nOiBmYWxzZX0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGhhbmRsZU5ld0l0ZW1LZXlQcmVzczogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZU5ld0l0ZW1DbGljaygpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVOZXdJdGVtQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2l0ZW1zJykucHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ld0l0ZW0nKS52YWx1ZSxcbiAgICAgICAgICAgIHZvdGVzOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3SXRlbScpLnZhbHVlID0gXCJcIjtcbiAgICB9LFxuICAgIHZvdGVVcDogZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaXRlbS52b3RlcysrO1xuICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZihgaXRlbXMvJHtpdGVtLmtleX1gKS5zZXQoe3RpdGxlOiBpdGVtLnRpdGxlLCB2b3RlczogaXRlbS52b3Rlc30pO1xuICAgIH0sXG4gICAgdm90ZURvd246IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGl0ZW0udm90ZXMtLTtcbiAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoYGl0ZW1zLyR7aXRlbS5rZXl9YCkuc2V0KHt0aXRsZTogaXRlbS50aXRsZSwgdm90ZXM6IGl0ZW0udm90ZXN9KTtcblxuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vc29ydCBpdGVtcyBieSB2b3Rlc1xuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLnN0YXRlLml0ZW1zO1xuICAgICAgICBpdGVtcyA9IGl0ZW1zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhLnZvdGVzIDwgYi52b3RlcyA/IDEgOiAoYS52b3RlcyA+IGIudm90ZXMgPyAtMSA6IDApO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgY0l0ZW1zID0gaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8TmV3c0l0ZW1cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2l0ZW0udGl0bGV9XG4gICAgICAgICAgICAgICAgICAgIHZvdGVzPXtpdGVtLnZvdGVzfVxuICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICBvblZvdGVVcD17dGhpcy52b3RlVXAuYmluZCh0aGlzLCBpdGVtKX1cbiAgICAgICAgICAgICAgICAgICAgb25Wb3RlRG93bj17dGhpcy52b3RlRG93bi5iaW5kKHRoaXMsIGl0ZW0pfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTAgY29sLW1kLW9mZnNldC0xXCI+XG4gICAgICAgICAgICAgICAgPGgxPk5ld3MgVm90aW5nPC9oMT5cbiAgICAgICAgICAgICAgICA8aDI+KHdpdGggUmVhY3QgYW5kIEZpcmViYXNlKTwvaDI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgYm94XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm94LWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJuZXdJdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIldoYXQgZG8geW91IG5lZWQgdG8gZG8/XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleVByZXNzPXt0aGlzLmhhbmRsZU5ld0l0ZW1LZXlQcmVzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiYnRuXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1pbmZvIGNvbC1tZC0xXCIgb25DbGljaz17dGhpcy5oYW5kbGVOZXdJdGVtQ2xpY2t9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1wbHVzXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidGFibGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0xvYWRpbmc/PHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbFNwYW49XCIzXCIgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPSc0MHB4JyBoZWlnaHQ9JzQwcHgnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWRcIiBjbGFzc05hbWU9XCJ1aWwtZGVmYXVsdFwiPjxyZWN0IHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiIGZpbGw9XCJub25lXCIgY2xhc3NOYW1lPVwiYmtcIj48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYjg0OTRiJyB0cmFuc2Zvcm09J3JvdGF0ZSgwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMHMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2I4NDk0YicgdHJhbnNmb3JtPSdyb3RhdGUoMzAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjA4MzMzMzMzMzMzMzMzMzMzcycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYjg0OTRiJyB0cmFuc2Zvcm09J3JvdGF0ZSg2MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuMTY2NjY2NjY2NjY2NjY2NjZzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNiODQ5NGInIHRyYW5zZm9ybT0ncm90YXRlKDkwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC4yNXMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2I4NDk0YicgdHJhbnNmb3JtPSdyb3RhdGUoMTIwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC4zMzMzMzMzMzMzMzMzMzMzcycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYjg0OTRiJyB0cmFuc2Zvcm09J3JvdGF0ZSgxNTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjQxNjY2NjY2NjY2NjY2NjdzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNiODQ5NGInIHRyYW5zZm9ybT0ncm90YXRlKDE4MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuNXMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2I4NDk0YicgdHJhbnNmb3JtPSdyb3RhdGUoMjEwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC41ODMzMzMzMzMzMzMzMzM0cycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYjg0OTRiJyB0cmFuc2Zvcm09J3JvdGF0ZSgyNDAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjY2NjY2NjY2NjY2NjY2NjZzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNiODQ5NGInIHRyYW5zZm9ybT0ncm90YXRlKDI3MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuNzVzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNiODQ5NGInIHRyYW5zZm9ybT0ncm90YXRlKDMwMCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuODMzMzMzMzMzMzMzMzMzNHMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2I4NDk0YicgdHJhbnNmb3JtPSdyb3RhdGUoMzMwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC45MTY2NjY2NjY2NjY2NjY2cycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPjo8dHI+PHRkIGNvbFNwYW49XCIzXCI+PC90ZD48L3RyPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NJdGVtc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufSk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IHZhciBOZXdzSXRlbSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHt0aXRsZTogJycsIHZvdGVzOiAwfTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cIm1hcmdpbi01XCI+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cImNvbC1tZC05XCI+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnRpdGxlfVxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT17J2NvbC1tZC0xICcrKHRoaXMucHJvcHMudm90ZXM+MD8ndGV4dC1ncmVlbic6dGhpcy5wcm9wcy52b3Rlcz09MD8ndGV4dC1ncmF5JzondGV4dC1yZWQnKX0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnZvdGVzfVxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cImNvbC1tZC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIHB1bGwtcmlnaHRcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiLi4uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzXCIgb25DbGljaz17dGhpcy5wcm9wcy5vblZvdGVVcH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1hcnJvdy11cFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImJ0biBidG4tZGFuZ2VyXCIgb25DbGljaz17dGhpcy5wcm9wcy5vblZvdGVEb3dufT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJnbHlwaGljb24gZ2x5cGhpY29uLWFycm93LWRvd25cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICk7XG4gICAgfVxufSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHlvdXNzZWYgb24gMTAvMTAvMTYuXG4gKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7TmV3c30gZnJvbSAnLi9OZXdzLmpzeCc7XG5cbnZhciBuZXdzQ29tcG9uZW50ID0gUmVhY3RET00ucmVuZGVyKFxuICAgIDxOZXdzIC8+LFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKVxuKTtcblxuIiwiLyohIEBsaWNlbnNlIEZpcmViYXNlIHYzLjQuMVxuICAgIEJ1aWxkOiAzLjQuMS1yYy4yXG4gICAgVGVybXM6IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Rlcm1zICovXG52YXIgZmlyZWJhc2UgPSBudWxsOyAoZnVuY3Rpb24oKSB7IHZhciBhYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe2lmKGMuZ2V0fHxjLnNldCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRVMzIGRvZXMgbm90IHN1cHBvcnQgZ2V0dGVycyBhbmQgc2V0dGVycy5cIik7YSE9QXJyYXkucHJvdG90eXBlJiZhIT1PYmplY3QucHJvdG90eXBlJiYoYVtiXT1jLnZhbHVlKX0saD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3c9PT10aGlzP3RoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbCYmbnVsbCE9Z2xvYmFsP2dsb2JhbDp0aGlzLGw9ZnVuY3Rpb24oKXtsPWZ1bmN0aW9uKCl7fTtoLlN5bWJvbHx8KGguU3ltYm9sPWJhKX0sY2E9MCxiYT1mdW5jdGlvbihhKXtyZXR1cm5cImpzY29tcF9zeW1ib2xfXCIrKGF8fFwiXCIpK2NhKyt9LG49ZnVuY3Rpb24oKXtsKCk7dmFyIGE9aC5TeW1ib2wuaXRlcmF0b3I7YXx8KGE9aC5TeW1ib2wuaXRlcmF0b3I9XG5oLlN5bWJvbChcIml0ZXJhdG9yXCIpKTtcImZ1bmN0aW9uXCIhPXR5cGVvZiBBcnJheS5wcm90b3R5cGVbYV0mJmFhKEFycmF5LnByb3RvdHlwZSxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbSh0aGlzKX19KTtuPWZ1bmN0aW9uKCl7fX0sbT1mdW5jdGlvbihhKXt2YXIgYj0wO3JldHVybiBkYShmdW5jdGlvbigpe3JldHVybiBiPGEubGVuZ3RoP3tkb25lOiExLHZhbHVlOmFbYisrXX06e2RvbmU6ITB9fSl9LGRhPWZ1bmN0aW9uKGEpe24oKTthPXtuZXh0OmF9O2FbaC5TeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3JldHVybiBhfSxxPXRoaXMscj1mdW5jdGlvbigpe30sdD1mdW5jdGlvbihhKXt2YXIgYj10eXBlb2YgYTtpZihcIm9iamVjdFwiPT1iKWlmKGEpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm5cImFycmF5XCI7aWYoYSBpbnN0YW5jZW9mIE9iamVjdClyZXR1cm4gYjt2YXIgYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7XG5pZihcIltvYmplY3QgV2luZG93XVwiPT1jKXJldHVyblwib2JqZWN0XCI7aWYoXCJbb2JqZWN0IEFycmF5XVwiPT1jfHxcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGgmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnNwbGljZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwic3BsaWNlXCIpKXJldHVyblwiYXJyYXlcIjtpZihcIltvYmplY3QgRnVuY3Rpb25dXCI9PWN8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNhbGwmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcImNhbGxcIikpcmV0dXJuXCJmdW5jdGlvblwifWVsc2UgcmV0dXJuXCJudWxsXCI7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PWImJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBhLmNhbGwpcmV0dXJuXCJvYmplY3RcIjtyZXR1cm4gYn0sdj1mdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXQoYSl9LGVhPWZ1bmN0aW9uKGEsXG5iLGMpe3JldHVybiBhLmNhbGwuYXBwbHkoYS5iaW5kLGFyZ3VtZW50cyl9LGZhPWZ1bmN0aW9uKGEsYixjKXtpZighYSl0aHJvdyBFcnJvcigpO2lmKDI8YXJndW1lbnRzLmxlbmd0aCl7dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7QXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkoYyxkKTtyZXR1cm4gYS5hcHBseShiLGMpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLGFyZ3VtZW50cyl9fSx3PWZ1bmN0aW9uKGEsYixjKXt3PUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kJiYtMSE9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQudG9TdHJpbmcoKS5pbmRleE9mKFwibmF0aXZlIGNvZGVcIik/ZWE6ZmE7cmV0dXJuIHcuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx4PWZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLFxuMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9Yy5zbGljZSgpO2IucHVzaC5hcHBseShiLGFyZ3VtZW50cyk7cmV0dXJuIGEuYXBwbHkodGhpcyxiKX19LHk9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuZ2E9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLmZhPWZ1bmN0aW9uKGEsYyxmKXtmb3IodmFyIGQ9QXJyYXkoYXJndW1lbnRzLmxlbmd0aC0yKSxlPTI7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylkW2UtMl09YXJndW1lbnRzW2VdO3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLGQpfX07dmFyIHo7ej1cInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBzZWxmP3NlbGY6Z2xvYmFsO2Z1bmN0aW9uIF9fZXh0ZW5kcyhhLGIpe2Z1bmN0aW9uIGMoKXt0aGlzLmNvbnN0cnVjdG9yPWF9Zm9yKHZhciBkIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmKGFbZF09YltkXSk7YS5wcm90b3R5cGU9bnVsbD09PWI/T2JqZWN0LmNyZWF0ZShiKTooYy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsbmV3IGMpfVxuZnVuY3Rpb24gX19kZWNvcmF0ZShhLGIsYyxkKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoLGY9Mz5lP2I6bnVsbD09PWQ/ZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYyk6ZCxnO2c9ei5SZWZsZWN0O2lmKFwib2JqZWN0XCI9PT10eXBlb2YgZyYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuZGVjb3JhdGUpZj1nLmRlY29yYXRlKGEsYixjLGQpO2Vsc2UgZm9yKHZhciBrPWEubGVuZ3RoLTE7MDw9aztrLS0paWYoZz1hW2tdKWY9KDM+ZT9nKGYpOjM8ZT9nKGIsYyxmKTpnKGIsYykpfHxmO3JldHVybiAzPGUmJmYmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLGMsZiksZn1mdW5jdGlvbiBfX21ldGFkYXRhKGEsYil7dmFyIGM9ei5SZWZsZWN0O2lmKFwib2JqZWN0XCI9PT10eXBlb2YgYyYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGMubWV0YWRhdGEpcmV0dXJuIGMubWV0YWRhdGEoYSxiKX1cbnZhciBfX3BhcmFtPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7YihjLGQsYSl9fSxfX2F3YWl0ZXI9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIG5ldyAoY3x8KGM9UHJvbWlzZSkpKGZ1bmN0aW9uKGUsZil7ZnVuY3Rpb24gZyhhKXt0cnl7cChkLm5leHQoYSkpfWNhdGNoKHUpe2YodSl9fWZ1bmN0aW9uIGsoYSl7dHJ5e3AoZC50aHJvdyhhKSl9Y2F0Y2godSl7Zih1KX19ZnVuY3Rpb24gcChhKXthLmRvbmU/ZShhLnZhbHVlKToobmV3IGMoZnVuY3Rpb24oYil7YihhLnZhbHVlKX0pKS50aGVuKGcsayl9cCgoZD1kLmFwcGx5KGEsYikpLm5leHQoKSl9KX07XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB6LkwmJnouTHx8KHouY2E9X19leHRlbmRzLHouYmE9X19kZWNvcmF0ZSx6LmRhPV9fbWV0YWRhdGEsei5lYT1fX3BhcmFtLHouYWE9X19hd2FpdGVyKTt2YXIgQT1mdW5jdGlvbihhKXtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLEEpO2Vsc2V7dmFyIGI9RXJyb3IoKS5zdGFjaztiJiYodGhpcy5zdGFjaz1iKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSl9O3koQSxFcnJvcik7QS5wcm90b3R5cGUubmFtZT1cIkN1c3RvbUVycm9yXCI7dmFyIGdhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuc3BsaXQoXCIlc1wiKSxkPVwiXCIsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7ZS5sZW5ndGgmJjE8Yy5sZW5ndGg7KWQrPWMuc2hpZnQoKStlLnNoaWZ0KCk7cmV0dXJuIGQrYy5qb2luKFwiJXNcIil9O3ZhciBCPWZ1bmN0aW9uKGEsYil7Yi51bnNoaWZ0KGEpO0EuY2FsbCh0aGlzLGdhLmFwcGx5KG51bGwsYikpO2Iuc2hpZnQoKX07eShCLEEpO0IucHJvdG90eXBlLm5hbWU9XCJBc3NlcnRpb25FcnJvclwiO3ZhciBoYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1cIkFzc2VydGlvbiBmYWlsZWRcIjtpZihjKXZhciBlPWUrKFwiOiBcIitjKSxmPWQ7ZWxzZSBhJiYoZSs9XCI6IFwiK2EsZj1iKTt0aHJvdyBuZXcgQihcIlwiK2UsZnx8W10pO30sQz1mdW5jdGlvbihhLGIsYyl7YXx8aGEoXCJcIixudWxsLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0sRD1mdW5jdGlvbihhLGIsYyl7dihhKXx8aGEoXCJFeHBlY3RlZCBmdW5jdGlvbiBidXQgZ290ICVzOiAlcy5cIixbdChhKSxhXSxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9O3ZhciBFPWZ1bmN0aW9uKGEsYixjKXt0aGlzLlM9Yzt0aGlzLk09YTt0aGlzLlU9Yjt0aGlzLnM9MDt0aGlzLm89bnVsbH07RS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIGE7MDx0aGlzLnM/KHRoaXMucy0tLGE9dGhpcy5vLHRoaXMubz1hLm5leHQsYS5uZXh0PW51bGwpOmE9dGhpcy5NKCk7cmV0dXJuIGF9O0UucHJvdG90eXBlLnB1dD1mdW5jdGlvbihhKXt0aGlzLlUoYSk7dGhpcy5zPHRoaXMuUyYmKHRoaXMucysrLGEubmV4dD10aGlzLm8sdGhpcy5vPWEpfTt2YXIgRjthOnt2YXIgaWE9cS5uYXZpZ2F0b3I7aWYoaWEpe3ZhciBqYT1pYS51c2VyQWdlbnQ7aWYoamEpe0Y9amE7YnJlYWsgYX19Rj1cIlwifTt2YXIga2E9ZnVuY3Rpb24oYSl7cS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgYTt9LDApfSxHLGxhPWZ1bmN0aW9uKCl7dmFyIGE9cS5NZXNzYWdlQ2hhbm5lbDtcInVuZGVmaW5lZFwiPT09dHlwZW9mIGEmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucG9zdE1lc3NhZ2UmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyJiYtMT09Ri5pbmRleE9mKFwiUHJlc3RvXCIpJiYoYT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJRlJBTUVcIik7YS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2Euc3JjPVwiXCI7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGEpO3ZhciBiPWEuY29udGVudFdpbmRvdyxhPWIuZG9jdW1lbnQ7YS5vcGVuKCk7YS53cml0ZShcIlwiKTthLmNsb3NlKCk7dmFyIGM9XCJjYWxsSW1tZWRpYXRlXCIrTWF0aC5yYW5kb20oKSxkPVwiZmlsZTpcIj09Yi5sb2NhdGlvbi5wcm90b2NvbD9cIipcIjpiLmxvY2F0aW9uLnByb3RvY29sK1xuXCIvL1wiK2IubG9jYXRpb24uaG9zdCxhPXcoZnVuY3Rpb24oYSl7aWYoKFwiKlwiPT1kfHxhLm9yaWdpbj09ZCkmJmEuZGF0YT09Yyl0aGlzLnBvcnQxLm9ubWVzc2FnZSgpfSx0aGlzKTtiLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYSwhMSk7dGhpcy5wb3J0MT17fTt0aGlzLnBvcnQyPXtwb3N0TWVzc2FnZTpmdW5jdGlvbigpe2IucG9zdE1lc3NhZ2UoYyxkKX19fSk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhJiYtMT09Ri5pbmRleE9mKFwiVHJpZGVudFwiKSYmLTE9PUYuaW5kZXhPZihcIk1TSUVcIikpe3ZhciBiPW5ldyBhLGM9e30sZD1jO2IucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09Yy5uZXh0KXtjPWMubmV4dDt2YXIgYT1jLkY7Yy5GPW51bGw7YSgpfX07cmV0dXJuIGZ1bmN0aW9uKGEpe2QubmV4dD17RjphfTtkPWQubmV4dDtiLnBvcnQyLnBvc3RNZXNzYWdlKDApfX1yZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW5cbmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTQ1JJUFRcIik/ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNDUklQVFwiKTtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2Iub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2I9bnVsbDthKCk7YT1udWxsfTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYil9OmZ1bmN0aW9uKGEpe3Euc2V0VGltZW91dChhLDApfX07dmFyIEg9ZnVuY3Rpb24oKXt0aGlzLnY9dGhpcy5mPW51bGx9LG1hPW5ldyBFKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJfSxmdW5jdGlvbihhKXthLnJlc2V0KCl9LDEwMCk7SC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYil7dmFyIGM9bWEuZ2V0KCk7Yy5zZXQoYSxiKTt0aGlzLnY/dGhpcy52Lm5leHQ9YzooQyghdGhpcy5mKSx0aGlzLmY9Yyk7dGhpcy52PWN9O0gucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBhPW51bGw7dGhpcy5mJiYoYT10aGlzLmYsdGhpcy5mPXRoaXMuZi5uZXh0LHRoaXMuZnx8KHRoaXMudj1udWxsKSxhLm5leHQ9bnVsbCk7cmV0dXJuIGF9O3ZhciBJPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuc2NvcGU9dGhpcy5CPW51bGx9O0kucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuQj1hO3RoaXMuc2NvcGU9Yjt0aGlzLm5leHQ9bnVsbH07XG5JLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubmV4dD10aGlzLnNjb3BlPXRoaXMuQj1udWxsfTt2YXIgTT1mdW5jdGlvbihhLGIpe0p8fG5hKCk7THx8KEooKSxMPSEwKTtvYS5hZGQoYSxiKX0sSixuYT1mdW5jdGlvbigpe3ZhciBhPXEuUHJvbWlzZTtpZigtMSE9U3RyaW5nKGEpLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpKXt2YXIgYj1hLnJlc29sdmUodm9pZCAwKTtKPWZ1bmN0aW9uKCl7Yi50aGVuKHBhKX19ZWxzZSBKPWZ1bmN0aW9uKCl7dmFyIGE9cGE7IXYocS5zZXRJbW1lZGlhdGUpfHxxLldpbmRvdyYmcS5XaW5kb3cucHJvdG90eXBlJiYtMT09Ri5pbmRleE9mKFwiRWRnZVwiKSYmcS5XaW5kb3cucHJvdG90eXBlLnNldEltbWVkaWF0ZT09cS5zZXRJbW1lZGlhdGU/KEd8fChHPWxhKCkpLEcoYSkpOnEuc2V0SW1tZWRpYXRlKGEpfX0sTD0hMSxvYT1uZXcgSCxwYT1mdW5jdGlvbigpe2Zvcih2YXIgYTthPW9hLnJlbW92ZSgpOyl7dHJ5e2EuQi5jYWxsKGEuc2NvcGUpfWNhdGNoKGIpe2thKGIpfW1hLnB1dChhKX1MPSExfTt2YXIgTz1mdW5jdGlvbihhLGIpe3RoaXMuYj0wO3RoaXMuSz12b2lkIDA7dGhpcy5qPXRoaXMuZz10aGlzLnU9bnVsbDt0aGlzLm09dGhpcy5BPSExO2lmKGEhPXIpdHJ5e3ZhciBjPXRoaXM7YS5jYWxsKGIsZnVuY3Rpb24oYSl7TihjLDIsYSl9LGZ1bmN0aW9uKGEpe3RyeXtpZihhIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgYTt0aHJvdyBFcnJvcihcIlByb21pc2UgcmVqZWN0ZWQuXCIpO31jYXRjaChlKXt9TihjLDMsYSl9KX1jYXRjaChkKXtOKHRoaXMsMyxkKX19LHFhPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuY29udGV4dD10aGlzLmg9dGhpcy5jPXRoaXMuY2hpbGQ9bnVsbDt0aGlzLnc9ITF9O3FhLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuY29udGV4dD10aGlzLmg9dGhpcy5jPXRoaXMuY2hpbGQ9bnVsbDt0aGlzLnc9ITF9O1xudmFyIHJhPW5ldyBFKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBxYX0sZnVuY3Rpb24oYSl7YS5yZXNldCgpfSwxMDApLHNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1yYS5nZXQoKTtkLmM9YTtkLmg9YjtkLmNvbnRleHQ9YztyZXR1cm4gZH0sdWE9ZnVuY3Rpb24oYSxiLGMpe3RhKGEsYixjLG51bGwpfHxNKHgoYixhKSl9O08ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiLGMpe251bGwhPWEmJkQoYSxcIm9wdF9vbkZ1bGZpbGxlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi5cIik7bnVsbCE9YiYmRChiLFwib3B0X29uUmVqZWN0ZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgcGFzcyBvcHRfY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQgb2YgdGhlIHRoaXJkP1wiKTtyZXR1cm4gdmEodGhpcyx2KGEpP2E6bnVsbCx2KGIpP2I6bnVsbCxjKX07Ty5wcm90b3R5cGUudGhlbj1PLnByb3RvdHlwZS50aGVuO08ucHJvdG90eXBlLiRnb29nX1RoZW5hYmxlPSEwO1xuTy5wcm90b3R5cGUuWD1mdW5jdGlvbihhLGIpe3JldHVybiB2YSh0aGlzLG51bGwsYSxiKX07dmFyIHhhPWZ1bmN0aW9uKGEsYil7YS5nfHwyIT1hLmImJjMhPWEuYnx8d2EoYSk7QyhudWxsIT1iLmMpO2Euaj9hLmoubmV4dD1iOmEuZz1iO2Euaj1ifSx2YT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1zYShudWxsLG51bGwsbnVsbCk7ZS5jaGlsZD1uZXcgTyhmdW5jdGlvbihhLGcpe2UuYz1iP2Z1bmN0aW9uKGMpe3RyeXt2YXIgZT1iLmNhbGwoZCxjKTthKGUpfWNhdGNoKEspe2coSyl9fTphO2UuaD1jP2Z1bmN0aW9uKGIpe3RyeXt2YXIgZT1jLmNhbGwoZCxiKTthKGUpfWNhdGNoKEspe2coSyl9fTpnfSk7ZS5jaGlsZC51PWE7eGEoYSxlKTtyZXR1cm4gZS5jaGlsZH07Ty5wcm90b3R5cGUuWT1mdW5jdGlvbihhKXtDKDE9PXRoaXMuYik7dGhpcy5iPTA7Tih0aGlzLDIsYSl9O08ucHJvdG90eXBlLlo9ZnVuY3Rpb24oYSl7QygxPT10aGlzLmIpO3RoaXMuYj0wO04odGhpcywzLGEpfTtcbnZhciBOPWZ1bmN0aW9uKGEsYixjKXswPT1hLmImJihhPT09YyYmKGI9MyxjPW5ldyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKSksYS5iPTEsdGEoYyxhLlksYS5aLGEpfHwoYS5LPWMsYS5iPWIsYS51PW51bGwsd2EoYSksMyE9Ynx8eWEoYSxjKSkpfSx0YT1mdW5jdGlvbihhLGIsYyxkKXtpZihhIGluc3RhbmNlb2YgTylyZXR1cm4gbnVsbCE9YiYmRChiLFwib3B0X29uRnVsZmlsbGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLlwiKSxudWxsIT1jJiZEKGMsXCJvcHRfb25SZWplY3RlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi4gRGlkIHlvdSBwYXNzIG9wdF9jb250ZXh0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZCBvZiB0aGUgdGhpcmQ/XCIpLHhhKGEsc2EoYnx8cixjfHxudWxsLGQpKSwhMDt2YXIgZTtpZihhKXRyeXtlPSEhYS4kZ29vZ19UaGVuYWJsZX1jYXRjaChnKXtlPSExfWVsc2UgZT0hMTtpZihlKXJldHVybiBhLnRoZW4oYixjLGQpLFxuITA7ZT10eXBlb2YgYTtpZihcIm9iamVjdFwiPT1lJiZudWxsIT1hfHxcImZ1bmN0aW9uXCI9PWUpdHJ5e3ZhciBmPWEudGhlbjtpZih2KGYpKXJldHVybiB6YShhLGYsYixjLGQpLCEwfWNhdGNoKGcpe3JldHVybiBjLmNhbGwoZCxnKSwhMH1yZXR1cm4hMX0semE9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0hMSxnPWZ1bmN0aW9uKGEpe2Z8fChmPSEwLGMuY2FsbChlLGEpKX0saz1mdW5jdGlvbihhKXtmfHwoZj0hMCxkLmNhbGwoZSxhKSl9O3RyeXtiLmNhbGwoYSxnLGspfWNhdGNoKHApe2socCl9fSx3YT1mdW5jdGlvbihhKXthLkF8fChhLkE9ITAsTShhLk8sYSkpfSxBYT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2EuZyYmKGI9YS5nLGEuZz1iLm5leHQsYi5uZXh0PW51bGwpO2EuZ3x8KGEuaj1udWxsKTtudWxsIT1iJiZDKG51bGwhPWIuYyk7cmV0dXJuIGJ9O1xuTy5wcm90b3R5cGUuTz1mdW5jdGlvbigpe2Zvcih2YXIgYTthPUFhKHRoaXMpOyl7dmFyIGI9dGhpcy5iLGM9dGhpcy5LO2lmKDM9PWImJmEuaCYmIWEudyl7dmFyIGQ7Zm9yKGQ9dGhpcztkJiZkLm07ZD1kLnUpZC5tPSExfWlmKGEuY2hpbGQpYS5jaGlsZC51PW51bGwsQmEoYSxiLGMpO2Vsc2UgdHJ5e2Eudz9hLmMuY2FsbChhLmNvbnRleHQpOkJhKGEsYixjKX1jYXRjaChlKXtDYS5jYWxsKG51bGwsZSl9cmEucHV0KGEpfXRoaXMuQT0hMX07dmFyIEJhPWZ1bmN0aW9uKGEsYixjKXsyPT1iP2EuYy5jYWxsKGEuY29udGV4dCxjKTphLmgmJmEuaC5jYWxsKGEuY29udGV4dCxjKX0seWE9ZnVuY3Rpb24oYSxiKXthLm09ITA7TShmdW5jdGlvbigpe2EubSYmQ2EuY2FsbChudWxsLGIpfSl9LENhPWthO2Z1bmN0aW9uIFAoYSxiKXtpZighKGIgaW5zdGFuY2VvZiBPYmplY3QpKXJldHVybiBiO3N3aXRjaChiLmNvbnN0cnVjdG9yKXtjYXNlIERhdGU6cmV0dXJuIG5ldyBEYXRlKGIuZ2V0VGltZSgpKTtjYXNlIE9iamVjdDp2b2lkIDA9PT1hJiYoYT17fSk7YnJlYWs7Y2FzZSBBcnJheTphPVtdO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGJ9Zm9yKHZhciBjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmKGFbY109UChhW2NdLGJbY10pKTtyZXR1cm4gYX07Ty5hbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBPKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5sZW5ndGgsZT1bXTtpZihkKWZvcih2YXIgZj1mdW5jdGlvbihhLGMpe2QtLTtlW2FdPWM7MD09ZCYmYihlKX0sZz1mdW5jdGlvbihhKXtjKGEpfSxrPTAscDtrPGEubGVuZ3RoO2srKylwPWFba10sdWEocCx4KGYsayksZyk7ZWxzZSBiKGUpfSl9O08ucmVzb2x2ZT1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgTylyZXR1cm4gYTt2YXIgYj1uZXcgTyhyKTtOKGIsMixhKTtyZXR1cm4gYn07Ty5yZWplY3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBPKGZ1bmN0aW9uKGIsYyl7YyhhKX0pfTtPLnByb3RvdHlwZVtcImNhdGNoXCJdPU8ucHJvdG90eXBlLlg7dmFyIFE9TztcInVuZGVmaW5lZFwiIT09dHlwZW9mIFByb21pc2UmJihRPVByb21pc2UpO3ZhciBEYT1RO2Z1bmN0aW9uIEVhKGEsYil7YT1uZXcgUihhLGIpO3JldHVybiBhLnN1YnNjcmliZS5iaW5kKGEpfXZhciBSPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt0aGlzLmE9W107dGhpcy5KPTA7dGhpcy50YXNrPURhLnJlc29sdmUoKTt0aGlzLmw9ITE7dGhpcy5EPWI7dGhpcy50YXNrLnRoZW4oZnVuY3Rpb24oKXthKGMpfSkuY2F0Y2goZnVuY3Rpb24oYSl7Yy5lcnJvcihhKX0pfTtSLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGEpe1ModGhpcyxmdW5jdGlvbihiKXtiLm5leHQoYSl9KX07Ui5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oYSl7Uyh0aGlzLGZ1bmN0aW9uKGIpe2IuZXJyb3IoYSl9KTt0aGlzLmNsb3NlKGEpfTtSLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe1ModGhpcyxmdW5jdGlvbihhKXthLmNvbXBsZXRlKCl9KTt0aGlzLmNsb3NlKCl9O1xuUi5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU7aWYodm9pZCAwPT09YSYmdm9pZCAwPT09YiYmdm9pZCAwPT09Yyl0aHJvdyBFcnJvcihcIk1pc3NpbmcgT2JzZXJ2ZXIuXCIpO2U9RmEoYSk/YTp7bmV4dDphLGVycm9yOmIsY29tcGxldGU6Y307dm9pZCAwPT09ZS5uZXh0JiYoZS5uZXh0PVQpO3ZvaWQgMD09PWUuZXJyb3ImJihlLmVycm9yPVQpO3ZvaWQgMD09PWUuY29tcGxldGUmJihlLmNvbXBsZXRlPVQpO2E9dGhpcy4kLmJpbmQodGhpcyx0aGlzLmEubGVuZ3RoKTt0aGlzLmwmJnRoaXMudGFzay50aGVuKGZ1bmN0aW9uKCl7dHJ5e2QuRz9lLmVycm9yKGQuRyk6ZS5jb21wbGV0ZSgpfWNhdGNoKGYpe319KTt0aGlzLmEucHVzaChlKTtyZXR1cm4gYX07XG5SLnByb3RvdHlwZS4kPWZ1bmN0aW9uKGEpe3ZvaWQgMCE9PXRoaXMuYSYmdm9pZCAwIT09dGhpcy5hW2FdJiYoZGVsZXRlIHRoaXMuYVthXSwtLXRoaXMuSiwwPT09dGhpcy5KJiZ2b2lkIDAhPT10aGlzLkQmJnRoaXMuRCh0aGlzKSl9O3ZhciBTPWZ1bmN0aW9uKGEsYil7aWYoIWEubClmb3IodmFyIGM9MDtjPGEuYS5sZW5ndGg7YysrKUdhKGEsYyxiKX0sR2E9ZnVuY3Rpb24oYSxiLGMpe2EudGFzay50aGVuKGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09YS5hJiZ2b2lkIDAhPT1hLmFbYl0pdHJ5e2MoYS5hW2JdKX1jYXRjaChkKXt9fSl9O1IucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5sfHwodGhpcy5sPSEwLHZvaWQgMCE9PWEmJih0aGlzLkc9YSksdGhpcy50YXNrLnRoZW4oZnVuY3Rpb24oKXtiLmE9dm9pZCAwO2IuRD12b2lkIDB9KSl9O1xuZnVuY3Rpb24gRmEoYSl7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBhfHxudWxsPT09YSlyZXR1cm4hMTt2YXIgYjtiPVtcIm5leHRcIixcImVycm9yXCIsXCJjb21wbGV0ZVwiXTtuKCk7dmFyIGM9YltTeW1ib2wuaXRlcmF0b3JdO2I9Yz9jLmNhbGwoYik6bShiKTtmb3IoYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpaWYoYz1jLnZhbHVlLGMgaW4gYSYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGFbY10pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gVCgpe307dmFyIEhhPUVycm9yLmNhcHR1cmVTdGFja1RyYWNlLFY9ZnVuY3Rpb24oYSxiKXt0aGlzLmNvZGU9YTt0aGlzLm1lc3NhZ2U9YjtpZihIYSlIYSh0aGlzLFUucHJvdG90eXBlLmNyZWF0ZSk7ZWxzZXt2YXIgYz1FcnJvci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5uYW1lPVwiRmlyZWJhc2VFcnJvclwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuc3RhY2t9fSl9fTtWLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7Vi5wcm90b3R5cGUuY29uc3RydWN0b3I9VjtWLnByb3RvdHlwZS5uYW1lPVwiRmlyZWJhc2VFcnJvclwiO3ZhciBVPWZ1bmN0aW9uKGEsYixjKXt0aGlzLlY9YTt0aGlzLlc9Yjt0aGlzLk49Yzt0aGlzLnBhdHRlcm49L1xce1xcJChbXn1dKyl9L2d9O1xuVS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9e30pO3ZhciBjPXRoaXMuTlthXTthPXRoaXMuVitcIi9cIithO3ZhciBjPXZvaWQgMD09PWM/XCJFcnJvclwiOmMucmVwbGFjZSh0aGlzLnBhdHRlcm4sZnVuY3Rpb24oYSxjKXthPWJbY107cmV0dXJuIHZvaWQgMCE9PWE/YS50b1N0cmluZygpOlwiPFwiK2MrXCI/PlwifSksYz10aGlzLlcrXCI6IFwiK2MrXCIgKFwiK2ErXCIpLlwiLGM9bmV3IFYoYSxjKSxkO2ZvcihkIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmXCJfXCIhPT1kLnNsaWNlKC0xKSYmKGNbZF09YltkXSk7cmV0dXJuIGN9O3ZhciBXPVEsWD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpczt0aGlzLkg9Yzt0aGlzLkk9ITE7dGhpcy5pPXt9O3RoaXMuQz1iO3RoaXMuVD1QKHZvaWQgMCxhKTtPYmplY3Qua2V5cyhjLklOVEVSTkFMLmZhY3RvcmllcykuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1jLklOVEVSTkFMLnVzZUFzU2VydmljZShkLGEpO251bGwhPT1iJiYoYj1kLlIuYmluZChkLGIpLGRbYV09Yil9KX07WC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4obmV3IFcoZnVuY3Rpb24oYil7WShhKTtiKCl9KSkudGhlbihmdW5jdGlvbigpe2EuSC5JTlRFUk5BTC5yZW1vdmVBcHAoYS5DKTtyZXR1cm4gVy5hbGwoT2JqZWN0LmtleXMoYS5pKS5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGEuaVtiXS5JTlRFUk5BTC5kZWxldGUoKX0pKX0pLnRoZW4oZnVuY3Rpb24oKXthLkk9ITA7YS5pPXt9fSl9O1xuWC5wcm90b3R5cGUuUj1mdW5jdGlvbihhKXtZKHRoaXMpO3ZvaWQgMD09PXRoaXMuaVthXSYmKHRoaXMuaVthXT10aGlzLkguSU5URVJOQUwuZmFjdG9yaWVzW2FdKHRoaXMsdGhpcy5QLmJpbmQodGhpcykpKTtyZXR1cm4gdGhpcy5pW2FdfTtYLnByb3RvdHlwZS5QPWZ1bmN0aW9uKGEpe1AodGhpcyxhKX07dmFyIFk9ZnVuY3Rpb24oYSl7YS5JJiZaKElhKFwiZGVsZXRlZFwiLHtuYW1lOmEuQ30pKX07aC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhYLnByb3RvdHlwZSx7bmFtZTp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7WSh0aGlzKTtyZXR1cm4gdGhpcy5DfX0sb3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7WSh0aGlzKTtyZXR1cm4gdGhpcy5UfX19KTtYLnByb3RvdHlwZS5uYW1lJiZYLnByb3RvdHlwZS5vcHRpb25zfHxYLnByb3RvdHlwZS5kZWxldGV8fGNvbnNvbGUubG9nKFwiZGNcIik7XG5mdW5jdGlvbiBKYSgpe2Z1bmN0aW9uIGEoYSl7YT1hfHxcIltERUZBVUxUXVwiO3ZhciBiPWRbYV07dm9pZCAwPT09YiYmWihcIm5vQXBwXCIse25hbWU6YX0pO3JldHVybiBifWZ1bmN0aW9uIGIoYSxiKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKGQpe2Q9YyhhLGQpO2lmKG51bGwhPT1kJiZmW2RdKWZbZF0oYixhKX0pfWZ1bmN0aW9uIGMoYSxiKXtpZihcInNlcnZlckF1dGhcIj09PWIpcmV0dXJuIG51bGw7dmFyIGM9YjthPWEub3B0aW9ucztcImF1dGhcIj09PWImJihhLnNlcnZpY2VBY2NvdW50fHxhLmNyZWRlbnRpYWwpJiYoYz1cInNlcnZlckF1dGhcIixcInNlcnZlckF1dGhcImluIGV8fFooXCJzZXJ2ZXJBdXRoTWlzc2luZ1wiKSk7cmV0dXJuIGN9dmFyIGQ9e30sZT17fSxmPXt9LGc9e19fZXNNb2R1bGU6ITAsaW5pdGlhbGl6ZUFwcDpmdW5jdGlvbihhLGMpe3ZvaWQgMD09PWM/Yz1cIltERUZBVUxUXVwiOlwic3RyaW5nXCI9PT10eXBlb2YgYyYmXCJcIiE9PWN8fFooXCJiYWQtYXBwLW5hbWVcIixcbntuYW1lOmMrXCJcIn0pO3ZvaWQgMCE9PWRbY10mJlooXCJkdXBBcHBcIix7bmFtZTpjfSk7YT1uZXcgWChhLGMsZyk7ZFtjXT1hO2IoYSxcImNyZWF0ZVwiKTt2b2lkIDAhPWEuSU5URVJOQUwmJnZvaWQgMCE9YS5JTlRFUk5BTC5nZXRUb2tlbnx8UChhLHtJTlRFUk5BTDp7Z2V0VG9rZW46ZnVuY3Rpb24oKXtyZXR1cm4gVy5yZXNvbHZlKG51bGwpfSxhZGRBdXRoVG9rZW5MaXN0ZW5lcjpmdW5jdGlvbigpe30scmVtb3ZlQXV0aFRva2VuTGlzdGVuZXI6ZnVuY3Rpb24oKXt9fX0pO3JldHVybiBhfSxhcHA6YSxhcHBzOm51bGwsUHJvbWlzZTpXLFNES19WRVJTSU9OOlwiMC4wLjBcIixJTlRFUk5BTDp7cmVnaXN0ZXJTZXJ2aWNlOmZ1bmN0aW9uKGIsYyxkLHUpe2VbYl0mJlooXCJkdXBTZXJ2aWNlXCIse25hbWU6Yn0pO2VbYl09Yzt1JiYoZltiXT11KTtjPWZ1bmN0aW9uKGMpe3ZvaWQgMD09PWMmJihjPWEoKSk7cmV0dXJuIGNbYl0oKX07dm9pZCAwIT09ZCYmUChjLGQpO3JldHVybiBnW2JdPWN9LGNyZWF0ZUZpcmViYXNlTmFtZXNwYWNlOkphLFxuZXh0ZW5kTmFtZXNwYWNlOmZ1bmN0aW9uKGEpe1AoZyxhKX0sY3JlYXRlU3Vic2NyaWJlOkVhLEVycm9yRmFjdG9yeTpVLHJlbW92ZUFwcDpmdW5jdGlvbihhKXtiKGRbYV0sXCJkZWxldGVcIik7ZGVsZXRlIGRbYV19LGZhY3RvcmllczplLHVzZUFzU2VydmljZTpjLFByb21pc2U6TyxkZWVwRXh0ZW5kOlB9fTtnW1wiZGVmYXVsdFwiXT1nO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwiYXBwc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXMoZCkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBkW2FdfSl9fSk7YS5BcHA9WDtyZXR1cm4gZ31mdW5jdGlvbiBaKGEsYil7dGhyb3cgRXJyb3IoSWEoYSxiKSk7fVxuZnVuY3Rpb24gSWEoYSxiKXtiPWJ8fHt9O2I9e25vQXBwOlwiTm8gRmlyZWJhc2UgQXBwICdcIitiLm5hbWUrXCInIGhhcyBiZWVuIGNyZWF0ZWQgLSBjYWxsIEZpcmViYXNlIEFwcC5pbml0aWFsaXplQXBwKCkuXCIsXCJiYWQtYXBwLW5hbWVcIjpcIklsbGVnYWwgQXBwIG5hbWU6ICdcIitiLm5hbWUrXCInLlwiLGR1cEFwcDpcIkZpcmViYXNlIEFwcCBuYW1lZCAnXCIrYi5uYW1lK1wiJyBhbHJlYWR5IGV4aXN0cy5cIixkZWxldGVkOlwiRmlyZWJhc2UgQXBwIG5hbWVkICdcIitiLm5hbWUrXCInIGFscmVhZHkgZGVsZXRlZC5cIixkdXBTZXJ2aWNlOlwiRmlyZWJhc2UgU2VydmljZSBuYW1lZCAnXCIrYi5uYW1lK1wiJyBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIsc2VydmVyQXV0aE1pc3Npbmc6XCJJbml0aWFsaXppbmcgdGhlIEZpcmViYXNlIFNESyB3aXRoIGEgc2VydmljZSBhY2NvdW50IGlzIG9ubHkgYWxsb3dlZCBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQuIE9uIGNsaWVudCBkZXZpY2VzLCB5b3Ugc2hvdWxkIGluc3RlYWQgaW5pdGlhbGl6ZSB0aGUgU0RLIHdpdGggYW4gYXBpIGtleSBhbmQgYXV0aCBkb21haW4uXCJ9W2FdO1xucmV0dXJuIHZvaWQgMD09PWI/XCJBcHBsaWNhdGlvbiBFcnJvcjogKFwiK2ErXCIpXCI6Yn07XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBmaXJlYmFzZSYmKGZpcmViYXNlPUphKCkpOyB9KSgpO1xuZmlyZWJhc2UuU0RLX1ZFUlNJT04gPSBcIjMuNC4xXCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZpcmViYXNlO1xuIiwidmFyIGZpcmViYXNlID0gcmVxdWlyZSgnLi9hcHAnKTtcbi8qISBAbGljZW5zZSBGaXJlYmFzZSB2My40LjFcbiAgICBCdWlsZDogMy40LjEtcmMuMlxuICAgIFRlcm1zOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS90ZXJtcyAqL1xuKGZ1bmN0aW9uKCl7dmFyIGgsYWE9YWF8fHt9LGw9dGhpcyxiYT1mdW5jdGlvbigpe30sY2E9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcInVuaW1wbGVtZW50ZWQgYWJzdHJhY3QgbWV0aG9kXCIpO30sbT1mdW5jdGlvbihhKXt2YXIgYj10eXBlb2YgYTtpZihcIm9iamVjdFwiPT1iKWlmKGEpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm5cImFycmF5XCI7aWYoYSBpbnN0YW5jZW9mIE9iamVjdClyZXR1cm4gYjt2YXIgYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7aWYoXCJbb2JqZWN0IFdpbmRvd11cIj09YylyZXR1cm5cIm9iamVjdFwiO2lmKFwiW29iamVjdCBBcnJheV1cIj09Y3x8XCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RoJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zcGxpY2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInNwbGljZVwiKSlyZXR1cm5cImFycmF5XCI7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1jfHxcInVuZGVmaW5lZFwiIT1cbnR5cGVvZiBhLmNhbGwmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcImNhbGxcIikpcmV0dXJuXCJmdW5jdGlvblwifWVsc2UgcmV0dXJuXCJudWxsXCI7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PWImJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBhLmNhbGwpcmV0dXJuXCJvYmplY3RcIjtyZXR1cm4gYn0sZGE9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hfSxlYT1mdW5jdGlvbihhKXtyZXR1cm5cImFycmF5XCI9PW0oYSl9LGZhPWZ1bmN0aW9uKGEpe3ZhciBiPW0oYSk7cmV0dXJuXCJhcnJheVwiPT1ifHxcIm9iamVjdFwiPT1iJiZcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGh9LG49ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGF9LGdhPWZ1bmN0aW9uKGEpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBhfSxwPWZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09bShhKX0saGE9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7XG5yZXR1cm5cIm9iamVjdFwiPT1iJiZudWxsIT1hfHxcImZ1bmN0aW9uXCI9PWJ9LGlhPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfSxqYT1mdW5jdGlvbihhLGIsYyl7aWYoIWEpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGMsZCk7cmV0dXJuIGEuYXBwbHkoYixjKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX0scT1mdW5jdGlvbihhLGIsYyl7cT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2lhOmphO3JldHVybiBxLmFwcGx5KG51bGwsXG5hcmd1bWVudHMpfSxrYT1mdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1jLnNsaWNlKCk7Yi5wdXNoLmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gYS5hcHBseSh0aGlzLGIpfX0sbGE9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSx0PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLlJjPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5XZT1mdW5jdGlvbihhLGMsZil7Zm9yKHZhciBkPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksZT0yO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspZFtlLTJdPWFyZ3VtZW50c1tlXTtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxkKX19O3ZhciB1PWZ1bmN0aW9uKGEpe2lmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKUVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdSk7ZWxzZXt2YXIgYj1FcnJvcigpLnN0YWNrO2ImJih0aGlzLnN0YWNrPWIpfWEmJih0aGlzLm1lc3NhZ2U9U3RyaW5nKGEpKX07dCh1LEVycm9yKTt1LnByb3RvdHlwZS5uYW1lPVwiQ3VzdG9tRXJyb3JcIjt2YXIgbWE9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5zcGxpdChcIiVzXCIpLGQ9XCJcIixlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtlLmxlbmd0aCYmMTxjLmxlbmd0aDspZCs9Yy5zaGlmdCgpK2Uuc2hpZnQoKTtyZXR1cm4gZCtjLmpvaW4oXCIlc1wiKX0sbmE9U3RyaW5nLnByb3RvdHlwZS50cmltP2Z1bmN0aW9uKGEpe3JldHVybiBhLnRyaW0oKX06ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXltcXHNcXHhhMF0rfFtcXHNcXHhhMF0rJC9nLFwiXCIpfSxvYT0vJi9nLHBhPS88L2cscWE9Lz4vZyxyYT0vXCIvZyx0YT0vJy9nLHVhPS9cXHgwMC9nLHZhPS9bXFx4MDAmPD5cIiddLyx2PWZ1bmN0aW9uKGEsYil7cmV0dXJuLTEhPWEuaW5kZXhPZihiKX0sd2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYTxiPy0xOmE+Yj8xOjB9O3ZhciB4YT1mdW5jdGlvbihhLGIpe2IudW5zaGlmdChhKTt1LmNhbGwodGhpcyxtYS5hcHBseShudWxsLGIpKTtiLnNoaWZ0KCl9O3QoeGEsdSk7eGEucHJvdG90eXBlLm5hbWU9XCJBc3NlcnRpb25FcnJvclwiO1xudmFyIHlhPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVwiQXNzZXJ0aW9uIGZhaWxlZFwiO2lmKGMpdmFyIGU9ZSsoXCI6IFwiK2MpLGY9ZDtlbHNlIGEmJihlKz1cIjogXCIrYSxmPWIpO3Rocm93IG5ldyB4YShcIlwiK2UsZnx8W10pO30sdz1mdW5jdGlvbihhLGIsYyl7YXx8eWEoXCJcIixudWxsLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0semE9ZnVuY3Rpb24oYSxiKXt0aHJvdyBuZXcgeGEoXCJGYWlsdXJlXCIrKGE/XCI6IFwiK2E6XCJcIiksQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTt9LEFhPWZ1bmN0aW9uKGEsYixjKXtnYShhKXx8eWEoXCJFeHBlY3RlZCBudW1iZXIgYnV0IGdvdCAlczogJXMuXCIsW20oYSksYV0sYixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpO3JldHVybiBhfSxCYT1mdW5jdGlvbihhLGIsYyl7bihhKXx8eWEoXCJFeHBlY3RlZCBzdHJpbmcgYnV0IGdvdCAlczogJXMuXCIsW20oYSksYV0sYixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsXG4yKSl9LENhPWZ1bmN0aW9uKGEsYixjKXtwKGEpfHx5YShcIkV4cGVjdGVkIGZ1bmN0aW9uIGJ1dCBnb3QgJXM6ICVzLlwiLFttKGEpLGFdLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX07dmFyIERhPUFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Z1bmN0aW9uKGEsYixjKXt3KG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtjPW51bGw9PWM/MDowPmM/TWF0aC5tYXgoMCxhLmxlbmd0aCtjKTpjO2lmKG4oYSkpcmV0dXJuIG4oYikmJjE9PWIubGVuZ3RoP2EuaW5kZXhPZihiLGMpOi0xO2Zvcig7YzxhLmxlbmd0aDtjKyspaWYoYyBpbiBhJiZhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0seD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbihhLGIsYyl7dyhudWxsIT1hLmxlbmd0aCk7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1uKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKX0sRWE9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9bihhKT9cbmEuc3BsaXQoXCJcIik6YSxkPWEubGVuZ3RoLTE7MDw9ZDstLWQpZCBpbiBjJiZiLmNhbGwodm9pZCAwLGNbZF0sZCxhKX0sRmE9QXJyYXkucHJvdG90eXBlLm1hcD9mdW5jdGlvbihhLGIsYyl7dyhudWxsIT1hLmxlbmd0aCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1BcnJheShkKSxmPW4oYSk/YS5zcGxpdChcIlwiKTphLGc9MDtnPGQ7ZysrKWcgaW4gZiYmKGVbZ109Yi5jYWxsKGMsZltnXSxnLGEpKTtyZXR1cm4gZX0sR2E9QXJyYXkucHJvdG90eXBlLnNvbWU/ZnVuY3Rpb24oYSxiLGMpe3cobnVsbCE9YS5sZW5ndGgpO3JldHVybiBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPW4oYSk/YS5zcGxpdChcIlwiKTphLGY9MDtmPGQ7ZisrKWlmKGYgaW4gZSYmYi5jYWxsKGMsZVtmXSxmLGEpKXJldHVybiEwO3JldHVybiExfSxcbklhPWZ1bmN0aW9uKGEpe3ZhciBiO2E6e2I9SGE7Zm9yKHZhciBjPWEubGVuZ3RoLGQ9bihhKT9hLnNwbGl0KFwiXCIpOmEsZT0wO2U8YztlKyspaWYoZSBpbiBkJiZiLmNhbGwodm9pZCAwLGRbZV0sZSxhKSl7Yj1lO2JyZWFrIGF9Yj0tMX1yZXR1cm4gMD5iP251bGw6bihhKT9hLmNoYXJBdChiKTphW2JdfSxKYT1mdW5jdGlvbihhLGIpe3JldHVybiAwPD1EYShhLGIpfSxMYT1mdW5jdGlvbihhLGIpe2I9RGEoYSxiKTt2YXIgYzsoYz0wPD1iKSYmS2EoYSxiKTtyZXR1cm4gY30sS2E9ZnVuY3Rpb24oYSxiKXt3KG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gMT09QXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGEsYiwxKS5sZW5ndGh9LE1hPWZ1bmN0aW9uKGEsYil7dmFyIGM9MDtFYShhLGZ1bmN0aW9uKGQsZSl7Yi5jYWxsKHZvaWQgMCxkLGUsYSkmJkthKGEsZSkmJmMrK30pfSxOYT1mdW5jdGlvbihhKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShBcnJheS5wcm90b3R5cGUsXG5hcmd1bWVudHMpfSxPYT1mdW5jdGlvbihhKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShBcnJheS5wcm90b3R5cGUsYXJndW1lbnRzKX0sUGE9ZnVuY3Rpb24oYSl7dmFyIGI9YS5sZW5ndGg7aWYoMDxiKXtmb3IodmFyIGM9QXJyYXkoYiksZD0wO2Q8YjtkKyspY1tkXT1hW2RdO3JldHVybiBjfXJldHVybltdfSxRYT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspe3ZhciBkPWFyZ3VtZW50c1tjXTtpZihmYShkKSl7dmFyIGU9YS5sZW5ndGh8fDAsZj1kLmxlbmd0aHx8MDthLmxlbmd0aD1lK2Y7Zm9yKHZhciBnPTA7ZzxmO2crKylhW2UrZ109ZFtnXX1lbHNlIGEucHVzaChkKX19O3ZhciBSYT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBhKWIuY2FsbCh2b2lkIDAsYVtjXSxjLGEpfSxTYT1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1hW2RdO3JldHVybiBifSxUYT1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1kO3JldHVybiBifSxVYT1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sVmE9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSlpZighKGMgaW4gYil8fGFbY10hPT1iW2NdKXJldHVybiExO2ZvcihjIGluIGIpaWYoIShjIGluIGEpKXJldHVybiExO3JldHVybiEwfSxXYT1mdW5jdGlvbihhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYltjXT1hW2NdO3JldHVybiBifSxYYT1cImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZlwiLnNwbGl0KFwiIFwiKSxcbllhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe2Q9YXJndW1lbnRzW2VdO2ZvcihjIGluIGQpYVtjXT1kW2NdO2Zvcih2YXIgZj0wO2Y8WGEubGVuZ3RoO2YrKyljPVhhW2ZdLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGMpJiYoYVtjXT1kW2NdKX19O3ZhciBaYTthOnt2YXIgJGE9bC5uYXZpZ2F0b3I7aWYoJGEpe3ZhciBhYj0kYS51c2VyQWdlbnQ7aWYoYWIpe1phPWFiO2JyZWFrIGF9fVphPVwiXCJ9dmFyIHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHYoWmEsYSl9O3ZhciBiYj1mdW5jdGlvbihhKXtiYltcIiBcIl0oYSk7cmV0dXJuIGF9O2JiW1wiIFwiXT1iYTt2YXIgZGI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1jYjtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGMsYSk/Y1thXTpjW2FdPWIoYSl9O3ZhciBlYj15KFwiT3BlcmFcIiksej15KFwiVHJpZGVudFwiKXx8eShcIk1TSUVcIiksZmI9eShcIkVkZ2VcIiksZ2I9ZmJ8fHosaGI9eShcIkdlY2tvXCIpJiYhKHYoWmEudG9Mb3dlckNhc2UoKSxcIndlYmtpdFwiKSYmIXkoXCJFZGdlXCIpKSYmISh5KFwiVHJpZGVudFwiKXx8eShcIk1TSUVcIikpJiYheShcIkVkZ2VcIiksaWI9dihaYS50b0xvd2VyQ2FzZSgpLFwid2Via2l0XCIpJiYheShcIkVkZ2VcIiksamI9ZnVuY3Rpb24oKXt2YXIgYT1sLmRvY3VtZW50O3JldHVybiBhP2EuZG9jdW1lbnRNb2RlOnZvaWQgMH0sa2I7XG5hOnt2YXIgbGI9XCJcIixtYj1mdW5jdGlvbigpe3ZhciBhPVphO2lmKGhiKXJldHVybi9ydlxcOihbXlxcKTtdKykoXFwpfDspLy5leGVjKGEpO2lmKGZiKXJldHVybi9FZGdlXFwvKFtcXGRcXC5dKykvLmV4ZWMoYSk7aWYoeilyZXR1cm4vXFxiKD86TVNJRXxydilbOiBdKFteXFwpO10rKShcXCl8OykvLmV4ZWMoYSk7aWYoaWIpcmV0dXJuL1dlYktpdFxcLyhcXFMrKS8uZXhlYyhhKTtpZihlYilyZXR1cm4vKD86VmVyc2lvbilbIFxcL10/KFxcUyspLy5leGVjKGEpfSgpO21iJiYobGI9bWI/bWJbMV06XCJcIik7aWYoeil7dmFyIG5iPWpiKCk7aWYobnVsbCE9bmImJm5iPnBhcnNlRmxvYXQobGIpKXtrYj1TdHJpbmcobmIpO2JyZWFrIGF9fWtiPWxifVxudmFyIG9iPWtiLGNiPXt9LEE9ZnVuY3Rpb24oYSl7cmV0dXJuIGRiKGEsZnVuY3Rpb24oKXtmb3IodmFyIGI9MCxjPW5hKFN0cmluZyhvYikpLnNwbGl0KFwiLlwiKSxkPW5hKFN0cmluZyhhKSkuc3BsaXQoXCIuXCIpLGU9TWF0aC5tYXgoYy5sZW5ndGgsZC5sZW5ndGgpLGY9MDswPT1iJiZmPGU7ZisrKXt2YXIgZz1jW2ZdfHxcIlwiLGs9ZFtmXXx8XCJcIjtkb3tnPS8oXFxkKikoXFxEKikoLiopLy5leGVjKGcpfHxbXCJcIixcIlwiLFwiXCIsXCJcIl07az0vKFxcZCopKFxcRCopKC4qKS8uZXhlYyhrKXx8W1wiXCIsXCJcIixcIlwiLFwiXCJdO2lmKDA9PWdbMF0ubGVuZ3RoJiYwPT1rWzBdLmxlbmd0aClicmVhaztiPXdhKDA9PWdbMV0ubGVuZ3RoPzA6cGFyc2VJbnQoZ1sxXSwxMCksMD09a1sxXS5sZW5ndGg/MDpwYXJzZUludChrWzFdLDEwKSl8fHdhKDA9PWdbMl0ubGVuZ3RoLDA9PWtbMl0ubGVuZ3RoKXx8d2EoZ1syXSxrWzJdKTtnPWdbM107az1rWzNdfXdoaWxlKDA9PWIpfXJldHVybiAwPD1ifSl9LHBiO3ZhciBxYj1sLmRvY3VtZW50O1xucGI9cWImJno/amIoKXx8KFwiQ1NTMUNvbXBhdFwiPT1xYi5jb21wYXRNb2RlP3BhcnNlSW50KG9iLDEwKTo1KTp2b2lkIDA7dmFyIHJiPW51bGwsc2I9bnVsbCx1Yj1mdW5jdGlvbihhKXt2YXIgYj1cIlwiO3RiKGEsZnVuY3Rpb24oYSl7Yis9U3RyaW5nLmZyb21DaGFyQ29kZShhKX0pO3JldHVybiBifSx0Yj1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYil7Zm9yKDtkPGEubGVuZ3RoOyl7dmFyIGM9YS5jaGFyQXQoZCsrKSxlPXNiW2NdO2lmKG51bGwhPWUpcmV0dXJuIGU7aWYoIS9eW1xcc1xceGEwXSokLy50ZXN0KGMpKXRocm93IEVycm9yKFwiVW5rbm93biBiYXNlNjQgZW5jb2RpbmcgYXQgY2hhcjogXCIrYyk7fXJldHVybiBifXZiKCk7Zm9yKHZhciBkPTA7Oyl7dmFyIGU9YygtMSksZj1jKDApLGc9Yyg2NCksaz1jKDY0KTtpZig2ND09PWsmJi0xPT09ZSlicmVhaztiKGU8PDJ8Zj4+NCk7NjQhPWcmJihiKGY8PDQmMjQwfGc+PjIpLDY0IT1rJiZiKGc8PDYmMTkyfGspKX19LHZiPWZ1bmN0aW9uKCl7aWYoIXJiKXtyYj17fTtzYj17fTtmb3IodmFyIGE9MDs2NT5hO2ErKylyYlthXT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KGEpLFxuc2JbcmJbYV1dPWEsNjI8PWEmJihzYltcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV8uXCIuY2hhckF0KGEpXT1hKX19O3ZhciB3Yj0henx8OTw9TnVtYmVyKHBiKSx4Yj16JiYhQShcIjlcIik7IWlifHxBKFwiNTI4XCIpO2hiJiZBKFwiMS45YlwiKXx8eiYmQShcIjhcIil8fGViJiZBKFwiOS41XCIpfHxpYiYmQShcIjUyOFwiKTtoYiYmIUEoXCI4XCIpfHx6JiZBKFwiOVwiKTt2YXIgeWI9ZnVuY3Rpb24oKXt0aGlzLnphPXRoaXMuemE7dGhpcy5WYj10aGlzLlZifTt5Yi5wcm90b3R5cGUuemE9ITE7eWIucHJvdG90eXBlLmlzRGlzcG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56YX07eWIucHJvdG90eXBlLlBhPWZ1bmN0aW9uKCl7aWYodGhpcy5WYilmb3IoO3RoaXMuVmIubGVuZ3RoOyl0aGlzLlZiLnNoaWZ0KCkoKX07dmFyIHpiPWZ1bmN0aW9uKGEsYil7dGhpcy50eXBlPWE7dGhpcy5jdXJyZW50VGFyZ2V0PXRoaXMudGFyZ2V0PWI7dGhpcy5kZWZhdWx0UHJldmVudGVkPXRoaXMuV2E9ITE7dGhpcy53ZD0hMH07emIucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwO3RoaXMud2Q9ITF9O3ZhciBBYj1mdW5jdGlvbihhLGIpe3piLmNhbGwodGhpcyxhP2EudHlwZTpcIlwiKTt0aGlzLnJlbGF0ZWRUYXJnZXQ9dGhpcy5jdXJyZW50VGFyZ2V0PXRoaXMudGFyZ2V0PW51bGw7dGhpcy5jaGFyQ29kZT10aGlzLmtleUNvZGU9dGhpcy5idXR0b249dGhpcy5zY3JlZW5ZPXRoaXMuc2NyZWVuWD10aGlzLmNsaWVudFk9dGhpcy5jbGllbnRYPXRoaXMub2Zmc2V0WT10aGlzLm9mZnNldFg9MDt0aGlzLm1ldGFLZXk9dGhpcy5zaGlmdEtleT10aGlzLmFsdEtleT10aGlzLmN0cmxLZXk9ITE7dGhpcy5tYj10aGlzLnN0YXRlPW51bGw7YSYmdGhpcy5pbml0KGEsYil9O3QoQWIsemIpO1xuQWIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnR5cGU9YS50eXBlLGQ9YS5jaGFuZ2VkVG91Y2hlcz9hLmNoYW5nZWRUb3VjaGVzWzBdOm51bGw7dGhpcy50YXJnZXQ9YS50YXJnZXR8fGEuc3JjRWxlbWVudDt0aGlzLmN1cnJlbnRUYXJnZXQ9YjtpZihiPWEucmVsYXRlZFRhcmdldCl7aWYoaGIpe3ZhciBlO2E6e3RyeXtiYihiLm5vZGVOYW1lKTtlPSEwO2JyZWFrIGF9Y2F0Y2goZil7fWU9ITF9ZXx8KGI9bnVsbCl9fWVsc2VcIm1vdXNlb3ZlclwiPT1jP2I9YS5mcm9tRWxlbWVudDpcIm1vdXNlb3V0XCI9PWMmJihiPWEudG9FbGVtZW50KTt0aGlzLnJlbGF0ZWRUYXJnZXQ9YjtudWxsPT09ZD8odGhpcy5vZmZzZXRYPWlifHx2b2lkIDAhPT1hLm9mZnNldFg/YS5vZmZzZXRYOmEubGF5ZXJYLHRoaXMub2Zmc2V0WT1pYnx8dm9pZCAwIT09YS5vZmZzZXRZP2Eub2Zmc2V0WTphLmxheWVyWSx0aGlzLmNsaWVudFg9dm9pZCAwIT09YS5jbGllbnRYP2EuY2xpZW50WDpcbmEucGFnZVgsdGhpcy5jbGllbnRZPXZvaWQgMCE9PWEuY2xpZW50WT9hLmNsaWVudFk6YS5wYWdlWSx0aGlzLnNjcmVlblg9YS5zY3JlZW5YfHwwLHRoaXMuc2NyZWVuWT1hLnNjcmVlbll8fDApOih0aGlzLmNsaWVudFg9dm9pZCAwIT09ZC5jbGllbnRYP2QuY2xpZW50WDpkLnBhZ2VYLHRoaXMuY2xpZW50WT12b2lkIDAhPT1kLmNsaWVudFk/ZC5jbGllbnRZOmQucGFnZVksdGhpcy5zY3JlZW5YPWQuc2NyZWVuWHx8MCx0aGlzLnNjcmVlblk9ZC5zY3JlZW5ZfHwwKTt0aGlzLmJ1dHRvbj1hLmJ1dHRvbjt0aGlzLmtleUNvZGU9YS5rZXlDb2RlfHwwO3RoaXMuY2hhckNvZGU9YS5jaGFyQ29kZXx8KFwia2V5cHJlc3NcIj09Yz9hLmtleUNvZGU6MCk7dGhpcy5jdHJsS2V5PWEuY3RybEtleTt0aGlzLmFsdEtleT1hLmFsdEtleTt0aGlzLnNoaWZ0S2V5PWEuc2hpZnRLZXk7dGhpcy5tZXRhS2V5PWEubWV0YUtleTt0aGlzLnN0YXRlPWEuc3RhdGU7dGhpcy5tYj1hO2EuZGVmYXVsdFByZXZlbnRlZCYmXG50aGlzLnByZXZlbnREZWZhdWx0KCl9O0FiLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe0FiLlJjLnByZXZlbnREZWZhdWx0LmNhbGwodGhpcyk7dmFyIGE9dGhpcy5tYjtpZihhLnByZXZlbnREZWZhdWx0KWEucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKGEucmV0dXJuVmFsdWU9ITEseGIpdHJ5e2lmKGEuY3RybEtleXx8MTEyPD1hLmtleUNvZGUmJjEyMz49YS5rZXlDb2RlKWEua2V5Q29kZT0tMX1jYXRjaChiKXt9fTtBYi5wcm90b3R5cGUuZmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYn07dmFyIEJiPVwiY2xvc3VyZV9saXN0ZW5hYmxlX1wiKygxRTYqTWF0aC5yYW5kb20oKXwwKSxDYj0wO3ZhciBEYj1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMubGlzdGVuZXI9YTt0aGlzLlpiPW51bGw7dGhpcy5zcmM9Yjt0aGlzLnR5cGU9Yzt0aGlzLkViPSEhZDt0aGlzLk1iPWU7dGhpcy5rZXk9KytDYjt0aGlzLmFiPXRoaXMuRGI9ITF9LEViPWZ1bmN0aW9uKGEpe2EuYWI9ITA7YS5saXN0ZW5lcj1udWxsO2EuWmI9bnVsbDthLnNyYz1udWxsO2EuTWI9bnVsbH07dmFyIEZiPWZ1bmN0aW9uKGEpe3RoaXMuc3JjPWE7dGhpcy53PXt9O3RoaXMuQWI9MH07RmIucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEudG9TdHJpbmcoKTthPXRoaXMud1tmXTthfHwoYT10aGlzLndbZl09W10sdGhpcy5BYisrKTt2YXIgZz1HYihhLGIsZCxlKTstMTxnPyhiPWFbZ10sY3x8KGIuRGI9ITEpKTooYj1uZXcgRGIoYix0aGlzLnNyYyxmLCEhZCxlKSxiLkRiPWMsYS5wdXNoKGIpKTtyZXR1cm4gYn07RmIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhLGIsYyxkKXthPWEudG9TdHJpbmcoKTtpZighKGEgaW4gdGhpcy53KSlyZXR1cm4hMTt2YXIgZT10aGlzLndbYV07Yj1HYihlLGIsYyxkKTtyZXR1cm4tMTxiPyhFYihlW2JdKSxLYShlLGIpLDA9PWUubGVuZ3RoJiYoZGVsZXRlIHRoaXMud1thXSx0aGlzLkFiLS0pLCEwKTohMX07XG52YXIgSGI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnR5cGU7YyBpbiBhLncmJkxhKGEud1tjXSxiKSYmKEViKGIpLDA9PWEud1tjXS5sZW5ndGgmJihkZWxldGUgYS53W2NdLGEuQWItLSkpfTtGYi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oYSxiLGMsZCl7YT10aGlzLndbYS50b1N0cmluZygpXTt2YXIgZT0tMTthJiYoZT1HYihhLGIsYyxkKSk7cmV0dXJuLTE8ZT9hW2VdOm51bGx9O3ZhciBHYj1mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YVtlXTtpZighZi5hYiYmZi5saXN0ZW5lcj09YiYmZi5FYj09ISFjJiZmLk1iPT1kKXJldHVybiBlfXJldHVybi0xfTt2YXIgSWI9XCJjbG9zdXJlX2xtX1wiKygxRTYqTWF0aC5yYW5kb20oKXwwKSxKYj17fSxLYj0wLExiPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoZWEoYikpZm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspTGIoYSxiW2ZdLGMsZCxlKTtlbHNlIGM9TWIoYyksYSYmYVtCYl0/YS5saXN0ZW4oYixjLGQsZSk6TmIoYSxiLGMsITEsZCxlKX0sTmI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKCFiKXRocm93IEVycm9yKFwiSW52YWxpZCBldmVudCB0eXBlXCIpO3ZhciBnPSEhZSxrPU9iKGEpO2t8fChhW0liXT1rPW5ldyBGYihhKSk7Yz1rLmFkZChiLGMsZCxlLGYpO2lmKCFjLlpiKXtkPVBiKCk7Yy5aYj1kO2Quc3JjPWE7ZC5saXN0ZW5lcj1jO2lmKGEuYWRkRXZlbnRMaXN0ZW5lcilhLmFkZEV2ZW50TGlzdGVuZXIoYi50b1N0cmluZygpLGQsZyk7ZWxzZSBpZihhLmF0dGFjaEV2ZW50KWEuYXR0YWNoRXZlbnQoUWIoYi50b1N0cmluZygpKSxkKTtlbHNlIHRocm93IEVycm9yKFwiYWRkRXZlbnRMaXN0ZW5lciBhbmQgYXR0YWNoRXZlbnQgYXJlIHVuYXZhaWxhYmxlLlwiKTtcbktiKyt9fSxQYj1mdW5jdGlvbigpe3ZhciBhPVJiLGI9d2I/ZnVuY3Rpb24oYyl7cmV0dXJuIGEuY2FsbChiLnNyYyxiLmxpc3RlbmVyLGMpfTpmdW5jdGlvbihjKXtjPWEuY2FsbChiLnNyYyxiLmxpc3RlbmVyLGMpO2lmKCFjKXJldHVybiBjfTtyZXR1cm4gYn0sU2I9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihlYShiKSlmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKylTYihhLGJbZl0sYyxkLGUpO2Vsc2UgYz1NYihjKSxhJiZhW0JiXT9UYihhLGIsYyxkLGUpOk5iKGEsYixjLCEwLGQsZSl9LFViPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoZWEoYikpZm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspVWIoYSxiW2ZdLGMsZCxlKTtlbHNlIGM9TWIoYyksYSYmYVtCYl0/YS5ZLnJlbW92ZShTdHJpbmcoYiksYyxkLGUpOmEmJihhPU9iKGEpKSYmKGI9YS54YyhiLGMsISFkLGUpKSYmVmIoYil9LFZiPWZ1bmN0aW9uKGEpe2lmKCFnYShhKSYmYSYmIWEuYWIpe3ZhciBiPWEuc3JjO2lmKGImJlxuYltCYl0pSGIoYi5ZLGEpO2Vsc2V7dmFyIGM9YS50eXBlLGQ9YS5aYjtiLnJlbW92ZUV2ZW50TGlzdGVuZXI/Yi5yZW1vdmVFdmVudExpc3RlbmVyKGMsZCxhLkViKTpiLmRldGFjaEV2ZW50JiZiLmRldGFjaEV2ZW50KFFiKGMpLGQpO0tiLS07KGM9T2IoYikpPyhIYihjLGEpLDA9PWMuQWImJihjLnNyYz1udWxsLGJbSWJdPW51bGwpKTpFYihhKX19fSxRYj1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbiBKYj9KYlthXTpKYlthXT1cIm9uXCIrYX0sWGI9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ITA7aWYoYT1PYihhKSlpZihiPWEud1tiLnRvU3RyaW5nKCldKWZvcihiPWIuY29uY2F0KCksYT0wO2E8Yi5sZW5ndGg7YSsrKXt2YXIgZj1iW2FdO2YmJmYuRWI9PWMmJiFmLmFiJiYoZj1XYihmLGQpLGU9ZSYmITEhPT1mKX1yZXR1cm4gZX0sV2I9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxpc3RlbmVyLGQ9YS5NYnx8YS5zcmM7YS5EYiYmVmIoYSk7cmV0dXJuIGMuY2FsbChkLGIpfSxSYj1mdW5jdGlvbihhLFxuYil7aWYoYS5hYilyZXR1cm4hMDtpZighd2Ipe2lmKCFiKWE6e2I9W1wid2luZG93XCIsXCJldmVudFwiXTtmb3IodmFyIGM9bCxkO2Q9Yi5zaGlmdCgpOylpZihudWxsIT1jW2RdKWM9Y1tkXTtlbHNle2I9bnVsbDticmVhayBhfWI9Y31kPWI7Yj1uZXcgQWIoZCx0aGlzKTtjPSEwO2lmKCEoMD5kLmtleUNvZGV8fHZvaWQgMCE9ZC5yZXR1cm5WYWx1ZSkpe2E6e3ZhciBlPSExO2lmKDA9PWQua2V5Q29kZSl0cnl7ZC5rZXlDb2RlPS0xO2JyZWFrIGF9Y2F0Y2goZyl7ZT0hMH1pZihlfHx2b2lkIDA9PWQucmV0dXJuVmFsdWUpZC5yZXR1cm5WYWx1ZT0hMH1kPVtdO2ZvcihlPWIuY3VycmVudFRhcmdldDtlO2U9ZS5wYXJlbnROb2RlKWQucHVzaChlKTthPWEudHlwZTtmb3IoZT1kLmxlbmd0aC0xOyFiLldhJiYwPD1lO2UtLSl7Yi5jdXJyZW50VGFyZ2V0PWRbZV07dmFyIGY9WGIoZFtlXSxhLCEwLGIpLGM9YyYmZn1mb3IoZT0wOyFiLldhJiZlPGQubGVuZ3RoO2UrKyliLmN1cnJlbnRUYXJnZXQ9XG5kW2VdLGY9WGIoZFtlXSxhLCExLGIpLGM9YyYmZn1yZXR1cm4gY31yZXR1cm4gV2IoYSxuZXcgQWIoYix0aGlzKSl9LE9iPWZ1bmN0aW9uKGEpe2E9YVtJYl07cmV0dXJuIGEgaW5zdGFuY2VvZiBGYj9hOm51bGx9LFliPVwiX19jbG9zdXJlX2V2ZW50c19mbl9cIisoMUU5Kk1hdGgucmFuZG9tKCk+Pj4wKSxNYj1mdW5jdGlvbihhKXt3KGEsXCJMaXN0ZW5lciBjYW4gbm90IGJlIG51bGwuXCIpO2lmKHAoYSkpcmV0dXJuIGE7dyhhLmhhbmRsZUV2ZW50LFwiQW4gb2JqZWN0IGxpc3RlbmVyIG11c3QgaGF2ZSBoYW5kbGVFdmVudCBtZXRob2QuXCIpO2FbWWJdfHwoYVtZYl09ZnVuY3Rpb24oYil7cmV0dXJuIGEuaGFuZGxlRXZlbnQoYil9KTtyZXR1cm4gYVtZYl19O3ZhciBaYj0vXlsrYS16QS1aMC05Xy4hIyQlJicqXFwvPT9eYHt8fX4tXStAKFthLXpBLVowLTktXStcXC4pK1thLXpBLVowLTldezIsNjN9JC87dmFyIGFjPWZ1bmN0aW9uKCl7dGhpcy5oYz1cIlwiO3RoaXMuT2Q9JGJ9O2FjLnByb3RvdHlwZS5QYj0hMDthYy5wcm90b3R5cGUuS2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oY307YWMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJDb25zdHtcIit0aGlzLmhjK1wifVwifTt2YXIgYmM9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIGFjJiZhLmNvbnN0cnVjdG9yPT09YWMmJmEuT2Q9PT0kYilyZXR1cm4gYS5oYzt6YShcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIENvbnN0LCBnb3QgJ1wiK2ErXCInXCIpO3JldHVyblwidHlwZV9lcnJvcjpDb25zdFwifSwkYj17fTt2YXIgQj1mdW5jdGlvbigpe3RoaXMuamE9XCJcIjt0aGlzLk5kPWNjfTtCLnByb3RvdHlwZS5QYj0hMDtCLnByb3RvdHlwZS5LYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmphfTtCLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiU2FmZVVybHtcIit0aGlzLmphK1wifVwifTtcbnZhciBkYz1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQiYmYS5jb25zdHJ1Y3Rvcj09PUImJmEuTmQ9PT1jYylyZXR1cm4gYS5qYTt6YShcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFNhZmVVcmwsIGdvdCAnXCIrYStcIicgb2YgdHlwZSBcIittKGEpKTtyZXR1cm5cInR5cGVfZXJyb3I6U2FmZVVybFwifSxlYz0vXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwKTp8W14mOi8/I10qKD86Wy8/I118JCkpL2ksZ2M9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIEIpcmV0dXJuIGE7YT1hLlBiP2EuS2IoKTpTdHJpbmcoYSk7ZWMudGVzdChhKXx8KGE9XCJhYm91dDppbnZhbGlkI3pDbG9zdXJlelwiKTtyZXR1cm4gZmMoYSl9LGNjPXt9LGZjPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBCO2IuamE9YTtyZXR1cm4gYn07ZmMoXCJhYm91dDpibGFua1wiKTt2YXIgaGM9ZnVuY3Rpb24oYSl7cmV0dXJuL15cXHMqJC8udGVzdChhKT8hMTovXltcXF0sOnt9XFxzXFx1MjAyOFxcdTIwMjldKiQvLnRlc3QoYS5yZXBsYWNlKC9cXFxcW1wiXFxcXFxcL2JmbnJ0dV0vZyxcIkBcIikucmVwbGFjZSgvKD86XCJbXlwiXFxcXFxcblxcclxcdTIwMjhcXHUyMDI5XFx4MDAtXFx4MDhcXHgwYS1cXHgxZl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/KVtcXHNcXHUyMDI4XFx1MjAyOV0qKD89OnwsfF18fXwkKS9nLFwiXVwiKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpbXFxzXFx1MjAyOFxcdTIwMjldKlxcWykrL2csXCJcIikpfSxpYz1mdW5jdGlvbihhKXthPVN0cmluZyhhKTtpZihoYyhhKSl0cnl7cmV0dXJuIGV2YWwoXCIoXCIrYStcIilcIil9Y2F0Y2goYil7fXRocm93IEVycm9yKFwiSW52YWxpZCBKU09OIHN0cmluZzogXCIrYSk7fSxsYz1mdW5jdGlvbihhKXt2YXIgYj1bXTtqYyhuZXcga2MsYSxiKTtyZXR1cm4gYi5qb2luKFwiXCIpfSxrYz1mdW5jdGlvbigpe3RoaXMuY2M9dm9pZCAwfSxcbmpjPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsPT1iKWMucHVzaChcIm51bGxcIik7ZWxzZXtpZihcIm9iamVjdFwiPT10eXBlb2YgYil7aWYoZWEoYikpe3ZhciBkPWI7Yj1kLmxlbmd0aDtjLnB1c2goXCJbXCIpO2Zvcih2YXIgZT1cIlwiLGY9MDtmPGI7ZisrKWMucHVzaChlKSxlPWRbZl0samMoYSxhLmNjP2EuY2MuY2FsbChkLFN0cmluZyhmKSxlKTplLGMpLGU9XCIsXCI7Yy5wdXNoKFwiXVwiKTtyZXR1cm59aWYoYiBpbnN0YW5jZW9mIFN0cmluZ3x8YiBpbnN0YW5jZW9mIE51bWJlcnx8YiBpbnN0YW5jZW9mIEJvb2xlYW4pYj1iLnZhbHVlT2YoKTtlbHNle2MucHVzaChcIntcIik7Zj1cIlwiO2ZvcihkIGluIGIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsZCkmJihlPWJbZF0sXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmKGMucHVzaChmKSxtYyhkLGMpLGMucHVzaChcIjpcIiksamMoYSxhLmNjP2EuY2MuY2FsbChiLGQsZSk6ZSxjKSxmPVwiLFwiKSk7Yy5wdXNoKFwifVwiKTtyZXR1cm59fXN3aXRjaCh0eXBlb2YgYil7Y2FzZSBcInN0cmluZ1wiOm1jKGIsXG5jKTticmVhaztjYXNlIFwibnVtYmVyXCI6Yy5wdXNoKGlzRmluaXRlKGIpJiYhaXNOYU4oYik/U3RyaW5nKGIpOlwibnVsbFwiKTticmVhaztjYXNlIFwiYm9vbGVhblwiOmMucHVzaChTdHJpbmcoYikpO2JyZWFrO2Nhc2UgXCJmdW5jdGlvblwiOmMucHVzaChcIm51bGxcIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZTogXCIrdHlwZW9mIGIpO319fSxuYz17J1wiJzonXFxcXFwiJyxcIlxcXFxcIjpcIlxcXFxcXFxcXCIsXCIvXCI6XCJcXFxcL1wiLFwiXFxiXCI6XCJcXFxcYlwiLFwiXFxmXCI6XCJcXFxcZlwiLFwiXFxuXCI6XCJcXFxcblwiLFwiXFxyXCI6XCJcXFxcclwiLFwiXFx0XCI6XCJcXFxcdFwiLFwiXFx4MEJcIjpcIlxcXFx1MDAwYlwifSxvYz0vXFx1ZmZmZi8udGVzdChcIlxcdWZmZmZcIik/L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx1ZmZmZl0vZzovW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHhmZl0vZyxtYz1mdW5jdGlvbihhLGIpe2IucHVzaCgnXCInLGEucmVwbGFjZShvYyxmdW5jdGlvbihhKXt2YXIgYj1uY1thXTtifHwoYj1cIlxcXFx1XCIrKGEuY2hhckNvZGVBdCgwKXw2NTUzNikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSxcbm5jW2FdPWIpO3JldHVybiBifSksJ1wiJyl9O3ZhciBwYz1mdW5jdGlvbigpe307cGMucHJvdG90eXBlLlZjPW51bGw7cGMucHJvdG90eXBlLmxiPWNhO3ZhciBxYz1mdW5jdGlvbihhKXtyZXR1cm4gYS5WY3x8KGEuVmM9YS5TYigpKX07cGMucHJvdG90eXBlLlNiPWNhO3ZhciByYyxzYz1mdW5jdGlvbigpe307dChzYyxwYyk7c2MucHJvdG90eXBlLmxiPWZ1bmN0aW9uKCl7dmFyIGE9dGModGhpcyk7cmV0dXJuIGE/bmV3IEFjdGl2ZVhPYmplY3QoYSk6bmV3IFhNTEh0dHBSZXF1ZXN0fTtzYy5wcm90b3R5cGUuU2I9ZnVuY3Rpb24oKXt2YXIgYT17fTt0Yyh0aGlzKSYmKGFbMF09ITAsYVsxXT0hMCk7cmV0dXJuIGF9O1xudmFyIHRjPWZ1bmN0aW9uKGEpe2lmKCFhLmpkJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBBY3RpdmVYT2JqZWN0KXtmb3IodmFyIGI9W1wiTVNYTUwyLlhNTEhUVFAuNi4wXCIsXCJNU1hNTDIuWE1MSFRUUC4zLjBcIixcIk1TWE1MMi5YTUxIVFRQXCIsXCJNaWNyb3NvZnQuWE1MSFRUUFwiXSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107dHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChkKSxhLmpkPWR9Y2F0Y2goZSl7fX10aHJvdyBFcnJvcihcIkNvdWxkIG5vdCBjcmVhdGUgQWN0aXZlWE9iamVjdC4gQWN0aXZlWCBtaWdodCBiZSBkaXNhYmxlZCwgb3IgTVNYTUwgbWlnaHQgbm90IGJlIGluc3RhbGxlZFwiKTt9cmV0dXJuIGEuamR9O3JjPW5ldyBzYzt2YXIgdWM9ZnVuY3Rpb24oKXt9O3QodWMscGMpO3VjLnByb3RvdHlwZS5sYj1mdW5jdGlvbigpe3ZhciBhPW5ldyBYTUxIdHRwUmVxdWVzdDtpZihcIndpdGhDcmVkZW50aWFsc1wiaW4gYSlyZXR1cm4gYTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgWERvbWFpblJlcXVlc3QpcmV0dXJuIG5ldyB2Yzt0aHJvdyBFcnJvcihcIlVuc3VwcG9ydGVkIGJyb3dzZXJcIik7fTt1Yy5wcm90b3R5cGUuU2I9ZnVuY3Rpb24oKXtyZXR1cm57fX07XG52YXIgdmM9ZnVuY3Rpb24oKXt0aGlzLm9hPW5ldyBYRG9tYWluUmVxdWVzdDt0aGlzLnJlYWR5U3RhdGU9MDt0aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3RoaXMucmVzcG9uc2VUZXh0PVwiXCI7dGhpcy5zdGF0dXM9LTE7dGhpcy5zdGF0dXNUZXh0PXRoaXMucmVzcG9uc2VYTUw9bnVsbDt0aGlzLm9hLm9ubG9hZD1xKHRoaXMuaGUsdGhpcyk7dGhpcy5vYS5vbmVycm9yPXEodGhpcy5nZCx0aGlzKTt0aGlzLm9hLm9ucHJvZ3Jlc3M9cSh0aGlzLmllLHRoaXMpO3RoaXMub2Eub250aW1lb3V0PXEodGhpcy5qZSx0aGlzKX07aD12Yy5wcm90b3R5cGU7aC5vcGVuPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsIT1jJiYhYyl0aHJvdyBFcnJvcihcIk9ubHkgYXN5bmMgcmVxdWVzdHMgYXJlIHN1cHBvcnRlZC5cIik7dGhpcy5vYS5vcGVuKGEsYil9O1xuaC5zZW5kPWZ1bmN0aW9uKGEpe2lmKGEpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpdGhpcy5vYS5zZW5kKGEpO2Vsc2UgdGhyb3cgRXJyb3IoXCJPbmx5IHN0cmluZyBkYXRhIGlzIHN1cHBvcnRlZFwiKTtlbHNlIHRoaXMub2Euc2VuZCgpfTtoLmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5vYS5hYm9ydCgpfTtoLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oKXt9O2guaGU9ZnVuY3Rpb24oKXt0aGlzLnN0YXR1cz0yMDA7dGhpcy5yZXNwb25zZVRleHQ9dGhpcy5vYS5yZXNwb25zZVRleHQ7d2ModGhpcyw0KX07aC5nZD1mdW5jdGlvbigpe3RoaXMuc3RhdHVzPTUwMDt0aGlzLnJlc3BvbnNlVGV4dD1cIlwiO3djKHRoaXMsNCl9O2guamU9ZnVuY3Rpb24oKXt0aGlzLmdkKCl9O2guaWU9ZnVuY3Rpb24oKXt0aGlzLnN0YXR1cz0yMDA7d2ModGhpcywxKX07dmFyIHdjPWZ1bmN0aW9uKGEsYil7YS5yZWFkeVN0YXRlPWI7aWYoYS5vbnJlYWR5c3RhdGVjaGFuZ2UpYS5vbnJlYWR5c3RhdGVjaGFuZ2UoKX07dmFyIEM9ZnVuY3Rpb24oYSxiKXt0aGlzLmg9W107dGhpcy5nPWI7Zm9yKHZhciBjPSEwLGQ9YS5sZW5ndGgtMTswPD1kO2QtLSl7dmFyIGU9YVtkXXwwO2MmJmU9PWJ8fCh0aGlzLmhbZF09ZSxjPSExKX19LHhjPXt9LHljPWZ1bmN0aW9uKGEpe2lmKC0xMjg8PWEmJjEyOD5hKXt2YXIgYj14Y1thXTtpZihiKXJldHVybiBifWI9bmV3IEMoW2F8MF0sMD5hPy0xOjApOy0xMjg8PWEmJjEyOD5hJiYoeGNbYV09Yik7cmV0dXJuIGJ9LEY9ZnVuY3Rpb24oYSl7aWYoaXNOYU4oYSl8fCFpc0Zpbml0ZShhKSlyZXR1cm4gRDtpZigwPmEpcmV0dXJuIEUoRigtYSkpO2Zvcih2YXIgYj1bXSxjPTEsZD0wO2E+PWM7ZCsrKWJbZF09YS9jfDAsYyo9NDI5NDk2NzI5NjtyZXR1cm4gbmV3IEMoYiwwKX0semM9ZnVuY3Rpb24oYSxiKXtpZigwPT1hLmxlbmd0aCl0aHJvdyBFcnJvcihcIm51bWJlciBmb3JtYXQgZXJyb3I6IGVtcHR5IHN0cmluZ1wiKTtiPWJ8fDEwO2lmKDI+Ynx8MzY8Yil0aHJvdyBFcnJvcihcInJhZGl4IG91dCBvZiByYW5nZTogXCIrXG5iKTtpZihcIi1cIj09YS5jaGFyQXQoMCkpcmV0dXJuIEUoemMoYS5zdWJzdHJpbmcoMSksYikpO2lmKDA8PWEuaW5kZXhPZihcIi1cIikpdGhyb3cgRXJyb3IoJ251bWJlciBmb3JtYXQgZXJyb3I6IGludGVyaW9yIFwiLVwiIGNoYXJhY3RlcicpO2Zvcih2YXIgYz1GKE1hdGgucG93KGIsOCkpLGQ9RCxlPTA7ZTxhLmxlbmd0aDtlKz04KXt2YXIgZj1NYXRoLm1pbig4LGEubGVuZ3RoLWUpLGc9cGFyc2VJbnQoYS5zdWJzdHJpbmcoZSxlK2YpLGIpOzg+Zj8oZj1GKE1hdGgucG93KGIsZikpLGQ9ZC5tdWx0aXBseShmKS5hZGQoRihnKSkpOihkPWQubXVsdGlwbHkoYyksZD1kLmFkZChGKGcpKSl9cmV0dXJuIGR9LEQ9eWMoMCksQWM9eWMoMSksQmM9eWMoMTY3NzcyMTYpLENjPWZ1bmN0aW9uKGEpe2lmKC0xPT1hLmcpcmV0dXJuLUNjKEUoYSkpO2Zvcih2YXIgYj0wLGM9MSxkPTA7ZDxhLmgubGVuZ3RoO2QrKyliKz1EYyhhLGQpKmMsYyo9NDI5NDk2NzI5NjtyZXR1cm4gYn07XG5DLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihhKXthPWF8fDEwO2lmKDI+YXx8MzY8YSl0aHJvdyBFcnJvcihcInJhZGl4IG91dCBvZiByYW5nZTogXCIrYSk7aWYoRyh0aGlzKSlyZXR1cm5cIjBcIjtpZigtMT09dGhpcy5nKXJldHVyblwiLVwiK0UodGhpcykudG9TdHJpbmcoYSk7Zm9yKHZhciBiPUYoTWF0aC5wb3coYSw2KSksYz10aGlzLGQ9XCJcIjs7KXt2YXIgZT1FYyhjLGIpLGM9RmMoYyxlLm11bHRpcGx5KGIpKSxmPSgoMDxjLmgubGVuZ3RoP2MuaFswXTpjLmcpPj4+MCkudG9TdHJpbmcoYSksYz1lO2lmKEcoYykpcmV0dXJuIGYrZDtmb3IoOzY+Zi5sZW5ndGg7KWY9XCIwXCIrZjtkPVwiXCIrZitkfX07XG52YXIgSD1mdW5jdGlvbihhLGIpe3JldHVybiAwPmI/MDpiPGEuaC5sZW5ndGg/YS5oW2JdOmEuZ30sRGM9ZnVuY3Rpb24oYSxiKXthPUgoYSxiKTtyZXR1cm4gMDw9YT9hOjQyOTQ5NjcyOTYrYX0sRz1mdW5jdGlvbihhKXtpZigwIT1hLmcpcmV0dXJuITE7Zm9yKHZhciBiPTA7YjxhLmgubGVuZ3RoO2IrKylpZigwIT1hLmhbYl0pcmV0dXJuITE7cmV0dXJuITB9O0MucHJvdG90eXBlLkdiPWZ1bmN0aW9uKGEpe2lmKHRoaXMuZyE9YS5nKXJldHVybiExO2Zvcih2YXIgYj1NYXRoLm1heCh0aGlzLmgubGVuZ3RoLGEuaC5sZW5ndGgpLGM9MDtjPGI7YysrKWlmKEgodGhpcyxjKSE9SChhLGMpKXJldHVybiExO3JldHVybiEwfTtDLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGEpe2E9RmModGhpcyxhKTtyZXR1cm4tMT09YS5nPy0xOkcoYSk/MDoxfTtcbnZhciBFPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmgubGVuZ3RoLGM9W10sZD0wO2Q8YjtkKyspY1tkXT1+YS5oW2RdO3JldHVybihuZXcgQyhjLH5hLmcpKS5hZGQoQWMpfTtDLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU1hdGgubWF4KHRoaXMuaC5sZW5ndGgsYS5oLmxlbmd0aCksYz1bXSxkPTAsZT0wO2U8PWI7ZSsrKXt2YXIgZj1kKyhIKHRoaXMsZSkmNjU1MzUpKyhIKGEsZSkmNjU1MzUpLGc9KGY+Pj4xNikrKEgodGhpcyxlKT4+PjE2KSsoSChhLGUpPj4+MTYpLGQ9Zz4+PjE2LGY9ZiY2NTUzNSxnPWcmNjU1MzU7Y1tlXT1nPDwxNnxmfXJldHVybiBuZXcgQyhjLGNbYy5sZW5ndGgtMV0mLTIxNDc0ODM2NDg/LTE6MCl9O3ZhciBGYz1mdW5jdGlvbihhLGIpe3JldHVybiBhLmFkZChFKGIpKX07XG5DLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihhKXtpZihHKHRoaXMpfHxHKGEpKXJldHVybiBEO2lmKC0xPT10aGlzLmcpcmV0dXJuLTE9PWEuZz9FKHRoaXMpLm11bHRpcGx5KEUoYSkpOkUoRSh0aGlzKS5tdWx0aXBseShhKSk7aWYoLTE9PWEuZylyZXR1cm4gRSh0aGlzLm11bHRpcGx5KEUoYSkpKTtpZigwPnRoaXMuY29tcGFyZShCYykmJjA+YS5jb21wYXJlKEJjKSlyZXR1cm4gRihDYyh0aGlzKSpDYyhhKSk7Zm9yKHZhciBiPXRoaXMuaC5sZW5ndGgrYS5oLmxlbmd0aCxjPVtdLGQ9MDtkPDIqYjtkKyspY1tkXT0wO2ZvcihkPTA7ZDx0aGlzLmgubGVuZ3RoO2QrKylmb3IodmFyIGU9MDtlPGEuaC5sZW5ndGg7ZSsrKXt2YXIgZj1IKHRoaXMsZCk+Pj4xNixnPUgodGhpcyxkKSY2NTUzNSxrPUgoYSxlKT4+PjE2LHI9SChhLGUpJjY1NTM1O2NbMipkKzIqZV0rPWcqcjtHYyhjLDIqZCsyKmUpO2NbMipkKzIqZSsxXSs9ZipyO0djKGMsMipkKzIqZSsxKTtjWzIqZCsyKmUrMV0rPVxuZyprO0djKGMsMipkKzIqZSsxKTtjWzIqZCsyKmUrMl0rPWYqaztHYyhjLDIqZCsyKmUrMil9Zm9yKGQ9MDtkPGI7ZCsrKWNbZF09Y1syKmQrMV08PDE2fGNbMipkXTtmb3IoZD1iO2Q8MipiO2QrKyljW2RdPTA7cmV0dXJuIG5ldyBDKGMsMCl9O1xudmFyIEdjPWZ1bmN0aW9uKGEsYil7Zm9yKDsoYVtiXSY2NTUzNSkhPWFbYl07KWFbYisxXSs9YVtiXT4+PjE2LGFbYl0mPTY1NTM1LGIrK30sRWM9ZnVuY3Rpb24oYSxiKXtpZihHKGIpKXRocm93IEVycm9yKFwiZGl2aXNpb24gYnkgemVyb1wiKTtpZihHKGEpKXJldHVybiBEO2lmKC0xPT1hLmcpcmV0dXJuLTE9PWIuZz9FYyhFKGEpLEUoYikpOkUoRWMoRShhKSxiKSk7aWYoLTE9PWIuZylyZXR1cm4gRShFYyhhLEUoYikpKTtpZigzMDxhLmgubGVuZ3RoKXtpZigtMT09YS5nfHwtMT09Yi5nKXRocm93IEVycm9yKFwic2xvd0RpdmlkZV8gb25seSB3b3JrcyB3aXRoIHBvc2l0aXZlIGludGVnZXJzLlwiKTtmb3IodmFyIGM9QWM7MD49Yi5jb21wYXJlKGEpOyljPWMuc2hpZnRMZWZ0KDEpLGI9Yi5zaGlmdExlZnQoMSk7dmFyIGQ9SGMoYywxKSxlPUhjKGIsMSksZjtiPUhjKGIsMik7Zm9yKGM9SGMoYywyKTshRyhiKTspZj1lLmFkZChiKSwwPj1mLmNvbXBhcmUoYSkmJihkPWQuYWRkKGMpLFxuZT1mKSxiPUhjKGIsMSksYz1IYyhjLDEpO3JldHVybiBkfWZvcihjPUQ7MDw9YS5jb21wYXJlKGIpOyl7ZD1NYXRoLm1heCgxLE1hdGguZmxvb3IoQ2MoYSkvQ2MoYikpKTtlPU1hdGguY2VpbChNYXRoLmxvZyhkKS9NYXRoLkxOMik7ZT00OD49ZT8xOk1hdGgucG93KDIsZS00OCk7Zj1GKGQpO2Zvcih2YXIgZz1mLm11bHRpcGx5KGIpOy0xPT1nLmd8fDA8Zy5jb21wYXJlKGEpOylkLT1lLGY9RihkKSxnPWYubXVsdGlwbHkoYik7RyhmKSYmKGY9QWMpO2M9Yy5hZGQoZik7YT1GYyhhLGcpfXJldHVybiBjfSxJYz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1NYXRoLm1heChhLmgubGVuZ3RoLGIuaC5sZW5ndGgpLGQ9W10sZT0wO2U8YztlKyspZFtlXT1IKGEsZSl8SChiLGUpO3JldHVybiBuZXcgQyhkLGEuZ3xiLmcpfTtcbkMucHJvdG90eXBlLnNoaWZ0TGVmdD1mdW5jdGlvbihhKXt2YXIgYj1hPj41O2ElPTMyO2Zvcih2YXIgYz10aGlzLmgubGVuZ3RoK2IrKDA8YT8xOjApLGQ9W10sZT0wO2U8YztlKyspZFtlXT0wPGE/SCh0aGlzLGUtYik8PGF8SCh0aGlzLGUtYi0xKT4+PjMyLWE6SCh0aGlzLGUtYik7cmV0dXJuIG5ldyBDKGQsdGhpcy5nKX07dmFyIEhjPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yj4+NTtiJT0zMjtmb3IodmFyIGQ9YS5oLmxlbmd0aC1jLGU9W10sZj0wO2Y8ZDtmKyspZVtmXT0wPGI/SChhLGYrYyk+Pj5ifEgoYSxmK2MrMSk8PDMyLWI6SChhLGYrYyk7cmV0dXJuIG5ldyBDKGUsYS5nKX07dmFyIEpjPWZ1bmN0aW9uKGEsYil7dGhpcy5xYj1hO3RoaXMubmE9Yn07SmMucHJvdG90eXBlLkdiPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5hPT1hLm5hJiZ0aGlzLnFiLkdiKFdhKGEucWIpKX07SmMucHJvdG90eXBlLnRvU3RyaW5nPWNhO1xudmFyIE1jPWZ1bmN0aW9uKGEpe3RyeXt2YXIgYjtpZihiPTA9PWEubGFzdEluZGV4T2YoXCJbXCIsMCkpe3ZhciBjPWEubGVuZ3RoLTE7Yj0wPD1jJiZhLmluZGV4T2YoXCJdXCIsYyk9PWN9cmV0dXJuIGI/bmV3IEtjKGEuc3Vic3RyaW5nKDEsYS5sZW5ndGgtMSkpOm5ldyBMYyhhKX1jYXRjaChkKXtyZXR1cm4gbnVsbH19LExjPWZ1bmN0aW9uKGEpe3ZhciBiPUQ7aWYoYSBpbnN0YW5jZW9mIEMpe2lmKDAhPWEuZ3x8MD5hLmNvbXBhcmUoRCl8fDA8YS5jb21wYXJlKE5jKSl0aHJvdyBFcnJvcihcIlRoZSBhZGRyZXNzIGRvZXMgbm90IGxvb2sgbGlrZSBhbiBJUHY0LlwiKTtiPVdhKGEpfWVsc2V7aWYoIU9jLnRlc3QoYSkpdGhyb3cgRXJyb3IoYStcIiBkb2VzIG5vdCBsb29rIGxpa2UgYW4gSVB2NCBhZGRyZXNzLlwiKTt2YXIgYz1hLnNwbGl0KFwiLlwiKTtpZig0IT1jLmxlbmd0aCl0aHJvdyBFcnJvcihhK1wiIGRvZXMgbm90IGxvb2sgbGlrZSBhbiBJUHY0IGFkZHJlc3MuXCIpO2Zvcih2YXIgZD0wO2Q8XG5jLmxlbmd0aDtkKyspe3ZhciBlO2U9Y1tkXTt2YXIgZj1OdW1iZXIoZSk7ZT0wPT1mJiYvXltcXHNcXHhhMF0qJC8udGVzdChlKT9OYU46ZjtpZihpc05hTihlKXx8MD5lfHwyNTU8ZXx8MSE9Y1tkXS5sZW5ndGgmJjA9PWNbZF0ubGFzdEluZGV4T2YoXCIwXCIsMCkpdGhyb3cgRXJyb3IoXCJJbiBcIithK1wiLCBvY3RldCBcIitkK1wiIGlzIG5vdCB2YWxpZFwiKTtlPUYoZSk7Yj1JYyhiLnNoaWZ0TGVmdCg4KSxlKX19SmMuY2FsbCh0aGlzLGIsNCl9O3QoTGMsSmMpO3ZhciBPYz0vXlswLTkuXSokLyxOYz1GYyhBYy5zaGlmdExlZnQoMzIpLEFjKTtMYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLkRhKXJldHVybiB0aGlzLkRhO2Zvcih2YXIgYT1EYyh0aGlzLnFiLDApLGI9W10sYz0zOzA8PWM7Yy0tKWJbY109U3RyaW5nKGEmMjU1KSxhPj4+PTg7cmV0dXJuIHRoaXMuRGE9Yi5qb2luKFwiLlwiKX07XG52YXIgS2M9ZnVuY3Rpb24oYSl7dmFyIGI9RDtpZihhIGluc3RhbmNlb2YgQyl7aWYoMCE9YS5nfHwwPmEuY29tcGFyZShEKXx8MDxhLmNvbXBhcmUoUGMpKXRocm93IEVycm9yKFwiVGhlIGFkZHJlc3MgZG9lcyBub3QgbG9vayBsaWtlIGEgdmFsaWQgSVB2Ni5cIik7Yj1XYShhKX1lbHNle2lmKCFRYy50ZXN0KGEpKXRocm93IEVycm9yKGErXCIgaXMgbm90IGEgdmFsaWQgSVB2NiBhZGRyZXNzLlwiKTt2YXIgYz1hLnNwbGl0KFwiOlwiKTtpZigtMSE9Y1tjLmxlbmd0aC0xXS5pbmRleE9mKFwiLlwiKSl7YT1EYyhXYSgobmV3IExjKGNbYy5sZW5ndGgtMV0pKS5xYiksMCk7dmFyIGQ9W107ZC5wdXNoKChhPj4+MTYmNjU1MzUpLnRvU3RyaW5nKDE2KSk7ZC5wdXNoKChhJjY1NTM1KS50b1N0cmluZygxNikpO0thKGMsYy5sZW5ndGgtMSk7UWEoYyxkKTthPWMuam9pbihcIjpcIil9ZD1hLnNwbGl0KFwiOjpcIik7aWYoMjxkLmxlbmd0aHx8MT09ZC5sZW5ndGgmJjghPWMubGVuZ3RoKXRocm93IEVycm9yKGErXG5cIiBpcyBub3QgYSB2YWxpZCBJUHY2IGFkZHJlc3MuXCIpO2lmKDE8ZC5sZW5ndGgpe2M9ZFswXS5zcGxpdChcIjpcIik7ZD1kWzFdLnNwbGl0KFwiOlwiKTsxPT1jLmxlbmd0aCYmXCJcIj09Y1swXSYmKGM9W10pOzE9PWQubGVuZ3RoJiZcIlwiPT1kWzBdJiYoZD1bXSk7dmFyIGU9OC0oYy5sZW5ndGgrZC5sZW5ndGgpO2lmKDE+ZSljPVtdO2Vsc2V7Zm9yKHZhciBmPVtdLGc9MDtnPGU7ZysrKWZbZ109XCIwXCI7Yz1PYShjLGYsZCl9fWlmKDghPWMubGVuZ3RoKXRocm93IEVycm9yKGErXCIgaXMgbm90IGEgdmFsaWQgSVB2NiBhZGRyZXNzXCIpO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspe2U9emMoY1tkXSwxNik7aWYoMD5lLmNvbXBhcmUoRCl8fDA8ZS5jb21wYXJlKFJjKSl0aHJvdyBFcnJvcihjW2RdK1wiIGluIFwiK2ErXCIgaXMgbm90IGEgdmFsaWQgaGV4dGV0LlwiKTtiPUljKGIuc2hpZnRMZWZ0KDE2KSxlKX19SmMuY2FsbCh0aGlzLGIsNil9O3QoS2MsSmMpO1xudmFyIFFjPS9eKFthLWZBLUYwLTldKjopezJ9W2EtZkEtRjAtOTouXSokLyxSYz15Yyg2NTUzNSksUGM9RmMoQWMuc2hpZnRMZWZ0KDEyOCksQWMpO0tjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuRGEpcmV0dXJuIHRoaXMuRGE7Zm9yKHZhciBhPVtdLGI9MzswPD1iO2ItLSl7dmFyIGM9RGModGhpcy5xYixiKSxkPWMmNjU1MzU7YS5wdXNoKChjPj4+MTYpLnRvU3RyaW5nKDE2KSk7YS5wdXNoKGQudG9TdHJpbmcoMTYpKX1mb3IodmFyIGM9Yj0tMSxlPWQ9MCxmPTA7ZjxhLmxlbmd0aDtmKyspXCIwXCI9PWFbZl0/KGUrKywtMT09YyYmKGM9ZiksZT5kJiYoZD1lLGI9YykpOihjPS0xLGU9MCk7MDxkJiYoYitkPT1hLmxlbmd0aCYmYS5wdXNoKFwiXCIpLGEuc3BsaWNlKGIsZCxcIlwiKSwwPT1iJiYoYT1bXCJcIl0uY29uY2F0KGEpKSk7cmV0dXJuIHRoaXMuRGE9YS5qb2luKFwiOlwiKX07dmFyIFRjPWZ1bmN0aW9uKCl7dGhpcy5ZYj1cIlwiO3RoaXMuUGQ9U2N9O1RjLnByb3RvdHlwZS5QYj0hMDtUYy5wcm90b3R5cGUuS2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ZYn07VGMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJUcnVzdGVkUmVzb3VyY2VVcmx7XCIrdGhpcy5ZYitcIn1cIn07dmFyIFNjPXt9O3ZhciBWYz1mdW5jdGlvbigpe3RoaXMuamE9XCJcIjt0aGlzLk1kPVVjfTtWYy5wcm90b3R5cGUuUGI9ITA7VmMucHJvdG90eXBlLktiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuamF9O1ZjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiU2FmZUh0bWx7XCIrdGhpcy5qYStcIn1cIn07dmFyIFdjPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBWYyYmYS5jb25zdHJ1Y3Rvcj09PVZjJiZhLk1kPT09VWMpcmV0dXJuIGEuamE7emEoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBTYWZlSHRtbCwgZ290ICdcIithK1wiJyBvZiB0eXBlIFwiK20oYSkpO3JldHVyblwidHlwZV9lcnJvcjpTYWZlSHRtbFwifSxVYz17fTtWYy5wcm90b3R5cGUucWU9ZnVuY3Rpb24oYSl7dGhpcy5qYT1hO3JldHVybiB0aGlzfTshaGImJiF6fHx6JiY5PD1OdW1iZXIocGIpfHxoYiYmQShcIjEuOS4xXCIpO3omJkEoXCI5XCIpO3ZhciBZYz1mdW5jdGlvbihhLGIpe1JhKGIsZnVuY3Rpb24oYixkKXtcInN0eWxlXCI9PWQ/YS5zdHlsZS5jc3NUZXh0PWI6XCJjbGFzc1wiPT1kP2EuY2xhc3NOYW1lPWI6XCJmb3JcIj09ZD9hLmh0bWxGb3I9YjpYYy5oYXNPd25Qcm9wZXJ0eShkKT9hLnNldEF0dHJpYnV0ZShYY1tkXSxiKTowPT1kLmxhc3RJbmRleE9mKFwiYXJpYS1cIiwwKXx8MD09ZC5sYXN0SW5kZXhPZihcImRhdGEtXCIsMCk/YS5zZXRBdHRyaWJ1dGUoZCxiKTphW2RdPWJ9KX0sWGM9e2NlbGxwYWRkaW5nOlwiY2VsbFBhZGRpbmdcIixjZWxsc3BhY2luZzpcImNlbGxTcGFjaW5nXCIsY29sc3BhbjpcImNvbFNwYW5cIixmcmFtZWJvcmRlcjpcImZyYW1lQm9yZGVyXCIsaGVpZ2h0OlwiaGVpZ2h0XCIsbWF4bGVuZ3RoOlwibWF4TGVuZ3RoXCIsbm9uY2U6XCJub25jZVwiLHJvbGU6XCJyb2xlXCIscm93c3BhbjpcInJvd1NwYW5cIix0eXBlOlwidHlwZVwiLHVzZW1hcDpcInVzZU1hcFwiLHZhbGlnbjpcInZBbGlnblwiLHdpZHRoOlwid2lkdGhcIn07dmFyIFpjPWZ1bmN0aW9uKGEsYixjKXt0aGlzLnNlPWM7dGhpcy5WZD1hO3RoaXMuRGU9Yjt0aGlzLlViPTA7dGhpcy5OYj1udWxsfTtaYy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIGE7MDx0aGlzLlViPyh0aGlzLlViLS0sYT10aGlzLk5iLHRoaXMuTmI9YS5uZXh0LGEubmV4dD1udWxsKTphPXRoaXMuVmQoKTtyZXR1cm4gYX07WmMucHJvdG90eXBlLnB1dD1mdW5jdGlvbihhKXt0aGlzLkRlKGEpO3RoaXMuVWI8dGhpcy5zZSYmKHRoaXMuVWIrKyxhLm5leHQ9dGhpcy5OYix0aGlzLk5iPWEpfTt2YXIgJGM9ZnVuY3Rpb24oYSl7bC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgYTt9LDApfSxhZCxiZD1mdW5jdGlvbigpe3ZhciBhPWwuTWVzc2FnZUNoYW5uZWw7XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmd2luZG93LnBvc3RNZXNzYWdlJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmIXkoXCJQcmVzdG9cIikmJihhPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIklGUkFNRVwiKTthLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7YS5zcmM9XCJcIjtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYSk7dmFyIGI9YS5jb250ZW50V2luZG93LGE9Yi5kb2N1bWVudDthLm9wZW4oKTthLndyaXRlKFwiXCIpO2EuY2xvc2UoKTt2YXIgYz1cImNhbGxJbW1lZGlhdGVcIitNYXRoLnJhbmRvbSgpLGQ9XCJmaWxlOlwiPT1iLmxvY2F0aW9uLnByb3RvY29sP1wiKlwiOmIubG9jYXRpb24ucHJvdG9jb2wrXCIvL1wiK2IubG9jYXRpb24uaG9zdCxcbmE9cShmdW5jdGlvbihhKXtpZigoXCIqXCI9PWR8fGEub3JpZ2luPT1kKSYmYS5kYXRhPT1jKXRoaXMucG9ydDEub25tZXNzYWdlKCl9LHRoaXMpO2IuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixhLCExKTt0aGlzLnBvcnQxPXt9O3RoaXMucG9ydDI9e3Bvc3RNZXNzYWdlOmZ1bmN0aW9uKCl7Yi5wb3N0TWVzc2FnZShjLGQpfX19KTtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGEmJiF5KFwiVHJpZGVudFwiKSYmIXkoXCJNU0lFXCIpKXt2YXIgYj1uZXcgYSxjPXt9LGQ9YztiLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe2lmKHZvaWQgMCE9PWMubmV4dCl7Yz1jLm5leHQ7dmFyIGE9Yy5aYztjLlpjPW51bGw7YSgpfX07cmV0dXJuIGZ1bmN0aW9uKGEpe2QubmV4dD17WmM6YX07ZD1kLm5leHQ7Yi5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTQ1JJUFRcIik/XG5mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU0NSSVBUXCIpO2Iub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7Yj1udWxsO2EoKTthPW51bGx9O2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChiKX06ZnVuY3Rpb24oYSl7bC5zZXRUaW1lb3V0KGEsMCl9fTt2YXIgY2Q9ZnVuY3Rpb24oKXt0aGlzLm1jPXRoaXMuS2E9bnVsbH0sZWQ9bmV3IFpjKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBkZH0sZnVuY3Rpb24oYSl7YS5yZXNldCgpfSwxMDApO2NkLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1lZC5nZXQoKTtjLnNldChhLGIpO3RoaXMubWM/dGhpcy5tYy5uZXh0PWM6KHcoIXRoaXMuS2EpLHRoaXMuS2E9Yyk7dGhpcy5tYz1jfTtjZC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIGE9bnVsbDt0aGlzLkthJiYoYT10aGlzLkthLHRoaXMuS2E9dGhpcy5LYS5uZXh0LHRoaXMuS2F8fCh0aGlzLm1jPW51bGwpLGEubmV4dD1udWxsKTtyZXR1cm4gYX07dmFyIGRkPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuc2NvcGU9dGhpcy53Yz1udWxsfTtkZC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dGhpcy53Yz1hO3RoaXMuc2NvcGU9Yjt0aGlzLm5leHQ9bnVsbH07XG5kZC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLm5leHQ9dGhpcy5zY29wZT10aGlzLndjPW51bGx9O3ZhciBqZD1mdW5jdGlvbihhLGIpe2ZkfHxnZCgpO2hkfHwoZmQoKSxoZD0hMCk7aWQuYWRkKGEsYil9LGZkLGdkPWZ1bmN0aW9uKCl7dmFyIGE9bC5Qcm9taXNlO2lmKC0xIT1TdHJpbmcoYSkuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikpe3ZhciBiPWEucmVzb2x2ZSh2b2lkIDApO2ZkPWZ1bmN0aW9uKCl7Yi50aGVuKGtkKX19ZWxzZSBmZD1mdW5jdGlvbigpe3ZhciBhPWtkOyFwKGwuc2V0SW1tZWRpYXRlKXx8bC5XaW5kb3cmJmwuV2luZG93LnByb3RvdHlwZSYmIXkoXCJFZGdlXCIpJiZsLldpbmRvdy5wcm90b3R5cGUuc2V0SW1tZWRpYXRlPT1sLnNldEltbWVkaWF0ZT8oYWR8fChhZD1iZCgpKSxhZChhKSk6bC5zZXRJbW1lZGlhdGUoYSl9fSxoZD0hMSxpZD1uZXcgY2Qsa2Q9ZnVuY3Rpb24oKXtmb3IodmFyIGE7YT1pZC5yZW1vdmUoKTspe3RyeXthLndjLmNhbGwoYS5zY29wZSl9Y2F0Y2goYil7JGMoYil9ZWQucHV0KGEpfWhkPSExfTt2YXIgbGQ9ZnVuY3Rpb24oYSl7YS5wcm90b3R5cGUudGhlbj1hLnByb3RvdHlwZS50aGVuO2EucHJvdG90eXBlLiRnb29nX1RoZW5hYmxlPSEwfSxtZD1mdW5jdGlvbihhKXtpZighYSlyZXR1cm4hMTt0cnl7cmV0dXJuISFhLiRnb29nX1RoZW5hYmxlfWNhdGNoKGIpe3JldHVybiExfX07dmFyIEk9ZnVuY3Rpb24oYSxiKXt0aGlzLkY9MDt0aGlzLmthPXZvaWQgMDt0aGlzLk5hPXRoaXMuZmE9dGhpcy5vPW51bGw7dGhpcy5MYj10aGlzLnZjPSExO2lmKGEhPWJhKXRyeXt2YXIgYz10aGlzO2EuY2FsbChiLGZ1bmN0aW9uKGEpe25kKGMsMixhKX0sZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2Ygb2QpKXRyeXtpZihhIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgYTt0aHJvdyBFcnJvcihcIlByb21pc2UgcmVqZWN0ZWQuXCIpO31jYXRjaChlKXt9bmQoYywzLGEpfSl9Y2F0Y2goZCl7bmQodGhpcywzLGQpfX0scGQ9ZnVuY3Rpb24oKXt0aGlzLm5leHQ9dGhpcy5jb250ZXh0PXRoaXMuVGE9dGhpcy5GYT10aGlzLmNoaWxkPW51bGw7dGhpcy5qYj0hMX07cGQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0PXRoaXMuVGE9dGhpcy5GYT10aGlzLmNoaWxkPW51bGw7dGhpcy5qYj0hMX07XG52YXIgcWQ9bmV3IFpjKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwZH0sZnVuY3Rpb24oYSl7YS5yZXNldCgpfSwxMDApLHJkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1xZC5nZXQoKTtkLkZhPWE7ZC5UYT1iO2QuY29udGV4dD1jO3JldHVybiBkfSxKPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBJKXJldHVybiBhO3ZhciBiPW5ldyBJKGJhKTtuZChiLDIsYSk7cmV0dXJuIGJ9LEs9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBJKGZ1bmN0aW9uKGIsYyl7YyhhKX0pfSx0ZD1mdW5jdGlvbihhLGIsYyl7c2QoYSxiLGMsbnVsbCl8fGpkKGthKGIsYSkpfSx1ZD1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEkoZnVuY3Rpb24oYil7dmFyIGM9YS5sZW5ndGgsZD1bXTtpZihjKWZvcih2YXIgZT1mdW5jdGlvbihhLGUsZil7Yy0tO2RbYV09ZT97ZWU6ITAsdmFsdWU6Zn06e2VlOiExLHJlYXNvbjpmfTswPT1jJiZiKGQpfSxmPTAsZztmPGEubGVuZ3RoO2YrKylnPWFbZl0sdGQoZyxrYShlLGYsITApLFxua2EoZSxmLCExKSk7ZWxzZSBiKGQpfSl9O0kucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiLGMpe251bGwhPWEmJkNhKGEsXCJvcHRfb25GdWxmaWxsZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uXCIpO251bGwhPWImJkNhKGIsXCJvcHRfb25SZWplY3RlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi4gRGlkIHlvdSBwYXNzIG9wdF9jb250ZXh0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZCBvZiB0aGUgdGhpcmQ/XCIpO3JldHVybiB2ZCh0aGlzLHAoYSk/YTpudWxsLHAoYik/YjpudWxsLGMpfTtsZChJKTt2YXIgeGQ9ZnVuY3Rpb24oYSxiKXtiPXJkKGIsYix2b2lkIDApO2IuamI9ITA7d2QoYSxiKTtyZXR1cm4gYX07SS5wcm90b3R5cGUubD1mdW5jdGlvbihhLGIpe3JldHVybiB2ZCh0aGlzLG51bGwsYSxiKX07SS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKGEpezA9PXRoaXMuRiYmamQoZnVuY3Rpb24oKXt2YXIgYj1uZXcgb2QoYSk7eWQodGhpcyxiKX0sdGhpcyl9O1xudmFyIHlkPWZ1bmN0aW9uKGEsYil7aWYoMD09YS5GKWlmKGEubyl7dmFyIGM9YS5vO2lmKGMuZmEpe2Zvcih2YXIgZD0wLGU9bnVsbCxmPW51bGwsZz1jLmZhO2cmJihnLmpifHwoZCsrLGcuY2hpbGQ9PWEmJihlPWcpLCEoZSYmMTxkKSkpO2c9Zy5uZXh0KWV8fChmPWcpO2UmJigwPT1jLkYmJjE9PWQ/eWQoYyxiKTooZj8oZD1mLHcoYy5mYSksdyhudWxsIT1kKSxkLm5leHQ9PWMuTmEmJihjLk5hPWQpLGQubmV4dD1kLm5leHQubmV4dCk6emQoYyksQWQoYyxlLDMsYikpKX1hLm89bnVsbH1lbHNlIG5kKGEsMyxiKX0sd2Q9ZnVuY3Rpb24oYSxiKXthLmZhfHwyIT1hLkYmJjMhPWEuRnx8QmQoYSk7dyhudWxsIT1iLkZhKTthLk5hP2EuTmEubmV4dD1iOmEuZmE9YjthLk5hPWJ9LHZkPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXJkKG51bGwsbnVsbCxudWxsKTtlLmNoaWxkPW5ldyBJKGZ1bmN0aW9uKGEsZyl7ZS5GYT1iP2Z1bmN0aW9uKGMpe3RyeXt2YXIgZT1iLmNhbGwoZCxjKTthKGUpfWNhdGNoKHNhKXtnKHNhKX19OlxuYTtlLlRhPWM/ZnVuY3Rpb24oYil7dHJ5e3ZhciBlPWMuY2FsbChkLGIpO3ZvaWQgMD09PWUmJmIgaW5zdGFuY2VvZiBvZD9nKGIpOmEoZSl9Y2F0Y2goc2Epe2coc2EpfX06Z30pO2UuY2hpbGQubz1hO3dkKGEsZSk7cmV0dXJuIGUuY2hpbGR9O0kucHJvdG90eXBlLk1lPWZ1bmN0aW9uKGEpe3coMT09dGhpcy5GKTt0aGlzLkY9MDtuZCh0aGlzLDIsYSl9O0kucHJvdG90eXBlLk5lPWZ1bmN0aW9uKGEpe3coMT09dGhpcy5GKTt0aGlzLkY9MDtuZCh0aGlzLDMsYSl9O1xudmFyIG5kPWZ1bmN0aW9uKGEsYixjKXswPT1hLkYmJihhPT09YyYmKGI9MyxjPW5ldyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKSksYS5GPTEsc2QoYyxhLk1lLGEuTmUsYSl8fChhLmthPWMsYS5GPWIsYS5vPW51bGwsQmQoYSksMyE9Ynx8YyBpbnN0YW5jZW9mIG9kfHxDZChhLGMpKSl9LHNkPWZ1bmN0aW9uKGEsYixjLGQpe2lmKGEgaW5zdGFuY2VvZiBJKXJldHVybiBudWxsIT1iJiZDYShiLFwib3B0X29uRnVsZmlsbGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLlwiKSxudWxsIT1jJiZDYShjLFwib3B0X29uUmVqZWN0ZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgcGFzcyBvcHRfY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQgb2YgdGhlIHRoaXJkP1wiKSx3ZChhLHJkKGJ8fGJhLGN8fG51bGwsZCkpLCEwO2lmKG1kKGEpKXJldHVybiBhLnRoZW4oYixjLGQpLCEwO2lmKGhhKGEpKXRyeXt2YXIgZT1hLnRoZW47aWYocChlKSlyZXR1cm4gRGQoYSxcbmUsYixjLGQpLCEwfWNhdGNoKGYpe3JldHVybiBjLmNhbGwoZCxmKSwhMH1yZXR1cm4hMX0sRGQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0hMSxnPWZ1bmN0aW9uKGEpe2Z8fChmPSEwLGMuY2FsbChlLGEpKX0saz1mdW5jdGlvbihhKXtmfHwoZj0hMCxkLmNhbGwoZSxhKSl9O3RyeXtiLmNhbGwoYSxnLGspfWNhdGNoKHIpe2socil9fSxCZD1mdW5jdGlvbihhKXthLnZjfHwoYS52Yz0hMCxqZChhLiRkLGEpKX0semQ9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDthLmZhJiYoYj1hLmZhLGEuZmE9Yi5uZXh0LGIubmV4dD1udWxsKTthLmZhfHwoYS5OYT1udWxsKTtudWxsIT1iJiZ3KG51bGwhPWIuRmEpO3JldHVybiBifTtJLnByb3RvdHlwZS4kZD1mdW5jdGlvbigpe2Zvcih2YXIgYTthPXpkKHRoaXMpOylBZCh0aGlzLGEsdGhpcy5GLHRoaXMua2EpO3RoaXMudmM9ITF9O1xudmFyIEFkPWZ1bmN0aW9uKGEsYixjLGQpe2lmKDM9PWMmJmIuVGEmJiFiLmpiKWZvcig7YSYmYS5MYjthPWEubylhLkxiPSExO2lmKGIuY2hpbGQpYi5jaGlsZC5vPW51bGwsRWQoYixjLGQpO2Vsc2UgdHJ5e2IuamI/Yi5GYS5jYWxsKGIuY29udGV4dCk6RWQoYixjLGQpfWNhdGNoKGUpe0ZkLmNhbGwobnVsbCxlKX1xZC5wdXQoYil9LEVkPWZ1bmN0aW9uKGEsYixjKXsyPT1iP2EuRmEuY2FsbChhLmNvbnRleHQsYyk6YS5UYSYmYS5UYS5jYWxsKGEuY29udGV4dCxjKX0sQ2Q9ZnVuY3Rpb24oYSxiKXthLkxiPSEwO2pkKGZ1bmN0aW9uKCl7YS5MYiYmRmQuY2FsbChudWxsLGIpfSl9LEZkPSRjLG9kPWZ1bmN0aW9uKGEpe3UuY2FsbCh0aGlzLGEpfTt0KG9kLHUpO29kLnByb3RvdHlwZS5uYW1lPVwiY2FuY2VsXCI7LypcbiBQb3J0aW9ucyBvZiB0aGlzIGNvZGUgYXJlIGZyb20gTW9jaGlLaXQsIHJlY2VpdmVkIGJ5XG4gVGhlIENsb3N1cmUgQXV0aG9ycyB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuIEFsbCBvdGhlciBjb2RlIGlzIENvcHlyaWdodFxuIDIwMDUtMjAwOSBUaGUgQ2xvc3VyZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuKi9cbnZhciBHZD1mdW5jdGlvbihhLGIpe3RoaXMuZGM9W107dGhpcy5wZD1hO3RoaXMuYWQ9Ynx8bnVsbDt0aGlzLm9iPXRoaXMuUmE9ITE7dGhpcy5rYT12b2lkIDA7dGhpcy5QYz10aGlzLlVjPXRoaXMucWM9ITE7dGhpcy5rYz0wO3RoaXMubz1udWxsO3RoaXMucmM9MH07R2QucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXtpZih0aGlzLlJhKXRoaXMua2EgaW5zdGFuY2VvZiBHZCYmdGhpcy5rYS5jYW5jZWwoKTtlbHNle2lmKHRoaXMubyl7dmFyIGI9dGhpcy5vO2RlbGV0ZSB0aGlzLm87YT9iLmNhbmNlbChhKTooYi5yYy0tLDA+PWIucmMmJmIuY2FuY2VsKCkpfXRoaXMucGQ/dGhpcy5wZC5jYWxsKHRoaXMuYWQsdGhpcyk6dGhpcy5QYz0hMDt0aGlzLlJhfHxIZCh0aGlzLG5ldyBJZCl9fTtHZC5wcm90b3R5cGUuJGM9ZnVuY3Rpb24oYSxiKXt0aGlzLnFjPSExO0pkKHRoaXMsYSxiKX07XG52YXIgSmQ9ZnVuY3Rpb24oYSxiLGMpe2EuUmE9ITA7YS5rYT1jO2Eub2I9IWI7S2QoYSl9LE1kPWZ1bmN0aW9uKGEpe2lmKGEuUmEpe2lmKCFhLlBjKXRocm93IG5ldyBMZDthLlBjPSExfX07R2QucHJvdG90eXBlLmNhbGxiYWNrPWZ1bmN0aW9uKGEpe01kKHRoaXMpO05kKGEpO0pkKHRoaXMsITAsYSl9O1xudmFyIEhkPWZ1bmN0aW9uKGEsYil7TWQoYSk7TmQoYik7SmQoYSwhMSxiKX0sTmQ9ZnVuY3Rpb24oYSl7dyghKGEgaW5zdGFuY2VvZiBHZCksXCJBbiBleGVjdXRpb24gc2VxdWVuY2UgbWF5IG5vdCBiZSBpbml0aWF0ZWQgd2l0aCBhIGJsb2NraW5nIERlZmVycmVkLlwiKX0sUmQ9ZnVuY3Rpb24oYSl7dmFyIGI9T2QoXCJodHRwczovL2FwaXMuZ29vZ2xlLmNvbS9qcy9jbGllbnQuanM/b25sb2FkPVwiK1BkKTtRZChiLG51bGwsYSx2b2lkIDApfSxRZD1mdW5jdGlvbihhLGIsYyxkKXt3KCFhLlVjLFwiQmxvY2tpbmcgRGVmZXJyZWRzIGNhbiBub3QgYmUgcmUtdXNlZFwiKTthLmRjLnB1c2goW2IsYyxkXSk7YS5SYSYmS2QoYSl9O0dkLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9bmV3IEkoZnVuY3Rpb24oYSxiKXtkPWE7ZT1ifSk7UWQodGhpcyxkLGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBJZD9mLmNhbmNlbCgpOmUoYSl9KTtyZXR1cm4gZi50aGVuKGEsYixjKX07XG5sZChHZCk7XG52YXIgU2Q9ZnVuY3Rpb24oYSl7cmV0dXJuIEdhKGEuZGMsZnVuY3Rpb24oYSl7cmV0dXJuIHAoYVsxXSl9KX0sS2Q9ZnVuY3Rpb24oYSl7aWYoYS5rYyYmYS5SYSYmU2QoYSkpe3ZhciBiPWEua2MsYz1UZFtiXTtjJiYobC5jbGVhclRpbWVvdXQoYy5wYiksZGVsZXRlIFRkW2JdKTthLmtjPTB9YS5vJiYoYS5vLnJjLS0sZGVsZXRlIGEubyk7Zm9yKHZhciBiPWEua2EsZD1jPSExO2EuZGMubGVuZ3RoJiYhYS5xYzspe3ZhciBlPWEuZGMuc2hpZnQoKSxmPWVbMF0sZz1lWzFdLGU9ZVsyXTtpZihmPWEub2I/ZzpmKXRyeXt2YXIgaz1mLmNhbGwoZXx8YS5hZCxiKTt2b2lkIDAhPT1rJiYoYS5vYj1hLm9iJiYoaz09Ynx8ayBpbnN0YW5jZW9mIEVycm9yKSxhLmthPWI9ayk7aWYobWQoYil8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBsLlByb21pc2UmJmIgaW5zdGFuY2VvZiBsLlByb21pc2UpZD0hMCxhLnFjPSEwfWNhdGNoKHIpe2I9cixhLm9iPSEwLFNkKGEpfHwoYz0hMCl9fWEua2E9YjtkJiZcbihrPXEoYS4kYyxhLCEwKSxkPXEoYS4kYyxhLCExKSxiIGluc3RhbmNlb2YgR2Q/KFFkKGIsayxkKSxiLlVjPSEwKTpiLnRoZW4oayxkKSk7YyYmKGI9bmV3IFVkKGIpLFRkW2IucGJdPWIsYS5rYz1iLnBiKX0sTGQ9ZnVuY3Rpb24oKXt1LmNhbGwodGhpcyl9O3QoTGQsdSk7TGQucHJvdG90eXBlLm1lc3NhZ2U9XCJEZWZlcnJlZCBoYXMgYWxyZWFkeSBmaXJlZFwiO0xkLnByb3RvdHlwZS5uYW1lPVwiQWxyZWFkeUNhbGxlZEVycm9yXCI7dmFyIElkPWZ1bmN0aW9uKCl7dS5jYWxsKHRoaXMpfTt0KElkLHUpO0lkLnByb3RvdHlwZS5tZXNzYWdlPVwiRGVmZXJyZWQgd2FzIGNhbmNlbGVkXCI7SWQucHJvdG90eXBlLm5hbWU9XCJDYW5jZWxlZEVycm9yXCI7dmFyIFVkPWZ1bmN0aW9uKGEpe3RoaXMucGI9bC5zZXRUaW1lb3V0KHEodGhpcy5MZSx0aGlzKSwwKTt0aGlzLko9YX07XG5VZC5wcm90b3R5cGUuTGU9ZnVuY3Rpb24oKXt3KFRkW3RoaXMucGJdLFwiQ2Fubm90IHRocm93IGFuIGVycm9yIHRoYXQgaXMgbm90IHNjaGVkdWxlZC5cIik7ZGVsZXRlIFRkW3RoaXMucGJdO3Rocm93IHRoaXMuSjt9O3ZhciBUZD17fTt2YXIgT2Q9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFRjO2IuWWI9YTtyZXR1cm4gVmQoYil9LFZkPWZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9Yi5kb2N1bWVudHx8ZG9jdW1lbnQsZDthIGluc3RhbmNlb2YgVGMmJmEuY29uc3RydWN0b3I9PT1UYyYmYS5QZD09PVNjP2Q9YS5ZYjooemEoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBUcnVzdGVkUmVzb3VyY2VVcmwsIGdvdCAnXCIrYStcIicgb2YgdHlwZSBcIittKGEpKSxkPVwidHlwZV9lcnJvcjpUcnVzdGVkUmVzb3VyY2VVcmxcIik7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNDUklQVFwiKTthPXt4ZDplLHpiOnZvaWQgMH07dmFyIGY9bmV3IEdkKFdkLGEpLGc9bnVsbCxrPW51bGwhPWIudGltZW91dD9iLnRpbWVvdXQ6NUUzOzA8ayYmKGc9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtYZChlLCEwKTtIZChmLG5ldyBZZCgxLFwiVGltZW91dCByZWFjaGVkIGZvciBsb2FkaW5nIHNjcmlwdCBcIitkKSl9LGspLGEuemI9Zyk7ZS5vbmxvYWQ9XG5lLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2UucmVhZHlTdGF0ZSYmXCJsb2FkZWRcIiE9ZS5yZWFkeVN0YXRlJiZcImNvbXBsZXRlXCIhPWUucmVhZHlTdGF0ZXx8KFhkKGUsYi5YZXx8ITEsZyksZi5jYWxsYmFjayhudWxsKSl9O2Uub25lcnJvcj1mdW5jdGlvbigpe1hkKGUsITAsZyk7SGQoZixuZXcgWWQoMCxcIkVycm9yIHdoaWxlIGxvYWRpbmcgc2NyaXB0IFwiK2QpKX07YT1iLmF0dHJpYnV0ZXN8fHt9O1lhKGEse3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIixjaGFyc2V0OlwiVVRGLThcIixzcmM6ZH0pO1ljKGUsYSk7WmQoYykuYXBwZW5kQ2hpbGQoZSk7cmV0dXJuIGZ9LFpkPWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybihiPShhfHxkb2N1bWVudCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJIRUFEXCIpKSYmMCE9Yi5sZW5ndGg/YlswXTphLmRvY3VtZW50RWxlbWVudH0sV2Q9ZnVuY3Rpb24oKXtpZih0aGlzJiZ0aGlzLnhkKXt2YXIgYT10aGlzLnhkO2EmJlwiU0NSSVBUXCI9PWEudGFnTmFtZSYmXG5YZChhLCEwLHRoaXMuemIpfX0sWGQ9ZnVuY3Rpb24oYSxiLGMpe251bGwhPWMmJmwuY2xlYXJUaW1lb3V0KGMpO2Eub25sb2FkPWJhO2Eub25lcnJvcj1iYTthLm9ucmVhZHlzdGF0ZWNoYW5nZT1iYTtiJiZ3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EmJmEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfSwwKX0sWWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1cIkpzbG9hZGVyIGVycm9yIChjb2RlICNcIithK1wiKVwiO2ImJihjKz1cIjogXCIrYik7dS5jYWxsKHRoaXMsYyk7dGhpcy5jb2RlPWF9O3QoWWQsdSk7dmFyICRkPWZ1bmN0aW9uKCl7eWIuY2FsbCh0aGlzKTt0aGlzLlk9bmV3IEZiKHRoaXMpO3RoaXMuU2Q9dGhpczt0aGlzLkZjPW51bGx9O3QoJGQseWIpOyRkLnByb3RvdHlwZVtCYl09ITA7aD0kZC5wcm90b3R5cGU7aC5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjLGQpe0xiKHRoaXMsYSxiLGMsZCl9O2gucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyxkKXtVYih0aGlzLGEsYixjLGQpfTtcbmguZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhKXthZSh0aGlzKTt2YXIgYixjPXRoaXMuRmM7aWYoYyl7Yj1bXTtmb3IodmFyIGQ9MTtjO2M9Yy5GYyliLnB1c2goYyksdygxRTM+KytkLFwiaW5maW5pdGUgbG9vcFwiKX1jPXRoaXMuU2Q7ZD1hLnR5cGV8fGE7aWYobihhKSlhPW5ldyB6YihhLGMpO2Vsc2UgaWYoYSBpbnN0YW5jZW9mIHpiKWEudGFyZ2V0PWEudGFyZ2V0fHxjO2Vsc2V7dmFyIGU9YTthPW5ldyB6YihkLGMpO1lhKGEsZSl9dmFyIGU9ITAsZjtpZihiKWZvcih2YXIgZz1iLmxlbmd0aC0xOyFhLldhJiYwPD1nO2ctLSlmPWEuY3VycmVudFRhcmdldD1iW2ddLGU9YmUoZixkLCEwLGEpJiZlO2EuV2F8fChmPWEuY3VycmVudFRhcmdldD1jLGU9YmUoZixkLCEwLGEpJiZlLGEuV2F8fChlPWJlKGYsZCwhMSxhKSYmZSkpO2lmKGIpZm9yKGc9MDshYS5XYSYmZzxiLmxlbmd0aDtnKyspZj1hLmN1cnJlbnRUYXJnZXQ9YltnXSxlPWJlKGYsZCwhMSxhKSYmZTtyZXR1cm4gZX07XG5oLlBhPWZ1bmN0aW9uKCl7JGQuUmMuUGEuY2FsbCh0aGlzKTtpZih0aGlzLlkpe3ZhciBhPXRoaXMuWSxiPTAsYztmb3IoYyBpbiBhLncpe2Zvcih2YXIgZD1hLndbY10sZT0wO2U8ZC5sZW5ndGg7ZSsrKSsrYixFYihkW2VdKTtkZWxldGUgYS53W2NdO2EuQWItLX19dGhpcy5GYz1udWxsfTtoLmxpc3Rlbj1mdW5jdGlvbihhLGIsYyxkKXthZSh0aGlzKTtyZXR1cm4gdGhpcy5ZLmFkZChTdHJpbmcoYSksYiwhMSxjLGQpfTtcbnZhciBUYj1mdW5jdGlvbihhLGIsYyxkLGUpe2EuWS5hZGQoU3RyaW5nKGIpLGMsITAsZCxlKX0sYmU9ZnVuY3Rpb24oYSxiLGMsZCl7Yj1hLlkud1tTdHJpbmcoYildO2lmKCFiKXJldHVybiEwO2I9Yi5jb25jYXQoKTtmb3IodmFyIGU9ITAsZj0wO2Y8Yi5sZW5ndGg7KytmKXt2YXIgZz1iW2ZdO2lmKGcmJiFnLmFiJiZnLkViPT1jKXt2YXIgaz1nLmxpc3RlbmVyLHI9Zy5NYnx8Zy5zcmM7Zy5EYiYmSGIoYS5ZLGcpO2U9ITEhPT1rLmNhbGwocixkKSYmZX19cmV0dXJuIGUmJjAhPWQud2R9OyRkLnByb3RvdHlwZS54Yz1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5ZLnhjKFN0cmluZyhhKSxiLGMsZCl9O3ZhciBhZT1mdW5jdGlvbihhKXt3KGEuWSxcIkV2ZW50IHRhcmdldCBpcyBub3QgaW5pdGlhbGl6ZWQuIERpZCB5b3UgY2FsbCB0aGUgc3VwZXJjbGFzcyAoZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpIGNvbnN0cnVjdG9yP1wiKX07dmFyIGNlPVwiU3RvcEl0ZXJhdGlvblwiaW4gbD9sLlN0b3BJdGVyYXRpb246e21lc3NhZ2U6XCJTdG9wSXRlcmF0aW9uXCIsc3RhY2s6XCJcIn0sZGU9ZnVuY3Rpb24oKXt9O2RlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dGhyb3cgY2U7fTtkZS5wcm90b3R5cGUuUmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIGVlPWZ1bmN0aW9uKGEsYil7dGhpcy5aPXt9O3RoaXMucz1bXTt0aGlzLm5hPXRoaXMuaT0wO3ZhciBjPWFyZ3VtZW50cy5sZW5ndGg7aWYoMTxjKXtpZihjJTIpdGhyb3cgRXJyb3IoXCJVbmV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50c1wiKTtmb3IodmFyIGQ9MDtkPGM7ZCs9Mil0aGlzLnNldChhcmd1bWVudHNbZF0sYXJndW1lbnRzW2QrMV0pfWVsc2UgYSYmdGhpcy5hZGRBbGwoYSl9O2g9ZWUucHJvdG90eXBlO2guZmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtoLlQ9ZnVuY3Rpb24oKXtmZSh0aGlzKTtmb3IodmFyIGE9W10sYj0wO2I8dGhpcy5zLmxlbmd0aDtiKyspYS5wdXNoKHRoaXMuWlt0aGlzLnNbYl1dKTtyZXR1cm4gYX07aC5oYT1mdW5jdGlvbigpe2ZlKHRoaXMpO3JldHVybiB0aGlzLnMuY29uY2F0KCl9O2gua2I9ZnVuY3Rpb24oYSl7cmV0dXJuIGdlKHRoaXMuWixhKX07XG5oLkdiPWZ1bmN0aW9uKGEsYil7aWYodGhpcz09PWEpcmV0dXJuITA7aWYodGhpcy5pIT1hLmZkKCkpcmV0dXJuITE7Yj1ifHxoZTtmZSh0aGlzKTtmb3IodmFyIGMsZD0wO2M9dGhpcy5zW2RdO2QrKylpZighYih0aGlzLmdldChjKSxhLmdldChjKSkpcmV0dXJuITE7cmV0dXJuITB9O3ZhciBoZT1mdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn07ZWUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXtyZXR1cm4gZ2UodGhpcy5aLGEpPyhkZWxldGUgdGhpcy5aW2FdLHRoaXMuaS0tLHRoaXMubmErKyx0aGlzLnMubGVuZ3RoPjIqdGhpcy5pJiZmZSh0aGlzKSwhMCk6ITF9O1xudmFyIGZlPWZ1bmN0aW9uKGEpe2lmKGEuaSE9YS5zLmxlbmd0aCl7Zm9yKHZhciBiPTAsYz0wO2I8YS5zLmxlbmd0aDspe3ZhciBkPWEuc1tiXTtnZShhLlosZCkmJihhLnNbYysrXT1kKTtiKyt9YS5zLmxlbmd0aD1jfWlmKGEuaSE9YS5zLmxlbmd0aCl7Zm9yKHZhciBlPXt9LGM9Yj0wO2I8YS5zLmxlbmd0aDspZD1hLnNbYl0sZ2UoZSxkKXx8KGEuc1tjKytdPWQsZVtkXT0xKSxiKys7YS5zLmxlbmd0aD1jfX07aD1lZS5wcm90b3R5cGU7aC5nZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZ2UodGhpcy5aLGEpP3RoaXMuWlthXTpifTtoLnNldD1mdW5jdGlvbihhLGIpe2dlKHRoaXMuWixhKXx8KHRoaXMuaSsrLHRoaXMucy5wdXNoKGEpLHRoaXMubmErKyk7dGhpcy5aW2FdPWJ9O1xuaC5hZGRBbGw9ZnVuY3Rpb24oYSl7dmFyIGI7YSBpbnN0YW5jZW9mIGVlPyhiPWEuaGEoKSxhPWEuVCgpKTooYj1UYShhKSxhPVNhKGEpKTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl0aGlzLnNldChiW2NdLGFbY10pfTtoLmZvckVhY2g9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5oYSgpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxmPXRoaXMuZ2V0KGUpO2EuY2FsbChiLGYsZSx0aGlzKX19O2guY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGVlKHRoaXMpfTtoLlJkPWZ1bmN0aW9uKGEpe2ZlKHRoaXMpO3ZhciBiPTAsYz10aGlzLm5hLGQ9dGhpcyxlPW5ldyBkZTtlLm5leHQ9ZnVuY3Rpb24oKXtpZihjIT1kLm5hKXRocm93IEVycm9yKFwiVGhlIG1hcCBoYXMgY2hhbmdlZCBzaW5jZSB0aGUgaXRlcmF0b3Igd2FzIGNyZWF0ZWRcIik7aWYoYj49ZC5zLmxlbmd0aCl0aHJvdyBjZTt2YXIgZT1kLnNbYisrXTtyZXR1cm4gYT9lOmQuWltlXX07cmV0dXJuIGV9O1xudmFyIGdlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpfTt2YXIgaWU9ZnVuY3Rpb24oYSl7aWYoYS5UJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLlQpcmV0dXJuIGEuVCgpO2lmKG4oYSkpcmV0dXJuIGEuc3BsaXQoXCJcIik7aWYoZmEoYSkpe2Zvcih2YXIgYj1bXSxjPWEubGVuZ3RoLGQ9MDtkPGM7ZCsrKWIucHVzaChhW2RdKTtyZXR1cm4gYn1yZXR1cm4gU2EoYSl9LGplPWZ1bmN0aW9uKGEpe2lmKGEuaGEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuaGEpcmV0dXJuIGEuaGEoKTtpZighYS5UfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLlQpe2lmKGZhKGEpfHxuKGEpKXt2YXIgYj1bXTthPWEubGVuZ3RoO2Zvcih2YXIgYz0wO2M8YTtjKyspYi5wdXNoKGMpO3JldHVybiBifXJldHVybiBUYShhKX19LGtlPWZ1bmN0aW9uKGEsYil7aWYoYS5mb3JFYWNoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmZvckVhY2gpYS5mb3JFYWNoKGIsdm9pZCAwKTtlbHNlIGlmKGZhKGEpfHxuKGEpKXgoYSxiLHZvaWQgMCk7ZWxzZSBmb3IodmFyIGM9amUoYSksZD1pZShhKSxlPVxuZC5sZW5ndGgsZj0wO2Y8ZTtmKyspYi5jYWxsKHZvaWQgMCxkW2ZdLGMmJmNbZl0sYSl9O3ZhciBsZT1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMucmVzZXQoYSxiLGMsZCxlKX07bGUucHJvdG90eXBlLmNkPW51bGw7dmFyIG1lPTA7bGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKGEsYixjLGQsZSl7XCJudW1iZXJcIj09dHlwZW9mIGV8fG1lKys7ZHx8bGEoKTt0aGlzLnNiPWE7dGhpcy53ZT1iO2RlbGV0ZSB0aGlzLmNkfTtsZS5wcm90b3R5cGUuQWQ9ZnVuY3Rpb24oYSl7dGhpcy5zYj1hfTt2YXIgbmU9ZnVuY3Rpb24oYSl7dGhpcy54ZT1hO3RoaXMuaGQ9dGhpcy5zYz10aGlzLnNiPXRoaXMubz1udWxsfSxvZT1mdW5jdGlvbihhLGIpe3RoaXMubmFtZT1hO3RoaXMudmFsdWU9Yn07b2UucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX07dmFyIHBlPW5ldyBvZShcIlNFVkVSRVwiLDFFMykscWU9bmV3IG9lKFwiQ09ORklHXCIsNzAwKSxyZT1uZXcgb2UoXCJGSU5FXCIsNTAwKTtuZS5wcm90b3R5cGUuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub307bmUucHJvdG90eXBlLkFkPWZ1bmN0aW9uKGEpe3RoaXMuc2I9YX07dmFyIHNlPWZ1bmN0aW9uKGEpe2lmKGEuc2IpcmV0dXJuIGEuc2I7aWYoYS5vKXJldHVybiBzZShhLm8pO3phKFwiUm9vdCBsb2dnZXIgaGFzIG5vIGxldmVsIHNldC5cIik7cmV0dXJuIG51bGx9O1xubmUucHJvdG90eXBlLmxvZz1mdW5jdGlvbihhLGIsYyl7aWYoYS52YWx1ZT49c2UodGhpcykudmFsdWUpZm9yKHAoYikmJihiPWIoKSksYT1uZXcgbGUoYSxTdHJpbmcoYiksdGhpcy54ZSksYyYmKGEuY2Q9YyksYz1cImxvZzpcIithLndlLGwuY29uc29sZSYmKGwuY29uc29sZS50aW1lU3RhbXA/bC5jb25zb2xlLnRpbWVTdGFtcChjKTpsLmNvbnNvbGUubWFya1RpbWVsaW5lJiZsLmNvbnNvbGUubWFya1RpbWVsaW5lKGMpKSxsLm1zV3JpdGVQcm9maWxlck1hcmsmJmwubXNXcml0ZVByb2ZpbGVyTWFyayhjKSxjPXRoaXM7Yzspe2I9Yzt2YXIgZD1hO2lmKGIuaGQpZm9yKHZhciBlPTAsZjtmPWIuaGRbZV07ZSsrKWYoZCk7Yz1jLmdldFBhcmVudCgpfX07XG52YXIgdGU9e30sdWU9bnVsbCx2ZT1mdW5jdGlvbihhKXt1ZXx8KHVlPW5ldyBuZShcIlwiKSx0ZVtcIlwiXT11ZSx1ZS5BZChxZSkpO3ZhciBiO2lmKCEoYj10ZVthXSkpe2I9bmV3IG5lKGEpO3ZhciBjPWEubGFzdEluZGV4T2YoXCIuXCIpLGQ9YS5zdWJzdHIoYysxKSxjPXZlKGEuc3Vic3RyKDAsYykpO2Muc2N8fChjLnNjPXt9KTtjLnNjW2RdPWI7Yi5vPWM7dGVbYV09Yn1yZXR1cm4gYn07dmFyIEw9ZnVuY3Rpb24oYSxiKXthJiZhLmxvZyhyZSxiLHZvaWQgMCl9O3ZhciB3ZT1mdW5jdGlvbihhLGIsYyl7aWYocChhKSljJiYoYT1xKGEsYykpO2Vsc2UgaWYoYSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5oYW5kbGVFdmVudClhPXEoYS5oYW5kbGVFdmVudCxhKTtlbHNlIHRocm93IEVycm9yKFwiSW52YWxpZCBsaXN0ZW5lciBhcmd1bWVudFwiKTtyZXR1cm4gMjE0NzQ4MzY0NzxOdW1iZXIoYik/LTE6bC5zZXRUaW1lb3V0KGEsYnx8MCl9LHhlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7cmV0dXJuKG5ldyBJKGZ1bmN0aW9uKGMsZCl7Yj13ZShmdW5jdGlvbigpe2Modm9pZCAwKX0sYSk7LTE9PWImJmQoRXJyb3IoXCJGYWlsZWQgdG8gc2NoZWR1bGUgdGltZXIuXCIpKX0pKS5sKGZ1bmN0aW9uKGEpe2wuY2xlYXJUaW1lb3V0KGIpO3Rocm93IGE7fSl9O3ZhciB5ZT0vXig/OihbXjovPyMuXSspOik/KD86XFwvXFwvKD86KFteLz8jXSopQCk/KFteLyM/XSo/KSg/OjooWzAtOV0rKSk/KD89Wy8jP118JCkpPyhbXj8jXSspPyg/OlxcPyhbXiNdKikpPyg/OiMoW1xcc1xcU10qKSk/JC8semU9ZnVuY3Rpb24oYSxiKXtpZihhKXthPWEuc3BsaXQoXCImXCIpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdLmluZGV4T2YoXCI9XCIpLGUsZj1udWxsOzA8PWQ/KGU9YVtjXS5zdWJzdHJpbmcoMCxkKSxmPWFbY10uc3Vic3RyaW5nKGQrMSkpOmU9YVtjXTtiKGUsZj9kZWNvZGVVUklDb21wb25lbnQoZi5yZXBsYWNlKC9cXCsvZyxcIiBcIikpOlwiXCIpfX19O3ZhciBNPWZ1bmN0aW9uKGEpeyRkLmNhbGwodGhpcyk7dGhpcy5oZWFkZXJzPW5ldyBlZTt0aGlzLm9jPWF8fG51bGw7dGhpcy5wYT0hMTt0aGlzLm5jPXRoaXMuYT1udWxsO3RoaXMucmI9dGhpcy5uZD10aGlzLlRiPVwiXCI7dGhpcy5DYT10aGlzLkFjPXRoaXMuUWI9dGhpcy51Yz0hMTt0aGlzLmdiPTA7dGhpcy5qYz1udWxsO3RoaXMudmQ9XCJcIjt0aGlzLmxjPXRoaXMuQ2U9dGhpcy5JZD0hMX07dChNLCRkKTt2YXIgQWU9TS5wcm90b3R5cGUsQmU9dmUoXCJnb29nLm5ldC5YaHJJb1wiKTtBZS5QPUJlO3ZhciBDZT0vXmh0dHBzPyQvaSxEZT1bXCJQT1NUXCIsXCJQVVRcIl07XG5NLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEsYixjLGQpe2lmKHRoaXMuYSl0aHJvdyBFcnJvcihcIltnb29nLm5ldC5YaHJJb10gT2JqZWN0IGlzIGFjdGl2ZSB3aXRoIGFub3RoZXIgcmVxdWVzdD1cIit0aGlzLlRiK1wiOyBuZXdVcmk9XCIrYSk7Yj1iP2IudG9VcHBlckNhc2UoKTpcIkdFVFwiO3RoaXMuVGI9YTt0aGlzLnJiPVwiXCI7dGhpcy5uZD1iO3RoaXMudWM9ITE7dGhpcy5wYT0hMDt0aGlzLmE9dGhpcy5vYz90aGlzLm9jLmxiKCk6cmMubGIoKTt0aGlzLm5jPXRoaXMub2M/cWModGhpcy5vYyk6cWMocmMpO3RoaXMuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9cSh0aGlzLnNkLHRoaXMpO3RoaXMuQ2UmJlwib25wcm9ncmVzc1wiaW4gdGhpcy5hJiYodGhpcy5hLm9ucHJvZ3Jlc3M9cShmdW5jdGlvbihhKXt0aGlzLnJkKGEsITApfSx0aGlzKSx0aGlzLmEudXBsb2FkJiYodGhpcy5hLnVwbG9hZC5vbnByb2dyZXNzPXEodGhpcy5yZCx0aGlzKSkpO3RyeXtMKHRoaXMuUCxFZSh0aGlzLFwiT3BlbmluZyBYaHJcIikpLFxudGhpcy5BYz0hMCx0aGlzLmEub3BlbihiLFN0cmluZyhhKSwhMCksdGhpcy5BYz0hMX1jYXRjaChmKXtMKHRoaXMuUCxFZSh0aGlzLFwiRXJyb3Igb3BlbmluZyBYaHI6IFwiK2YubWVzc2FnZSkpO3RoaXMuSig1LGYpO3JldHVybn1hPWN8fFwiXCI7dmFyIGU9dGhpcy5oZWFkZXJzLmNsb25lKCk7ZCYma2UoZCxmdW5jdGlvbihhLGIpe2Uuc2V0KGIsYSl9KTtkPUlhKGUuaGEoKSk7Yz1sLkZvcm1EYXRhJiZhIGluc3RhbmNlb2YgbC5Gb3JtRGF0YTshSmEoRGUsYil8fGR8fGN8fGUuc2V0KFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiKTtlLmZvckVhY2goZnVuY3Rpb24oYSxiKXt0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihiLGEpfSx0aGlzKTt0aGlzLnZkJiYodGhpcy5hLnJlc3BvbnNlVHlwZT10aGlzLnZkKTtcIndpdGhDcmVkZW50aWFsc1wiaW4gdGhpcy5hJiZ0aGlzLmEud2l0aENyZWRlbnRpYWxzIT09dGhpcy5JZCYmKHRoaXMuYS53aXRoQ3JlZGVudGlhbHM9XG50aGlzLklkKTt0cnl7RmUodGhpcyksMDx0aGlzLmdiJiYodGhpcy5sYz1HZSh0aGlzLmEpLEwodGhpcy5QLEVlKHRoaXMsXCJXaWxsIGFib3J0IGFmdGVyIFwiK3RoaXMuZ2IrXCJtcyBpZiBpbmNvbXBsZXRlLCB4aHIyIFwiK3RoaXMubGMpKSx0aGlzLmxjPyh0aGlzLmEudGltZW91dD10aGlzLmdiLHRoaXMuYS5vbnRpbWVvdXQ9cSh0aGlzLnpiLHRoaXMpKTp0aGlzLmpjPXdlKHRoaXMuemIsdGhpcy5nYix0aGlzKSksTCh0aGlzLlAsRWUodGhpcyxcIlNlbmRpbmcgcmVxdWVzdFwiKSksdGhpcy5RYj0hMCx0aGlzLmEuc2VuZChhKSx0aGlzLlFiPSExfWNhdGNoKGYpe0wodGhpcy5QLEVlKHRoaXMsXCJTZW5kIGVycm9yOiBcIitmLm1lc3NhZ2UpKSx0aGlzLkooNSxmKX19O3ZhciBHZT1mdW5jdGlvbihhKXtyZXR1cm4geiYmQSg5KSYmZ2EoYS50aW1lb3V0KSYmdm9pZCAwIT09YS5vbnRpbWVvdXR9LEhhPWZ1bmN0aW9uKGEpe3JldHVyblwiY29udGVudC10eXBlXCI9PWEudG9Mb3dlckNhc2UoKX07XG5NLnByb3RvdHlwZS56Yj1mdW5jdGlvbigpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBhYSYmdGhpcy5hJiYodGhpcy5yYj1cIlRpbWVkIG91dCBhZnRlciBcIit0aGlzLmdiK1wibXMsIGFib3J0aW5nXCIsTCh0aGlzLlAsRWUodGhpcyx0aGlzLnJiKSksdGhpcy5kaXNwYXRjaEV2ZW50KFwidGltZW91dFwiKSx0aGlzLmFib3J0KDgpKX07TS5wcm90b3R5cGUuSj1mdW5jdGlvbihhLGIpe3RoaXMucGE9ITE7dGhpcy5hJiYodGhpcy5DYT0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLkNhPSExKTt0aGlzLnJiPWI7SGUodGhpcyk7SWUodGhpcyl9O3ZhciBIZT1mdW5jdGlvbihhKXthLnVjfHwoYS51Yz0hMCxhLmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKSxhLmRpc3BhdGNoRXZlbnQoXCJlcnJvclwiKSl9O1xuTS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmEmJnRoaXMucGEmJihMKHRoaXMuUCxFZSh0aGlzLFwiQWJvcnRpbmdcIikpLHRoaXMucGE9ITEsdGhpcy5DYT0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLkNhPSExLHRoaXMuZGlzcGF0Y2hFdmVudChcImNvbXBsZXRlXCIpLHRoaXMuZGlzcGF0Y2hFdmVudChcImFib3J0XCIpLEllKHRoaXMpKX07TS5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLnBhJiYodGhpcy5wYT0hMSx0aGlzLkNhPSEwLHRoaXMuYS5hYm9ydCgpLHRoaXMuQ2E9ITEpLEllKHRoaXMsITApKTtNLlJjLlBhLmNhbGwodGhpcyl9O00ucHJvdG90eXBlLnNkPWZ1bmN0aW9uKCl7dGhpcy5pc0Rpc3Bvc2VkKCl8fCh0aGlzLkFjfHx0aGlzLlFifHx0aGlzLkNhP0plKHRoaXMpOnRoaXMuQWUoKSl9O00ucHJvdG90eXBlLkFlPWZ1bmN0aW9uKCl7SmUodGhpcyl9O1xudmFyIEplPWZ1bmN0aW9uKGEpe2lmKGEucGEmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhYSlpZihhLm5jWzFdJiY0PT1LZShhKSYmMj09TGUoYSkpTChhLlAsRWUoYSxcIkxvY2FsIHJlcXVlc3QgZXJyb3IgZGV0ZWN0ZWQgYW5kIGlnbm9yZWRcIikpO2Vsc2UgaWYoYS5RYiYmND09S2UoYSkpd2UoYS5zZCwwLGEpO2Vsc2UgaWYoYS5kaXNwYXRjaEV2ZW50KFwicmVhZHlzdGF0ZWNoYW5nZVwiKSw0PT1LZShhKSl7TChhLlAsRWUoYSxcIlJlcXVlc3QgY29tcGxldGVcIikpO2EucGE9ITE7dHJ5e3ZhciBiPUxlKGEpLGM7YTpzd2l0Y2goYil7Y2FzZSAyMDA6Y2FzZSAyMDE6Y2FzZSAyMDI6Y2FzZSAyMDQ6Y2FzZSAyMDY6Y2FzZSAzMDQ6Y2FzZSAxMjIzOmM9ITA7YnJlYWsgYTtkZWZhdWx0OmM9ITF9dmFyIGQ7aWYoIShkPWMpKXt2YXIgZTtpZihlPTA9PT1iKXt2YXIgZj1TdHJpbmcoYS5UYikubWF0Y2goeWUpWzFdfHxudWxsO2lmKCFmJiZsLnNlbGYmJmwuc2VsZi5sb2NhdGlvbil2YXIgZz1sLnNlbGYubG9jYXRpb24ucHJvdG9jb2wsXG5mPWcuc3Vic3RyKDAsZy5sZW5ndGgtMSk7ZT0hQ2UudGVzdChmP2YudG9Mb3dlckNhc2UoKTpcIlwiKX1kPWV9aWYoZClhLmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKSxhLmRpc3BhdGNoRXZlbnQoXCJzdWNjZXNzXCIpO2Vsc2V7dmFyIGs7dHJ5e2s9MjxLZShhKT9hLmEuc3RhdHVzVGV4dDpcIlwifWNhdGNoKHIpe0woYS5QLFwiQ2FuIG5vdCBnZXQgc3RhdHVzOiBcIityLm1lc3NhZ2UpLGs9XCJcIn1hLnJiPWsrXCIgW1wiK0xlKGEpK1wiXVwiO0hlKGEpfX1maW5hbGx5e0llKGEpfX19O00ucHJvdG90eXBlLnJkPWZ1bmN0aW9uKGEsYil7dyhcInByb2dyZXNzXCI9PT1hLnR5cGUsXCJnb29nLm5ldC5FdmVudFR5cGUuUFJPR1JFU1MgaXMgb2YgdGhlIHNhbWUgdHlwZSBhcyByYXcgWEhSIHByb2dyZXNzLlwiKTt0aGlzLmRpc3BhdGNoRXZlbnQoTWUoYSxcInByb2dyZXNzXCIpKTt0aGlzLmRpc3BhdGNoRXZlbnQoTWUoYSxiP1wiZG93bmxvYWRwcm9ncmVzc1wiOlwidXBsb2FkcHJvZ3Jlc3NcIikpfTtcbnZhciBNZT1mdW5jdGlvbihhLGIpe3JldHVybnt0eXBlOmIsbGVuZ3RoQ29tcHV0YWJsZTphLmxlbmd0aENvbXB1dGFibGUsbG9hZGVkOmEubG9hZGVkLHRvdGFsOmEudG90YWx9fSxJZT1mdW5jdGlvbihhLGIpe2lmKGEuYSl7RmUoYSk7dmFyIGM9YS5hLGQ9YS5uY1swXT9iYTpudWxsO2EuYT1udWxsO2EubmM9bnVsbDtifHxhLmRpc3BhdGNoRXZlbnQoXCJyZWFkeVwiKTt0cnl7Yy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZH1jYXRjaChlKXsoYT1hLlApJiZhLmxvZyhwZSxcIlByb2JsZW0gZW5jb3VudGVyZWQgcmVzZXR0aW5nIG9ucmVhZHlzdGF0ZWNoYW5nZTogXCIrZS5tZXNzYWdlLHZvaWQgMCl9fX0sRmU9ZnVuY3Rpb24oYSl7YS5hJiZhLmxjJiYoYS5hLm9udGltZW91dD1udWxsKTtnYShhLmpjKSYmKGwuY2xlYXJUaW1lb3V0KGEuamMpLGEuamM9bnVsbCl9LEtlPWZ1bmN0aW9uKGEpe3JldHVybiBhLmE/YS5hLnJlYWR5U3RhdGU6MH0sTGU9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiAyPEtlKGEpP1xuYS5hLnN0YXR1czotMX1jYXRjaChiKXtyZXR1cm4tMX19LE5lPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gYS5hP2EuYS5yZXNwb25zZVRleHQ6XCJcIn1jYXRjaChiKXtyZXR1cm4gTChhLlAsXCJDYW4gbm90IGdldCByZXNwb25zZVRleHQ6IFwiK2IubWVzc2FnZSksXCJcIn19LEVlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrXCIgW1wiK2EubmQrXCIgXCIrYS5UYitcIiBcIitMZShhKStcIl1cIn07dmFyIE9lPWZ1bmN0aW9uKGEsYil7dGhpcy5nYT10aGlzLkphPXRoaXMubGE9XCJcIjt0aGlzLlZhPW51bGw7dGhpcy5CYT10aGlzLnJhPVwiXCI7dGhpcy5NPXRoaXMucmU9ITE7dmFyIGM7YSBpbnN0YW5jZW9mIE9lPyh0aGlzLk09dm9pZCAwIT09Yj9iOmEuTSxQZSh0aGlzLGEubGEpLGM9YS5KYSxOKHRoaXMpLHRoaXMuSmE9YyxRZSh0aGlzLGEuZ2EpLFJlKHRoaXMsYS5WYSksU2UodGhpcyxhLnJhKSxUZSh0aGlzLGEuYWEuY2xvbmUoKSksYT1hLkJhLE4odGhpcyksdGhpcy5CYT1hKTphJiYoYz1TdHJpbmcoYSkubWF0Y2goeWUpKT8odGhpcy5NPSEhYixQZSh0aGlzLGNbMV18fFwiXCIsITApLGE9Y1syXXx8XCJcIixOKHRoaXMpLHRoaXMuSmE9VWUoYSksUWUodGhpcyxjWzNdfHxcIlwiLCEwKSxSZSh0aGlzLGNbNF0pLFNlKHRoaXMsY1s1XXx8XCJcIiwhMCksVGUodGhpcyxjWzZdfHxcIlwiLCEwKSxhPWNbN118fFwiXCIsTih0aGlzKSx0aGlzLkJhPVVlKGEpKToodGhpcy5NPSEhYix0aGlzLmFhPW5ldyBPKG51bGwsXG4wLHRoaXMuTSkpfTtPZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMubGE7YiYmYS5wdXNoKFZlKGIsV2UsITApLFwiOlwiKTt2YXIgYz10aGlzLmdhO2lmKGN8fFwiZmlsZVwiPT1iKWEucHVzaChcIi8vXCIpLChiPXRoaXMuSmEpJiZhLnB1c2goVmUoYixXZSwhMCksXCJAXCIpLGEucHVzaChlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGMpKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csXCIlJDFcIikpLGM9dGhpcy5WYSxudWxsIT1jJiZhLnB1c2goXCI6XCIsU3RyaW5nKGMpKTtpZihjPXRoaXMucmEpdGhpcy5nYSYmXCIvXCIhPWMuY2hhckF0KDApJiZhLnB1c2goXCIvXCIpLGEucHVzaChWZShjLFwiL1wiPT1jLmNoYXJBdCgwKT9YZTpZZSwhMCkpOyhjPXRoaXMuYWEudG9TdHJpbmcoKSkmJmEucHVzaChcIj9cIixjKTsoYz10aGlzLkJhKSYmYS5wdXNoKFwiI1wiLFZlKGMsWmUpKTtyZXR1cm4gYS5qb2luKFwiXCIpfTtcbk9lLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoKSxjPSEhYS5sYTtjP1BlKGIsYS5sYSk6Yz0hIWEuSmE7aWYoYyl7dmFyIGQ9YS5KYTtOKGIpO2IuSmE9ZH1lbHNlIGM9ISFhLmdhO2M/UWUoYixhLmdhKTpjPW51bGwhPWEuVmE7ZD1hLnJhO2lmKGMpUmUoYixhLlZhKTtlbHNlIGlmKGM9ISFhLnJhKXtpZihcIi9cIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5nYSYmIXRoaXMucmEpZD1cIi9cIitkO2Vsc2V7dmFyIGU9Yi5yYS5sYXN0SW5kZXhPZihcIi9cIik7LTEhPWUmJihkPWIucmEuc3Vic3RyKDAsZSsxKStkKX1lPWQ7aWYoXCIuLlwiPT1lfHxcIi5cIj09ZSlkPVwiXCI7ZWxzZSBpZih2KGUsXCIuL1wiKXx8dihlLFwiLy5cIikpe2Zvcih2YXIgZD0wPT1lLmxhc3RJbmRleE9mKFwiL1wiLDApLGU9ZS5zcGxpdChcIi9cIiksZj1bXSxnPTA7ZzxlLmxlbmd0aDspe3ZhciBrPWVbZysrXTtcIi5cIj09az9kJiZnPT1lLmxlbmd0aCYmZi5wdXNoKFwiXCIpOlwiLi5cIj09az8oKDE8Zi5sZW5ndGh8fFxuMT09Zi5sZW5ndGgmJlwiXCIhPWZbMF0pJiZmLnBvcCgpLGQmJmc9PWUubGVuZ3RoJiZmLnB1c2goXCJcIikpOihmLnB1c2goayksZD0hMCl9ZD1mLmpvaW4oXCIvXCIpfWVsc2UgZD1lfWM/U2UoYixkKTpjPVwiXCIhPT1hLmFhLnRvU3RyaW5nKCk7Yz9UZShiLFVlKGEuYWEudG9TdHJpbmcoKSkpOmM9ISFhLkJhO2MmJihhPWEuQmEsTihiKSxiLkJhPWEpO3JldHVybiBifTtPZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE9lKHRoaXMpfTtcbnZhciBQZT1mdW5jdGlvbihhLGIsYyl7TihhKTthLmxhPWM/VWUoYiwhMCk6YjthLmxhJiYoYS5sYT1hLmxhLnJlcGxhY2UoLzokLyxcIlwiKSl9LFFlPWZ1bmN0aW9uKGEsYixjKXtOKGEpO2EuZ2E9Yz9VZShiLCEwKTpifSxSZT1mdW5jdGlvbihhLGIpe04oYSk7aWYoYil7Yj1OdW1iZXIoYik7aWYoaXNOYU4oYil8fDA+Yil0aHJvdyBFcnJvcihcIkJhZCBwb3J0IG51bWJlciBcIitiKTthLlZhPWJ9ZWxzZSBhLlZhPW51bGx9LFNlPWZ1bmN0aW9uKGEsYixjKXtOKGEpO2EucmE9Yz9VZShiLCEwKTpifSxUZT1mdW5jdGlvbihhLGIsYyl7TihhKTtiIGluc3RhbmNlb2YgTz8oYS5hYT1iLGEuYWEuT2MoYS5NKSk6KGN8fChiPVZlKGIsJGUpKSxhLmFhPW5ldyBPKGIsMCxhLk0pKX0sUD1mdW5jdGlvbihhLGIsYyl7TihhKTthLmFhLnNldChiLGMpfSxOPWZ1bmN0aW9uKGEpe2lmKGEucmUpdGhyb3cgRXJyb3IoXCJUcmllZCB0byBtb2RpZnkgYSByZWFkLW9ubHkgVXJpXCIpO307XG5PZS5wcm90b3R5cGUuT2M9ZnVuY3Rpb24oYSl7dGhpcy5NPWE7dGhpcy5hYSYmdGhpcy5hYS5PYyhhKTtyZXR1cm4gdGhpc307XG52YXIgYWY9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBPZT9hLmNsb25lKCk6bmV3IE9lKGEsdm9pZCAwKX0sYmY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgT2UobnVsbCx2b2lkIDApO1BlKGMsXCJodHRwc1wiKTthJiZRZShjLGEpO2ImJlNlKGMsYik7cmV0dXJuIGN9LFVlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYS5yZXBsYWNlKC8lMjUvZyxcIiUyNTI1XCIpKTpkZWNvZGVVUklDb21wb25lbnQoYSk6XCJcIn0sVmU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuKGEpPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2YpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpKSxhKTpudWxsfSxjZj1mdW5jdGlvbihhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm5cIiVcIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9LFdlPS9bI1xcL1xcP0BdL2csWWU9L1tcXCNcXD86XS9nLFhlPS9bXFwjXFw/XS9nLCRlPS9bXFwjXFw/QF0vZyxcblplPS8jL2csTz1mdW5jdGlvbihhLGIsYyl7dGhpcy5pPXRoaXMuaj1udWxsO3RoaXMuST1hfHxudWxsO3RoaXMuTT0hIWN9LGRmPWZ1bmN0aW9uKGEpe2Euanx8KGEuaj1uZXcgZWUsYS5pPTAsYS5JJiZ6ZShhLkksZnVuY3Rpb24oYixjKXthLmFkZChkZWNvZGVVUklDb21wb25lbnQoYi5yZXBsYWNlKC9cXCsvZyxcIiBcIikpLGMpfSkpfSxmZj1mdW5jdGlvbihhKXt2YXIgYj1qZShhKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgYil0aHJvdyBFcnJvcihcIktleXMgYXJlIHVuZGVmaW5lZFwiKTt2YXIgYz1uZXcgTyhudWxsLDAsdm9pZCAwKTthPWllKGEpO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdLGY9YVtkXTtlYShmKT9lZihjLGUsZik6Yy5hZGQoZSxmKX1yZXR1cm4gY307aD1PLnByb3RvdHlwZTtoLmZkPWZ1bmN0aW9uKCl7ZGYodGhpcyk7cmV0dXJuIHRoaXMuaX07XG5oLmFkZD1mdW5jdGlvbihhLGIpe2RmKHRoaXMpO3RoaXMuST1udWxsO2E9dGhpcy5LKGEpO3ZhciBjPXRoaXMuai5nZXQoYSk7Y3x8dGhpcy5qLnNldChhLGM9W10pO2MucHVzaChiKTt0aGlzLmk9QWEodGhpcy5pKSsxO3JldHVybiB0aGlzfTtoLnJlbW92ZT1mdW5jdGlvbihhKXtkZih0aGlzKTthPXRoaXMuSyhhKTtyZXR1cm4gdGhpcy5qLmtiKGEpPyh0aGlzLkk9bnVsbCx0aGlzLmk9QWEodGhpcy5pKS10aGlzLmouZ2V0KGEpLmxlbmd0aCx0aGlzLmoucmVtb3ZlKGEpKTohMX07aC5rYj1mdW5jdGlvbihhKXtkZih0aGlzKTthPXRoaXMuSyhhKTtyZXR1cm4gdGhpcy5qLmtiKGEpfTtoLmhhPWZ1bmN0aW9uKCl7ZGYodGhpcyk7Zm9yKHZhciBhPXRoaXMuai5UKCksYj10aGlzLmouaGEoKSxjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKylmb3IodmFyIGU9YVtkXSxmPTA7ZjxlLmxlbmd0aDtmKyspYy5wdXNoKGJbZF0pO3JldHVybiBjfTtcbmguVD1mdW5jdGlvbihhKXtkZih0aGlzKTt2YXIgYj1bXTtpZihuKGEpKXRoaXMua2IoYSkmJihiPU5hKGIsdGhpcy5qLmdldCh0aGlzLksoYSkpKSk7ZWxzZXthPXRoaXMuai5UKCk7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYj1OYShiLGFbY10pfXJldHVybiBifTtoLnNldD1mdW5jdGlvbihhLGIpe2RmKHRoaXMpO3RoaXMuST1udWxsO2E9dGhpcy5LKGEpO3RoaXMua2IoYSkmJih0aGlzLmk9QWEodGhpcy5pKS10aGlzLmouZ2V0KGEpLmxlbmd0aCk7dGhpcy5qLnNldChhLFtiXSk7dGhpcy5pPUFhKHRoaXMuaSkrMTtyZXR1cm4gdGhpc307aC5nZXQ9ZnVuY3Rpb24oYSxiKXthPWE/dGhpcy5UKGEpOltdO3JldHVybiAwPGEubGVuZ3RoP1N0cmluZyhhWzBdKTpifTt2YXIgZWY9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlKGIpOzA8Yy5sZW5ndGgmJihhLkk9bnVsbCxhLmouc2V0KGEuSyhiKSxQYShjKSksYS5pPUFhKGEuaSkrYy5sZW5ndGgpfTtcbk8ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5JKXJldHVybiB0aGlzLkk7aWYoIXRoaXMuailyZXR1cm5cIlwiO2Zvcih2YXIgYT1bXSxiPXRoaXMuai5oYSgpLGM9MDtjPGIubGVuZ3RoO2MrKylmb3IodmFyIGQ9YltjXSxlPWVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoZCkpLGQ9dGhpcy5UKGQpLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGc9ZTtcIlwiIT09ZFtmXSYmKGcrPVwiPVwiK2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoZFtmXSkpKTthLnB1c2goZyl9cmV0dXJuIHRoaXMuST1hLmpvaW4oXCImXCIpfTtPLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBPO2EuST10aGlzLkk7dGhpcy5qJiYoYS5qPXRoaXMuai5jbG9uZSgpLGEuaT10aGlzLmkpO3JldHVybiBhfTtPLnByb3RvdHlwZS5LPWZ1bmN0aW9uKGEpe2E9U3RyaW5nKGEpO3RoaXMuTSYmKGE9YS50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gYX07XG5PLnByb3RvdHlwZS5PYz1mdW5jdGlvbihhKXthJiYhdGhpcy5NJiYoZGYodGhpcyksdGhpcy5JPW51bGwsdGhpcy5qLmZvckVhY2goZnVuY3Rpb24oYSxjKXt2YXIgYj1jLnRvTG93ZXJDYXNlKCk7YyE9YiYmKHRoaXMucmVtb3ZlKGMpLGVmKHRoaXMsYixhKSl9LHRoaXMpKTt0aGlzLk09YX07dmFyIGhmPWZ1bmN0aW9uKCl7dmFyIGE9Z2YoKTtyZXR1cm4geiYmISFwYiYmMTE9PXBifHwvRWRnZVxcL1xcZCsvLnRlc3QoYSl9LGpmPWZ1bmN0aW9uKCl7cmV0dXJuIGwud2luZG93JiZsLndpbmRvdy5sb2NhdGlvbi5ocmVmfHxcIlwifSxrZj1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ7Zm9yKGQgaW4gYSlkIGluIGI/dHlwZW9mIGFbZF0hPXR5cGVvZiBiW2RdP2MucHVzaChkKTplYShhW2RdKT9WYShhW2RdLGJbZF0pfHxjLnB1c2goZCk6XCJvYmplY3RcIj09dHlwZW9mIGFbZF0mJm51bGwhPWFbZF0mJm51bGwhPWJbZF0/MDxrZihhW2RdLGJbZF0pLmxlbmd0aCYmYy5wdXNoKGQpOmFbZF0hPT1iW2RdJiZjLnB1c2goZCk6Yy5wdXNoKGQpO2ZvcihkIGluIGIpZCBpbiBhfHxjLnB1c2goZCk7cmV0dXJuIGN9LG1mPWZ1bmN0aW9uKCl7dmFyIGE7YT1nZigpO2E9XCJDaHJvbWVcIiE9bGYoYSk/bnVsbDooYT1hLm1hdGNoKC9cXHNDaHJvbWVcXC8oXFxkKykvaSkpJiYyPT1hLmxlbmd0aD9wYXJzZUludChhWzFdLFxuMTApOm51bGw7cmV0dXJuIGEmJjMwPmE/ITE6IXp8fCFwYnx8OTxwYn0sbmY9ZnVuY3Rpb24oYSl7YT1hfHxsLndpbmRvdzt0cnl7YS5jbG9zZSgpfWNhdGNoKGIpe319LG9mPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1NYXRoLmZsb29yKDFFOSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpO2I9Ynx8NTAwO2M9Y3x8NjAwO3ZhciBlPSh3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0LWMpLzIsZj0od2luZG93LnNjcmVlbi5hdmFpbFdpZHRoLWIpLzI7Yj17d2lkdGg6YixoZWlnaHQ6Yyx0b3A6MDxlP2U6MCxsZWZ0OjA8Zj9mOjAsbG9jYXRpb246ITAscmVzaXphYmxlOiEwLHN0YXR1c2JhcjohMCx0b29sYmFyOiExfTtkJiYoYi50YXJnZXQ9ZCk7XCJGaXJlZm94XCI9PWxmKGdmKCkpJiYoYT1hfHxcImh0dHA6Ly9sb2NhbGhvc3RcIixiLnNjcm9sbGJhcnM9ITApO3ZhciBnO2M9YXx8XCJhYm91dDpibGFua1wiOyhkPWIpfHwoZD17fSk7YT13aW5kb3c7Yj1jIGluc3RhbmNlb2YgQj9jOmdjKFwidW5kZWZpbmVkXCIhPVxudHlwZW9mIGMuaHJlZj9jLmhyZWY6U3RyaW5nKGMpKTtjPWQudGFyZ2V0fHxjLnRhcmdldDtlPVtdO2ZvcihnIGluIGQpc3dpdGNoKGcpe2Nhc2UgXCJ3aWR0aFwiOmNhc2UgXCJoZWlnaHRcIjpjYXNlIFwidG9wXCI6Y2FzZSBcImxlZnRcIjplLnB1c2goZytcIj1cIitkW2ddKTticmVhaztjYXNlIFwidGFyZ2V0XCI6Y2FzZSBcIm5vcmVmZXJyZXJcIjpicmVhaztkZWZhdWx0OmUucHVzaChnK1wiPVwiKyhkW2ddPzE6MCkpfWc9ZS5qb2luKFwiLFwiKTsoeShcImlQaG9uZVwiKSYmIXkoXCJpUG9kXCIpJiYheShcImlQYWRcIil8fHkoXCJpUGFkXCIpfHx5KFwiaVBvZFwiKSkmJmEubmF2aWdhdG9yJiZhLm5hdmlnYXRvci5zdGFuZGFsb25lJiZjJiZcIl9zZWxmXCIhPWM/KGc9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQVwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgSFRNTEFuY2hvckVsZW1lbnQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBMb2NhdGlvbiYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEVsZW1lbnQmJihlPWcmJihnIGluc3RhbmNlb2ZcbkhUTUxBbmNob3JFbGVtZW50fHwhKGcgaW5zdGFuY2VvZiBMb2NhdGlvbnx8ZyBpbnN0YW5jZW9mIEVsZW1lbnQpKSxmPWhhKGcpP2cuY29uc3RydWN0b3IuZGlzcGxheU5hbWV8fGcuY29uc3RydWN0b3IubmFtZXx8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGcpOnZvaWQgMD09PWc/XCJ1bmRlZmluZWRcIjpudWxsPT09Zz9cIm51bGxcIjp0eXBlb2YgZyx3KGUsXCJBcmd1bWVudCBpcyBub3QgYSBIVE1MQW5jaG9yRWxlbWVudCAob3IgYSBub24tRWxlbWVudCBtb2NrKTsgZ290OiAlc1wiLGYpKSxiPWIgaW5zdGFuY2VvZiBCP2I6Z2MoYiksZy5ocmVmPWRjKGIpLGcuc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsYyksZC5ub3JlZmVycmVyJiZnLnNldEF0dHJpYnV0ZShcInJlbFwiLFwibm9yZWZlcnJlclwiKSxkPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudFwiKSxkLmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwhMCwhMCxhLDEpLGcuZGlzcGF0Y2hFdmVudChkKSxnPXt9KTpkLm5vcmVmZXJyZXI/XG4oZz1hLm9wZW4oXCJcIixjLGcpLGQ9ZGMoYiksZyYmKGdiJiZ2KGQsXCI7XCIpJiYoZD1cIidcIitkLnJlcGxhY2UoLycvZyxcIiUyN1wiKStcIidcIiksZy5vcGVuZXI9bnVsbCxhPW5ldyBhYyxhLmhjPVwiYi8xMjAxNDQxMiwgbWV0YSB0YWcgd2l0aCBzYW5pdGl6ZWQgVVJMXCIsdmEudGVzdChkKSYmKC0xIT1kLmluZGV4T2YoXCImXCIpJiYoZD1kLnJlcGxhY2Uob2EsXCImYW1wO1wiKSksLTEhPWQuaW5kZXhPZihcIjxcIikmJihkPWQucmVwbGFjZShwYSxcIiZsdDtcIikpLC0xIT1kLmluZGV4T2YoXCI+XCIpJiYoZD1kLnJlcGxhY2UocWEsXCImZ3Q7XCIpKSwtMSE9ZC5pbmRleE9mKCdcIicpJiYoZD1kLnJlcGxhY2UocmEsXCImcXVvdDtcIikpLC0xIT1kLmluZGV4T2YoXCInXCIpJiYoZD1kLnJlcGxhY2UodGEsXCImIzM5O1wiKSksLTEhPWQuaW5kZXhPZihcIlxceDAwXCIpJiYoZD1kLnJlcGxhY2UodWEsXCImIzA7XCIpKSksZD0nPE1FVEEgSFRUUC1FUVVJVj1cInJlZnJlc2hcIiBjb250ZW50PVwiMDsgdXJsPScrZCsnXCI+JyxCYShiYyhhKSxcblwibXVzdCBwcm92aWRlIGp1c3RpZmljYXRpb25cIiksdyghL15bXFxzXFx4YTBdKiQvLnRlc3QoYmMoYSkpLFwibXVzdCBwcm92aWRlIG5vbi1lbXB0eSBqdXN0aWZpY2F0aW9uXCIpLGcuZG9jdW1lbnQud3JpdGUoV2MoKG5ldyBWYykucWUoZCkpKSxnLmRvY3VtZW50LmNsb3NlKCkpKTpnPWEub3BlbihkYyhiKSxjLGcpO2lmKGcpdHJ5e2cuZm9jdXMoKX1jYXRjaChrKXt9cmV0dXJuIGd9LHBmPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgSShmdW5jdGlvbihiKXt2YXIgYz1mdW5jdGlvbigpe3hlKDJFMykudGhlbihmdW5jdGlvbigpe2lmKCFhfHxhLmNsb3NlZCliKCk7ZWxzZSByZXR1cm4gYygpfSl9O3JldHVybiBjKCl9KX0scWY9ZnVuY3Rpb24oKXt2YXIgYT1udWxsO3JldHVybihuZXcgSShmdW5jdGlvbihiKXtcImNvbXBsZXRlXCI9PWwuZG9jdW1lbnQucmVhZHlTdGF0ZT9iKCk6KGE9ZnVuY3Rpb24oKXtiKCl9LFNiKHdpbmRvdyxcImxvYWRcIixhKSl9KSkubChmdW5jdGlvbihiKXtVYih3aW5kb3csXG5cImxvYWRcIixhKTt0aHJvdyBiO30pfSxyZj1mdW5jdGlvbihhKXtzd2l0Y2goYXx8bC5uYXZpZ2F0b3ImJmwubmF2aWdhdG9yLnByb2R1Y3R8fFwiXCIpe2Nhc2UgXCJSZWFjdE5hdGl2ZVwiOnJldHVyblwiUmVhY3ROYXRpdmVcIjtkZWZhdWx0OnJldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgbC5wcm9jZXNzP1wiTm9kZVwiOlwiQnJvd3NlclwifX0sc2Y9ZnVuY3Rpb24oKXt2YXIgYT1yZigpO3JldHVyblwiUmVhY3ROYXRpdmVcIj09PWF8fFwiTm9kZVwiPT09YX0sbGY9ZnVuY3Rpb24oYSl7dmFyIGI9YS50b0xvd2VyQ2FzZSgpO2lmKHYoYixcIm9wZXJhL1wiKXx8dihiLFwib3ByL1wiKXx8dihiLFwib3Bpb3MvXCIpKXJldHVyblwiT3BlcmFcIjtpZih2KGIsXCJpZW1vYmlsZVwiKSlyZXR1cm5cIklFTW9iaWxlXCI7aWYodihiLFwibXNpZVwiKXx8dihiLFwidHJpZGVudC9cIikpcmV0dXJuXCJJRVwiO2lmKHYoYixcImVkZ2UvXCIpKXJldHVyblwiRWRnZVwiO2lmKHYoYixcImZpcmVmb3gvXCIpKXJldHVyblwiRmlyZWZveFwiO2lmKHYoYixcInNpbGsvXCIpKXJldHVyblwiU2lsa1wiO1xuaWYodihiLFwiYmxhY2tiZXJyeVwiKSlyZXR1cm5cIkJsYWNrYmVycnlcIjtpZih2KGIsXCJ3ZWJvc1wiKSlyZXR1cm5cIldlYm9zXCI7aWYoIXYoYixcInNhZmFyaS9cIil8fHYoYixcImNocm9tZS9cIil8fHYoYixcImNyaW9zL1wiKXx8dihiLFwiYW5kcm9pZFwiKSlpZighdihiLFwiY2hyb21lL1wiKSYmIXYoYixcImNyaW9zL1wiKXx8dihiLFwiZWRnZS9cIikpe2lmKHYoYixcImFuZHJvaWRcIikpcmV0dXJuXCJBbmRyb2lkXCI7aWYoKGE9YS5tYXRjaCgvKFthLXpBLVpcXGRcXC5dKylcXC9bYS16QS1aXFxkXFwuXSokLykpJiYyPT1hLmxlbmd0aClyZXR1cm4gYVsxXX1lbHNlIHJldHVyblwiQ2hyb21lXCI7ZWxzZSByZXR1cm5cIlNhZmFyaVwiO3JldHVyblwiT3RoZXJcIn0sdGY9ZnVuY3Rpb24oYSl7dmFyIGI9cmYodm9pZCAwKTtyZXR1cm4oXCJCcm93c2VyXCI9PT1iP2xmKGdmKCkpOmIpK1wiL0pzQ29yZS9cIithfSxnZj1mdW5jdGlvbigpe3JldHVybiBsLm5hdmlnYXRvciYmbC5uYXZpZ2F0b3IudXNlckFnZW50fHxcIlwifSx1Zj1mdW5jdGlvbihhKXthPVxuYS5zcGxpdChcIi5cIik7Zm9yKHZhciBiPWwsYz0wO2M8YS5sZW5ndGgmJlwib2JqZWN0XCI9PXR5cGVvZiBiJiZudWxsIT1iO2MrKyliPWJbYVtjXV07YyE9YS5sZW5ndGgmJihiPXZvaWQgMCk7cmV0dXJuIGJ9LHdmPWZ1bmN0aW9uKCl7dmFyIGE7aWYoIShhPSFsLmxvY2F0aW9ufHwhbC5sb2NhdGlvbi5wcm90b2NvbHx8XCJodHRwOlwiIT1sLmxvY2F0aW9uLnByb3RvY29sJiZcImh0dHBzOlwiIT1sLmxvY2F0aW9uLnByb3RvY29sfHxzZigpKSl7dmFyIGI7YTp7dHJ5e3ZhciBjPWwubG9jYWxTdG9yYWdlLGQ9dmYoKTtpZihjKXtjLnNldEl0ZW0oZCxcIjFcIik7Yy5yZW1vdmVJdGVtKGQpO2I9aGYoKT8hIWwuaW5kZXhlZERCOiEwO2JyZWFrIGF9fWNhdGNoKGUpe31iPSExfWE9IWJ9cmV0dXJuIWF9LHhmPWZ1bmN0aW9uKGEpe2E9YXx8Z2YoKTt2YXIgYj0oYXx8Z2YoKSkudG9Mb3dlckNhc2UoKTtyZXR1cm4gYi5tYXRjaCgvYW5kcm9pZC8pfHxiLm1hdGNoKC93ZWJvcy8pfHxiLm1hdGNoKC9pcGhvbmV8aXBhZHxpcG9kLyl8fFxuYi5tYXRjaCgvYmxhY2tiZXJyeS8pfHxiLm1hdGNoKC93aW5kb3dzIHBob25lLyl8fGIubWF0Y2goL2llbW9iaWxlLyl8fFwiRmlyZWZveFwiPT1sZihhKT8hMTohMH0seWY9ZnVuY3Rpb24oYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhP251bGw6bGMoYSl9LHpmPWZ1bmN0aW9uKGEpe2lmKG51bGwhPT1hKXt2YXIgYjt0cnl7Yj1pYyhhKX1jYXRjaChjKXt0cnl7Yj1KU09OLnBhcnNlKGEpfWNhdGNoKGQpe3Rocm93IGM7fX1yZXR1cm4gYn19LHZmPWZ1bmN0aW9uKGEpe3JldHVybiBhP2E6XCJcIitNYXRoLmZsb29yKDFFOSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpfSxBZj1mdW5jdGlvbihhKXthPWF8fGdmKCk7cmV0dXJuXCJTYWZhcmlcIj09bGYoYSl8fGEudG9Mb3dlckNhc2UoKS5tYXRjaCgvaXBob25lfGlwYWR8aXBvZC8pPyExOiEwfSxCZj1mdW5jdGlvbigpe3ZhciBhPWwuX19fanNsO2lmKGEmJmEuSClmb3IodmFyIGIgaW4gYS5IKWlmKGEuSFtiXS5yPWEuSFtiXS5yfHxcbltdLGEuSFtiXS5MPWEuSFtiXS5MfHxbXSxhLkhbYl0ucj1hLkhbYl0uTC5jb25jYXQoKSxhLkNQKWZvcih2YXIgYz0wO2M8YS5DUC5sZW5ndGg7YysrKWEuQ1BbY109bnVsbH07dmFyIENmO3RyeXt2YXIgRGY9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KERmLFwiYWJjZFwiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZToxfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KERmLFwiYWJjZFwiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZToyfSk7Q2Y9Mj09RGYuYWJjZH1jYXRjaChhKXtDZj0hMX1cbnZhciBRPWZ1bmN0aW9uKGEsYixjKXtDZj9PYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpjfSk6YVtiXT1jfSxFZj1mdW5jdGlvbihhLGIpe2lmKGIpZm9yKHZhciBjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmUShhLGMsYltjXSl9LEZmPWZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiYoYltjXT1hW2NdKTtyZXR1cm4gYn0sR2Y9ZnVuY3Rpb24oYSxiKXtpZighYnx8IWIubGVuZ3RoKXJldHVybiEwO2lmKCFhKXJldHVybiExO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1hW2JbY11dO2lmKHZvaWQgMD09PWR8fG51bGw9PT1kfHxcIlwiPT09ZClyZXR1cm4hMX1yZXR1cm4hMH07dmFyIEhmPXtKZDp7dmI6NTAwLHViOjYwMCxwcm92aWRlcklkOlwiZmFjZWJvb2suY29tXCJ9LEtkOnt2Yjo1MDAsdWI6NjIwLHByb3ZpZGVySWQ6XCJnaXRodWIuY29tXCJ9LExkOnt2Yjo1MTUsdWI6NjgwLHByb3ZpZGVySWQ6XCJnb29nbGUuY29tXCJ9LFFkOnt2Yjo0ODUsdWI6NzA1LHByb3ZpZGVySWQ6XCJ0d2l0dGVyLmNvbVwifX0sSWY9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIEhmKWlmKEhmW2JdLnByb3ZpZGVySWQ9PWEpcmV0dXJuIEhmW2JdO3JldHVybiBudWxsfTt2YXIgUj1mdW5jdGlvbihhLGIpe3RoaXMuY29kZT1cImF1dGgvXCIrYTt0aGlzLm1lc3NhZ2U9Ynx8SmZbYV18fFwiXCJ9O3QoUixFcnJvcik7Ui5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybntuYW1lOnRoaXMuY29kZSxjb2RlOnRoaXMuY29kZSxtZXNzYWdlOnRoaXMubWVzc2FnZX19O1xudmFyIEpmPXtcImFyZ3VtZW50LWVycm9yXCI6XCJcIixcImFwcC1ub3QtYXV0aG9yaXplZFwiOlwiVGhpcyBhcHAsIGlkZW50aWZpZWQgYnkgdGhlIGRvbWFpbiB3aGVyZSBpdCdzIGhvc3RlZCwgaXMgbm90IGF1dGhvcml6ZWQgdG8gdXNlIEZpcmViYXNlIEF1dGhlbnRpY2F0aW9uIHdpdGggdGhlIHByb3ZpZGVkIEFQSSBrZXkuIFJldmlldyB5b3VyIGtleSBjb25maWd1cmF0aW9uIGluIHRoZSBHb29nbGUgQVBJIGNvbnNvbGUuXCIsXCJjb3JzLXVuc3VwcG9ydGVkXCI6XCJUaGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZC5cIixcImNyZWRlbnRpYWwtYWxyZWFkeS1pbi11c2VcIjpcIlRoaXMgY3JlZGVudGlhbCBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhIGRpZmZlcmVudCB1c2VyIGFjY291bnQuXCIsXCJjdXN0b20tdG9rZW4tbWlzbWF0Y2hcIjpcIlRoZSBjdXN0b20gdG9rZW4gY29ycmVzcG9uZHMgdG8gYSBkaWZmZXJlbnQgYXVkaWVuY2UuXCIsXCJyZXF1aXJlcy1yZWNlbnQtbG9naW5cIjpcIlRoaXMgb3BlcmF0aW9uIGlzIHNlbnNpdGl2ZSBhbmQgcmVxdWlyZXMgcmVjZW50IGF1dGhlbnRpY2F0aW9uLiBMb2cgaW4gYWdhaW4gYmVmb3JlIHJldHJ5aW5nIHRoaXMgcmVxdWVzdC5cIixcblwiZW1haWwtYWxyZWFkeS1pbi11c2VcIjpcIlRoZSBlbWFpbCBhZGRyZXNzIGlzIGFscmVhZHkgaW4gdXNlIGJ5IGFub3RoZXIgYWNjb3VudC5cIixcImV4cGlyZWQtYWN0aW9uLWNvZGVcIjpcIlRoZSBhY3Rpb24gY29kZSBoYXMgZXhwaXJlZC4gXCIsXCJjYW5jZWxsZWQtcG9wdXAtcmVxdWVzdFwiOlwiVGhpcyBvcGVyYXRpb24gaGFzIGJlZW4gY2FuY2VsbGVkIGR1ZSB0byBhbm90aGVyIGNvbmZsaWN0aW5nIHBvcHVwIGJlaW5nIG9wZW5lZC5cIixcImludGVybmFsLWVycm9yXCI6XCJBbiBpbnRlcm5hbCBlcnJvciBoYXMgb2NjdXJyZWQuXCIsXCJpbnZhbGlkLXVzZXItdG9rZW5cIjpcIlRoZSB1c2VyJ3MgY3JlZGVudGlhbCBpcyBubyBsb25nZXIgdmFsaWQuIFRoZSB1c2VyIG11c3Qgc2lnbiBpbiBhZ2Fpbi5cIixcImludmFsaWQtYXV0aC1ldmVudFwiOlwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFwiaW52YWxpZC1jdXN0b20tdG9rZW5cIjpcIlRoZSBjdXN0b20gdG9rZW4gZm9ybWF0IGlzIGluY29ycmVjdC4gUGxlYXNlIGNoZWNrIHRoZSBkb2N1bWVudGF0aW9uLlwiLFxuXCJpbnZhbGlkLWVtYWlsXCI6XCJUaGUgZW1haWwgYWRkcmVzcyBpcyBiYWRseSBmb3JtYXR0ZWQuXCIsXCJpbnZhbGlkLWFwaS1rZXlcIjpcIllvdXIgQVBJIGtleSBpcyBpbnZhbGlkLCBwbGVhc2UgY2hlY2sgeW91IGhhdmUgY29waWVkIGl0IGNvcnJlY3RseS5cIixcImludmFsaWQtY3JlZGVudGlhbFwiOlwiVGhlIHN1cHBsaWVkIGF1dGggY3JlZGVudGlhbCBpcyBtYWxmb3JtZWQgb3IgaGFzIGV4cGlyZWQuXCIsXCJpbnZhbGlkLW9hdXRoLXByb3ZpZGVyXCI6XCJFbWFpbEF1dGhQcm92aWRlciBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIG9wZXJhdGlvbi4gVGhpcyBvcGVyYXRpb24gb25seSBzdXBwb3J0cyBPQXV0aCBwcm92aWRlcnMuXCIsXCJ1bmF1dGhvcml6ZWQtZG9tYWluXCI6XCJUaGlzIGRvbWFpbiBpcyBub3QgYXV0aG9yaXplZCBmb3IgT0F1dGggb3BlcmF0aW9ucyBmb3IgeW91ciBGaXJlYmFzZSBwcm9qZWN0LiBFZGl0IHRoZSBsaXN0IG9mIGF1dGhvcml6ZWQgZG9tYWlucyBmcm9tIHRoZSBGaXJlYmFzZSBjb25zb2xlLlwiLFxuXCJpbnZhbGlkLWFjdGlvbi1jb2RlXCI6XCJUaGUgYWN0aW9uIGNvZGUgaXMgaW52YWxpZC4gVGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBjb2RlIGlzIG1hbGZvcm1lZCwgZXhwaXJlZCwgb3IgaGFzIGFscmVhZHkgYmVlbiB1c2VkLlwiLFwid3JvbmctcGFzc3dvcmRcIjpcIlRoZSBwYXNzd29yZCBpcyBpbnZhbGlkIG9yIHRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYSBwYXNzd29yZC5cIixcIm1pc3NpbmctaWZyYW1lLXN0YXJ0XCI6XCJBbiBpbnRlcm5hbCBlcnJvciBoYXMgb2NjdXJyZWQuXCIsXCJhdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWRcIjpcIkJlIHN1cmUgdG8gaW5jbHVkZSBhdXRoRG9tYWluIHdoZW4gY2FsbGluZyBmaXJlYmFzZS5pbml0aWFsaXplQXBwKCksIGJ5IGZvbGxvd2luZyB0aGUgaW5zdHJ1Y3Rpb25zIGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLlwiLFwiYXBwLWRlbGV0ZWRcIjpcIlRoaXMgaW5zdGFuY2Ugb2YgRmlyZWJhc2VBcHAgaGFzIGJlZW4gZGVsZXRlZC5cIixcImFjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWxcIjpcIkFuIGFjY291bnQgYWxyZWFkeSBleGlzdHMgd2l0aCB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzIGJ1dCBkaWZmZXJlbnQgc2lnbi1pbiBjcmVkZW50aWFscy4gU2lnbiBpbiB1c2luZyBhIHByb3ZpZGVyIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3MuXCIsXG5cIm5ldHdvcmstcmVxdWVzdC1mYWlsZWRcIjpcIkEgbmV0d29yayBlcnJvciAoc3VjaCBhcyB0aW1lb3V0LCBpbnRlcnJ1cHRlZCBjb25uZWN0aW9uIG9yIHVucmVhY2hhYmxlIGhvc3QpIGhhcyBvY2N1cnJlZC5cIixcIm5vLWF1dGgtZXZlbnRcIjpcIkFuIGludGVybmFsIGVycm9yIGhhcyBvY2N1cnJlZC5cIixcIm5vLXN1Y2gtcHJvdmlkZXJcIjpcIlVzZXIgd2FzIG5vdCBsaW5rZWQgdG8gYW4gYWNjb3VudCB3aXRoIHRoZSBnaXZlbiBwcm92aWRlci5cIixcIm9wZXJhdGlvbi1ub3QtYWxsb3dlZFwiOlwiVGhlIGdpdmVuIHNpZ24taW4gcHJvdmlkZXIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgRmlyZWJhc2UgcHJvamVjdC4gRW5hYmxlIGl0IGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLCB1bmRlciB0aGUgc2lnbi1pbiBtZXRob2QgdGFiIG9mIHRoZSBBdXRoIHNlY3Rpb24uXCIsXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCI6J1RoaXMgb3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGVudmlyb25tZW50IHRoaXMgYXBwbGljYXRpb24gaXMgcnVubmluZyBvbi4gXCJsb2NhdGlvbi5wcm90b2NvbFwiIG11c3QgYmUgaHR0cCBvciBodHRwcyBhbmQgd2ViIHN0b3JhZ2UgbXVzdCBiZSBlbmFibGVkLicsXG5cInBvcHVwLWJsb2NrZWRcIjpcIlVuYWJsZSB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uIHdpdGggdGhlIHBvcHVwLiBJdCBtYXkgaGF2ZSBiZWVuIGJsb2NrZWQgYnkgdGhlIGJyb3dzZXIuXCIsXCJwb3B1cC1jbG9zZWQtYnktdXNlclwiOlwiVGhlIHBvcHVwIGhhcyBiZWVuIGNsb3NlZCBieSB0aGUgdXNlciBiZWZvcmUgZmluYWxpemluZyB0aGUgb3BlcmF0aW9uLlwiLFwicHJvdmlkZXItYWxyZWFkeS1saW5rZWRcIjpcIlVzZXIgY2FuIG9ubHkgYmUgbGlua2VkIHRvIG9uZSBpZGVudGl0eSBmb3IgdGhlIGdpdmVuIHByb3ZpZGVyLlwiLHRpbWVvdXQ6XCJUaGUgb3BlcmF0aW9uIGhhcyB0aW1lZCBvdXQuXCIsXCJ1c2VyLXRva2VuLWV4cGlyZWRcIjpcIlRoZSB1c2VyJ3MgY3JlZGVudGlhbCBpcyBubyBsb25nZXIgdmFsaWQuIFRoZSB1c2VyIG11c3Qgc2lnbiBpbiBhZ2Fpbi5cIixcInRvby1tYW55LXJlcXVlc3RzXCI6XCJXZSBoYXZlIGJsb2NrZWQgYWxsIHJlcXVlc3RzIGZyb20gdGhpcyBkZXZpY2UgZHVlIHRvIHVudXN1YWwgYWN0aXZpdHkuIFRyeSBhZ2FpbiBsYXRlci5cIixcblwidXNlci1jYW5jZWxsZWRcIjpcIlVzZXIgZGlkIG5vdCBncmFudCB5b3VyIGFwcGxpY2F0aW9uIHRoZSBwZXJtaXNzaW9ucyBpdCByZXF1ZXN0ZWQuXCIsXCJ1c2VyLW5vdC1mb3VuZFwiOlwiVGhlcmUgaXMgbm8gdXNlciByZWNvcmQgY29ycmVzcG9uZGluZyB0byB0aGlzIGlkZW50aWZpZXIuIFRoZSB1c2VyIG1heSBoYXZlIGJlZW4gZGVsZXRlZC5cIixcInVzZXItZGlzYWJsZWRcIjpcIlRoZSB1c2VyIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQgYnkgYW4gYWRtaW5pc3RyYXRvci5cIixcInVzZXItbWlzbWF0Y2hcIjpcIlRoZSBzdXBwbGllZCBjcmVkZW50aWFscyBkbyBub3QgY29ycmVzcG9uZCB0byB0aGUgcHJldmlvdXNseSBzaWduZWQgaW4gdXNlci5cIixcInVzZXItc2lnbmVkLW91dFwiOlwiXCIsXCJ3ZWFrLXBhc3N3b3JkXCI6XCJUaGUgcGFzc3dvcmQgbXVzdCBiZSA2IGNoYXJhY3RlcnMgbG9uZyBvciBtb3JlLlwiLFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIjpcIlRoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLlwifTt2YXIgS2Y9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLndhPWE7dGhpcy5BYT1ifHxudWxsO3RoaXMuaWI9Y3x8bnVsbDt0aGlzLmVjPWR8fG51bGw7dGhpcy5KPWV8fG51bGw7aWYodGhpcy5pYnx8dGhpcy5KKXtpZih0aGlzLmliJiZ0aGlzLkopdGhyb3cgbmV3IFIoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIik7aWYodGhpcy5pYiYmIXRoaXMuZWMpdGhyb3cgbmV3IFIoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIik7fWVsc2UgdGhyb3cgbmV3IFIoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIik7fTtLZi5wcm90b3R5cGUuZ2V0RXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5KfTtLZi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybnt0eXBlOnRoaXMud2EsZXZlbnRJZDp0aGlzLkFhLHVybFJlc3BvbnNlOnRoaXMuaWIsc2Vzc2lvbklkOnRoaXMuZWMsZXJyb3I6dGhpcy5KJiZ0aGlzLkouRygpfX07dmFyIExmPWZ1bmN0aW9uKGEpe3ZhciBiPVwidW5hdXRob3JpemVkLWRvbWFpblwiLGM9dm9pZCAwLGQ9YWYoYSk7YT1kLmdhO2Q9ZC5sYTtcImh0dHBcIiE9ZCYmXCJodHRwc1wiIT1kP2I9XCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCI6Yz1tYShcIlRoaXMgZG9tYWluICglcykgaXMgbm90IGF1dGhvcml6ZWQgdG8gcnVuIHRoaXMgb3BlcmF0aW9uLiBBZGQgaXQgdG8gdGhlIE9BdXRoIHJlZGlyZWN0IGRvbWFpbnMgbGlzdCBpbiB0aGUgRmlyZWJhc2UgY29uc29sZSAtPiBBdXRoIHNlY3Rpb24gLT4gU2lnbiBpbiBtZXRob2QgdGFiLlwiLGEpO1IuY2FsbCh0aGlzLGIsYyl9O3QoTGYsUik7dmFyIE1mPWZ1bmN0aW9uKGEpe3RoaXMudmU9YS5zdWI7bGEoKTt0aGlzLkZiPWEuZW1haWx8fG51bGx9O3ZhciBOZj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17fTtoYShjKT9lPWM6YiYmbihjKSYmbihkKT9lPXtvYXV0aFRva2VuOmMsb2F1dGhUb2tlblNlY3JldDpkfTohYiYmbihjKSYmKGU9e2FjY2Vzc1Rva2VuOmN9KTtpZihifHwhZS5pZFRva2VuJiYhZS5hY2Nlc3NUb2tlbilpZihiJiZlLm9hdXRoVG9rZW4mJmUub2F1dGhUb2tlblNlY3JldClRKHRoaXMsXCJhY2Nlc3NUb2tlblwiLGUub2F1dGhUb2tlbiksUSh0aGlzLFwic2VjcmV0XCIsZS5vYXV0aFRva2VuU2VjcmV0KTtlbHNle2lmKGIpdGhyb3cgbmV3IFIoXCJhcmd1bWVudC1lcnJvclwiLFwiY3JlZGVudGlhbCBmYWlsZWQ6IGV4cGVjdGVkIDIgYXJndW1lbnRzICh0aGUgT0F1dGggYWNjZXNzIHRva2VuIGFuZCBzZWNyZXQpLlwiKTt0aHJvdyBuZXcgUihcImFyZ3VtZW50LWVycm9yXCIsXCJjcmVkZW50aWFsIGZhaWxlZDogZXhwZWN0ZWQgMSBhcmd1bWVudCAodGhlIE9BdXRoIGFjY2VzcyB0b2tlbikuXCIpO31lbHNlIGUuaWRUb2tlbiYmUSh0aGlzLFxuXCJpZFRva2VuXCIsZS5pZFRva2VuKSxlLmFjY2Vzc1Rva2VuJiZRKHRoaXMsXCJhY2Nlc3NUb2tlblwiLGUuYWNjZXNzVG9rZW4pO1EodGhpcyxcInByb3ZpZGVyXCIsYSl9O05mLnByb3RvdHlwZS5JYj1mdW5jdGlvbihhKXtyZXR1cm4gT2YoYSxQZih0aGlzKSl9O05mLnByb3RvdHlwZS5vZD1mdW5jdGlvbihhLGIpe3ZhciBjPVBmKHRoaXMpO2MuaWRUb2tlbj1iO3JldHVybiBRZihhLGMpfTt2YXIgUGY9ZnVuY3Rpb24oYSl7dmFyIGI9e307YS5pZFRva2VuJiYoYi5pZF90b2tlbj1hLmlkVG9rZW4pO2EuYWNjZXNzVG9rZW4mJihiLmFjY2Vzc190b2tlbj1hLmFjY2Vzc1Rva2VuKTthLnNlY3JldCYmKGIub2F1dGhfdG9rZW5fc2VjcmV0PWEuc2VjcmV0KTtiLnByb3ZpZGVySWQ9YS5wcm92aWRlcjtyZXR1cm57cG9zdEJvZHk6ZmYoYikudG9TdHJpbmcoKSxyZXF1ZXN0VXJpOndmKCk/amYoKTpcImh0dHA6Ly9sb2NhbGhvc3RcIn19O1xuTmYucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXt2YXIgYT17cHJvdmlkZXI6dGhpcy5wcm92aWRlcn07dGhpcy5pZFRva2VuJiYoYS5vYXV0aElkVG9rZW49dGhpcy5pZFRva2VuKTt0aGlzLmFjY2Vzc1Rva2VuJiYoYS5vYXV0aEFjY2Vzc1Rva2VuPXRoaXMuYWNjZXNzVG9rZW4pO3RoaXMuc2VjcmV0JiYoYS5vYXV0aFRva2VuU2VjcmV0PXRoaXMuc2VjcmV0KTtyZXR1cm4gYX07XG52YXIgUmY9ZnVuY3Rpb24oYSxiKXt2YXIgYz0hIWI7Yj1mdW5jdGlvbigpe0VmKHRoaXMse3Byb3ZpZGVySWQ6YSxpc09BdXRoUHJvdmlkZXI6ITB9KTt0aGlzLk5jPVtdO1wiZ29vZ2xlLmNvbVwiPT1hJiZ0aGlzLmFkZFNjb3BlKFwicHJvZmlsZVwiKX07Y3x8KGIucHJvdG90eXBlLmFkZFNjb3BlPWZ1bmN0aW9uKGEpe0phKHRoaXMuTmMsYSl8fHRoaXMuTmMucHVzaChhKX0pO2IucHJvdG90eXBlLkpiPWZ1bmN0aW9uKCl7cmV0dXJuIFBhKHRoaXMuTmMpfTtiLmNyZWRlbnRpYWw9ZnVuY3Rpb24oYixlKXtyZXR1cm4gbmV3IE5mKGEsYyxiLGUpfTtFZihiLHtQUk9WSURFUl9JRDphfSk7cmV0dXJuIGJ9LFNmPVJmKFwiZmFjZWJvb2suY29tXCIpO1NmLnByb3RvdHlwZS5hZGRTY29wZT1TZi5wcm90b3R5cGUuYWRkU2NvcGV8fHZvaWQgMDt2YXIgVGY9UmYoXCJnaXRodWIuY29tXCIpO1RmLnByb3RvdHlwZS5hZGRTY29wZT1UZi5wcm90b3R5cGUuYWRkU2NvcGV8fHZvaWQgMDt2YXIgVWY9UmYoXCJnb29nbGUuY29tXCIpO1xuVWYucHJvdG90eXBlLmFkZFNjb3BlPVVmLnByb3RvdHlwZS5hZGRTY29wZXx8dm9pZCAwO1VmLmNyZWRlbnRpYWw9ZnVuY3Rpb24oYSxiKXtpZighYSYmIWIpdGhyb3cgbmV3IFIoXCJhcmd1bWVudC1lcnJvclwiLFwiY3JlZGVudGlhbCBmYWlsZWQ6IG11c3QgcHJvdmlkZSB0aGUgSUQgdG9rZW4gYW5kL29yIHRoZSBhY2Nlc3MgdG9rZW4uXCIpO3JldHVybiBuZXcgTmYoXCJnb29nbGUuY29tXCIsITEsaGEoYSk/YTp7aWRUb2tlbjphfHxudWxsLGFjY2Vzc1Rva2VuOmJ8fG51bGx9KX07dmFyIFZmPVJmKFwidHdpdHRlci5jb21cIiwhMCksV2Y9ZnVuY3Rpb24oYSxiKXt0aGlzLkZiPWE7dGhpcy5HYz1iO1EodGhpcyxcInByb3ZpZGVyXCIsXCJwYXNzd29yZFwiKX07V2YucHJvdG90eXBlLkliPWZ1bmN0aW9uKGEpe3JldHVybiBTKGEsWGYse2VtYWlsOnRoaXMuRmIscGFzc3dvcmQ6dGhpcy5HY30pfTtcbldmLnByb3RvdHlwZS5vZD1mdW5jdGlvbihhLGIpe3JldHVybiBTKGEsWWYse2lkVG9rZW46YixlbWFpbDp0aGlzLkZiLHBhc3N3b3JkOnRoaXMuR2N9KX07V2YucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXtyZXR1cm57ZW1haWw6dGhpcy5GYixwYXNzd29yZDp0aGlzLkdjfX07dmFyIFpmPWZ1bmN0aW9uKCl7RWYodGhpcyx7cHJvdmlkZXJJZDpcInBhc3N3b3JkXCIsaXNPQXV0aFByb3ZpZGVyOiExfSl9O0VmKFpmLHtQUk9WSURFUl9JRDpcInBhc3N3b3JkXCJ9KTtcbnZhciAkZj17VmU6WmYsSmQ6U2YsTGQ6VWYsS2Q6VGYsUWQ6VmZ9LGFnPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJmEucHJvdmlkZXJJZDtpZighYilyZXR1cm4gbnVsbDt2YXIgYz1hJiZhLm9hdXRoQWNjZXNzVG9rZW4sZD1hJiZhLm9hdXRoVG9rZW5TZWNyZXQ7YT1hJiZhLm9hdXRoSWRUb2tlbjtmb3IodmFyIGUgaW4gJGYpaWYoJGZbZV0uUFJPVklERVJfSUQ9PWIpdHJ5e3JldHVybiAkZltlXS5jcmVkZW50aWFsKHthY2Nlc3NUb2tlbjpjLGlkVG9rZW46YSxvYXV0aFRva2VuOmMsb2F1dGhUb2tlblNlY3JldDpkfSl9Y2F0Y2goZil7YnJlYWt9cmV0dXJuIG51bGx9O3ZhciBiZz1mdW5jdGlvbihhLGIsYyxkKXtSLmNhbGwodGhpcyxhLGQpO1EodGhpcyxcImVtYWlsXCIsYik7USh0aGlzLFwiY3JlZGVudGlhbFwiLGMpfTt0KGJnLFIpO2JnLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7dmFyIGE9e2NvZGU6dGhpcy5jb2RlLG1lc3NhZ2U6dGhpcy5tZXNzYWdlLGVtYWlsOnRoaXMuZW1haWx9LGI9dGhpcy5jcmVkZW50aWFsJiZ0aGlzLmNyZWRlbnRpYWwuRygpO2ImJihZYShhLGIpLGEucHJvdmlkZXJJZD1iLnByb3ZpZGVyLGRlbGV0ZSBhLnByb3ZpZGVyKTtyZXR1cm4gYX07dmFyIGNnPWZ1bmN0aW9uKGEpe2lmKGEuY29kZSl7dmFyIGI9YS5jb2RlfHxcIlwiOzA9PWIuaW5kZXhPZihcImF1dGgvXCIpJiYoYj1iLnN1YnN0cmluZyg1KSk7cmV0dXJuIGEuZW1haWw/bmV3IGJnKGIsYS5lbWFpbCxhZyhhKSxhLm1lc3NhZ2UpOm5ldyBSKGIsYS5tZXNzYWdlfHx2b2lkIDApfXJldHVybiBudWxsfTt2YXIgZGc9ZnVuY3Rpb24oYSl7dGhpcy5VZT1hfTt0KGRnLHBjKTtkZy5wcm90b3R5cGUubGI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuVWV9O2RnLnByb3RvdHlwZS5TYj1mdW5jdGlvbigpe3JldHVybnt9fTtcbnZhciBUPWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtkPVwiTm9kZVwiPT1yZigpO2Q9bC5YTUxIdHRwUmVxdWVzdHx8ZCYmZmlyZWJhc2UuSU5URVJOQUwubm9kZSYmZmlyZWJhc2UuSU5URVJOQUwubm9kZS5YTUxIdHRwUmVxdWVzdDtpZighZCl0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIsXCJUaGUgWE1MSHR0cFJlcXVlc3QgY29tcGF0aWJpbGl0eSBsaWJyYXJ5IHdhcyBub3QgZm91bmQuXCIpO3RoaXMudj1hO2E9Ynx8e307dGhpcy5GZT1hLnNlY3VyZVRva2VuRW5kcG9pbnR8fFwiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGVhcGlzLmNvbS92MS90b2tlblwiO3RoaXMuR2U9YS5zZWN1cmVUb2tlblRpbWVvdXR8fDFFNDt0aGlzLnlkPVdhKGEuc2VjdXJlVG9rZW5IZWFkZXJzfHxlZyk7dGhpcy5jZT1hLmZpcmViYXNlRW5kcG9pbnR8fFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vaWRlbnRpdHl0b29sa2l0L3YzL3JlbHlpbmdwYXJ0eS9cIjt0aGlzLmRlPWEuZmlyZWJhc2VUaW1lb3V0fHxcbjFFNDt0aGlzLmVkPVdhKGEuZmlyZWJhc2VIZWFkZXJzfHxmZyk7YyYmKHRoaXMuZWRbXCJYLUNsaWVudC1WZXJzaW9uXCJdPWMsdGhpcy55ZFtcIlgtQ2xpZW50LVZlcnNpb25cIl09Yyk7dGhpcy5VZD1uZXcgdWM7dGhpcy5UZT1uZXcgZGcoZCl9LGdnLGVnPXtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LGZnPXtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxpZz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXttZigpP2E9cShhLkllLGEpOihnZ3x8KGdnPW5ldyBJKGZ1bmN0aW9uKGEsYil7aGcoYSxiKX0pKSxhPXEoYS5IZSxhKSk7YShiLGMsZCxlLGYsZyl9O1xuVC5wcm90b3R5cGUuSWU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPVwiTm9kZVwiPT1yZigpLGs9c2YoKT9nP25ldyBNKHRoaXMuVGUpOm5ldyBNOm5ldyBNKHRoaXMuVWQpLHI7ZiYmKGsuZ2I9TWF0aC5tYXgoMCxmKSxyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtrLmRpc3BhdGNoRXZlbnQoXCJ0aW1lb3V0XCIpfSxmKSk7ay5saXN0ZW4oXCJjb21wbGV0ZVwiLGZ1bmN0aW9uKCl7ciYmY2xlYXJUaW1lb3V0KHIpO3ZhciBhPW51bGw7dHJ5e3ZhciBjO2M9dGhpcy5hP2ljKHRoaXMuYS5yZXNwb25zZVRleHQpOnZvaWQgMDthPWN8fG51bGx9Y2F0Y2goUmkpe3RyeXthPUpTT04ucGFyc2UoTmUodGhpcykpfHxudWxsfWNhdGNoKFNpKXthPW51bGx9fWImJmIoYSl9KTtUYihrLFwicmVhZHlcIixmdW5jdGlvbigpe3ImJmNsZWFyVGltZW91dChyKTt0aGlzLnphfHwodGhpcy56YT0hMCx0aGlzLlBhKCkpfSk7VGIoayxcInRpbWVvdXRcIixmdW5jdGlvbigpe3ImJmNsZWFyVGltZW91dChyKTt0aGlzLnphfHxcbih0aGlzLnphPSEwLHRoaXMuUGEoKSk7YiYmYihudWxsKX0pO2suc2VuZChhLGMsZCxlKX07dmFyIFBkPVwiX19mY2JcIitNYXRoLmZsb29yKDFFNipNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpLGhnPWZ1bmN0aW9uKGEsYil7KCh3aW5kb3cuZ2FwaXx8e30pLmNsaWVudHx8e30pLnJlcXVlc3Q/YSgpOihsW1BkXT1mdW5jdGlvbigpeygod2luZG93LmdhcGl8fHt9KS5jbGllbnR8fHt9KS5yZXF1ZXN0P2EoKTpiKEVycm9yKFwiQ09SU19VTlNVUFBPUlRFRFwiKSl9LFJkKGZ1bmN0aW9uKCl7YihFcnJvcihcIkNPUlNfVU5TVVBQT1JURURcIikpfSkpfTtcblQucHJvdG90eXBlLkhlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcztnZy50aGVuKGZ1bmN0aW9uKCl7d2luZG93LmdhcGkuY2xpZW50LnNldEFwaUtleShmLnYpO3ZhciBnPXdpbmRvdy5nYXBpLmF1dGguZ2V0VG9rZW4oKTt3aW5kb3cuZ2FwaS5hdXRoLnNldFRva2VuKG51bGwpO3dpbmRvdy5nYXBpLmNsaWVudC5yZXF1ZXN0KHtwYXRoOmEsbWV0aG9kOmMsYm9keTpkLGhlYWRlcnM6ZSxhdXRoVHlwZTpcIm5vbmVcIixjYWxsYmFjazpmdW5jdGlvbihhKXt3aW5kb3cuZ2FwaS5hdXRoLnNldFRva2VuKGcpO2ImJmIoYSl9fSl9KS5sKGZ1bmN0aW9uKGEpe2ImJmIoe2Vycm9yOnttZXNzYWdlOmEmJmEubWVzc2FnZXx8XCJDT1JTX1VOU1VQUE9SVEVEXCJ9fSl9KX07XG52YXIga2c9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEkoZnVuY3Rpb24oYyxkKXtcInJlZnJlc2hfdG9rZW5cIj09Yi5ncmFudF90eXBlJiZiLnJlZnJlc2hfdG9rZW58fFwiYXV0aG9yaXphdGlvbl9jb2RlXCI9PWIuZ3JhbnRfdHlwZSYmYi5jb2RlP2lnKGEsYS5GZStcIj9rZXk9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGEudiksZnVuY3Rpb24oYSl7YT9hLmVycm9yP2QoamcoYSkpOmEuYWNjZXNzX3Rva2VuJiZhLnJlZnJlc2hfdG9rZW4/YyhhKTpkKG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIikpOmQobmV3IFIoXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpKX0sXCJQT1NUXCIsZmYoYikudG9TdHJpbmcoKSxhLnlkLGEuR2UpOmQobmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiKSl9KX0sbGc9ZnVuY3Rpb24oYSl7dmFyIGI9e30sYztmb3IoYyBpbiBhKW51bGwhPT1hW2NdJiZ2b2lkIDAhPT1hW2NdJiYoYltjXT1hW2NdKTtyZXR1cm4gbGMoYil9LG1nPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5jZStcbmIrXCI/a2V5PVwiK2VuY29kZVVSSUNvbXBvbmVudChhLnYpO2UmJihmKz1cIiZjYj1cIitsYSgpLnRvU3RyaW5nKCkpO3JldHVybiBuZXcgSShmdW5jdGlvbihiLGUpe2lnKGEsZixmdW5jdGlvbihhKXthP2EuZXJyb3I/ZShqZyhhKSk6YihhKTplKG5ldyBSKFwibmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiKSl9LGMsbGcoZCksYS5lZCxhLmRlKX0pfSxuZz1mdW5jdGlvbihhKXtpZighWmIudGVzdChhLmVtYWlsKSl0aHJvdyBuZXcgUihcImludmFsaWQtZW1haWxcIik7fSxvZz1mdW5jdGlvbihhKXtcImVtYWlsXCJpbiBhJiZuZyhhKX0scWc9ZnVuY3Rpb24oYSxiKXt2YXIgYz13ZigpP2pmKCk6XCJodHRwOi8vbG9jYWxob3N0XCI7cmV0dXJuIFMoYSxwZyx7aWRlbnRpZmllcjpiLGNvbnRpbnVlVXJpOmN9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFsbFByb3ZpZGVyc3x8W119KX0sc2c9ZnVuY3Rpb24oYSl7cmV0dXJuIFMoYSxyZyx7fSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYS5hdXRob3JpemVkRG9tYWluc3x8XG5bXX0pfSx0Zz1mdW5jdGlvbihhKXtpZighYS5pZFRva2VuKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIik7fTtULnByb3RvdHlwZS5zaWduSW5Bbm9ueW1vdXNseT1mdW5jdGlvbigpe3JldHVybiBTKHRoaXMsdWcse30pfTtULnByb3RvdHlwZS51cGRhdGVFbWFpbD1mdW5jdGlvbihhLGIpe3JldHVybiBTKHRoaXMsdmcse2lkVG9rZW46YSxlbWFpbDpifSl9O1QucHJvdG90eXBlLnVwZGF0ZVBhc3N3b3JkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFModGhpcyxZZix7aWRUb2tlbjphLHBhc3N3b3JkOmJ9KX07dmFyIHdnPXtkaXNwbGF5TmFtZTpcIkRJU1BMQVlfTkFNRVwiLHBob3RvVXJsOlwiUEhPVE9fVVJMXCJ9O1xuVC5wcm90b3R5cGUudXBkYXRlUHJvZmlsZT1mdW5jdGlvbihhLGIpe3ZhciBjPXtpZFRva2VuOmF9LGQ9W107UmEod2csZnVuY3Rpb24oYSxmKXt2YXIgZT1iW2ZdO251bGw9PT1lP2QucHVzaChhKTpmIGluIGImJihjW2ZdPWUpfSk7ZC5sZW5ndGgmJihjLmRlbGV0ZUF0dHJpYnV0ZT1kKTtyZXR1cm4gUyh0aGlzLHZnLGMpfTtULnByb3RvdHlwZS5zZW5kUGFzc3dvcmRSZXNldEVtYWlsPWZ1bmN0aW9uKGEpe3JldHVybiBTKHRoaXMseGcse3JlcXVlc3RUeXBlOlwiUEFTU1dPUkRfUkVTRVRcIixlbWFpbDphfSl9O1QucHJvdG90eXBlLnNlbmRFbWFpbFZlcmlmaWNhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gUyh0aGlzLHlnLHtyZXF1ZXN0VHlwZTpcIlZFUklGWV9FTUFJTFwiLGlkVG9rZW46YX0pfTtcbnZhciBBZz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIFMoYSx6Zyx7aWRUb2tlbjpiLGRlbGV0ZVByb3ZpZGVyOmN9KX0sQmc9ZnVuY3Rpb24oYSl7aWYoIWEucmVxdWVzdFVyaXx8IWEuc2Vzc2lvbklkJiYhYS5wb3N0Qm9keSl0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIpO30sQ2c9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDthLm5lZWRDb25maXJtYXRpb24/KGEuY29kZT1cImFjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWxcIixiPWNnKGEpKTpcIkZFREVSQVRFRF9VU0VSX0lEX0FMUkVBRFlfTElOS0VEXCI9PWEuZXJyb3JNZXNzYWdlPyhhLmNvZGU9XCJjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlXCIsYj1jZyhhKSk6XCJFTUFJTF9FWElTVFNcIj09YS5lcnJvck1lc3NhZ2UmJihhLmNvZGU9XCJlbWFpbC1hbHJlYWR5LWluLXVzZVwiLGI9Y2coYSkpO2lmKGIpdGhyb3cgYjtpZighYS5pZFRva2VuKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIik7fSxPZj1mdW5jdGlvbihhLFxuYil7Yi5yZXR1cm5JZHBDcmVkZW50aWFsPSEwO3JldHVybiBTKGEsRGcsYil9LFFmPWZ1bmN0aW9uKGEsYil7Yi5yZXR1cm5JZHBDcmVkZW50aWFsPSEwO3JldHVybiBTKGEsRWcsYil9LEZnPWZ1bmN0aW9uKGEpe2lmKCFhLm9vYkNvZGUpdGhyb3cgbmV3IFIoXCJpbnZhbGlkLWFjdGlvbi1jb2RlXCIpO307VC5wcm90b3R5cGUuY29uZmlybVBhc3N3b3JkUmVzZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyh0aGlzLEdnLHtvb2JDb2RlOmEsbmV3UGFzc3dvcmQ6Yn0pfTtULnByb3RvdHlwZS5jaGVja0FjdGlvbkNvZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIFModGhpcyxIZyx7b29iQ29kZTphfSl9O1QucHJvdG90eXBlLmFwcGx5QWN0aW9uQ29kZT1mdW5jdGlvbihhKXtyZXR1cm4gUyh0aGlzLElnLHtvb2JDb2RlOmF9KX07XG52YXIgSWc9e2VuZHBvaW50Olwic2V0QWNjb3VudEluZm9cIixEOkZnLGViOlwiZW1haWxcIn0sSGc9e2VuZHBvaW50OlwicmVzZXRQYXNzd29yZFwiLEQ6RmcsdWE6ZnVuY3Rpb24oYSl7aWYoIVpiLnRlc3QoYS5lbWFpbCkpdGhyb3cgbmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiKTt9fSxKZz17ZW5kcG9pbnQ6XCJzaWdudXBOZXdVc2VyXCIsRDpmdW5jdGlvbihhKXtuZyhhKTtpZighYS5wYXNzd29yZCl0aHJvdyBuZXcgUihcIndlYWstcGFzc3dvcmRcIik7fSx1YTp0Zyx2YTohMH0scGc9e2VuZHBvaW50OlwiY3JlYXRlQXV0aFVyaVwifSxLZz17ZW5kcG9pbnQ6XCJkZWxldGVBY2NvdW50XCIsYmI6W1wiaWRUb2tlblwiXX0semc9e2VuZHBvaW50Olwic2V0QWNjb3VudEluZm9cIixiYjpbXCJpZFRva2VuXCIsXCJkZWxldGVQcm92aWRlclwiXSxEOmZ1bmN0aW9uKGEpe2lmKCFlYShhLmRlbGV0ZVByb3ZpZGVyKSl0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIpO319LExnPXtlbmRwb2ludDpcImdldEFjY291bnRJbmZvXCJ9LFxueWc9e2VuZHBvaW50OlwiZ2V0T29iQ29uZmlybWF0aW9uQ29kZVwiLGJiOltcImlkVG9rZW5cIixcInJlcXVlc3RUeXBlXCJdLEQ6ZnVuY3Rpb24oYSl7aWYoXCJWRVJJRllfRU1BSUxcIiE9YS5yZXF1ZXN0VHlwZSl0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIpO30sZWI6XCJlbWFpbFwifSx4Zz17ZW5kcG9pbnQ6XCJnZXRPb2JDb25maXJtYXRpb25Db2RlXCIsYmI6W1wicmVxdWVzdFR5cGVcIl0sRDpmdW5jdGlvbihhKXtpZihcIlBBU1NXT1JEX1JFU0VUXCIhPWEucmVxdWVzdFR5cGUpdGhyb3cgbmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiKTtuZyhhKX0sZWI6XCJlbWFpbFwifSxyZz17VGQ6ITAsZW5kcG9pbnQ6XCJnZXRQcm9qZWN0Q29uZmlnXCIsbWU6XCJHRVRcIn0sR2c9e2VuZHBvaW50OlwicmVzZXRQYXNzd29yZFwiLEQ6RmcsZWI6XCJlbWFpbFwifSx2Zz17ZW5kcG9pbnQ6XCJzZXRBY2NvdW50SW5mb1wiLGJiOltcImlkVG9rZW5cIl0sRDpvZyx2YTohMH0sWWY9e2VuZHBvaW50Olwic2V0QWNjb3VudEluZm9cIixiYjpbXCJpZFRva2VuXCJdLFxuRDpmdW5jdGlvbihhKXtvZyhhKTtpZighYS5wYXNzd29yZCl0aHJvdyBuZXcgUihcIndlYWstcGFzc3dvcmRcIik7fSx1YTp0Zyx2YTohMH0sdWc9e2VuZHBvaW50Olwic2lnbnVwTmV3VXNlclwiLHVhOnRnLHZhOiEwfSxEZz17ZW5kcG9pbnQ6XCJ2ZXJpZnlBc3NlcnRpb25cIixEOkJnLHVhOkNnLHZhOiEwfSxFZz17ZW5kcG9pbnQ6XCJ2ZXJpZnlBc3NlcnRpb25cIixEOmZ1bmN0aW9uKGEpe0JnKGEpO2lmKCFhLmlkVG9rZW4pdGhyb3cgbmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiKTt9LHVhOkNnLHZhOiEwfSxNZz17ZW5kcG9pbnQ6XCJ2ZXJpZnlDdXN0b21Ub2tlblwiLEQ6ZnVuY3Rpb24oYSl7aWYoIWEudG9rZW4pdGhyb3cgbmV3IFIoXCJpbnZhbGlkLWN1c3RvbS10b2tlblwiKTt9LHVhOnRnLHZhOiEwfSxYZj17ZW5kcG9pbnQ6XCJ2ZXJpZnlQYXNzd29yZFwiLEQ6ZnVuY3Rpb24oYSl7bmcoYSk7aWYoIWEucGFzc3dvcmQpdGhyb3cgbmV3IFIoXCJ3cm9uZy1wYXNzd29yZFwiKTt9LHVhOnRnLHZhOiEwfSxTPVxuZnVuY3Rpb24oYSxiLGMpe2lmKCFHZihjLGIuYmIpKXJldHVybiBLKG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIikpO3ZhciBkPWIubWV8fFwiUE9TVFwiLGU7cmV0dXJuIEooYykudGhlbihiLkQpLnRoZW4oZnVuY3Rpb24oKXtiLnZhJiYoYy5yZXR1cm5TZWN1cmVUb2tlbj0hMCk7cmV0dXJuIG1nKGEsYi5lbmRwb2ludCxkLGMsYi5UZHx8ITEpfSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gZT1hfSkudGhlbihiLnVhKS50aGVuKGZ1bmN0aW9uKCl7aWYoIWIuZWIpcmV0dXJuIGU7aWYoIShiLmViIGluIGUpKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIik7cmV0dXJuIGVbYi5lYl19KX0samc9ZnVuY3Rpb24oYSl7dmFyIGIsYztjPShhLmVycm9yJiZhLmVycm9yLmVycm9ycyYmYS5lcnJvci5lcnJvcnNbMF18fHt9KS5yZWFzb258fFwiXCI7dmFyIGQ9e2tleUludmFsaWQ6XCJpbnZhbGlkLWFwaS1rZXlcIixpcFJlZmVyZXJCbG9ja2VkOlwiYXBwLW5vdC1hdXRob3JpemVkXCJ9O2lmKGM9ZFtjXT9cbm5ldyBSKGRbY10pOm51bGwpcmV0dXJuIGM7Yz1hLmVycm9yJiZhLmVycm9yLm1lc3NhZ2V8fFwiXCI7ZD17SU5WQUxJRF9DVVNUT01fVE9LRU46XCJpbnZhbGlkLWN1c3RvbS10b2tlblwiLENSRURFTlRJQUxfTUlTTUFUQ0g6XCJjdXN0b20tdG9rZW4tbWlzbWF0Y2hcIixNSVNTSU5HX0NVU1RPTV9UT0tFTjpcImludGVybmFsLWVycm9yXCIsSU5WQUxJRF9JREVOVElGSUVSOlwiaW52YWxpZC1lbWFpbFwiLE1JU1NJTkdfQ09OVElOVUVfVVJJOlwiaW50ZXJuYWwtZXJyb3JcIixJTlZBTElEX0VNQUlMOlwiaW52YWxpZC1lbWFpbFwiLElOVkFMSURfUEFTU1dPUkQ6XCJ3cm9uZy1wYXNzd29yZFwiLFVTRVJfRElTQUJMRUQ6XCJ1c2VyLWRpc2FibGVkXCIsTUlTU0lOR19QQVNTV09SRDpcImludGVybmFsLWVycm9yXCIsRU1BSUxfRVhJU1RTOlwiZW1haWwtYWxyZWFkeS1pbi11c2VcIixQQVNTV09SRF9MT0dJTl9ESVNBQkxFRDpcIm9wZXJhdGlvbi1ub3QtYWxsb3dlZFwiLElOVkFMSURfSURQX1JFU1BPTlNFOlwiaW52YWxpZC1jcmVkZW50aWFsXCIsXG5GRURFUkFURURfVVNFUl9JRF9BTFJFQURZX0xJTktFRDpcImNyZWRlbnRpYWwtYWxyZWFkeS1pbi11c2VcIixFTUFJTF9OT1RfRk9VTkQ6XCJ1c2VyLW5vdC1mb3VuZFwiLEVYUElSRURfT09CX0NPREU6XCJleHBpcmVkLWFjdGlvbi1jb2RlXCIsSU5WQUxJRF9PT0JfQ09ERTpcImludmFsaWQtYWN0aW9uLWNvZGVcIixNSVNTSU5HX09PQl9DT0RFOlwiaW50ZXJuYWwtZXJyb3JcIixDUkVERU5USUFMX1RPT19PTERfTE9HSU5fQUdBSU46XCJyZXF1aXJlcy1yZWNlbnQtbG9naW5cIixJTlZBTElEX0lEX1RPS0VOOlwiaW52YWxpZC11c2VyLXRva2VuXCIsVE9LRU5fRVhQSVJFRDpcInVzZXItdG9rZW4tZXhwaXJlZFwiLFVTRVJfTk9UX0ZPVU5EOlwidXNlci10b2tlbi1leHBpcmVkXCIsQ09SU19VTlNVUFBPUlRFRDpcImNvcnMtdW5zdXBwb3J0ZWRcIixUT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVI6XCJ0b28tbWFueS1yZXF1ZXN0c1wiLFdFQUtfUEFTU1dPUkQ6XCJ3ZWFrLXBhc3N3b3JkXCIsT1BFUkFUSU9OX05PVF9BTExPV0VEOlwib3BlcmF0aW9uLW5vdC1hbGxvd2VkXCIsXG5VU0VSX0NBTkNFTExFRDpcInVzZXItY2FuY2VsbGVkXCJ9O2I9KGI9Yy5tYXRjaCgvXlteXFxzXStcXHMqOlxccyooLiopJC8pKSYmMTxiLmxlbmd0aD9iWzFdOnZvaWQgMDtmb3IodmFyIGUgaW4gZClpZigwPT09Yy5pbmRleE9mKGUpKXJldHVybiBuZXcgUihkW2VdLGIpOyFiJiZhJiYoYj15ZihhKSk7cmV0dXJuIG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIixiKX07dmFyIE5nPWZ1bmN0aW9uKGEpe3RoaXMuUj1hfTtOZy5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SfTtOZy5wcm90b3R5cGUuQmQ9ZnVuY3Rpb24oYSl7dGhpcy5SLnN0eWxlPWE7cmV0dXJuIHRoaXN9O3ZhciBPZz1mdW5jdGlvbihhKXt0aGlzLlI9YXx8e319O09nLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlJ9O09nLnByb3RvdHlwZS5CZD1mdW5jdGlvbihhKXt0aGlzLlIuc3R5bGU9YTtyZXR1cm4gdGhpc307dmFyIFFnPWZ1bmN0aW9uKGEpe3RoaXMuU2U9YTt0aGlzLnpjPW51bGw7dGhpcy5xZD1QZyh0aGlzKX07UWcucHJvdG90eXBlLkVjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucWR9O1xudmFyIFJnPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBPZztiLlIud2hlcmU9ZG9jdW1lbnQuYm9keTtiLlIudXJsPWEuU2U7Yi5SLm1lc3NhZ2VIYW5kbGVyc0ZpbHRlcj11ZihcImdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVJcIik7Yi5SLmF0dHJpYnV0ZXM9Yi5SLmF0dHJpYnV0ZXN8fHt9OyhuZXcgTmcoYi5SLmF0dHJpYnV0ZXMpKS5CZCh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIi0xMDBweFwiLHdpZHRoOlwiMXB4XCIsaGVpZ2h0OlwiMXB4XCJ9KTtiLlIuZG9udGNsZWFyPSEwO3JldHVybiBifSxQZz1mdW5jdGlvbihhKXtyZXR1cm4gU2coKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJKGZ1bmN0aW9uKGIsYyl7dWYoXCJnYXBpLmlmcmFtZXMuZ2V0Q29udGV4dFwiKSgpLm9wZW4oUmcoYSkudmFsdWUoKSxmdW5jdGlvbihkKXthLnpjPWQ7YS56Yy5yZXN0eWxlKHtzZXRIaWRlT25MZWF2ZTohMX0pO3ZhciBlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9LFxuNUUzKSxmPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpO2IoKX07ZC5waW5nKGYpLnRoZW4oZixmdW5jdGlvbigpe2MoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX0pfSl9KX0pfSxUZz1mdW5jdGlvbihhLGIpe2EucWQudGhlbihmdW5jdGlvbigpe2EuemMucmVnaXN0ZXIoXCJhdXRoRXZlbnRcIixiLHVmKFwiZ2FwaS5pZnJhbWVzLkNST1NTX09SSUdJTl9JRlJBTUVTX0ZJTFRFUlwiKSl9KX0sVWc9XCJfX2lmcmFtZWZjYlwiK01hdGguZmxvb3IoMUU2Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCksU2c9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEkoZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbigpe0JmKCk7dWYoXCJnYXBpLmxvYWRcIikoXCJnYXBpLmlmcmFtZXNcIix7Y2FsbGJhY2s6YSxvbnRpbWVvdXQ6ZnVuY3Rpb24oKXtCZigpO2IoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX0sdGltZW91dDozRTN9KX07dWYoXCJnYXBpLmlmcmFtZXMuSWZyYW1lXCIpP2EoKTp1ZihcImdhcGkubG9hZFwiKT9jKCk6XG4obFtVZ109ZnVuY3Rpb24oKXt1ZihcImdhcGkubG9hZFwiKT9jKCk6YihFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfSxKKE9kKFwiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvYXBpLmpzP29ubG9hZD1cIitVZykpLmwoZnVuY3Rpb24oKXtiKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9KSl9KX07dmFyIFdnPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuWD1hO3RoaXMudj1iO3RoaXMuZWE9YztkPXRoaXMueWE9ZHx8bnVsbDthPWJmKGEsXCIvX18vYXV0aC9pZnJhbWVcIik7UChhLFwiYXBpS2V5XCIsYik7UChhLFwiYXBwTmFtZVwiLGMpO2QmJlAoYSxcInZcIixkKTt0aGlzLm5lPWEudG9TdHJpbmcoKTt0aGlzLmtkPW5ldyBRZyh0aGlzLm5lKTt0aGlzLkJiPVtdO1ZnKHRoaXMpfTtXZy5wcm90b3R5cGUuRWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZC5FYygpfTtcbnZhciBYZz1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGsscil7YT1iZihhLFwiL19fL2F1dGgvaGFuZGxlclwiKTtQKGEsXCJhcGlLZXlcIixiKTtQKGEsXCJhcHBOYW1lXCIsYyk7UChhLFwiYXV0aFR5cGVcIixkKTtQKGEsXCJwcm92aWRlcklkXCIsZSk7ZiYmZi5sZW5ndGgmJlAoYSxcInNjb3Blc1wiLGYuam9pbihcIixcIikpO2cmJlAoYSxcInJlZGlyZWN0VXJsXCIsZyk7ayYmUChhLFwiZXZlbnRJZFwiLGspO3ImJlAoYSxcInZcIixyKTtyZXR1cm4gYS50b1N0cmluZygpfSxWZz1mdW5jdGlvbihhKXtUZyhhLmtkLGZ1bmN0aW9uKGIpe3ZhciBjPXt9O2lmKGImJmIuYXV0aEV2ZW50KXt2YXIgZD0hMTtiPWIuYXV0aEV2ZW50fHx7fTtpZihiLnR5cGUpe2lmKGM9Yi5lcnJvcil2YXIgZT0oYz1iLmVycm9yKSYmKGMubmFtZXx8Yy5jb2RlKSxjPWU/bmV3IFIoZS5zdWJzdHJpbmcoNSksYy5tZXNzYWdlKTpudWxsO2I9bmV3IEtmKGIudHlwZSxiLmV2ZW50SWQsYi51cmxSZXNwb25zZSxiLnNlc3Npb25JZCxjKX1lbHNlIGI9XG5udWxsO2ZvcihjPTA7YzxhLkJiLmxlbmd0aDtjKyspZD1hLkJiW2NdKGIpfHxkO2M9e307Yy5zdGF0dXM9ZD9cIkFDS1wiOlwiRVJST1JcIjtyZXR1cm4gSihjKX1jLnN0YXR1cz1cIkVSUk9SXCI7cmV0dXJuIEooYyl9KX0sWWc9ZnVuY3Rpb24oYSxiKXtNYShhLkJiLGZ1bmN0aW9uKGEpe3JldHVybiBhPT1ifSl9O3ZhciBaZz1mdW5jdGlvbihhKXt0aGlzLnU9YXx8ZmlyZWJhc2UuSU5URVJOQUwucmVhY3ROYXRpdmUmJmZpcmViYXNlLklOVEVSTkFMLnJlYWN0TmF0aXZlLkFzeW5jU3RvcmFnZTtpZighdGhpcy51KXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIixcIlRoZSBSZWFjdCBOYXRpdmUgY29tcGF0aWJpbGl0eSBsaWJyYXJ5IHdhcyBub3QgZm91bmQuXCIpO307aD1aZy5wcm90b3R5cGU7aC5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcy51LmdldEl0ZW0oYSkpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnpmKGEpfSl9O2guc2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIEoodGhpcy51LnNldEl0ZW0oYSx5ZihiKSkpfTtoLnJlbW92ZT1mdW5jdGlvbihhKXtyZXR1cm4gSih0aGlzLnUucmVtb3ZlSXRlbShhKSl9O2guTGE9ZnVuY3Rpb24oKXt9O2guJGE9ZnVuY3Rpb24oKXt9O3ZhciAkZz1mdW5jdGlvbigpe3RoaXMudT17fX07aD0kZy5wcm90b3R5cGU7aC5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcy51W2FdKX07aC5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLnVbYV09YjtyZXR1cm4gSigpfTtoLnJlbW92ZT1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy51W2FdO3JldHVybiBKKCl9O2guTGE9ZnVuY3Rpb24oKXt9O2guJGE9ZnVuY3Rpb24oKXt9O3ZhciBiaD1mdW5jdGlvbigpe2lmKCFhaCgpKXtpZihcIk5vZGVcIj09cmYoKSl0aHJvdyBuZXcgUihcImludGVybmFsLWVycm9yXCIsXCJUaGUgTG9jYWxTdG9yYWdlIGNvbXBhdGliaWxpdHkgbGlicmFyeSB3YXMgbm90IGZvdW5kLlwiKTt0aHJvdyBuZXcgUihcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCIpO310aGlzLnU9bC5sb2NhbFN0b3JhZ2V8fGZpcmViYXNlLklOVEVSTkFMLm5vZGUubG9jYWxTdG9yYWdlfSxhaD1mdW5jdGlvbigpe3ZhciBhPVwiTm9kZVwiPT1yZigpLGE9bC5sb2NhbFN0b3JhZ2V8fGEmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUubG9jYWxTdG9yYWdlO2lmKCFhKXJldHVybiExO3RyeXtyZXR1cm4gYS5zZXRJdGVtKFwiX19zYWtcIixcIjFcIiksYS5yZW1vdmVJdGVtKFwiX19zYWtcIiksITB9Y2F0Y2goYil7cmV0dXJuITF9fTtoPWJoLnByb3RvdHlwZTtcbmguZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIEooKS50aGVuKGZ1bmN0aW9uKCl7dmFyIGM9Yi51LmdldEl0ZW0oYSk7cmV0dXJuIHpmKGMpfSl9O2guc2V0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gSigpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZD15ZihiKTtudWxsPT09ZD9jLnJlbW92ZShhKTpjLnUuc2V0SXRlbShhLGQpfSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIEooKS50aGVuKGZ1bmN0aW9uKCl7Yi51LnJlbW92ZUl0ZW0oYSl9KX07aC5MYT1mdW5jdGlvbihhKXtsLndpbmRvdyYmTGIobC53aW5kb3csXCJzdG9yYWdlXCIsYSl9O2guJGE9ZnVuY3Rpb24oYSl7bC53aW5kb3cmJlViKGwud2luZG93LFwic3RvcmFnZVwiLGEpfTt2YXIgY2g9ZnVuY3Rpb24oKXt0aGlzLnU9e319O2g9Y2gucHJvdG90eXBlO2guZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIEoobnVsbCl9O2guc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIEooKX07aC5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gSigpfTtoLkxhPWZ1bmN0aW9uKCl7fTtoLiRhPWZ1bmN0aW9uKCl7fTt2YXIgZWg9ZnVuY3Rpb24oKXtpZighZGgoKSl7aWYoXCJOb2RlXCI9PXJmKCkpdGhyb3cgbmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiLFwiVGhlIFNlc3Npb25TdG9yYWdlIGNvbXBhdGliaWxpdHkgbGlicmFyeSB3YXMgbm90IGZvdW5kLlwiKTt0aHJvdyBuZXcgUihcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCIpO310aGlzLnU9bC5zZXNzaW9uU3RvcmFnZXx8ZmlyZWJhc2UuSU5URVJOQUwubm9kZS5zZXNzaW9uU3RvcmFnZX0sZGg9ZnVuY3Rpb24oKXt2YXIgYT1cIk5vZGVcIj09cmYoKSxhPWwuc2Vzc2lvblN0b3JhZ2V8fGEmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUuc2Vzc2lvblN0b3JhZ2U7aWYoIWEpcmV0dXJuITE7dHJ5e3JldHVybiBhLnNldEl0ZW0oXCJfX3Nha1wiLFwiMVwiKSxhLnJlbW92ZUl0ZW0oXCJfX3Nha1wiKSwhMH1jYXRjaChiKXtyZXR1cm4hMX19O2g9ZWgucHJvdG90eXBlO1xuaC5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gSigpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYz1iLnUuZ2V0SXRlbShhKTtyZXR1cm4gemYoYyl9KX07aC5zZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3JldHVybiBKKCkudGhlbihmdW5jdGlvbigpe3ZhciBkPXlmKGIpO251bGw9PT1kP2MucmVtb3ZlKGEpOmMudS5zZXRJdGVtKGEsZCl9KX07aC5yZW1vdmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gSigpLnRoZW4oZnVuY3Rpb24oKXtiLnUucmVtb3ZlSXRlbShhKX0pfTtoLkxhPWZ1bmN0aW9uKCl7fTtoLiRhPWZ1bmN0aW9uKCl7fTt2YXIgZmg9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKCF3aW5kb3cuaW5kZXhlZERCKXRocm93IG5ldyBSKFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIik7dGhpcy5XZD1hO3RoaXMuRGM9Yjt0aGlzLnRjPWM7dGhpcy5IZD1kO3RoaXMubmE9ZTt0aGlzLk89e307dGhpcy54Yj1bXTt0aGlzLnRiPTA7dGhpcy5vZT1mfHxsLmluZGV4ZWREQn0sZ2gsaGg9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBJKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5vZS5vcGVuKGEuV2QsYS5uYSk7ZC5vbmVycm9yPWZ1bmN0aW9uKGEpe2MoRXJyb3IoYS50YXJnZXQuZXJyb3JDb2RlKSl9O2Qub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGIpe2I9Yi50YXJnZXQucmVzdWx0O3RyeXtiLmNyZWF0ZU9iamVjdFN0b3JlKGEuRGMse2tleVBhdGg6YS50Y30pfWNhdGNoKGYpe2MoZil9fTtkLm9uc3VjY2Vzcz1mdW5jdGlvbihhKXtiKGEudGFyZ2V0LnJlc3VsdCl9fSl9LGloPWZ1bmN0aW9uKGEpe2EubGR8fChhLmxkPVxuaGgoYSkpO3JldHVybiBhLmxkfSxqaD1mdW5jdGlvbihhLGIpe3JldHVybiBiLm9iamVjdFN0b3JlKGEuRGMpfSxraD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIudHJhbnNhY3Rpb24oW2EuRGNdLGM/XCJyZWFkd3JpdGVcIjpcInJlYWRvbmx5XCIpfSxsaD1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEkoZnVuY3Rpb24oYixjKXthLm9uc3VjY2Vzcz1mdW5jdGlvbihhKXthJiZhLnRhcmdldD9iKGEudGFyZ2V0LnJlc3VsdCk6YigpfTthLm9uZXJyb3I9ZnVuY3Rpb24oYSl7YyhFcnJvcihhLnRhcmdldC5lcnJvckNvZGUpKX19KX07aD1maC5wcm90b3R5cGU7XG5oLnNldD1mdW5jdGlvbihhLGIpe3ZhciBjPSExLGQsZT10aGlzO3JldHVybiB4ZChpaCh0aGlzKS50aGVuKGZ1bmN0aW9uKGIpe2Q9YjtiPWpoKGUsa2goZSxkLCEwKSk7cmV0dXJuIGxoKGIuZ2V0KGEpKX0pLnRoZW4oZnVuY3Rpb24oZil7dmFyIGc9amgoZSxraChlLGQsITApKTtpZihmKXJldHVybiBmLnZhbHVlPWIsbGgoZy5wdXQoZikpO2UudGIrKztjPSEwO2Y9e307ZltlLnRjXT1hO2ZbZS5IZF09YjtyZXR1cm4gbGgoZy5hZGQoZikpfSkudGhlbihmdW5jdGlvbigpe2UuT1thXT1ifSksZnVuY3Rpb24oKXtjJiZlLnRiLS19KX07aC5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gaWgodGhpcykudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gbGgoamgoYixraChiLGMsITEpKS5nZXQoYSkpfSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYSYmYS52YWx1ZX0pfTtcbmgucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPSExLGM9dGhpcztyZXR1cm4geGQoaWgodGhpcykudGhlbihmdW5jdGlvbihkKXtiPSEwO2MudGIrKztyZXR1cm4gbGgoamgoYyxraChjLGQsITApKVtcImRlbGV0ZVwiXShhKSl9KS50aGVuKGZ1bmN0aW9uKCl7ZGVsZXRlIGMuT1thXX0pLGZ1bmN0aW9uKCl7YiYmYy50Yi0tfSl9O1xuaC5LZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGloKHRoaXMpLnRoZW4oZnVuY3Rpb24oYil7dmFyIGM9amgoYSxraChhLGIsITEpKTtyZXR1cm4gYy5nZXRBbGw/bGgoYy5nZXRBbGwoKSk6bmV3IEkoZnVuY3Rpb24oYSxiKXt2YXIgZD1bXSxlPWMub3BlbkN1cnNvcigpO2Uub25zdWNjZXNzPWZ1bmN0aW9uKGIpeyhiPWIudGFyZ2V0LnJlc3VsdCk/KGQucHVzaChiLnZhbHVlKSxiW1wiY29udGludWVcIl0oKSk6YShkKX07ZS5vbmVycm9yPWZ1bmN0aW9uKGEpe2IoRXJyb3IoYS50YXJnZXQuZXJyb3JDb2RlKSl9fSl9KS50aGVuKGZ1bmN0aW9uKGIpe3ZhciBjPXt9LGQ9W107aWYoMD09YS50Yil7Zm9yKGQ9MDtkPGIubGVuZ3RoO2QrKyljW2JbZF1bYS50Y11dPWJbZF1bYS5IZF07ZD1rZihhLk8sYyk7YS5PPWN9cmV0dXJuIGR9KX07aC5MYT1mdW5jdGlvbihhKXswPT10aGlzLnhiLmxlbmd0aCYmdGhpcy5RYygpO3RoaXMueGIucHVzaChhKX07XG5oLiRhPWZ1bmN0aW9uKGEpe01hKHRoaXMueGIsZnVuY3Rpb24oYil7cmV0dXJuIGI9PWF9KTswPT10aGlzLnhiLmxlbmd0aCYmdGhpcy5nYygpfTtoLlFjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLmdjKCk7dmFyIGI9ZnVuY3Rpb24oKXthLkljPXhlKDgwMCkudGhlbihxKGEuS2UsYSkpLnRoZW4oZnVuY3Rpb24oYil7MDxiLmxlbmd0aCYmeChhLnhiLGZ1bmN0aW9uKGEpe2EoYil9KX0pLnRoZW4oYikubChmdW5jdGlvbihhKXtcIlNUT1BfRVZFTlRcIiE9YS5tZXNzYWdlJiZiKCl9KTtyZXR1cm4gYS5JY307YigpfTtoLmdjPWZ1bmN0aW9uKCl7dGhpcy5JYyYmdGhpcy5JYy5jYW5jZWwoXCJTVE9QX0VWRU5UXCIpfTt2YXIgcGg9ZnVuY3Rpb24oKXt0aGlzLmJkPXtCcm93c2VyOm1oLE5vZGU6bmgsUmVhY3ROYXRpdmU6b2h9W3JmKCldfSxxaCxtaD17VjpiaCxTYzplaH0sbmg9e1Y6YmgsU2M6ZWh9LG9oPXtWOlpnLFNjOmNofTt2YXIgcmg9XCJGaXJzdCBTZWNvbmQgVGhpcmQgRm91cnRoIEZpZnRoIFNpeHRoIFNldmVudGggRWlnaHRoIE5pbnRoXCIuc3BsaXQoXCIgXCIpLFU9ZnVuY3Rpb24oYSxiKXtyZXR1cm57bmFtZTphfHxcIlwiLGNhOlwiYSB2YWxpZCBzdHJpbmdcIixvcHRpb25hbDohIWIsZGE6bn19LHNoPWZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmF8fFwiXCIsY2E6XCJhIHZhbGlkIG9iamVjdFwiLG9wdGlvbmFsOiExLGRhOmhhfX0sdGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm57bmFtZTphfHxcIlwiLGNhOlwiYSBmdW5jdGlvblwiLG9wdGlvbmFsOiEhYixkYTpwfX0sdWg9ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTpcIlwiLGNhOlwibnVsbFwiLG9wdGlvbmFsOiExLGRhOmRhfX0sdmg9ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTpcImNyZWRlbnRpYWxcIixjYTpcImEgdmFsaWQgY3JlZGVudGlhbFwiLG9wdGlvbmFsOiExLGRhOmZ1bmN0aW9uKGEpe3JldHVybiEoIWF8fCFhLkliKX19fSx3aD1mdW5jdGlvbigpe3JldHVybntuYW1lOlwiYXV0aFByb3ZpZGVyXCIsXG5jYTpcImEgdmFsaWQgQXV0aCBwcm92aWRlclwiLG9wdGlvbmFsOiExLGRhOmZ1bmN0aW9uKGEpe3JldHVybiEhKGEmJmEucHJvdmlkZXJJZCYmYS5oYXNPd25Qcm9wZXJ0eSYmYS5oYXNPd25Qcm9wZXJ0eShcImlzT0F1dGhQcm92aWRlclwiKSl9fX0seGg9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJue25hbWU6Y3x8XCJcIixjYTphLmNhK1wiIG9yIFwiK2IuY2Esb3B0aW9uYWw6ISFkLGRhOmZ1bmN0aW9uKGMpe3JldHVybiBhLmRhKGMpfHxiLmRhKGMpfX19O3ZhciB6aD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBiKXt2YXIgZD1iW2NdLm5hbWU7YVtkXT15aChkLGFbY10sYltjXS5iKX19LFY9ZnVuY3Rpb24oYSxiLGMsZCl7YVtiXT15aChiLGMsZCl9LHloPWZ1bmN0aW9uKGEsYixjKXtpZighYylyZXR1cm4gYjt2YXIgZD1BaChhKTthPWZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxlO2E6e2U9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYSk7dmFyIGs7az0wO2Zvcih2YXIgcj0hMSxzYT0wO3NhPGMubGVuZ3RoO3NhKyspaWYoY1tzYV0ub3B0aW9uYWwpcj0hMDtlbHNle2lmKHIpdGhyb3cgbmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiLFwiQXJndW1lbnQgdmFsaWRhdG9yIGVuY291bnRlcmVkIGEgcmVxdWlyZWQgYXJndW1lbnQgYWZ0ZXIgYW4gb3B0aW9uYWwgYXJndW1lbnQuXCIpO2srK31yPWMubGVuZ3RoO2lmKGUubGVuZ3RoPGt8fHI8ZS5sZW5ndGgpZT1cIkV4cGVjdGVkIFwiKyhrPT1cbnI/MT09az9cIjEgYXJndW1lbnRcIjprK1wiIGFyZ3VtZW50c1wiOmsrXCItXCIrcitcIiBhcmd1bWVudHNcIikrXCIgYnV0IGdvdCBcIitlLmxlbmd0aCtcIi5cIjtlbHNle2ZvcihrPTA7azxlLmxlbmd0aDtrKyspaWYocj1jW2tdLm9wdGlvbmFsJiZ2b2lkIDA9PT1lW2tdLCFjW2tdLmRhKGVba10pJiYhcil7ZT1jW2tdO2lmKDA+a3x8az49cmgubGVuZ3RoKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIixcIkFyZ3VtZW50IHZhbGlkYXRvciByZWNlaXZlZCBhbiB1bnN1cHBvcnRlZCBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtlPXJoW2tdK1wiIGFyZ3VtZW50IFwiKyhlLm5hbWU/J1wiJytlLm5hbWUrJ1wiICc6XCJcIikrXCJtdXN0IGJlIFwiK2UuY2ErXCIuXCI7YnJlYWsgYX1lPW51bGx9fWlmKGUpdGhyb3cgbmV3IFIoXCJhcmd1bWVudC1lcnJvclwiLGQrXCIgZmFpbGVkOiBcIitlKTtyZXR1cm4gYi5hcHBseSh0aGlzLGEpfTtmb3IodmFyIGUgaW4gYilhW2VdPWJbZV07Zm9yKGUgaW4gYi5wcm90b3R5cGUpYS5wcm90b3R5cGVbZV09XG5iLnByb3RvdHlwZVtlXTtyZXR1cm4gYX0sQWg9ZnVuY3Rpb24oYSl7YT1hLnNwbGl0KFwiLlwiKTtyZXR1cm4gYVthLmxlbmd0aC0xXX07dmFyIEJoPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMueWU9YTt0aGlzLnpkPWI7dGhpcy5FZT1jO3RoaXMuZmI9ZDt0aGlzLk49e307cWh8fChxaD1uZXcgcGgpO2E9cWg7dHJ5e3ZhciBlO2hmKCk/KGdofHwoZ2g9bmV3IGZoKFwiZmlyZWJhc2VMb2NhbFN0b3JhZ2VEYlwiLFwiZmlyZWJhc2VMb2NhbFN0b3JhZ2VcIixcImZiYXNlX2tleVwiLFwidmFsdWVcIiwxKSksZT1naCk6ZT1uZXcgYS5iZC5WO3RoaXMuVWE9ZX1jYXRjaChmKXt0aGlzLlVhPW5ldyAkZyx0aGlzLmZiPSEwfXRyeXt0aGlzLmljPW5ldyBhLmJkLlNjfWNhdGNoKGYpe3RoaXMuaWM9bmV3ICRnfXRoaXMuQ2Q9cSh0aGlzLkRkLHRoaXMpO3RoaXMuTz17fX0sQ2gsRGg9ZnVuY3Rpb24oKXtDaHx8KENoPW5ldyBCaChcImZpcmViYXNlXCIsXCI6XCIsIUFmKGdmKCkpJiZsLndpbmRvdyYmbC53aW5kb3chPWwud2luZG93LnRvcD8hMDohMSx4ZigpKSk7cmV0dXJuIENofTtoPUJoLnByb3RvdHlwZTtcbmguSz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnllK3RoaXMuemQrYS5uYW1lKyhiP3RoaXMuemQrYjpcIlwiKX07aC5nZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oYS5WP3RoaXMuVWE6dGhpcy5pYykuZ2V0KHRoaXMuSyhhLGIpKX07aC5yZW1vdmU9ZnVuY3Rpb24oYSxiKXtiPXRoaXMuSyhhLGIpO2EuViYmIXRoaXMuZmImJih0aGlzLk9bYl09bnVsbCk7cmV0dXJuKGEuVj90aGlzLlVhOnRoaXMuaWMpLnJlbW92ZShiKX07aC5zZXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuSyhhLGMpLGU9dGhpcyxmPWEuVj90aGlzLlVhOnRoaXMuaWM7cmV0dXJuIGYuc2V0KGQsYikudGhlbihmdW5jdGlvbigpe3JldHVybiBmLmdldChkKX0pLnRoZW4oZnVuY3Rpb24oYil7YS5WJiYhdGhpcy5mYiYmKGUuT1tkXT1iKX0pfTtcbmguYWRkTGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe2E9dGhpcy5LKGEsYik7dGhpcy5mYnx8KHRoaXMuT1thXT1sLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGEpKTtVYSh0aGlzLk4pJiZ0aGlzLlFjKCk7dGhpcy5OW2FdfHwodGhpcy5OW2FdPVtdKTt0aGlzLk5bYV0ucHVzaChjKX07aC5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7YT10aGlzLksoYSxiKTt0aGlzLk5bYV0mJihNYSh0aGlzLk5bYV0sZnVuY3Rpb24oYSl7cmV0dXJuIGE9PWN9KSwwPT10aGlzLk5bYV0ubGVuZ3RoJiZkZWxldGUgdGhpcy5OW2FdKTtVYSh0aGlzLk4pJiZ0aGlzLmdjKCl9O2guUWM9ZnVuY3Rpb24oKXt0aGlzLlVhLkxhKHRoaXMuQ2QpO3RoaXMuZmJ8fEVoKHRoaXMpfTtcbnZhciBFaD1mdW5jdGlvbihhKXtGaChhKTthLkNjPXNldEludGVydmFsKGZ1bmN0aW9uKCl7Zm9yKHZhciBiIGluIGEuTil7dmFyIGM9bC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShiKTtjIT1hLk9bYl0mJihhLk9bYl09YyxjPW5ldyBBYih7dHlwZTpcInN0b3JhZ2VcIixrZXk6Yix0YXJnZXQ6d2luZG93LG9sZFZhbHVlOmEuT1tiXSxuZXdWYWx1ZTpjfSksYS5EZChjKSl9fSwxRTMpfSxGaD1mdW5jdGlvbihhKXthLkNjJiYoY2xlYXJJbnRlcnZhbChhLkNjKSxhLkNjPW51bGwpfTtCaC5wcm90b3R5cGUuZ2M9ZnVuY3Rpb24oKXt0aGlzLlVhLiRhKHRoaXMuQ2QpO3RoaXMuZmJ8fEZoKHRoaXMpfTtcbkJoLnByb3RvdHlwZS5EZD1mdW5jdGlvbihhKXtpZihhJiZhLmZlKXt2YXIgYj1hLm1iLmtleTtpZih0aGlzLkVlKXt2YXIgYz1sLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGIpO2E9YS5tYi5uZXdWYWx1ZTthIT1jJiYoYT9sLmxvY2FsU3RvcmFnZS5zZXRJdGVtKGIsYSk6YXx8bC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShiKSl9dGhpcy5PW2JdPWwubG9jYWxTdG9yYWdlLmdldEl0ZW0oYik7dGhpcy5YYyhiKX1lbHNlIHgoYSxxKHRoaXMuWGMsdGhpcykpfTtCaC5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oYSl7dGhpcy5OW2FdJiZ4KHRoaXMuTlthXSxmdW5jdGlvbihhKXthKCl9KX07dmFyIEdoPWZ1bmN0aW9uKGEpe3RoaXMuQj1hO3RoaXMuQT1EaCgpfSxIaD17bmFtZTpcInBlbmRpbmdSZWRpcmVjdFwiLFY6ITF9LEloPWZ1bmN0aW9uKGEpe3JldHVybiBhLkEuc2V0KEhoLFwicGVuZGluZ1wiLGEuQil9LEpoPWZ1bmN0aW9uKGEpe3JldHVybiBhLkEucmVtb3ZlKEhoLGEuQil9LEtoPWZ1bmN0aW9uKGEpe3JldHVybiBhLkEuZ2V0KEhoLGEuQikudGhlbihmdW5jdGlvbihhKXtyZXR1cm5cInBlbmRpbmdcIj09YX0pfTt2YXIgTmg9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT0odGhpcy55YT1maXJlYmFzZS5TREtfVkVSU0lPTnx8bnVsbCk/dGYodGhpcy55YSk6bnVsbDt0aGlzLmY9bmV3IFQoYixudWxsLGUpO3RoaXMucWE9bnVsbDt0aGlzLlg9YTt0aGlzLnY9Yjt0aGlzLmVhPWM7dGhpcy55Yj1bXTt0aGlzLlJiPSExO3RoaXMuVGM9cSh0aGlzLmdlLHRoaXMpO3RoaXMuWGE9bmV3IExoKHRoaXMpO3RoaXMudGQ9bmV3IE1oKHRoaXMpO3RoaXMuSGM9bmV3IEdoKHRoaXMuditcIjpcIit0aGlzLmVhKTt0aGlzLmhiPXt9O3RoaXMuaGIudW5rbm93bj10aGlzLlhhO3RoaXMuaGIuc2lnbkluVmlhUmVkaXJlY3Q9dGhpcy5YYTt0aGlzLmhiLmxpbmtWaWFSZWRpcmVjdD10aGlzLlhhO3RoaXMuaGIuc2lnbkluVmlhUG9wdXA9dGhpcy50ZDt0aGlzLmhiLmxpbmtWaWFQb3B1cD10aGlzLnRkO3RoaXMuYmM9dGhpcy5jYj1udWxsO3RoaXMuV2I9bmV3IEkoZnVuY3Rpb24oYSxiKXtkLmNiPWE7ZC5iYz1ifSl9O1xuTmgucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLnFhPW51bGw7dGhpcy5XYi5jYW5jZWwoKTt0aGlzLlJiPSExO3RoaXMuYmM9dGhpcy5jYj1udWxsO3RoaXMuT2ImJllnKHRoaXMuT2IsdGhpcy5UYyk7dGhpcy5XYj1uZXcgSShmdW5jdGlvbihiLGMpe2EuY2I9YjthLmJjPWN9KX07XG52YXIgT2g9ZnVuY3Rpb24oYSl7dmFyIGI9amYoKTtyZXR1cm4gc2coYSkudGhlbihmdW5jdGlvbihhKXthOntmb3IodmFyIGM9YWYoYikuZ2EsZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZjt2YXIgZz1hW2VdO2Y9Yzt2YXIgaz1NYyhnKTtrP2Y9KGY9TWMoZikpP2suR2IoZik6ITE6KGs9Zy5zcGxpdChcIi5cIikuam9pbihcIlxcXFwuXCIpLGY9KG5ldyBSZWdFeHAoXCJeKC4rXFxcXC5cIitrK1wifFwiK2srXCIpJFwiLFwiaVwiKSkudGVzdChmKSk7aWYoZil7YT0hMDticmVhayBhfX1hPSExfWlmKCFhKXRocm93IG5ldyBMZihqZigpKTt9KX0sUGg9ZnVuY3Rpb24oYSl7YS5SYnx8KGEuUmI9ITAscWYoKS50aGVuKGZ1bmN0aW9uKCl7YS5PYj1uZXcgV2coYS5YLGEudixhLmVhLGEueWEpO2EuT2IuRWMoKS5sKGZ1bmN0aW9uKCl7YS5iYyhuZXcgUihcIm5ldHdvcmstcmVxdWVzdC1mYWlsZWRcIikpO2EucmVzZXQoKX0pO2EuT2IuQmIucHVzaChhLlRjKX0pKTtyZXR1cm4gYS5XYn07XG5OaC5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGEpe0phKHRoaXMueWIsYSl8fHRoaXMueWIucHVzaChhKTtpZighdGhpcy5SYil7dmFyIGI9dGhpcyxjPWZ1bmN0aW9uKCl7dmFyIGE9Z2YoKTt4ZihhKXx8QWYoYSk/UWgoYi5YYSk6UGgoYil9O0toKHRoaXMuSGMpLnRoZW4oZnVuY3Rpb24oYSl7YT9KaChiLkhjKS50aGVuKGZ1bmN0aW9uKCl7UGgoYil9KTpjKCl9KS5sKGZ1bmN0aW9uKCl7YygpfSl9fTtOaC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oYSl7TWEodGhpcy55YixmdW5jdGlvbihiKXtyZXR1cm4gYj09YX0pfTtcbk5oLnByb3RvdHlwZS5nZT1mdW5jdGlvbihhKXtpZighYSl0aHJvdyBuZXcgUihcImludmFsaWQtYXV0aC1ldmVudFwiKTt0aGlzLmNiJiYodGhpcy5jYigpLHRoaXMuY2I9bnVsbCk7Zm9yKHZhciBiPSExLGM9MDtjPHRoaXMueWIubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy55YltjXTtpZihkLlljKGEud2EsYS5BYSkpeyhiPXRoaXMuaGJbYS53YV0pJiZiLnVkKGEsZCk7Yj0hMDticmVha319UWgodGhpcy5YYSk7cmV0dXJuIGJ9O05oLnByb3RvdHlwZS5nZXRSZWRpcmVjdFJlc3VsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlhhLmdldFJlZGlyZWN0UmVzdWx0KCl9O1xudmFyIFNoPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZighYilyZXR1cm4gSyhuZXcgUihcInBvcHVwLWJsb2NrZWRcIikpO2lmKGYpcmV0dXJuIFBoKGEpLEooKTthLnFhfHwoYS5xYT1PaChhLmYpKTtyZXR1cm4gYS5xYS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFBoKGEpfSkudGhlbihmdW5jdGlvbigpe1JoKGQpO3ZhciBmPVhnKGEuWCxhLnYsYS5lYSxjLGQucHJvdmlkZXJJZCxkLkpiKCksbnVsbCxlLGEueWEpOyhifHxsLndpbmRvdykubG9jYXRpb24uaHJlZj1kYyhnYyhmKSl9KS5sKGZ1bmN0aW9uKGIpe1wiYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCI9PWIuY29kZSYmKGEucWE9bnVsbCk7dGhyb3cgYjt9KX0sVGg9ZnVuY3Rpb24oYSxiLGMsZCl7YS5xYXx8KGEucWE9T2goYS5mKSk7cmV0dXJuIGEucWEudGhlbihmdW5jdGlvbigpe1JoKGMpO3ZhciBlPVhnKGEuWCxhLnYsYS5lYSxiLGMucHJvdmlkZXJJZCxjLkpiKCksamYoKSxkLGEueWEpO0loKGEuSGMpLnRoZW4oZnVuY3Rpb24oKXtsLndpbmRvdy5sb2NhdGlvbi5ocmVmPVxuZGMoZ2MoZSkpfSl9KX0sVWg9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1uZXcgUihcInBvcHVwLWNsb3NlZC1ieS11c2VyXCIpO3JldHVybiBhLldiLmwoZnVuY3Rpb24oKXt9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHBmKGQpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiB4ZSgyRTMpLnRoZW4oZnVuY3Rpb24oKXtiLklhKGMsbnVsbCxmLGUpfSl9KX0sUmg9ZnVuY3Rpb24oYSl7aWYoIWEuaXNPQXV0aFByb3ZpZGVyKXRocm93IG5ldyBSKFwiaW52YWxpZC1vYXV0aC1wcm92aWRlclwiKTt9LFZoPXt9LFdoPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iK1wiOlwiK2M7VmhbZF18fChWaFtkXT1uZXcgTmgoYSxiLGMpKTtyZXR1cm4gVmhbZF19LExoPWZ1bmN0aW9uKGEpe3RoaXMuQT1hO3RoaXMud2I9dGhpcy5hYz10aGlzLllhPXRoaXMuVz1udWxsO3RoaXMuTGM9ITF9O1xuTGgucHJvdG90eXBlLnVkPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIEsobmV3IFIoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIikpO3RoaXMuTGM9ITA7dmFyIGM9YS53YSxkPWEuQWE7XCJ1bmtub3duXCI9PWM/KHRoaXMuV3x8WGgodGhpcywhMSxudWxsLG51bGwpLGE9SigpKTphPWEuSj90aGlzLkpjKGEsYik6Yi5uYihjLGQpP3RoaXMuS2MoYSxiKTpLKG5ldyBSKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKTtyZXR1cm4gYX07dmFyIFFoPWZ1bmN0aW9uKGEpe2EuTGN8fChhLkxjPSEwLFhoKGEsITEsbnVsbCxudWxsKSl9O0xoLnByb3RvdHlwZS5KYz1mdW5jdGlvbihhKXt0aGlzLld8fFhoKHRoaXMsITAsbnVsbCxhLmdldEVycm9yKCkpO3JldHVybiBKKCl9O1xuTGgucHJvdG90eXBlLktjPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWEud2E7Yj1iLm5iKGQsYS5BYSk7dmFyIGU9YS5pYjthPWEuZWM7dmFyIGY9XCJzaWduSW5WaWFSZWRpcmVjdFwiPT1kfHxcImxpbmtWaWFSZWRpcmVjdFwiPT1kO2lmKHRoaXMuVylyZXR1cm4gSigpO3RoaXMud2ImJnRoaXMud2IuY2FuY2VsKCk7cmV0dXJuIGIoZSxhKS50aGVuKGZ1bmN0aW9uKGEpe2MuV3x8WGgoYyxmLGEsbnVsbCl9KS5sKGZ1bmN0aW9uKGEpe2MuV3x8WGgoYyxmLG51bGwsYSl9KX07dmFyIFhoPWZ1bmN0aW9uKGEsYixjLGQpe2I/ZD8oYS5XPWZ1bmN0aW9uKCl7cmV0dXJuIEsoZCl9LGEuYWMmJmEuYWMoZCkpOihhLlc9ZnVuY3Rpb24oKXtyZXR1cm4gSihjKX0sYS5ZYSYmYS5ZYShjKSk6KGEuVz1mdW5jdGlvbigpe3JldHVybiBKKHt1c2VyOm51bGx9KX0sYS5ZYSYmYS5ZYSh7dXNlcjpudWxsfSkpO2EuWWE9bnVsbDthLmFjPW51bGx9O1xuTGgucHJvdG90eXBlLmdldFJlZGlyZWN0UmVzdWx0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLldjfHwodGhpcy5XYz1uZXcgSShmdW5jdGlvbihiLGMpe2EuVz9hLlcoKS50aGVuKGIsYyk6KGEuWWE9YixhLmFjPWMsWWgoYSkpfSkpO3JldHVybiB0aGlzLldjfTt2YXIgWWg9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFIoXCJ0aW1lb3V0XCIpO2Eud2ImJmEud2IuY2FuY2VsKCk7YS53Yj14ZSgxRTQpLnRoZW4oZnVuY3Rpb24oKXthLld8fFhoKGEsITAsbnVsbCxiKX0pfSxNaD1mdW5jdGlvbihhKXt0aGlzLkE9YX07TWgucHJvdG90eXBlLnVkPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIEsobmV3IFIoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIikpO3ZhciBjPWEud2EsZD1hLkFhO3JldHVybiBhLko/dGhpcy5KYyhhLGIpOmIubmIoYyxkKT90aGlzLktjKGEsYik6SyhuZXcgUihcImludmFsaWQtYXV0aC1ldmVudFwiKSl9O1xuTWgucHJvdG90eXBlLkpjPWZ1bmN0aW9uKGEsYil7Yi5JYShhLndhLG51bGwsYS5nZXRFcnJvcigpLGEuQWEpO3JldHVybiBKKCl9O01oLnByb3RvdHlwZS5LYz1mdW5jdGlvbihhLGIpe3ZhciBjPWEuQWEsZD1hLndhO3JldHVybiBiLm5iKGQsYykoYS5pYixhLmVjKS50aGVuKGZ1bmN0aW9uKGEpe2IuSWEoZCxhLG51bGwsYyl9KS5sKGZ1bmN0aW9uKGEpe2IuSWEoZCxudWxsLGEsYyl9KX07dmFyIFpoPWZ1bmN0aW9uKGEpe3RoaXMuZj1hO3RoaXMueGE9dGhpcy5TPW51bGw7dGhpcy5RYT0wfTtaaC5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybnthcGlLZXk6dGhpcy5mLnYscmVmcmVzaFRva2VuOnRoaXMuUyxhY2Nlc3NUb2tlbjp0aGlzLnhhLGV4cGlyYXRpb25UaW1lOnRoaXMuUWF9fTtcbnZhciBhaT1mdW5jdGlvbihhLGIpe3ZhciBjPWIuaWRUb2tlbixkPWIucmVmcmVzaFRva2VuO2I9JGgoYi5leHBpcmVzSW4pO2EueGE9YzthLlFhPWI7YS5TPWR9LCRoPWZ1bmN0aW9uKGEpe3JldHVybiBsYSgpKzFFMypwYXJzZUludChhLDEwKX0sYmk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4ga2coYS5mLGIpLnRoZW4oZnVuY3Rpb24oYil7YS54YT1iLmFjY2Vzc190b2tlbjthLlFhPSRoKGIuZXhwaXJlc19pbik7YS5TPWIucmVmcmVzaF90b2tlbjtyZXR1cm57YWNjZXNzVG9rZW46YS54YSxleHBpcmF0aW9uVGltZTphLlFhLHJlZnJlc2hUb2tlbjphLlN9fSkubChmdW5jdGlvbihiKXtcImF1dGgvdXNlci10b2tlbi1leHBpcmVkXCI9PWIuY29kZSYmKGEuUz1udWxsKTt0aHJvdyBiO30pfSxjaT1mdW5jdGlvbihhKXtyZXR1cm4hKCFhLnhhfHxhLlMpfTtcblpoLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbihhKXthPSEhYTtyZXR1cm4gY2kodGhpcyk/SyhuZXcgUihcInVzZXItdG9rZW4tZXhwaXJlZFwiKSk6YXx8IXRoaXMueGF8fGxhKCk+dGhpcy5RYS0zRTQ/dGhpcy5TP2JpKHRoaXMse2dyYW50X3R5cGU6XCJyZWZyZXNoX3Rva2VuXCIscmVmcmVzaF90b2tlbjp0aGlzLlN9KTpKKG51bGwpOkooe2FjY2Vzc1Rva2VuOnRoaXMueGEsZXhwaXJhdGlvblRpbWU6dGhpcy5RYSxyZWZyZXNoVG9rZW46dGhpcy5TfSl9O3ZhciBkaT1mdW5jdGlvbihhLGIsYyxkLGUpe0VmKHRoaXMse3VpZDphLGRpc3BsYXlOYW1lOmR8fG51bGwscGhvdG9VUkw6ZXx8bnVsbCxlbWFpbDpjfHxudWxsLHByb3ZpZGVySWQ6Yn0pfSxlaT1mdW5jdGlvbihhLGIpe3piLmNhbGwodGhpcyxhKTtmb3IodmFyIGMgaW4gYil0aGlzW2NdPWJbY119O3QoZWksemIpO1xudmFyIFc9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuVT1bXTt0aGlzLnY9YS5hcGlLZXk7dGhpcy5lYT1hLmFwcE5hbWU7dGhpcy5YPWEuYXV0aERvbWFpbnx8bnVsbDthPWZpcmViYXNlLlNES19WRVJTSU9OP3RmKGZpcmViYXNlLlNES19WRVJTSU9OKTpudWxsO3RoaXMuZj1uZXcgVCh0aGlzLnYsbnVsbCxhKTt0aGlzLmJhPW5ldyBaaCh0aGlzLmYpO2ZpKHRoaXMsYi5pZFRva2VuKTthaSh0aGlzLmJhLGIpO1EodGhpcyxcInJlZnJlc2hUb2tlblwiLHRoaXMuYmEuUyk7Z2kodGhpcyxjfHx7fSk7JGQuY2FsbCh0aGlzKTt0aGlzLlhiPSExO3RoaXMuWCYmd2YoKSYmKHRoaXMubT1XaCh0aGlzLlgsdGhpcy52LHRoaXMuZWEpKTt0aGlzLmZjPVtdO3RoaXMucGM9SigpfTt0KFcsJGQpO1xuVy5wcm90b3R5cGUuc2E9ZnVuY3Rpb24oYSxiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZD10aGlzO3JldHVybiB0aGlzLnBjPXRoaXMucGMudGhlbihmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGQsYyl9LGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoZCxjKX0pfTtcbnZhciBmaT1mdW5jdGlvbihhLGIpe2EubWQ9YjtRKGEsXCJfbGF0XCIsYil9LGhpPWZ1bmN0aW9uKGEsYil7TWEoYS5mYyxmdW5jdGlvbihhKXtyZXR1cm4gYT09Yn0pfSxpaT1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5mYy5sZW5ndGg7YysrKWIucHVzaChhLmZjW2NdKGEpKTtyZXR1cm4gdWQoYikudGhlbihmdW5jdGlvbigpe3JldHVybiBhfSl9LGppPWZ1bmN0aW9uKGEpe2EubSYmIWEuWGImJihhLlhiPSEwLGEubS5zdWJzY3JpYmUoYSkpfSxnaT1mdW5jdGlvbihhLGIpe0VmKGEse3VpZDpiLnVpZCxkaXNwbGF5TmFtZTpiLmRpc3BsYXlOYW1lfHxudWxsLHBob3RvVVJMOmIucGhvdG9VUkx8fG51bGwsZW1haWw6Yi5lbWFpbHx8bnVsbCxlbWFpbFZlcmlmaWVkOmIuZW1haWxWZXJpZmllZHx8ITEsaXNBbm9ueW1vdXM6Yi5pc0Fub255bW91c3x8ITEscHJvdmlkZXJEYXRhOltdfSl9O1EoVy5wcm90b3R5cGUsXCJwcm92aWRlcklkXCIsXCJmaXJlYmFzZVwiKTtcbnZhciBraT1mdW5jdGlvbigpe30sbGk9ZnVuY3Rpb24oYSl7cmV0dXJuIEooKS50aGVuKGZ1bmN0aW9uKCl7aWYoYS5ZZCl0aHJvdyBuZXcgUihcImFwcC1kZWxldGVkXCIpO30pfSxtaT1mdW5jdGlvbihhKXtyZXR1cm4gRmEoYS5wcm92aWRlckRhdGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJvdmlkZXJJZH0pfSxvaT1mdW5jdGlvbihhLGIpe2ImJihuaShhLGIucHJvdmlkZXJJZCksYS5wcm92aWRlckRhdGEucHVzaChiKSl9LG5pPWZ1bmN0aW9uKGEsYil7TWEoYS5wcm92aWRlckRhdGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJvdmlkZXJJZD09Yn0pfSxwaT1mdW5jdGlvbihhLGIsYyl7KFwidWlkXCIhPWJ8fGMpJiZhLmhhc093blByb3BlcnR5KGIpJiZRKGEsYixjKX07XG5XLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YiE9YSYmKEVmKHRoaXMse3VpZDphLnVpZCxkaXNwbGF5TmFtZTphLmRpc3BsYXlOYW1lLHBob3RvVVJMOmEucGhvdG9VUkwsZW1haWw6YS5lbWFpbCxlbWFpbFZlcmlmaWVkOmEuZW1haWxWZXJpZmllZCxpc0Fub255bW91czphLmlzQW5vbnltb3VzLHByb3ZpZGVyRGF0YTpbXX0pLHgoYS5wcm92aWRlckRhdGEsZnVuY3Rpb24oYSl7b2koYixhKX0pLHRoaXMuYmE9YS5iYSxRKHRoaXMsXCJyZWZyZXNoVG9rZW5cIix0aGlzLmJhLlMpKX07Vy5wcm90b3R5cGUucmVsb2FkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gbGkodGhpcykudGhlbihmdW5jdGlvbigpe3JldHVybiBxaShhKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGlpKGEpfSkudGhlbihraSl9KX07XG52YXIgcWk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGIpe3ZhciBjPWEuaXNBbm9ueW1vdXM7cmV0dXJuIHJpKGEsYikudGhlbihmdW5jdGlvbigpe2N8fHBpKGEsXCJpc0Fub255bW91c1wiLCExKTtyZXR1cm4gYn0pLmwoZnVuY3Rpb24oYil7XCJhdXRoL3VzZXItdG9rZW4tZXhwaXJlZFwiPT1iLmNvZGUmJihhLmRpc3BhdGNoRXZlbnQobmV3IGVpKFwidXNlckRlbGV0ZWRcIikpLHNpKGEpKTt0aHJvdyBiO30pfSl9O1xuVy5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWNpKHRoaXMuYmEpO3JldHVybiBsaSh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIuYmEuZ2V0VG9rZW4oYSl9KS50aGVuKGZ1bmN0aW9uKGEpe2lmKCFhKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIik7YS5hY2Nlc3NUb2tlbiE9Yi5tZCYmKGZpKGIsYS5hY2Nlc3NUb2tlbiksYi5FYSgpKTtwaShiLFwicmVmcmVzaFRva2VuXCIsYS5yZWZyZXNoVG9rZW4pO3JldHVybiBhLmFjY2Vzc1Rva2VufSkubChmdW5jdGlvbihhKXtpZihcImF1dGgvdXNlci10b2tlbi1leHBpcmVkXCI9PWEuY29kZSYmIWMpcmV0dXJuIGlpKGIpLnRoZW4oZnVuY3Rpb24oKXtwaShiLFwicmVmcmVzaFRva2VuXCIsbnVsbCk7dGhyb3cgYTt9KTt0aHJvdyBhO30pfTtcbnZhciB0aT1mdW5jdGlvbihhLGIpe2IuaWRUb2tlbiYmYS5tZCE9Yi5pZFRva2VuJiYoYWkoYS5iYSxiKSxhLkVhKCksZmkoYSxiLmlkVG9rZW4pLHBpKGEsXCJyZWZyZXNoVG9rZW5cIixhLmJhLlMpKX07Vy5wcm90b3R5cGUuRWE9ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGVpKFwidG9rZW5DaGFuZ2VkXCIpKX07dmFyIHJpPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFMoYS5mLExnLHtpZFRva2VuOmJ9KS50aGVuKHEoYS5CZSxhKSl9O1xuVy5wcm90b3R5cGUuQmU9ZnVuY3Rpb24oYSl7YT1hLnVzZXJzO2lmKCFhfHwhYS5sZW5ndGgpdGhyb3cgbmV3IFIoXCJpbnRlcm5hbC1lcnJvclwiKTthPWFbMF07Z2kodGhpcyx7dWlkOmEubG9jYWxJZCxkaXNwbGF5TmFtZTphLmRpc3BsYXlOYW1lLHBob3RvVVJMOmEucGhvdG9VcmwsZW1haWw6YS5lbWFpbCxlbWFpbFZlcmlmaWVkOiEhYS5lbWFpbFZlcmlmaWVkfSk7Zm9yKHZhciBiPXVpKGEpLGM9MDtjPGIubGVuZ3RoO2MrKylvaSh0aGlzLGJbY10pO3BpKHRoaXMsXCJpc0Fub255bW91c1wiLCEodGhpcy5lbWFpbCYmYS5wYXNzd29yZEhhc2gpJiYhKHRoaXMucHJvdmlkZXJEYXRhJiZ0aGlzLnByb3ZpZGVyRGF0YS5sZW5ndGgpKX07XG52YXIgdWk9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5wcm92aWRlclVzZXJJbmZvKSYmYS5sZW5ndGg/RmEoYSxmdW5jdGlvbihhKXtyZXR1cm4gbmV3IGRpKGEucmF3SWQsYS5wcm92aWRlcklkLGEuZW1haWwsYS5kaXNwbGF5TmFtZSxhLnBob3RvVXJsKX0pOltdfTtXLnByb3RvdHlwZS5yZWF1dGhlbnRpY2F0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLmMoYS5JYih0aGlzLmYpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGM7YTp7dmFyIGU9YS5pZFRva2VuLnNwbGl0KFwiLlwiKTtpZigzPT1lLmxlbmd0aCl7Zm9yKHZhciBlPWVbMV0sZj0oNC1lLmxlbmd0aCU0KSU0LGc9MDtnPGY7ZysrKWUrPVwiLlwiO3RyeXt2YXIgaz1pYyh1YihlKSk7aWYoay5zdWImJmsuaXNzJiZrLmF1ZCYmay5leHApe2M9bmV3IE1mKGspO2JyZWFrIGF9fWNhdGNoKHIpe319Yz1udWxsfWlmKCFjfHxiLnVpZCE9Yy52ZSl0aHJvdyBuZXcgUihcInVzZXItbWlzbWF0Y2hcIik7dGkoYixhKTtyZXR1cm4gYi5yZWxvYWQoKX0pKX07XG52YXIgdmk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcWkoYSkudGhlbihmdW5jdGlvbigpe2lmKEphKG1pKGEpLGIpKXJldHVybiBpaShhKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFIoXCJwcm92aWRlci1hbHJlYWR5LWxpbmtlZFwiKTt9KX0pfTtoPVcucHJvdG90eXBlO2gudGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5jKHZpKHRoaXMsYS5wcm92aWRlcikudGhlbihmdW5jdGlvbigpe3JldHVybiBiLmdldFRva2VuKCl9KS50aGVuKGZ1bmN0aW9uKGMpe3JldHVybiBhLm9kKGIuZixjKX0pLnRoZW4ocSh0aGlzLmRkLHRoaXMpKSl9O2gubGluaz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zYSh0aGlzLnRlLGEpfTtoLmRkPWZ1bmN0aW9uKGEpe3RpKHRoaXMsYSk7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5yZWxvYWQoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KX07XG5oLlBlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMuYyh0aGlzLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gYi5mLnVwZGF0ZUVtYWlsKGMsYSl9KS50aGVuKGZ1bmN0aW9uKGEpe3RpKGIsYSk7cmV0dXJuIGIucmVsb2FkKCl9KSl9O2gudXBkYXRlRW1haWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2EodGhpcy5QZSxhKX07aC5RZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLmModGhpcy5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIGIuZi51cGRhdGVQYXNzd29yZChjLGEpfSkudGhlbihmdW5jdGlvbihhKXt0aShiLGEpO3JldHVybiBiLnJlbG9hZCgpfSkpfTtoLnVwZGF0ZVBhc3N3b3JkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNhKHRoaXMuUWUsYSl9O1xuaC5SZT1mdW5jdGlvbihhKXtpZih2b2lkIDA9PT1hLmRpc3BsYXlOYW1lJiZ2b2lkIDA9PT1hLnBob3RvVVJMKXJldHVybiBsaSh0aGlzKTt2YXIgYj10aGlzO3JldHVybiB0aGlzLmModGhpcy5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIGIuZi51cGRhdGVQcm9maWxlKGMse2Rpc3BsYXlOYW1lOmEuZGlzcGxheU5hbWUscGhvdG9Vcmw6YS5waG90b1VSTH0pfSkudGhlbihmdW5jdGlvbihhKXt0aShiLGEpO3BpKGIsXCJkaXNwbGF5TmFtZVwiLGEuZGlzcGxheU5hbWV8fG51bGwpO3BpKGIsXCJwaG90b1VSTFwiLGEucGhvdG9Vcmx8fG51bGwpO3JldHVybiBpaShiKX0pLnRoZW4oa2kpKX07aC51cGRhdGVQcm9maWxlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNhKHRoaXMuUmUsYSl9O1xuaC5PZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLmMocWkodGhpcykudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gSmEobWkoYiksYSk/QWcoYi5mLGMsW2FdKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBjPXt9O3goYS5wcm92aWRlclVzZXJJbmZvfHxbXSxmdW5jdGlvbihhKXtjW2EucHJvdmlkZXJJZF09ITB9KTt4KG1pKGIpLGZ1bmN0aW9uKGEpe2NbYV18fG5pKGIsYSl9KTtyZXR1cm4gaWkoYil9KTppaShiKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFIoXCJuby1zdWNoLXByb3ZpZGVyXCIpO30pfSkpfTtoLnVubGluaz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zYSh0aGlzLk9lLGEpfTtoLlhkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5jKHRoaXMuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGIpe3JldHVybiBTKGEuZixLZyx7aWRUb2tlbjpifSl9KS50aGVuKGZ1bmN0aW9uKCl7YS5kaXNwYXRjaEV2ZW50KG5ldyBlaShcInVzZXJEZWxldGVkXCIpKX0pKS50aGVuKGZ1bmN0aW9uKCl7c2koYSl9KX07XG5oLmRlbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNhKHRoaXMuWGQpfTtoLlljPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCJsaW5rVmlhUG9wdXBcIj09YSYmKHRoaXMuaWF8fG51bGwpPT1iJiZ0aGlzLiR8fFwibGlua1ZpYVJlZGlyZWN0XCI9PWEmJih0aGlzLiRifHxudWxsKT09Yj8hMDohMX07aC5JYT1mdW5jdGlvbihhLGIsYyxkKXtcImxpbmtWaWFQb3B1cFwiPT1hJiZkPT0odGhpcy5pYXx8bnVsbCkmJihjJiZ0aGlzLkdhP3RoaXMuR2EoYyk6YiYmIWMmJnRoaXMuJCYmdGhpcy4kKGIpLHRoaXMuQyYmKHRoaXMuQy5jYW5jZWwoKSx0aGlzLkM9bnVsbCksZGVsZXRlIHRoaXMuJCxkZWxldGUgdGhpcy5HYSl9O2gubmI9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cImxpbmtWaWFQb3B1cFwiPT1hJiZiPT0odGhpcy5pYXx8bnVsbCl8fFwibGlua1ZpYVJlZGlyZWN0XCI9PWEmJih0aGlzLiRifHxudWxsKT09Yj9xKHRoaXMuYWUsdGhpcyk6bnVsbH07XG5oLkhiPWZ1bmN0aW9uKCl7cmV0dXJuIHZmKHRoaXMudWlkK1wiOjo6XCIpfTtcbnZhciB4aT1mdW5jdGlvbihhLGIpe2lmKCF3ZigpKXJldHVybiBLKG5ldyBSKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7dmFyIGM9SWYoYi5wcm92aWRlcklkKSxkPWEuSGIoKSxlPW51bGw7IXhmKCkmJmEuWCYmYi5pc09BdXRoUHJvdmlkZXImJihlPVhnKGEuWCxhLnYsYS5lYSxcImxpbmtWaWFQb3B1cFwiLGIucHJvdmlkZXJJZCxiLkpiKCksbnVsbCxkLGZpcmViYXNlLlNES19WRVJTSU9OfHxudWxsKSk7dmFyIGY9b2YoZSxjJiZjLnZiLGMmJmMudWIpLGM9dmkoYSxiLnByb3ZpZGVySWQpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaWkoYSl9KS50aGVuKGZ1bmN0aW9uKCl7d2koYSk7cmV0dXJuIGEuZ2V0VG9rZW4oKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gU2goYS5tLGYsXCJsaW5rVmlhUG9wdXBcIixiLGQsISFlKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEkoZnVuY3Rpb24oYixjKXthLklhKFwibGlua1ZpYVBvcHVwXCIsbnVsbCxcbm5ldyBSKFwiY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3RcIiksYS5pYXx8bnVsbCk7YS4kPWI7YS5HYT1jO2EuaWE9ZDthLkM9VWgoYS5tLGEsXCJsaW5rVmlhUG9wdXBcIixmLGQpfSl9KS50aGVuKGZ1bmN0aW9uKGEpe2YmJm5mKGYpO3JldHVybiBhfSkubChmdW5jdGlvbihhKXtmJiZuZihmKTt0aHJvdyBhO30pO3JldHVybiBhLmMoYyl9O1cucHJvdG90eXBlLmxpbmtXaXRoUG9wdXA9ZnVuY3Rpb24oYSl7dmFyIGI9eGkodGhpcyxhKTtyZXR1cm4gdGhpcy5zYShmdW5jdGlvbigpe3JldHVybiBifSl9O1xuVy5wcm90b3R5cGUudWU9ZnVuY3Rpb24oYSl7aWYoIXdmKCkpcmV0dXJuIEsobmV3IFIoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTt2YXIgYj10aGlzLGM9bnVsbCxkPXRoaXMuSGIoKSxlPXZpKHRoaXMsYS5wcm92aWRlcklkKS50aGVuKGZ1bmN0aW9uKCl7d2koYik7cmV0dXJuIGIuZ2V0VG9rZW4oKX0pLnRoZW4oZnVuY3Rpb24oKXtiLiRiPWQ7cmV0dXJuIGlpKGIpfSkudGhlbihmdW5jdGlvbihhKXtiLkhhJiYoYT1iLkhhLGE9YS5BLnNldCh5aSxiLkcoKSxhLkIpKTtyZXR1cm4gYX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gVGgoYi5tLFwibGlua1ZpYVJlZGlyZWN0XCIsYSxkKX0pLmwoZnVuY3Rpb24oYSl7Yz1hO2lmKGIuSGEpcmV0dXJuIHppKGIuSGEpO3Rocm93IGM7fSkudGhlbihmdW5jdGlvbigpe2lmKGMpdGhyb3cgYzt9KTtyZXR1cm4gdGhpcy5jKGUpfTtcblcucHJvdG90eXBlLmxpbmtXaXRoUmVkaXJlY3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2EodGhpcy51ZSxhKX07dmFyIHdpPWZ1bmN0aW9uKGEpe2lmKCFhLm18fCFhLlhiKXtpZihhLm0mJiFhLlhiKXRocm93IG5ldyBSKFwiaW50ZXJuYWwtZXJyb3JcIik7dGhyb3cgbmV3IFIoXCJhdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWRcIik7fX07Vy5wcm90b3R5cGUuYWU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3RoaXMuQyYmKHRoaXMuQy5jYW5jZWwoKSx0aGlzLkM9bnVsbCk7dmFyIGQ9bnVsbCxlPXRoaXMuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGQpe3JldHVybiBRZihjLmYse3JlcXVlc3RVcmk6YSxzZXNzaW9uSWQ6YixpZFRva2VuOmR9KX0pLnRoZW4oZnVuY3Rpb24oYSl7ZD1hZyhhKTtyZXR1cm4gYy5kZChhKX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJue3VzZXI6YSxjcmVkZW50aWFsOmR9fSk7cmV0dXJuIHRoaXMuYyhlKX07XG5XLnByb3RvdHlwZS5zZW5kRW1haWxWZXJpZmljYXRpb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiB0aGlzLmModGhpcy5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIGEuZi5zZW5kRW1haWxWZXJpZmljYXRpb24oYil9KS50aGVuKGZ1bmN0aW9uKGIpe2lmKGEuZW1haWwhPWIpcmV0dXJuIGEucmVsb2FkKCl9KS50aGVuKGZ1bmN0aW9uKCl7fSkpfTt2YXIgc2k9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLlUubGVuZ3RoO2IrKylhLlVbYl0uY2FuY2VsKFwiYXBwLWRlbGV0ZWRcIik7YS5VPVtdO2EuWWQ9ITA7UShhLFwicmVmcmVzaFRva2VuXCIsbnVsbCk7YS5tJiZhLm0udW5zdWJzY3JpYmUoYSl9O1cucHJvdG90eXBlLmM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLlUucHVzaChhKTt4ZChhLGZ1bmN0aW9uKCl7TGEoYi5VLGEpfSk7cmV0dXJuIGF9O1cucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkcoKX07XG5XLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7dmFyIGE9e3VpZDp0aGlzLnVpZCxkaXNwbGF5TmFtZTp0aGlzLmRpc3BsYXlOYW1lLHBob3RvVVJMOnRoaXMucGhvdG9VUkwsZW1haWw6dGhpcy5lbWFpbCxlbWFpbFZlcmlmaWVkOnRoaXMuZW1haWxWZXJpZmllZCxpc0Fub255bW91czp0aGlzLmlzQW5vbnltb3VzLHByb3ZpZGVyRGF0YTpbXSxhcGlLZXk6dGhpcy52LGFwcE5hbWU6dGhpcy5lYSxhdXRoRG9tYWluOnRoaXMuWCxzdHNUb2tlbk1hbmFnZXI6dGhpcy5iYS5HKCkscmVkaXJlY3RFdmVudElkOnRoaXMuJGJ8fG51bGx9O3godGhpcy5wcm92aWRlckRhdGEsZnVuY3Rpb24oYil7YS5wcm92aWRlckRhdGEucHVzaChGZihiKSl9KTtyZXR1cm4gYX07XG52YXIgQWk9ZnVuY3Rpb24oYSl7aWYoIWEuYXBpS2V5KXJldHVybiBudWxsO3ZhciBiPXthcGlLZXk6YS5hcGlLZXksYXV0aERvbWFpbjphLmF1dGhEb21haW4sYXBwTmFtZTphLmFwcE5hbWV9LGM9e307aWYoYS5zdHNUb2tlbk1hbmFnZXImJmEuc3RzVG9rZW5NYW5hZ2VyLmFjY2Vzc1Rva2VuJiZhLnN0c1Rva2VuTWFuYWdlci5leHBpcmF0aW9uVGltZSljLmlkVG9rZW49YS5zdHNUb2tlbk1hbmFnZXIuYWNjZXNzVG9rZW4sYy5yZWZyZXNoVG9rZW49YS5zdHNUb2tlbk1hbmFnZXIucmVmcmVzaFRva2VufHxudWxsLGMuZXhwaXJlc0luPShhLnN0c1Rva2VuTWFuYWdlci5leHBpcmF0aW9uVGltZS1sYSgpKS8xRTM7ZWxzZSByZXR1cm4gbnVsbDt2YXIgZD1uZXcgVyhiLGMsYSk7YS5wcm92aWRlckRhdGEmJngoYS5wcm92aWRlckRhdGEsZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9e307RWYoYixhKTtvaShkLGIpfX0pO2EucmVkaXJlY3RFdmVudElkJiYoZC4kYj1hLnJlZGlyZWN0RXZlbnRJZCk7XG5yZXR1cm4gZH0sQmk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5ldyBXKGEsYik7YyYmKGQuSGE9Yyk7cmV0dXJuIGQucmVsb2FkKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBkfSl9O3ZhciBDaT1mdW5jdGlvbihhKXt0aGlzLkI9YTt0aGlzLkE9RGgoKX0seWk9e25hbWU6XCJyZWRpcmVjdFVzZXJcIixWOiExfSx6aT1mdW5jdGlvbihhKXtyZXR1cm4gYS5BLnJlbW92ZSh5aSxhLkIpfSxEaT1mdW5jdGlvbihhLGIpe3JldHVybiBhLkEuZ2V0KHlpLGEuQikudGhlbihmdW5jdGlvbihhKXthJiZiJiYoYS5hdXRoRG9tYWluPWIpO3JldHVybiBBaShhfHx7fSl9KX07dmFyIEVpPWZ1bmN0aW9uKGEpe3RoaXMuQj1hO3RoaXMuQT1EaCgpfSxGaT17bmFtZTpcImF1dGhVc2VyXCIsVjohMH0sR2k9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5BLnNldChGaSxiLkcoKSxhLkIpfSxIaT1mdW5jdGlvbihhKXtyZXR1cm4gYS5BLnJlbW92ZShGaSxhLkIpfSxJaT1mdW5jdGlvbihhLGIpe3JldHVybiBhLkEuZ2V0KEZpLGEuQikudGhlbihmdW5jdGlvbihhKXthJiZiJiYoYS5hdXRoRG9tYWluPWIpO3JldHVybiBBaShhfHx7fSl9KX07dmFyIFk9ZnVuY3Rpb24oYSl7dGhpcy5PYT0hMTtRKHRoaXMsXCJhcHBcIixhKTtpZihYKHRoaXMpLm9wdGlvbnMmJlgodGhpcykub3B0aW9ucy5hcGlLZXkpYT1maXJlYmFzZS5TREtfVkVSU0lPTj90ZihmaXJlYmFzZS5TREtfVkVSU0lPTik6bnVsbCx0aGlzLmY9bmV3IFQoWCh0aGlzKS5vcHRpb25zJiZYKHRoaXMpLm9wdGlvbnMuYXBpS2V5LG51bGwsYSk7ZWxzZSB0aHJvdyBuZXcgUihcImludmFsaWQtYXBpLWtleVwiKTt0aGlzLlU9W107dGhpcy5NYT1bXTt0aGlzLnplPWZpcmViYXNlLklOVEVSTkFMLmNyZWF0ZVN1YnNjcmliZShxKHRoaXMucGUsdGhpcykpO0ppKHRoaXMsbnVsbCk7dGhpcy5tYT1uZXcgRWkoWCh0aGlzKS5vcHRpb25zLmFwaUtleStcIjpcIitYKHRoaXMpLm5hbWUpO3RoaXMuWmE9bmV3IENpKFgodGhpcykub3B0aW9ucy5hcGlLZXkrXCI6XCIrWCh0aGlzKS5uYW1lKTt0aGlzLkNiPXRoaXMuYyhLaSh0aGlzKSk7dGhpcy50YT10aGlzLmMoTGkodGhpcykpO3RoaXMuQmM9XG4hMTt0aGlzLnljPXEodGhpcy5KZSx0aGlzKTt0aGlzLkZkPXEodGhpcy5TYSx0aGlzKTt0aGlzLkdkPXEodGhpcy5sZSx0aGlzKTt0aGlzLkVkPXEodGhpcy5rZSx0aGlzKTtNaSh0aGlzKTt0aGlzLklOVEVSTkFMPXt9O3RoaXMuSU5URVJOQUwuZGVsZXRlPXEodGhpcy5kZWxldGUsdGhpcyl9O1kucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnthcGlLZXk6WCh0aGlzKS5vcHRpb25zLmFwaUtleSxhdXRoRG9tYWluOlgodGhpcykub3B0aW9ucy5hdXRoRG9tYWluLGFwcE5hbWU6WCh0aGlzKS5uYW1lLGN1cnJlbnRVc2VyOloodGhpcykmJloodGhpcykuRygpfX07XG52YXIgTmk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuWmR8fEsobmV3IFIoXCJhdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWRcIikpfSxNaT1mdW5jdGlvbihhKXt2YXIgYj1YKGEpLm9wdGlvbnMuYXV0aERvbWFpbixjPVgoYSkub3B0aW9ucy5hcGlLZXk7YiYmd2YoKSYmKGEuWmQ9YS5DYi50aGVuKGZ1bmN0aW9uKCl7aWYoIWEuT2EpcmV0dXJuIGEubT1XaChiLGMsWChhKS5uYW1lKSxhLm0uc3Vic2NyaWJlKGEpLFooYSkmJmppKFooYSkpLGEuTWMmJihqaShhLk1jKSxhLk1jPW51bGwpLGEubX0pKX07aD1ZLnByb3RvdHlwZTtoLlljPWZ1bmN0aW9uKGEsYil7c3dpdGNoKGEpe2Nhc2UgXCJ1bmtub3duXCI6Y2FzZSBcInNpZ25JblZpYVJlZGlyZWN0XCI6cmV0dXJuITA7Y2FzZSBcInNpZ25JblZpYVBvcHVwXCI6cmV0dXJuIHRoaXMuaWE9PWImJiEhdGhpcy4kO2RlZmF1bHQ6cmV0dXJuITF9fTtcbmguSWE9ZnVuY3Rpb24oYSxiLGMsZCl7XCJzaWduSW5WaWFQb3B1cFwiPT1hJiZ0aGlzLmlhPT1kJiYoYyYmdGhpcy5HYT90aGlzLkdhKGMpOmImJiFjJiZ0aGlzLiQmJnRoaXMuJChiKSx0aGlzLkMmJih0aGlzLkMuY2FuY2VsKCksdGhpcy5DPW51bGwpLGRlbGV0ZSB0aGlzLiQsZGVsZXRlIHRoaXMuR2EpfTtoLm5iPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCJzaWduSW5WaWFSZWRpcmVjdFwiPT1hfHxcInNpZ25JblZpYVBvcHVwXCI9PWEmJnRoaXMuaWE9PWImJnRoaXMuJD9xKHRoaXMuYmUsdGhpcyk6bnVsbH07XG5oLmJlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczthPXtyZXF1ZXN0VXJpOmEsc2Vzc2lvbklkOmJ9O3RoaXMuQyYmKHRoaXMuQy5jYW5jZWwoKSx0aGlzLkM9bnVsbCk7dmFyIGQ9bnVsbCxlPU9mKGMuZixhKS50aGVuKGZ1bmN0aW9uKGEpe2Q9YWcoYSk7cmV0dXJuIGF9KTthPWMuQ2IudGhlbihmdW5jdGlvbigpe3JldHVybiBlfSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gT2koYyxhKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm57dXNlcjpaKGMpLGNyZWRlbnRpYWw6ZH19KTtyZXR1cm4gdGhpcy5jKGEpfTtoLkhiPWZ1bmN0aW9uKCl7cmV0dXJuIHZmKCl9O1xuaC5zaWduSW5XaXRoUG9wdXA9ZnVuY3Rpb24oYSl7aWYoIXdmKCkpcmV0dXJuIEsobmV3IFIoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTt2YXIgYj10aGlzLGM9SWYoYS5wcm92aWRlcklkKSxkPXRoaXMuSGIoKSxlPW51bGw7IXhmKCkmJlgodGhpcykub3B0aW9ucy5hdXRoRG9tYWluJiZhLmlzT0F1dGhQcm92aWRlciYmKGU9WGcoWCh0aGlzKS5vcHRpb25zLmF1dGhEb21haW4sWCh0aGlzKS5vcHRpb25zLmFwaUtleSxYKHRoaXMpLm5hbWUsXCJzaWduSW5WaWFQb3B1cFwiLGEucHJvdmlkZXJJZCxhLkpiKCksbnVsbCxkLGZpcmViYXNlLlNES19WRVJTSU9OfHxudWxsKSk7dmFyIGY9b2YoZSxjJiZjLnZiLGMmJmMudWIpLGM9TmkodGhpcykudGhlbihmdW5jdGlvbihiKXtyZXR1cm4gU2goYixmLFwic2lnbkluVmlhUG9wdXBcIixhLGQsISFlKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEkoZnVuY3Rpb24oYSxjKXtiLklhKFwic2lnbkluVmlhUG9wdXBcIixcbm51bGwsbmV3IFIoXCJjYW5jZWxsZWQtcG9wdXAtcmVxdWVzdFwiKSxiLmlhKTtiLiQ9YTtiLkdhPWM7Yi5pYT1kO2IuQz1VaChiLm0sYixcInNpZ25JblZpYVBvcHVwXCIsZixkKX0pfSkudGhlbihmdW5jdGlvbihhKXtmJiZuZihmKTtyZXR1cm4gYX0pLmwoZnVuY3Rpb24oYSl7ZiYmbmYoZik7dGhyb3cgYTt9KTtyZXR1cm4gdGhpcy5jKGMpfTtoLnNpZ25JbldpdGhSZWRpcmVjdD1mdW5jdGlvbihhKXtpZighd2YoKSlyZXR1cm4gSyhuZXcgUihcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO3ZhciBiPXRoaXMsYz1OaSh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFRoKGIubSxcInNpZ25JblZpYVJlZGlyZWN0XCIsYSl9KTtyZXR1cm4gdGhpcy5jKGMpfTtcbmguZ2V0UmVkaXJlY3RSZXN1bHQ9ZnVuY3Rpb24oKXtpZighd2YoKSlyZXR1cm4gSyhuZXcgUihcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO3ZhciBhPXRoaXMsYj1OaSh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEubS5nZXRSZWRpcmVjdFJlc3VsdCgpfSk7cmV0dXJuIHRoaXMuYyhiKX07XG52YXIgT2k9ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTtjLmFwaUtleT1YKGEpLm9wdGlvbnMuYXBpS2V5O2MuYXV0aERvbWFpbj1YKGEpLm9wdGlvbnMuYXV0aERvbWFpbjtjLmFwcE5hbWU9WChhKS5uYW1lO3JldHVybiBhLkNiLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gQmkoYyxiLGEuWmEpfSkudGhlbihmdW5jdGlvbihiKXtpZihaKGEpJiZiLnVpZD09WihhKS51aWQpcmV0dXJuIFooYSkuY29weShiKSxhLlNhKGIpO0ppKGEsYik7amkoYik7cmV0dXJuIGEuU2EoYil9KS50aGVuKGZ1bmN0aW9uKCl7YS5FYSgpfSl9LEppPWZ1bmN0aW9uKGEsYil7WihhKSYmKGhpKFooYSksYS5GZCksVWIoWihhKSxcInRva2VuQ2hhbmdlZFwiLGEuR2QpLFViKFooYSksXCJ1c2VyRGVsZXRlZFwiLGEuRWQpKTtiJiYoYi5mYy5wdXNoKGEuRmQpLExiKGIsXCJ0b2tlbkNoYW5nZWRcIixhLkdkKSxMYihiLFwidXNlckRlbGV0ZWRcIixhLkVkKSk7UShhLFwiY3VycmVudFVzZXJcIixiKX07XG5ZLnByb3RvdHlwZS5zaWduT3V0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMudGEudGhlbihmdW5jdGlvbigpe2lmKCFaKGEpKXJldHVybiBKKCk7SmkoYSxudWxsKTtyZXR1cm4gSGkoYS5tYSkudGhlbihmdW5jdGlvbigpe2EuRWEoKX0pfSk7cmV0dXJuIHRoaXMuYyhiKX07XG52YXIgUGk9ZnVuY3Rpb24oYSl7dmFyIGI9RGkoYS5aYSxYKGEpLm9wdGlvbnMuYXV0aERvbWFpbikudGhlbihmdW5jdGlvbihiKXtpZihhLk1jPWIpYi5IYT1hLlphO3JldHVybiB6aShhLlphKX0pO3JldHVybiBhLmMoYil9LEtpPWZ1bmN0aW9uKGEpe3ZhciBiPVgoYSkub3B0aW9ucy5hdXRoRG9tYWluLGM9UGkoYSkudGhlbihmdW5jdGlvbigpe3JldHVybiBJaShhLm1hLGIpfSkudGhlbihmdW5jdGlvbihiKXtyZXR1cm4gYj8oYi5IYT1hLlphLGIucmVsb2FkKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBHaShhLm1hLGIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYn0pfSkubChmdW5jdGlvbihjKXtyZXR1cm5cImF1dGgvbmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiPT1jLmNvZGU/YjpIaShhLm1hKX0pKTpudWxsfSkudGhlbihmdW5jdGlvbihiKXtKaShhLGJ8fG51bGwpfSk7cmV0dXJuIGEuYyhjKX0sTGk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuQ2IudGhlbihmdW5jdGlvbigpe3JldHVybiBhLmdldFJlZGlyZWN0UmVzdWx0KCl9KS5sKGZ1bmN0aW9uKCl7fSkudGhlbihmdW5jdGlvbigpe2lmKCFhLk9hKXJldHVybiBhLnljKCl9KS5sKGZ1bmN0aW9uKCl7fSkudGhlbihmdW5jdGlvbigpe2lmKCFhLk9hKXthLkJjPVxuITA7dmFyIGI9YS5tYTtiLkEuYWRkTGlzdGVuZXIoRmksYi5CLGEueWMpfX0pfTtZLnByb3RvdHlwZS5KZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIElpKHRoaXMubWEsWCh0aGlzKS5vcHRpb25zLmF1dGhEb21haW4pLnRoZW4oZnVuY3Rpb24oYil7aWYoIWEuT2Epe3ZhciBjO2lmKGM9WihhKSYmYil7Yz1aKGEpLnVpZDt2YXIgZD1iLnVpZDtjPXZvaWQgMD09PWN8fG51bGw9PT1jfHxcIlwiPT09Y3x8dm9pZCAwPT09ZHx8bnVsbD09PWR8fFwiXCI9PT1kPyExOmM9PWR9aWYoYylyZXR1cm4gWihhKS5jb3B5KGIpLFooYSkuZ2V0VG9rZW4oKTtpZihaKGEpfHxiKUppKGEsYiksYiYmKGppKGIpLGIuSGE9YS5aYSksYS5tJiZhLm0uc3Vic2NyaWJlKGEpLGEuRWEoKX19KX07WS5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7cmV0dXJuIEdpKHRoaXMubWEsYSl9O1kucHJvdG90eXBlLmxlPWZ1bmN0aW9uKCl7dGhpcy5FYSgpO3RoaXMuU2EoWih0aGlzKSl9O1xuWS5wcm90b3R5cGUua2U9ZnVuY3Rpb24oKXt0aGlzLnNpZ25PdXQoKX07dmFyIFFpPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYyhiLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIE9pKGEsYil9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFooYSl9KSl9O2g9WS5wcm90b3R5cGU7aC5wZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMuYWRkQXV0aFRva2VuTGlzdGVuZXIoZnVuY3Rpb24oKXthLm5leHQoWihiKSl9KX07aC5vbkF1dGhTdGF0ZUNoYW5nZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7dGhpcy5CYyYmZmlyZWJhc2UuUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3AoYSk/YShaKGQpKTpwKGEubmV4dCkmJmEubmV4dChaKGQpKX0pO3JldHVybiB0aGlzLnplKGEsYixjKX07XG5oLmdldFRva2VuPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz10aGlzLnRhLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gWihiKT9aKGIpLmdldFRva2VuKGEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJue2FjY2Vzc1Rva2VuOmF9fSk6bnVsbH0pO3JldHVybiB0aGlzLmMoYyl9O2guc2lnbkluV2l0aEN1c3RvbVRva2VuPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMudGEudGhlbihmdW5jdGlvbigpe3JldHVybiBRaShiLFMoYi5mLE1nLHt0b2tlbjphfSkpfSkudGhlbihmdW5jdGlvbihhKXtwaShhLFwiaXNBbm9ueW1vdXNcIiwhMSk7cmV0dXJuIGIuU2EoYSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFooYil9KX07aC5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIHRoaXMudGEudGhlbihmdW5jdGlvbigpe3JldHVybiBRaShjLFMoYy5mLFhmLHtlbWFpbDphLHBhc3N3b3JkOmJ9KSl9KX07XG5oLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIHRoaXMudGEudGhlbihmdW5jdGlvbigpe3JldHVybiBRaShjLFMoYy5mLEpnLHtlbWFpbDphLHBhc3N3b3JkOmJ9KSl9KX07aC5zaWduSW5XaXRoQ3JlZGVudGlhbD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLnRhLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUWkoYixhLkliKGIuZikpfSl9O2guc2lnbkluQW5vbnltb3VzbHk9ZnVuY3Rpb24oKXt2YXIgYT1aKHRoaXMpLGI9dGhpcztyZXR1cm4gYSYmYS5pc0Fub255bW91cz9KKGEpOnRoaXMudGEudGhlbihmdW5jdGlvbigpe3JldHVybiBRaShiLGIuZi5zaWduSW5Bbm9ueW1vdXNseSgpKX0pLnRoZW4oZnVuY3Rpb24oYSl7cGkoYSxcImlzQW5vbnltb3VzXCIsITApO3JldHVybiBiLlNhKGEpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBaKGIpfSl9O1xudmFyIFg9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXBwfSxaPWZ1bmN0aW9uKGEpe3JldHVybiBhLmN1cnJlbnRVc2VyfTtoPVkucHJvdG90eXBlO2guRWE9ZnVuY3Rpb24oKXtpZih0aGlzLkJjKWZvcih2YXIgYT0wO2E8dGhpcy5NYS5sZW5ndGg7YSsrKWlmKHRoaXMuTWFbYV0pdGhpcy5NYVthXShaKHRoaXMpJiZaKHRoaXMpLl9sYXR8fG51bGwpfTtoLmFkZEF1dGhUb2tlbkxpc3RlbmVyPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5NYS5wdXNoKGEpO3RoaXMuYyh0aGlzLnRhLnRoZW4oZnVuY3Rpb24oKXtiLk9hfHxKYShiLk1hLGEpJiZhKFooYikmJlooYikuX2xhdHx8bnVsbCl9KSl9O2gucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXI9ZnVuY3Rpb24oYSl7TWEodGhpcy5NYSxmdW5jdGlvbihiKXtyZXR1cm4gYj09YX0pfTtcbmguZGVsZXRlPWZ1bmN0aW9uKCl7dGhpcy5PYT0hMDtmb3IodmFyIGE9MDthPHRoaXMuVS5sZW5ndGg7YSsrKXRoaXMuVVthXS5jYW5jZWwoXCJhcHAtZGVsZXRlZFwiKTt0aGlzLlU9W107dGhpcy5tYSYmKGE9dGhpcy5tYSxhLkEucmVtb3ZlTGlzdGVuZXIoRmksYS5CLHRoaXMueWMpKTt0aGlzLm0mJnRoaXMubS51bnN1YnNjcmliZSh0aGlzKTtyZXR1cm4gZmlyZWJhc2UuUHJvbWlzZS5yZXNvbHZlKCl9O2guYz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMuVS5wdXNoKGEpO3hkKGEsZnVuY3Rpb24oKXtMYShiLlUsYSl9KTtyZXR1cm4gYX07aC5mZXRjaFByb3ZpZGVyc0ZvckVtYWlsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmMocWcodGhpcy5mLGEpKX07aC52ZXJpZnlQYXNzd29yZFJlc2V0Q29kZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jaGVja0FjdGlvbkNvZGUoYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYS5kYXRhLmVtYWlsfSl9O1xuaC5jb25maXJtUGFzc3dvcmRSZXNldD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmModGhpcy5mLmNvbmZpcm1QYXNzd29yZFJlc2V0KGEsYikudGhlbihmdW5jdGlvbigpe30pKX07aC5jaGVja0FjdGlvbkNvZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYyh0aGlzLmYuY2hlY2tBY3Rpb25Db2RlKGEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJue2RhdGE6e2VtYWlsOmEuZW1haWx9fX0pKX07aC5hcHBseUFjdGlvbkNvZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYyh0aGlzLmYuYXBwbHlBY3Rpb25Db2RlKGEpLnRoZW4oZnVuY3Rpb24oKXt9KSl9O2guc2VuZFBhc3N3b3JkUmVzZXRFbWFpbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jKHRoaXMuZi5zZW5kUGFzc3dvcmRSZXNldEVtYWlsKGEpLnRoZW4oZnVuY3Rpb24oKXt9KSl9O3poKFkucHJvdG90eXBlLHthcHBseUFjdGlvbkNvZGU6e25hbWU6XCJhcHBseUFjdGlvbkNvZGVcIixiOltVKFwiY29kZVwiKV19LGNoZWNrQWN0aW9uQ29kZTp7bmFtZTpcImNoZWNrQWN0aW9uQ29kZVwiLGI6W1UoXCJjb2RlXCIpXX0sY29uZmlybVBhc3N3b3JkUmVzZXQ6e25hbWU6XCJjb25maXJtUGFzc3dvcmRSZXNldFwiLGI6W1UoXCJjb2RlXCIpLFUoXCJuZXdQYXNzd29yZFwiKV19LGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZDp7bmFtZTpcImNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZFwiLGI6W1UoXCJlbWFpbFwiKSxVKFwicGFzc3dvcmRcIildfSxmZXRjaFByb3ZpZGVyc0ZvckVtYWlsOntuYW1lOlwiZmV0Y2hQcm92aWRlcnNGb3JFbWFpbFwiLGI6W1UoXCJlbWFpbFwiKV19LGdldFJlZGlyZWN0UmVzdWx0OntuYW1lOlwiZ2V0UmVkaXJlY3RSZXN1bHRcIixiOltdfSxvbkF1dGhTdGF0ZUNoYW5nZWQ6e25hbWU6XCJvbkF1dGhTdGF0ZUNoYW5nZWRcIixiOlt4aChzaCgpLHRoKCksXCJuZXh0T3JPYnNlcnZlclwiKSxcbnRoKFwib3B0X2Vycm9yXCIsITApLHRoKFwib3B0X2NvbXBsZXRlZFwiLCEwKV19LHNlbmRQYXNzd29yZFJlc2V0RW1haWw6e25hbWU6XCJzZW5kUGFzc3dvcmRSZXNldEVtYWlsXCIsYjpbVShcImVtYWlsXCIpXX0sc2lnbkluQW5vbnltb3VzbHk6e25hbWU6XCJzaWduSW5Bbm9ueW1vdXNseVwiLGI6W119LHNpZ25JbldpdGhDcmVkZW50aWFsOntuYW1lOlwic2lnbkluV2l0aENyZWRlbnRpYWxcIixiOlt2aCgpXX0sc2lnbkluV2l0aEN1c3RvbVRva2VuOntuYW1lOlwic2lnbkluV2l0aEN1c3RvbVRva2VuXCIsYjpbVShcInRva2VuXCIpXX0sc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQ6e25hbWU6XCJzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZFwiLGI6W1UoXCJlbWFpbFwiKSxVKFwicGFzc3dvcmRcIildfSxzaWduSW5XaXRoUG9wdXA6e25hbWU6XCJzaWduSW5XaXRoUG9wdXBcIixiOlt3aCgpXX0sc2lnbkluV2l0aFJlZGlyZWN0OntuYW1lOlwic2lnbkluV2l0aFJlZGlyZWN0XCIsYjpbd2goKV19LHNpZ25PdXQ6e25hbWU6XCJzaWduT3V0XCIsXG5iOltdfSx0b0pTT046e25hbWU6XCJ0b0pTT05cIixiOltVKG51bGwsITApXX0sdmVyaWZ5UGFzc3dvcmRSZXNldENvZGU6e25hbWU6XCJ2ZXJpZnlQYXNzd29yZFJlc2V0Q29kZVwiLGI6W1UoXCJjb2RlXCIpXX19KTtcbnpoKFcucHJvdG90eXBlLHtcImRlbGV0ZVwiOntuYW1lOlwiZGVsZXRlXCIsYjpbXX0sZ2V0VG9rZW46e25hbWU6XCJnZXRUb2tlblwiLGI6W3tuYW1lOlwib3B0X2ZvcmNlUmVmcmVzaFwiLGNhOlwiYSBib29sZWFuXCIsb3B0aW9uYWw6ITAsZGE6ZnVuY3Rpb24oYSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhfX1dfSxsaW5rOntuYW1lOlwibGlua1wiLGI6W3ZoKCldfSxsaW5rV2l0aFBvcHVwOntuYW1lOlwibGlua1dpdGhQb3B1cFwiLGI6W3doKCldfSxsaW5rV2l0aFJlZGlyZWN0OntuYW1lOlwibGlua1dpdGhSZWRpcmVjdFwiLGI6W3doKCldfSxyZWF1dGhlbnRpY2F0ZTp7bmFtZTpcInJlYXV0aGVudGljYXRlXCIsYjpbdmgoKV19LHJlbG9hZDp7bmFtZTpcInJlbG9hZFwiLGI6W119LHNlbmRFbWFpbFZlcmlmaWNhdGlvbjp7bmFtZTpcInNlbmRFbWFpbFZlcmlmaWNhdGlvblwiLGI6W119LHRvSlNPTjp7bmFtZTpcInRvSlNPTlwiLGI6W1UobnVsbCwhMCldfSx1bmxpbms6e25hbWU6XCJ1bmxpbmtcIixiOltVKFwicHJvdmlkZXJcIildfSxcbnVwZGF0ZUVtYWlsOntuYW1lOlwidXBkYXRlRW1haWxcIixiOltVKFwiZW1haWxcIildfSx1cGRhdGVQYXNzd29yZDp7bmFtZTpcInVwZGF0ZVBhc3N3b3JkXCIsYjpbVShcInBhc3N3b3JkXCIpXX0sdXBkYXRlUHJvZmlsZTp7bmFtZTpcInVwZGF0ZVByb2ZpbGVcIixiOltzaChcInByb2ZpbGVcIildfX0pO3poKEkucHJvdG90eXBlLHtsOntuYW1lOlwiY2F0Y2hcIn0sdGhlbjp7bmFtZTpcInRoZW5cIn19KTtWKFpmLFwiY3JlZGVudGlhbFwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBXZihhLGIpfSxbVShcImVtYWlsXCIpLFUoXCJwYXNzd29yZFwiKV0pO3poKFNmLnByb3RvdHlwZSx7YWRkU2NvcGU6e25hbWU6XCJhZGRTY29wZVwiLGI6W1UoXCJzY29wZVwiKV19fSk7VihTZixcImNyZWRlbnRpYWxcIixTZi5jcmVkZW50aWFsLFt4aChVKCksc2goKSxcInRva2VuXCIpXSk7emgoVGYucHJvdG90eXBlLHthZGRTY29wZTp7bmFtZTpcImFkZFNjb3BlXCIsYjpbVShcInNjb3BlXCIpXX19KTtcblYoVGYsXCJjcmVkZW50aWFsXCIsVGYuY3JlZGVudGlhbCxbeGgoVSgpLHNoKCksXCJ0b2tlblwiKV0pO3poKFVmLnByb3RvdHlwZSx7YWRkU2NvcGU6e25hbWU6XCJhZGRTY29wZVwiLGI6W1UoXCJzY29wZVwiKV19fSk7VihVZixcImNyZWRlbnRpYWxcIixVZi5jcmVkZW50aWFsLFt4aChVKCkseGgoc2goKSx1aCgpKSxcImlkVG9rZW5cIikseGgoVSgpLHVoKCksXCJhY2Nlc3NUb2tlblwiLCEwKV0pO1YoVmYsXCJjcmVkZW50aWFsXCIsVmYuY3JlZGVudGlhbCxbeGgoVSgpLHNoKCksXCJ0b2tlblwiKSxVKFwic2VjcmV0XCIsITApXSk7XG4oZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGZpcmViYXNlJiZmaXJlYmFzZS5JTlRFUk5BTCYmZmlyZWJhc2UuSU5URVJOQUwucmVnaXN0ZXJTZXJ2aWNlKXt2YXIgYT17QXV0aDpZLEVycm9yOlJ9O1YoYSxcIkVtYWlsQXV0aFByb3ZpZGVyXCIsWmYsW10pO1YoYSxcIkZhY2Vib29rQXV0aFByb3ZpZGVyXCIsU2YsW10pO1YoYSxcIkdpdGh1YkF1dGhQcm92aWRlclwiLFRmLFtdKTtWKGEsXCJHb29nbGVBdXRoUHJvdmlkZXJcIixVZixbXSk7VihhLFwiVHdpdHRlckF1dGhQcm92aWRlclwiLFZmLFtdKTtmaXJlYmFzZS5JTlRFUk5BTC5yZWdpc3RlclNlcnZpY2UoXCJhdXRoXCIsZnVuY3Rpb24oYSxjKXthPW5ldyBZKGEpO2Moe0lOVEVSTkFMOntnZXRUb2tlbjpxKGEuZ2V0VG9rZW4sYSksYWRkQXV0aFRva2VuTGlzdGVuZXI6cShhLmFkZEF1dGhUb2tlbkxpc3RlbmVyLGEpLHJlbW92ZUF1dGhUb2tlbkxpc3RlbmVyOnEoYS5yZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcixhKX19KTtyZXR1cm4gYX0sXG5hLGZ1bmN0aW9uKGEsYyl7aWYoXCJjcmVhdGVcIj09PWEpdHJ5e2MuYXV0aCgpfWNhdGNoKGQpe319KTtmaXJlYmFzZS5JTlRFUk5BTC5leHRlbmROYW1lc3BhY2Uoe1VzZXI6V30pfWVsc2UgdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCB0aGUgZmlyZWJhc2UgbmFtZXNwYWNlOyBiZSBzdXJlIHRvIGluY2x1ZGUgZmlyZWJhc2UtYXBwLmpzIGJlZm9yZSB0aGlzIGxpYnJhcnkuXCIpO30pKCk7fSkoKTtcbm1vZHVsZS5leHBvcnRzID0gZmlyZWJhc2UuYXV0aDtcbiIsInZhciBmaXJlYmFzZSA9IHJlcXVpcmUoJy4vYXBwJyk7XG4vKiEgQGxpY2Vuc2UgRmlyZWJhc2UgdjMuNC4xXG4gICAgQnVpbGQ6IDMuNC4xLXJjLjJcbiAgICBUZXJtczogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vdGVybXMgKi9cbihmdW5jdGlvbigpIHt2YXIgZyxuPXRoaXM7ZnVuY3Rpb24gcChhKXtyZXR1cm4gdm9pZCAwIT09YX1mdW5jdGlvbiBhYSgpe31mdW5jdGlvbiBiYShhKXthLldiPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYmY/YS5iZjphLmJmPW5ldyBhfX1cbmZ1bmN0aW9uIGNhKGEpe3ZhciBiPXR5cGVvZiBhO2lmKFwib2JqZWN0XCI9PWIpaWYoYSl7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXJldHVyblwiYXJyYXlcIjtpZihhIGluc3RhbmNlb2YgT2JqZWN0KXJldHVybiBiO3ZhciBjPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKTtpZihcIltvYmplY3QgV2luZG93XVwiPT1jKXJldHVyblwib2JqZWN0XCI7aWYoXCJbb2JqZWN0IEFycmF5XVwiPT1jfHxcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGgmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnNwbGljZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwic3BsaWNlXCIpKXJldHVyblwiYXJyYXlcIjtpZihcIltvYmplY3QgRnVuY3Rpb25dXCI9PWN8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNhbGwmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcImNhbGxcIikpcmV0dXJuXCJmdW5jdGlvblwifWVsc2UgcmV0dXJuXCJudWxsXCI7XG5lbHNlIGlmKFwiZnVuY3Rpb25cIj09YiYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuY2FsbClyZXR1cm5cIm9iamVjdFwiO3JldHVybiBifWZ1bmN0aW9uIGRhKGEpe3JldHVyblwiYXJyYXlcIj09Y2EoYSl9ZnVuY3Rpb24gZWEoYSl7dmFyIGI9Y2EoYSk7cmV0dXJuXCJhcnJheVwiPT1ifHxcIm9iamVjdFwiPT1iJiZcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGh9ZnVuY3Rpb24gcShhKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYX1mdW5jdGlvbiBmYShhKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYX1mdW5jdGlvbiBnYShhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PWNhKGEpfWZ1bmN0aW9uIGhhKGEpe3ZhciBiPXR5cGVvZiBhO3JldHVyblwib2JqZWN0XCI9PWImJm51bGwhPWF8fFwiZnVuY3Rpb25cIj09Yn1mdW5jdGlvbiBpYShhLGIsYyl7cmV0dXJuIGEuY2FsbC5hcHBseShhLmJpbmQsYXJndW1lbnRzKX1cbmZ1bmN0aW9uIGphKGEsYixjKXtpZighYSl0aHJvdyBFcnJvcigpO2lmKDI8YXJndW1lbnRzLmxlbmd0aCl7dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7QXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkoYyxkKTtyZXR1cm4gYS5hcHBseShiLGMpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHIoYSxiLGMpe3I9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKT9pYTpqYTtyZXR1cm4gci5hcHBseShudWxsLGFyZ3VtZW50cyl9XG5mdW5jdGlvbiBrYShhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5JZz1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuRWc9ZnVuY3Rpb24oYSxjLGYpe2Zvcih2YXIgaD1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLGs9MjtrPGFyZ3VtZW50cy5sZW5ndGg7aysrKWhbay0yXT1hcmd1bWVudHNba107cmV0dXJuIGIucHJvdG90eXBlW2NdLmFwcGx5KGEsaCl9fTtmdW5jdGlvbiBsYSgpe3RoaXMuWWE9LTF9O2Z1bmN0aW9uIG1hKCl7dGhpcy5ZYT0tMTt0aGlzLllhPTY0O3RoaXMuTj1bXTt0aGlzLldkPVtdO3RoaXMuSmY9W107dGhpcy56ZD1bXTt0aGlzLnpkWzBdPTEyODtmb3IodmFyIGE9MTthPHRoaXMuWWE7KythKXRoaXMuemRbYV09MDt0aGlzLlBkPXRoaXMuYWM9MDt0aGlzLnJlc2V0KCl9a2EobWEsbGEpO21hLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuTlswXT0xNzMyNTg0MTkzO3RoaXMuTlsxXT00MDIzMjMzNDE3O3RoaXMuTlsyXT0yNTYyMzgzMTAyO3RoaXMuTlszXT0yNzE3MzM4Nzg7dGhpcy5OWzRdPTMyODUzNzc1MjA7dGhpcy5QZD10aGlzLmFjPTB9O1xuZnVuY3Rpb24gbmEoYSxiLGMpe2N8fChjPTApO3ZhciBkPWEuSmY7aWYocShiKSlmb3IodmFyIGU9MDsxNj5lO2UrKylkW2VdPWIuY2hhckNvZGVBdChjKTw8MjR8Yi5jaGFyQ29kZUF0KGMrMSk8PDE2fGIuY2hhckNvZGVBdChjKzIpPDw4fGIuY2hhckNvZGVBdChjKzMpLGMrPTQ7ZWxzZSBmb3IoZT0wOzE2PmU7ZSsrKWRbZV09YltjXTw8MjR8YltjKzFdPDwxNnxiW2MrMl08PDh8YltjKzNdLGMrPTQ7Zm9yKGU9MTY7ODA+ZTtlKyspe3ZhciBmPWRbZS0zXV5kW2UtOF1eZFtlLTE0XV5kW2UtMTZdO2RbZV09KGY8PDF8Zj4+PjMxKSY0Mjk0OTY3Mjk1fWI9YS5OWzBdO2M9YS5OWzFdO2Zvcih2YXIgaD1hLk5bMl0saz1hLk5bM10sbT1hLk5bNF0sbCxlPTA7ODA+ZTtlKyspNDA+ZT8yMD5lPyhmPWteYyYoaF5rKSxsPTE1MTg1MDAyNDkpOihmPWNeaF5rLGw9MTg1OTc3NTM5Myk6NjA+ZT8oZj1jJmh8ayYoY3xoKSxsPTI0MDA5NTk3MDgpOihmPWNeaF5rLGw9MzM5NTQ2OTc4MiksZj0oYjw8XG41fGI+Pj4yNykrZittK2wrZFtlXSY0Mjk0OTY3Mjk1LG09ayxrPWgsaD0oYzw8MzB8Yz4+PjIpJjQyOTQ5NjcyOTUsYz1iLGI9ZjthLk5bMF09YS5OWzBdK2ImNDI5NDk2NzI5NTthLk5bMV09YS5OWzFdK2MmNDI5NDk2NzI5NTthLk5bMl09YS5OWzJdK2gmNDI5NDk2NzI5NTthLk5bM109YS5OWzNdK2smNDI5NDk2NzI5NTthLk5bNF09YS5OWzRdK20mNDI5NDk2NzI5NX1cbm1hLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKXtwKGIpfHwoYj1hLmxlbmd0aCk7Zm9yKHZhciBjPWItdGhpcy5ZYSxkPTAsZT10aGlzLldkLGY9dGhpcy5hYztkPGI7KXtpZigwPT1mKWZvcig7ZDw9YzspbmEodGhpcyxhLGQpLGQrPXRoaXMuWWE7aWYocShhKSlmb3IoO2Q8Yjspe2lmKGVbZl09YS5jaGFyQ29kZUF0KGQpLCsrZiwrK2QsZj09dGhpcy5ZYSl7bmEodGhpcyxlKTtmPTA7YnJlYWt9fWVsc2UgZm9yKDtkPGI7KWlmKGVbZl09YVtkXSwrK2YsKytkLGY9PXRoaXMuWWEpe25hKHRoaXMsZSk7Zj0wO2JyZWFrfX10aGlzLmFjPWY7dGhpcy5QZCs9Yn19O2Z1bmN0aW9uIHQoYSxiKXtmb3IodmFyIGMgaW4gYSliLmNhbGwodm9pZCAwLGFbY10sYyxhKX1mdW5jdGlvbiBvYShhLGIpe3ZhciBjPXt9LGQ7Zm9yKGQgaW4gYSljW2RdPWIuY2FsbCh2b2lkIDAsYVtkXSxkLGEpO3JldHVybiBjfWZ1bmN0aW9uIHBhKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoIWIuY2FsbCh2b2lkIDAsYVtjXSxjLGEpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHFhKGEpe3ZhciBiPTAsYztmb3IoYyBpbiBhKWIrKztyZXR1cm4gYn1mdW5jdGlvbiByYShhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4gYn1mdW5jdGlvbiBzYShhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1hW2RdO3JldHVybiBifWZ1bmN0aW9uIHRhKGEpe3ZhciBiPVtdLGM9MCxkO2ZvcihkIGluIGEpYltjKytdPWQ7cmV0dXJuIGJ9ZnVuY3Rpb24gdWEoYSxiKXtmb3IodmFyIGMgaW4gYSlpZihhW2NdPT1iKXJldHVybiEwO3JldHVybiExfVxuZnVuY3Rpb24gdmEoYSxiLGMpe2Zvcih2YXIgZCBpbiBhKWlmKGIuY2FsbChjLGFbZF0sZCxhKSlyZXR1cm4gZH1mdW5jdGlvbiB3YShhLGIpe3ZhciBjPXZhKGEsYix2b2lkIDApO3JldHVybiBjJiZhW2NdfWZ1bmN0aW9uIHhhKGEpe2Zvcih2YXIgYiBpbiBhKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHlhKGEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gYSliW2NdPWFbY107cmV0dXJuIGJ9O2Z1bmN0aW9uIHphKGEpe2E9U3RyaW5nKGEpO2lmKC9eXFxzKiQvLnRlc3QoYSk/MDovXltcXF0sOnt9XFxzXFx1MjAyOFxcdTIwMjldKiQvLnRlc3QoYS5yZXBsYWNlKC9cXFxcW1wiXFxcXFxcL2JmbnJ0dV0vZyxcIkBcIikucmVwbGFjZSgvXCJbXlwiXFxcXFxcblxcclxcdTIwMjhcXHUyMDI5XFx4MDAtXFx4MDhcXHgwYS1cXHgxZl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2csXCJdXCIpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OltcXHNcXHUyMDI4XFx1MjAyOV0qXFxbKSsvZyxcIlwiKSkpdHJ5e3JldHVybiBldmFsKFwiKFwiK2ErXCIpXCIpfWNhdGNoKGIpe310aHJvdyBFcnJvcihcIkludmFsaWQgSlNPTiBzdHJpbmc6IFwiK2EpO31mdW5jdGlvbiBBYSgpe3RoaXMuRmQ9dm9pZCAwfVxuZnVuY3Rpb24gQmEoYSxiLGMpe3N3aXRjaCh0eXBlb2YgYil7Y2FzZSBcInN0cmluZ1wiOkNhKGIsYyk7YnJlYWs7Y2FzZSBcIm51bWJlclwiOmMucHVzaChpc0Zpbml0ZShiKSYmIWlzTmFOKGIpP2I6XCJudWxsXCIpO2JyZWFrO2Nhc2UgXCJib29sZWFuXCI6Yy5wdXNoKGIpO2JyZWFrO2Nhc2UgXCJ1bmRlZmluZWRcIjpjLnB1c2goXCJudWxsXCIpO2JyZWFrO2Nhc2UgXCJvYmplY3RcIjppZihudWxsPT1iKXtjLnB1c2goXCJudWxsXCIpO2JyZWFrfWlmKGRhKGIpKXt2YXIgZD1iLmxlbmd0aDtjLnB1c2goXCJbXCIpO2Zvcih2YXIgZT1cIlwiLGY9MDtmPGQ7ZisrKWMucHVzaChlKSxlPWJbZl0sQmEoYSxhLkZkP2EuRmQuY2FsbChiLFN0cmluZyhmKSxlKTplLGMpLGU9XCIsXCI7Yy5wdXNoKFwiXVwiKTticmVha31jLnB1c2goXCJ7XCIpO2Q9XCJcIjtmb3IoZiBpbiBiKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLGYpJiYoZT1iW2ZdLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihjLnB1c2goZCksQ2EoZixjKSxcbmMucHVzaChcIjpcIiksQmEoYSxhLkZkP2EuRmQuY2FsbChiLGYsZSk6ZSxjKSxkPVwiLFwiKSk7Yy5wdXNoKFwifVwiKTticmVhaztjYXNlIFwiZnVuY3Rpb25cIjpicmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIit0eXBlb2YgYik7fX12YXIgRGE9eydcIic6J1xcXFxcIicsXCJcXFxcXCI6XCJcXFxcXFxcXFwiLFwiL1wiOlwiXFxcXC9cIixcIlxcYlwiOlwiXFxcXGJcIixcIlxcZlwiOlwiXFxcXGZcIixcIlxcblwiOlwiXFxcXG5cIixcIlxcclwiOlwiXFxcXHJcIixcIlxcdFwiOlwiXFxcXHRcIixcIlxceDBCXCI6XCJcXFxcdTAwMGJcIn0sRWE9L1xcdWZmZmYvLnRlc3QoXCJcXHVmZmZmXCIpPy9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxcdWZmZmZdL2c6L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4ZmZdL2c7XG5mdW5jdGlvbiBDYShhLGIpe2IucHVzaCgnXCInLGEucmVwbGFjZShFYSxmdW5jdGlvbihhKXtpZihhIGluIERhKXJldHVybiBEYVthXTt2YXIgYj1hLmNoYXJDb2RlQXQoMCksZT1cIlxcXFx1XCI7MTY+Yj9lKz1cIjAwMFwiOjI1Nj5iP2UrPVwiMDBcIjo0MDk2PmImJihlKz1cIjBcIik7cmV0dXJuIERhW2FdPWUrYi50b1N0cmluZygxNil9KSwnXCInKX07dmFyIHY7YTp7dmFyIEZhPW4ubmF2aWdhdG9yO2lmKEZhKXt2YXIgR2E9RmEudXNlckFnZW50O2lmKEdhKXt2PUdhO2JyZWFrIGF9fXY9XCJcIn07ZnVuY3Rpb24gSGEoYSl7aWYoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxIYSk7ZWxzZXt2YXIgYj1FcnJvcigpLnN0YWNrO2ImJih0aGlzLnN0YWNrPWIpfWEmJih0aGlzLm1lc3NhZ2U9U3RyaW5nKGEpKX1rYShIYSxFcnJvcik7SGEucHJvdG90eXBlLm5hbWU9XCJDdXN0b21FcnJvclwiO3ZhciB3PUFycmF5LnByb3RvdHlwZSxJYT13LmluZGV4T2Y/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB3LmluZGV4T2YuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtjPW51bGw9PWM/MDowPmM/TWF0aC5tYXgoMCxhLmxlbmd0aCtjKTpjO2lmKHEoYSkpcmV0dXJuIHEoYikmJjE9PWIubGVuZ3RoP2EuaW5kZXhPZihiLGMpOi0xO2Zvcig7YzxhLmxlbmd0aDtjKyspaWYoYyBpbiBhJiZhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sSmE9dy5mb3JFYWNoP2Z1bmN0aW9uKGEsYixjKXt3LmZvckVhY2guY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1xKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKX0sS2E9dy5maWx0ZXI/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB3LmZpbHRlci5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPVtdLGY9MCxoPXEoYSk/XG5hLnNwbGl0KFwiXCIpOmEsaz0wO2s8ZDtrKyspaWYoayBpbiBoKXt2YXIgbT1oW2tdO2IuY2FsbChjLG0sayxhKSYmKGVbZisrXT1tKX1yZXR1cm4gZX0sTGE9dy5tYXA/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB3Lm1hcC5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPUFycmF5KGQpLGY9cShhKT9hLnNwbGl0KFwiXCIpOmEsaD0wO2g8ZDtoKyspaCBpbiBmJiYoZVtoXT1iLmNhbGwoYyxmW2hdLGgsYSkpO3JldHVybiBlfSxNYT13LnJlZHVjZT9mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9W10sZj0xLGg9YXJndW1lbnRzLmxlbmd0aDtmPGg7ZisrKWUucHVzaChhcmd1bWVudHNbZl0pO2QmJihlWzBdPXIoYixkKSk7cmV0dXJuIHcucmVkdWNlLmFwcGx5KGEsZSl9OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWM7SmEoYSxmdW5jdGlvbihjLGgpe2U9Yi5jYWxsKGQsZSxjLGgsYSl9KTtyZXR1cm4gZX0sTmE9dy5ldmVyeT9mdW5jdGlvbihhLGIsXG5jKXtyZXR1cm4gdy5ldmVyeS5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPXEoYSk/YS5zcGxpdChcIlwiKTphLGY9MDtmPGQ7ZisrKWlmKGYgaW4gZSYmIWIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4hMTtyZXR1cm4hMH07ZnVuY3Rpb24gT2EoYSxiKXt2YXIgYz1QYShhLGIsdm9pZCAwKTtyZXR1cm4gMD5jP251bGw6cShhKT9hLmNoYXJBdChjKTphW2NdfWZ1bmN0aW9uIFBhKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1xKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4gZjtyZXR1cm4tMX1mdW5jdGlvbiBRYShhLGIpe3ZhciBjPUlhKGEsYik7MDw9YyYmdy5zcGxpY2UuY2FsbChhLGMsMSl9ZnVuY3Rpb24gUmEoYSxiLGMpe3JldHVybiAyPj1hcmd1bWVudHMubGVuZ3RoP3cuc2xpY2UuY2FsbChhLGIpOncuc2xpY2UuY2FsbChhLGIsYyl9XG5mdW5jdGlvbiBTYShhLGIpe2Euc29ydChifHxUYSl9ZnVuY3Rpb24gVGEoYSxiKXtyZXR1cm4gYT5iPzE6YTxiPy0xOjB9O3ZhciBVYT0tMSE9di5pbmRleE9mKFwiT3BlcmFcIil8fC0xIT12LmluZGV4T2YoXCJPUFJcIiksVmE9LTEhPXYuaW5kZXhPZihcIlRyaWRlbnRcIil8fC0xIT12LmluZGV4T2YoXCJNU0lFXCIpLFdhPS0xIT12LmluZGV4T2YoXCJHZWNrb1wiKSYmLTE9PXYudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpJiYhKC0xIT12LmluZGV4T2YoXCJUcmlkZW50XCIpfHwtMSE9di5pbmRleE9mKFwiTVNJRVwiKSksWGE9LTEhPXYudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpO1xuKGZ1bmN0aW9uKCl7dmFyIGE9XCJcIixiO2lmKFVhJiZuLm9wZXJhKXJldHVybiBhPW4ub3BlcmEudmVyc2lvbixnYShhKT9hKCk6YTtXYT9iPS9ydlxcOihbXlxcKTtdKykoXFwpfDspLzpWYT9iPS9cXGIoPzpNU0lFfHJ2KVs6IF0oW15cXCk7XSspKFxcKXw7KS86WGEmJihiPS9XZWJLaXRcXC8oXFxTKykvKTtiJiYoYT0oYT1iLmV4ZWModikpP2FbMV06XCJcIik7cmV0dXJuIFZhJiYoYj0oYj1uLmRvY3VtZW50KT9iLmRvY3VtZW50TW9kZTp2b2lkIDAsYj5wYXJzZUZsb2F0KGEpKT9TdHJpbmcoYik6YX0pKCk7dmFyIFlhPW51bGwsWmE9bnVsbCwkYT1udWxsO2Z1bmN0aW9uIGFiKGEsYil7aWYoIWVhKGEpKXRocm93IEVycm9yKFwiZW5jb2RlQnl0ZUFycmF5IHRha2VzIGFuIGFycmF5IGFzIGEgcGFyYW1ldGVyXCIpO2JiKCk7Zm9yKHZhciBjPWI/WmE6WWEsZD1bXSxlPTA7ZTxhLmxlbmd0aDtlKz0zKXt2YXIgZj1hW2VdLGg9ZSsxPGEubGVuZ3RoLGs9aD9hW2UrMV06MCxtPWUrMjxhLmxlbmd0aCxsPW0/YVtlKzJdOjAsdT1mPj4yLGY9KGYmMyk8PDR8az4+NCxrPShrJjE1KTw8MnxsPj42LGw9bCY2MzttfHwobD02NCxofHwoaz02NCkpO2QucHVzaChjW3VdLGNbZl0sY1trXSxjW2xdKX1yZXR1cm4gZC5qb2luKFwiXCIpfVxuZnVuY3Rpb24gYmIoKXtpZighWWEpe1lhPXt9O1phPXt9OyRhPXt9O2Zvcih2YXIgYT0wOzY1PmE7YSsrKVlhW2FdPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIi5jaGFyQXQoYSksWmFbYV09XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fLlwiLmNoYXJBdChhKSwkYVtaYVthXV09YSw2Mjw9YSYmKCRhW1wiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIi5jaGFyQXQoYSldPWEpfX07ZnVuY3Rpb24gY2IoYSl7bi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgYTt9LDApfXZhciBkYjtcbmZ1bmN0aW9uIGViKCl7dmFyIGE9bi5NZXNzYWdlQ2hhbm5lbDtcInVuZGVmaW5lZFwiPT09dHlwZW9mIGEmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucG9zdE1lc3NhZ2UmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyJiYtMT09di5pbmRleE9mKFwiUHJlc3RvXCIpJiYoYT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7YS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2Euc3JjPVwiXCI7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGEpO3ZhciBiPWEuY29udGVudFdpbmRvdyxhPWIuZG9jdW1lbnQ7YS5vcGVuKCk7YS53cml0ZShcIlwiKTthLmNsb3NlKCk7dmFyIGM9XCJjYWxsSW1tZWRpYXRlXCIrTWF0aC5yYW5kb20oKSxkPVwiZmlsZTpcIj09Yi5sb2NhdGlvbi5wcm90b2NvbD9cIipcIjpiLmxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitiLmxvY2F0aW9uLmhvc3QsYT1yKGZ1bmN0aW9uKGEpe2lmKChcIipcIj09ZHx8YS5vcmlnaW49PVxuZCkmJmEuZGF0YT09Yyl0aGlzLnBvcnQxLm9ubWVzc2FnZSgpfSx0aGlzKTtiLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYSwhMSk7dGhpcy5wb3J0MT17fTt0aGlzLnBvcnQyPXtwb3N0TWVzc2FnZTpmdW5jdGlvbigpe2IucG9zdE1lc3NhZ2UoYyxkKX19fSk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhJiYtMT09di5pbmRleE9mKFwiVHJpZGVudFwiKSYmLTE9PXYuaW5kZXhPZihcIk1TSUVcIikpe3ZhciBiPW5ldyBhLGM9e30sZD1jO2IucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7aWYocChjLm5leHQpKXtjPWMubmV4dDt2YXIgYT1jLkxlO2MuTGU9bnVsbDthKCl9fTtyZXR1cm4gZnVuY3Rpb24oYSl7ZC5uZXh0PXtMZTphfTtkPWQubmV4dDtiLnBvcnQyLnBvc3RNZXNzYWdlKDApfX1yZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbihhKXt2YXIgYj1cbmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO2IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTtiPW51bGw7YSgpO2E9bnVsbH07ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGIpfTpmdW5jdGlvbihhKXtuLnNldFRpbWVvdXQoYSwwKX19O2Z1bmN0aW9uIGZiKGEsYil7Z2J8fGhiKCk7aWJ8fChnYigpLGliPSEwKTtqYi5wdXNoKG5ldyBrYihhLGIpKX12YXIgZ2I7ZnVuY3Rpb24gaGIoKXtpZihuLlByb21pc2UmJm4uUHJvbWlzZS5yZXNvbHZlKXt2YXIgYT1uLlByb21pc2UucmVzb2x2ZSgpO2diPWZ1bmN0aW9uKCl7YS50aGVuKGxiKX19ZWxzZSBnYj1mdW5jdGlvbigpe3ZhciBhPWxiOyFnYShuLnNldEltbWVkaWF0ZSl8fG4uV2luZG93JiZuLldpbmRvdy5wcm90b3R5cGUmJm4uV2luZG93LnByb3RvdHlwZS5zZXRJbW1lZGlhdGU9PW4uc2V0SW1tZWRpYXRlPyhkYnx8KGRiPWViKCkpLGRiKGEpKTpuLnNldEltbWVkaWF0ZShhKX19dmFyIGliPSExLGpiPVtdO1tdLnB1c2goZnVuY3Rpb24oKXtpYj0hMTtqYj1bXX0pO1xuZnVuY3Rpb24gbGIoKXtmb3IoO2piLmxlbmd0aDspe3ZhciBhPWpiO2piPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO3RyeXtjLldmLmNhbGwoYy5zY29wZSl9Y2F0Y2goZCl7Y2IoZCl9fX1pYj0hMX1mdW5jdGlvbiBrYihhLGIpe3RoaXMuV2Y9YTt0aGlzLnNjb3BlPWJ9O2Z1bmN0aW9uIG1iKGEsYil7dGhpcy5MPW5iO3RoaXMudWY9dm9pZCAwO3RoaXMuQ2E9dGhpcy5IYT1udWxsO3RoaXMuamQ9dGhpcy5iZT0hMTtpZihhPT1vYilwYih0aGlzLHFiLGIpO2Vsc2UgdHJ5e3ZhciBjPXRoaXM7YS5jYWxsKGIsZnVuY3Rpb24oYSl7cGIoYyxxYixhKX0sZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgcmIpKXRyeXtpZihhIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgYTt0aHJvdyBFcnJvcihcIlByb21pc2UgcmVqZWN0ZWQuXCIpO31jYXRjaChiKXt9cGIoYyxzYixhKX0pfWNhdGNoKGQpe3BiKHRoaXMsc2IsZCl9fXZhciBuYj0wLHFiPTIsc2I9MztmdW5jdGlvbiBvYigpe31tYi5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRiKHRoaXMsZ2EoYSk/YTpudWxsLGdhKGIpP2I6bnVsbCxjKX07bWIucHJvdG90eXBlLnRoZW49bWIucHJvdG90eXBlLnRoZW47bWIucHJvdG90eXBlLiRnb29nX1RoZW5hYmxlPSEwO2c9bWIucHJvdG90eXBlO1xuZy5BZz1mdW5jdGlvbihhLGIpe3JldHVybiB0Yih0aGlzLG51bGwsYSxiKX07Zy5jYW5jZWw9ZnVuY3Rpb24oYSl7dGhpcy5MPT1uYiYmZmIoZnVuY3Rpb24oKXt2YXIgYj1uZXcgcmIoYSk7dWIodGhpcyxiKX0sdGhpcyl9O2Z1bmN0aW9uIHViKGEsYil7aWYoYS5MPT1uYilpZihhLkhhKXt2YXIgYz1hLkhhO2lmKGMuQ2Epe2Zvcih2YXIgZD0wLGU9LTEsZj0wLGg7aD1jLkNhW2ZdO2YrKylpZihoPWguaylpZihkKyssaD09YSYmKGU9ZiksMDw9ZSYmMTxkKWJyZWFrOzA8PWUmJihjLkw9PW5iJiYxPT1kP3ViKGMsYik6KGQ9Yy5DYS5zcGxpY2UoZSwxKVswXSx2YihjLGQsc2IsYikpKX1hLkhhPW51bGx9ZWxzZSBwYihhLHNiLGIpfWZ1bmN0aW9uIHdiKGEsYil7YS5DYSYmYS5DYS5sZW5ndGh8fGEuTCE9cWImJmEuTCE9c2J8fHhiKGEpO2EuQ2F8fChhLkNhPVtdKTthLkNhLnB1c2goYil9XG5mdW5jdGlvbiB0YihhLGIsYyxkKXt2YXIgZT17azpudWxsLGhmOm51bGwsa2Y6bnVsbH07ZS5rPW5ldyBtYihmdW5jdGlvbihhLGgpe2UuaGY9Yj9mdW5jdGlvbihjKXt0cnl7dmFyIGU9Yi5jYWxsKGQsYyk7YShlKX1jYXRjaChsKXtoKGwpfX06YTtlLmtmPWM/ZnVuY3Rpb24oYil7dHJ5e3ZhciBlPWMuY2FsbChkLGIpOyFwKGUpJiZiIGluc3RhbmNlb2YgcmI/aChiKTphKGUpfWNhdGNoKGwpe2gobCl9fTpofSk7ZS5rLkhhPWE7d2IoYSxlKTtyZXR1cm4gZS5rfWcuQ2Y9ZnVuY3Rpb24oYSl7dGhpcy5MPW5iO3BiKHRoaXMscWIsYSl9O2cuRGY9ZnVuY3Rpb24oYSl7dGhpcy5MPW5iO3BiKHRoaXMsc2IsYSl9O1xuZnVuY3Rpb24gcGIoYSxiLGMpe2lmKGEuTD09bmIpe2lmKGE9PWMpYj1zYixjPW5ldyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKTtlbHNle3ZhciBkO2lmKGMpdHJ5e2Q9ISFjLiRnb29nX1RoZW5hYmxlfWNhdGNoKGUpe2Q9ITF9ZWxzZSBkPSExO2lmKGQpe2EuTD0xO2MudGhlbihhLkNmLGEuRGYsYSk7cmV0dXJufWlmKGhhKGMpKXRyeXt2YXIgZj1jLnRoZW47aWYoZ2EoZikpe3liKGEsYyxmKTtyZXR1cm59fWNhdGNoKGgpe2I9c2IsYz1ofX1hLnVmPWM7YS5MPWI7YS5IYT1udWxsO3hiKGEpO2IhPXNifHxjIGluc3RhbmNlb2YgcmJ8fHpiKGEsYyl9fWZ1bmN0aW9uIHliKGEsYixjKXtmdW5jdGlvbiBkKGIpe2Z8fChmPSEwLGEuRGYoYikpfWZ1bmN0aW9uIGUoYil7Znx8KGY9ITAsYS5DZihiKSl9YS5MPTE7dmFyIGY9ITE7dHJ5e2MuY2FsbChiLGUsZCl9Y2F0Y2goaCl7ZChoKX19XG5mdW5jdGlvbiB4YihhKXthLmJlfHwoYS5iZT0hMCxmYihhLlVmLGEpKX1nLlVmPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLkNhJiZ0aGlzLkNhLmxlbmd0aDspe3ZhciBhPXRoaXMuQ2E7dGhpcy5DYT1udWxsO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXZiKHRoaXMsYVtiXSx0aGlzLkwsdGhpcy51Zil9dGhpcy5iZT0hMX07ZnVuY3Rpb24gdmIoYSxiLGMsZCl7aWYoYz09cWIpYi5oZihkKTtlbHNle2lmKGIuaylmb3IoO2EmJmEuamQ7YT1hLkhhKWEuamQ9ITE7Yi5rZihkKX19ZnVuY3Rpb24gemIoYSxiKXthLmpkPSEwO2ZiKGZ1bmN0aW9uKCl7YS5qZCYmQWIuY2FsbChudWxsLGIpfSl9dmFyIEFiPWNiO2Z1bmN0aW9uIHJiKGEpe0hhLmNhbGwodGhpcyxhKX1rYShyYixIYSk7cmIucHJvdG90eXBlLm5hbWU9XCJjYW5jZWxcIjtmdW5jdGlvbiBCYihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX1mdW5jdGlvbiB4KGEsYil7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYikpcmV0dXJuIGFbYl19ZnVuY3Rpb24gQ2IoYSxiKXtmb3IodmFyIGMgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxjKSYmYihjLGFbY10pfTtmdW5jdGlvbiB5KGEsYixjLGQpe3ZhciBlO2Q8Yj9lPVwiYXQgbGVhc3QgXCIrYjpkPmMmJihlPTA9PT1jP1wibm9uZVwiOlwibm8gbW9yZSB0aGFuIFwiK2MpO2lmKGUpdGhyb3cgRXJyb3IoYStcIiBmYWlsZWQ6IFdhcyBjYWxsZWQgd2l0aCBcIitkKygxPT09ZD9cIiBhcmd1bWVudC5cIjpcIiBhcmd1bWVudHMuXCIpK1wiIEV4cGVjdHMgXCIrZStcIi5cIik7fWZ1bmN0aW9uIERiKGEsYixjKXt2YXIgZD1cIlwiO3N3aXRjaChiKXtjYXNlIDE6ZD1jP1wiZmlyc3RcIjpcIkZpcnN0XCI7YnJlYWs7Y2FzZSAyOmQ9Yz9cInNlY29uZFwiOlwiU2Vjb25kXCI7YnJlYWs7Y2FzZSAzOmQ9Yz9cInRoaXJkXCI6XCJUaGlyZFwiO2JyZWFrO2Nhc2UgNDpkPWM/XCJmb3VydGhcIjpcIkZvdXJ0aFwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJlcnJvclByZWZpeCBjYWxsZWQgd2l0aCBhcmd1bWVudE51bWJlciA+IDQuICBOZWVkIHRvIHVwZGF0ZSBpdD9cIik7fXJldHVybiBhPWErXCIgZmFpbGVkOiBcIisoZCtcIiBhcmd1bWVudCBcIil9XG5mdW5jdGlvbiBBKGEsYixjLGQpe2lmKCghZHx8cChjKSkmJiFnYShjKSl0aHJvdyBFcnJvcihEYihhLGIsZCkrXCJtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb24uXCIpO31mdW5jdGlvbiBFYihhLGIsYyl7aWYocChjKSYmKCFoYShjKXx8bnVsbD09PWMpKXRocm93IEVycm9yKERiKGEsYiwhMCkrXCJtdXN0IGJlIGEgdmFsaWQgY29udGV4dCBvYmplY3QuXCIpO307ZnVuY3Rpb24gRmIoYSl7dmFyIGI9W107Q2IoYSxmdW5jdGlvbihhLGQpe2RhKGQpP0phKGQsZnVuY3Rpb24oZCl7Yi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChhKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZCkpfSk6Yi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChhKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZCkpfSk7cmV0dXJuIGIubGVuZ3RoP1wiJlwiK2Iuam9pbihcIiZcIik6XCJcIn07dmFyIEdiPW4uUHJvbWlzZXx8bWI7bWIucHJvdG90eXBlW1wiY2F0Y2hcIl09bWIucHJvdG90eXBlLkFnO2Z1bmN0aW9uIEhiKCl7dmFyIGE9dGhpczt0aGlzLnJlamVjdD10aGlzLnJlc29sdmU9bnVsbDt0aGlzLnNhPW5ldyBHYihmdW5jdGlvbihiLGMpe2EucmVzb2x2ZT1iO2EucmVqZWN0PWN9KX1mdW5jdGlvbiBJYihhLGIpe3JldHVybiBmdW5jdGlvbihjLGQpe2M/YS5yZWplY3QoYyk6YS5yZXNvbHZlKGQpO2dhKGIpJiYoSmIoYS5zYSksMT09PWIubGVuZ3RoP2IoYyk6YihjLGQpKX19ZnVuY3Rpb24gSmIoYSl7YS50aGVuKHZvaWQgMCxhYSl9O2Z1bmN0aW9uIEtiKGEsYil7aWYoIWEpdGhyb3cgTGIoYik7fWZ1bmN0aW9uIExiKGEpe3JldHVybiBFcnJvcihcIkZpcmViYXNlIERhdGFiYXNlIChcIitmaXJlYmFzZS5TREtfVkVSU0lPTitcIikgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogXCIrYSl9O2Z1bmN0aW9uIE1iKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hLmNoYXJDb2RlQXQoZCk7NTUyOTY8PWUmJjU2MzE5Pj1lJiYoZS09NTUyOTYsZCsrLEtiKGQ8YS5sZW5ndGgsXCJTdXJyb2dhdGUgcGFpciBtaXNzaW5nIHRyYWlsIHN1cnJvZ2F0ZS5cIiksZT02NTUzNisoZTw8MTApKyhhLmNoYXJDb2RlQXQoZCktNTYzMjApKTsxMjg+ZT9iW2MrK109ZTooMjA0OD5lP2JbYysrXT1lPj42fDE5MjooNjU1MzY+ZT9iW2MrK109ZT4+MTJ8MjI0OihiW2MrK109ZT4+MTh8MjQwLGJbYysrXT1lPj4xMiY2M3wxMjgpLGJbYysrXT1lPj42JjYzfDEyOCksYltjKytdPWUmNjN8MTI4KX1yZXR1cm4gYn1mdW5jdGlvbiBOYihhKXtmb3IodmFyIGI9MCxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWEuY2hhckNvZGVBdChjKTsxMjg+ZD9iKys6MjA0OD5kP2IrPTI6NTUyOTY8PWQmJjU2MzE5Pj1kPyhiKz00LGMrKyk6Yis9M31yZXR1cm4gYn07ZnVuY3Rpb24gT2IoYSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBKU09OJiZwKEpTT04ucGFyc2UpP0pTT04ucGFyc2UoYSk6emEoYSl9ZnVuY3Rpb24gQihhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIEpTT04mJnAoSlNPTi5zdHJpbmdpZnkpKWE9SlNPTi5zdHJpbmdpZnkoYSk7ZWxzZXt2YXIgYj1bXTtCYShuZXcgQWEsYSxiKTthPWIuam9pbihcIlwiKX1yZXR1cm4gYX07ZnVuY3Rpb24gUGIoYSxiKXt0aGlzLmNvbW1pdHRlZD1hO3RoaXMuc25hcHNob3Q9Yn07ZnVuY3Rpb24gUWIoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmISEod2luZG93LmNvcmRvdmF8fHdpbmRvdy5waG9uZWdhcHx8d2luZG93LlBob25lR2FwKSYmL2lvc3xpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxpZW1vYmlsZS9pLnRlc3QoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJlwic3RyaW5nXCI9PT10eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudD9uYXZpZ2F0b3IudXNlckFnZW50OlwiXCIpfTtmdW5jdGlvbiBSYihhKXt0aGlzLnRlPWE7dGhpcy5CZD1bXTt0aGlzLlJiPTA7dGhpcy5ZZD0tMTt0aGlzLkdiPW51bGx9ZnVuY3Rpb24gU2IoYSxiLGMpe2EuWWQ9YjthLkdiPWM7YS5ZZDxhLlJiJiYoYS5HYigpLGEuR2I9bnVsbCl9ZnVuY3Rpb24gVGIoYSxiLGMpe2ZvcihhLkJkW2JdPWM7YS5CZFthLlJiXTspe3ZhciBkPWEuQmRbYS5SYl07ZGVsZXRlIGEuQmRbYS5SYl07Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2UpaWYoZFtlXSl7dmFyIGY9YTtVYihmdW5jdGlvbigpe2YudGUoZFtlXSl9KX1pZihhLlJiPT09YS5ZZCl7YS5HYiYmKGNsZWFyVGltZW91dChhLkdiKSxhLkdiKCksYS5HYj1udWxsKTticmVha31hLlJiKyt9fTtmdW5jdGlvbiBWYigpe3RoaXMucWM9e319VmIucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe251bGw9PWI/ZGVsZXRlIHRoaXMucWNbYV06dGhpcy5xY1thXT1ifTtWYi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBCYih0aGlzLnFjLGEpP3RoaXMucWNbYV06bnVsbH07VmIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5xY1thXX07VmIucHJvdG90eXBlLmNmPSEwO2Z1bmN0aW9uIFdiKGEpe3RoaXMudmM9YTt0aGlzLkNkPVwiZmlyZWJhc2U6XCJ9Zz1XYi5wcm90b3R5cGU7Zy5zZXQ9ZnVuY3Rpb24oYSxiKXtudWxsPT1iP3RoaXMudmMucmVtb3ZlSXRlbSh0aGlzLkNkK2EpOnRoaXMudmMuc2V0SXRlbSh0aGlzLkNkK2EsQihiKSl9O2cuZ2V0PWZ1bmN0aW9uKGEpe2E9dGhpcy52Yy5nZXRJdGVtKHRoaXMuQ2QrYSk7cmV0dXJuIG51bGw9PWE/bnVsbDpPYihhKX07Zy5yZW1vdmU9ZnVuY3Rpb24oYSl7dGhpcy52Yy5yZW1vdmVJdGVtKHRoaXMuQ2QrYSl9O2cuY2Y9ITE7Zy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZjLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIFhiKGEpe3RyeXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3dbYV0pe3ZhciBiPXdpbmRvd1thXTtiLnNldEl0ZW0oXCJmaXJlYmFzZTpzZW50aW5lbFwiLFwiY2FjaGVcIik7Yi5yZW1vdmVJdGVtKFwiZmlyZWJhc2U6c2VudGluZWxcIik7cmV0dXJuIG5ldyBXYihiKX19Y2F0Y2goYyl7fXJldHVybiBuZXcgVmJ9dmFyIFliPVhiKFwibG9jYWxTdG9yYWdlXCIpLFpiPVhiKFwic2Vzc2lvblN0b3JhZ2VcIik7ZnVuY3Rpb24gJGIoYSxiLGMpe3RoaXMudHlwZT1hYzt0aGlzLnNvdXJjZT1hO3RoaXMucGF0aD1iO3RoaXMuSmE9Y30kYi5wcm90b3R5cGUuTmM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucGF0aC5lKCk/bmV3ICRiKHRoaXMuc291cmNlLEMsdGhpcy5KYS5SKGEpKTpuZXcgJGIodGhpcy5zb3VyY2UsRCh0aGlzLnBhdGgpLHRoaXMuSmEpfTskYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgb3ZlcndyaXRlOiBcIit0aGlzLkphLnRvU3RyaW5nKCkrXCIpXCJ9O2Z1bmN0aW9uIGJjKGEsYil7dGhpcy50eXBlPWNjO3RoaXMuc291cmNlPWE7dGhpcy5wYXRoPWJ9YmMucHJvdG90eXBlLk5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC5lKCk/bmV3IGJjKHRoaXMuc291cmNlLEMpOm5ldyBiYyh0aGlzLnNvdXJjZSxEKHRoaXMucGF0aCkpfTtiYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgbGlzdGVuX2NvbXBsZXRlKVwifTtmdW5jdGlvbiBkYyhhKXt0aGlzLkhlPWF9ZGMucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLkhlLklOVEVSTkFMLmdldFRva2VuKGEpLnRoZW4obnVsbCxmdW5jdGlvbihhKXtyZXR1cm4gYSYmXCJhdXRoL3Rva2VuLW5vdC1pbml0aWFsaXplZFwiPT09YS5jb2RlPyhFKFwiR290IGF1dGgvdG9rZW4tbm90LWluaXRpYWxpemVkIGVycm9yLiAgVHJlYXRpbmcgYXMgbnVsbCB0b2tlbi5cIiksbnVsbCk6UHJvbWlzZS5yZWplY3QoYSl9KX07ZnVuY3Rpb24gZWMoYSxiKXthLkhlLklOVEVSTkFMLmFkZEF1dGhUb2tlbkxpc3RlbmVyKGIpfTtmdW5jdGlvbiBmYygpe3RoaXMuSmQ9Rn1mYy5wcm90b3R5cGUuaj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5KZC5RKGEpfTtmYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5KZC50b1N0cmluZygpfTtmdW5jdGlvbiBnYyhhLGIsYyxkLGUpe3RoaXMuaG9zdD1hLnRvTG93ZXJDYXNlKCk7dGhpcy5kb21haW49dGhpcy5ob3N0LnN1YnN0cih0aGlzLmhvc3QuaW5kZXhPZihcIi5cIikrMSk7dGhpcy5TYz1iO3RoaXMucGU9Yzt0aGlzLkNnPWQ7dGhpcy5uZj1lfHxcIlwiO3RoaXMuYmI9WWIuZ2V0KFwiaG9zdDpcIithKXx8dGhpcy5ob3N0fWZ1bmN0aW9uIGhjKGEsYil7YiE9PWEuYmImJihhLmJiPWIsXCJzLVwiPT09YS5iYi5zdWJzdHIoMCwyKSYmWWIuc2V0KFwiaG9zdDpcIithLmhvc3QsYS5iYikpfVxuZnVuY3Rpb24gaWMoYSxiLGMpe0goXCJzdHJpbmdcIj09PXR5cGVvZiBiLFwidHlwZW9mIHR5cGUgbXVzdCA9PSBzdHJpbmdcIik7SChcIm9iamVjdFwiPT09dHlwZW9mIGMsXCJ0eXBlb2YgcGFyYW1zIG11c3QgPT0gb2JqZWN0XCIpO2lmKFwid2Vic29ja2V0XCI9PT1iKWI9KGEuU2M/XCJ3c3M6Ly9cIjpcIndzOi8vXCIpK2EuYmIrXCIvLndzP1wiO2Vsc2UgaWYoXCJsb25nX3BvbGxpbmdcIj09PWIpYj0oYS5TYz9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK2EuYmIrXCIvLmxwP1wiO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIGNvbm5lY3Rpb24gdHlwZTogXCIrYik7YS5ob3N0IT09YS5iYiYmKGMubnM9YS5wZSk7dmFyIGQ9W107dChjLGZ1bmN0aW9uKGEsYil7ZC5wdXNoKGIrXCI9XCIrYSl9KTtyZXR1cm4gYitkLmpvaW4oXCImXCIpfVxuZ2MucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMuU2M/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLmhvc3Q7dGhpcy5uZiYmKGErPVwiPFwiK3RoaXMubmYrXCI+XCIpO3JldHVybiBhfTtmdW5jdGlvbiBqYygpe3RoaXMudWM9e319ZnVuY3Rpb24ga2MoYSxiLGMpe3AoYyl8fChjPTEpO0JiKGEudWMsYil8fChhLnVjW2JdPTApO2EudWNbYl0rPWN9amMucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB5YSh0aGlzLnVjKX07ZnVuY3Rpb24gbGMoYSl7dGhpcy5OZj1hO3RoaXMucmQ9bnVsbH1sYy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5OZi5nZXQoKSxiPXlhKGEpO2lmKHRoaXMucmQpZm9yKHZhciBjIGluIHRoaXMucmQpYltjXS09dGhpcy5yZFtjXTt0aGlzLnJkPWE7cmV0dXJuIGJ9O2Z1bmN0aW9uIG1jKCl7dGhpcy53Yj1bXX1mdW5jdGlvbiBuYyhhLGIpe2Zvcih2YXIgYz1udWxsLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXSxmPWUuWmIoKTtudWxsPT09Y3x8Zi4kKGMuWmIoKSl8fChhLndiLnB1c2goYyksYz1udWxsKTtudWxsPT09YyYmKGM9bmV3IG9jKGYpKTtjLmFkZChlKX1jJiZhLndiLnB1c2goYyl9ZnVuY3Rpb24gcGMoYSxiLGMpe25jKGEsYyk7cWMoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS4kKGIpfSl9ZnVuY3Rpb24gcmMoYSxiLGMpe25jKGEsYyk7cWMoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250YWlucyhiKXx8Yi5jb250YWlucyhhKX0pfVxuZnVuY3Rpb24gcWMoYSxiKXtmb3IodmFyIGM9ITAsZD0wO2Q8YS53Yi5sZW5ndGg7ZCsrKXt2YXIgZT1hLndiW2RdO2lmKGUpaWYoZT1lLlpiKCksYihlKSl7Zm9yKHZhciBlPWEud2JbZF0sZj0wO2Y8ZS5oZC5sZW5ndGg7ZisrKXt2YXIgaD1lLmhkW2ZdO2lmKG51bGwhPT1oKXtlLmhkW2ZdPW51bGw7dmFyIGs9aC5VYigpO3NjJiZFKFwiZXZlbnQ6IFwiK2gudG9TdHJpbmcoKSk7VWIoayl9fWEud2JbZF09bnVsbH1lbHNlIGM9ITF9YyYmKGEud2I9W10pfWZ1bmN0aW9uIG9jKGEpe3RoaXMucmE9YTt0aGlzLmhkPVtdfW9jLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oYSl7dGhpcy5oZC5wdXNoKGEpfTtvYy5wcm90b3R5cGUuWmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYX07ZnVuY3Rpb24gdGMoYSxiLGMsZCl7dGhpcy5hZT1iO3RoaXMuTWQ9Yzt0aGlzLkRkPWQ7dGhpcy5nZD1hfXRjLnByb3RvdHlwZS5aYj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuTWQueGIoKTtyZXR1cm5cInZhbHVlXCI9PT10aGlzLmdkP2EucGF0aDphLmdldFBhcmVudCgpLnBhdGh9O3RjLnByb3RvdHlwZS5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdkfTt0Yy5wcm90b3R5cGUuVWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZS5VYih0aGlzKX07dGMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWmIoKS50b1N0cmluZygpK1wiOlwiK3RoaXMuZ2QrXCI6XCIrQih0aGlzLk1kLlVlKCkpfTtmdW5jdGlvbiB1YyhhLGIsYyl7dGhpcy5hZT1hO3RoaXMuZXJyb3I9Yjt0aGlzLnBhdGg9Y311Yy5wcm90b3R5cGUuWmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRofTt1Yy5wcm90b3R5cGUuZ2U9ZnVuY3Rpb24oKXtyZXR1cm5cImNhbmNlbFwifTtcbnVjLnByb3RvdHlwZS5VYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFlLlViKHRoaXMpfTt1Yy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLnRvU3RyaW5nKCkrXCI6Y2FuY2VsXCJ9O2Z1bmN0aW9uIHZjKCl7fXZjLnByb3RvdHlwZS5YZT1mdW5jdGlvbigpe3JldHVybiBudWxsfTt2Yy5wcm90b3R5cGUuZmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07dmFyIHdjPW5ldyB2YztmdW5jdGlvbiB4YyhhLGIsYyl7dGhpcy5HZj1hO3RoaXMuTmE9Yjt0aGlzLnlkPWN9eGMucHJvdG90eXBlLlhlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuTmEuTztpZih5YyhiLGEpKXJldHVybiBiLmooKS5SKGEpO2I9bnVsbCE9dGhpcy55ZD9uZXcgemModGhpcy55ZCwhMCwhMSk6dGhpcy5OYS53KCk7cmV0dXJuIHRoaXMuR2YucmMoYSxiKX07eGMucHJvdG90eXBlLmZlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1udWxsIT10aGlzLnlkP3RoaXMueWQ6QWModGhpcy5OYSk7YT10aGlzLkdmLlhkKGQsYiwxLGMsYSk7cmV0dXJuIDA9PT1hLmxlbmd0aD9udWxsOmFbMF19O2Z1bmN0aW9uIEkoYSxiLGMsZCl7dGhpcy50eXBlPWE7dGhpcy5NYT1iO3RoaXMuWmE9Yzt0aGlzLnFlPWQ7dGhpcy5EZD12b2lkIDB9ZnVuY3Rpb24gQmMoYSl7cmV0dXJuIG5ldyBJKENjLGEpfXZhciBDYz1cInZhbHVlXCI7ZnVuY3Rpb24gemMoYSxiLGMpe3RoaXMuQT1hO3RoaXMuZWE9Yjt0aGlzLlRiPWN9ZnVuY3Rpb24gRGMoYSl7cmV0dXJuIGEuZWF9ZnVuY3Rpb24gRWMoYSl7cmV0dXJuIGEuVGJ9ZnVuY3Rpb24gRmMoYSxiKXtyZXR1cm4gYi5lKCk/YS5lYSYmIWEuVGI6eWMoYSxKKGIpKX1mdW5jdGlvbiB5YyhhLGIpe3JldHVybiBhLmVhJiYhYS5UYnx8YS5BLkZhKGIpfXpjLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07ZnVuY3Rpb24gR2MoYSxiKXtyZXR1cm4gSGMoYS5uYW1lLGIubmFtZSl9ZnVuY3Rpb24gSWMoYSxiKXtyZXR1cm4gSGMoYSxiKX07ZnVuY3Rpb24gSyhhLGIpe3RoaXMubmFtZT1hO3RoaXMuUz1ifWZ1bmN0aW9uIEpjKGEsYil7cmV0dXJuIG5ldyBLKGEsYil9O2Z1bmN0aW9uIEtjKGEsYil7cmV0dXJuIGEmJlwib2JqZWN0XCI9PT10eXBlb2YgYT8oSChcIi5zdlwiaW4gYSxcIlVuZXhwZWN0ZWQgbGVhZiBub2RlIG9yIHByaW9yaXR5IGNvbnRlbnRzXCIpLGJbYVtcIi5zdlwiXV0pOmF9ZnVuY3Rpb24gTGMoYSxiKXt2YXIgYz1uZXcgTWM7TmMoYSxuZXcgTChcIlwiKSxmdW5jdGlvbihhLGUpe09jKGMsYSxQYyhlLGIpKX0pO3JldHVybiBjfWZ1bmN0aW9uIFBjKGEsYil7dmFyIGM9YS5DKCkuSCgpLGM9S2MoYyxiKSxkO2lmKGEuSigpKXt2YXIgZT1LYyhhLkVhKCksYik7cmV0dXJuIGUhPT1hLkVhKCl8fGMhPT1hLkMoKS5IKCk/bmV3IFFjKGUsTShjKSk6YX1kPWE7YyE9PWEuQygpLkgoKSYmKGQ9ZC5nYShuZXcgUWMoYykpKTthLlAoTixmdW5jdGlvbihhLGMpe3ZhciBlPVBjKGMsYik7ZSE9PWMmJihkPWQuVShhLGUpKX0pO3JldHVybiBkfTt2YXIgUmM9ZnVuY3Rpb24oKXt2YXIgYT0xO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhKyt9fSgpLEg9S2IsU2M9TGI7XG5mdW5jdGlvbiBUYyhhKXt0cnl7dmFyIGI7YmIoKTtmb3IodmFyIGM9JGEsZD1bXSxlPTA7ZTxhLmxlbmd0aDspe3ZhciBmPWNbYS5jaGFyQXQoZSsrKV0saD1lPGEubGVuZ3RoP2NbYS5jaGFyQXQoZSldOjA7KytlO3ZhciBrPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO3ZhciBtPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO2lmKG51bGw9PWZ8fG51bGw9PWh8fG51bGw9PWt8fG51bGw9PW0pdGhyb3cgRXJyb3IoKTtkLnB1c2goZjw8MnxoPj40KTs2NCE9ayYmKGQucHVzaChoPDw0JjI0MHxrPj4yKSw2NCE9bSYmZC5wdXNoKGs8PDYmMTkyfG0pKX1pZig4MTkyPmQubGVuZ3RoKWI9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGQpO2Vsc2V7YT1cIlwiO2ZvcihjPTA7YzxkLmxlbmd0aDtjKz04MTkyKWErPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxSYShkLGMsYys4MTkyKSk7Yj1hfXJldHVybiBifWNhdGNoKGwpe0UoXCJiYXNlNjREZWNvZGUgZmFpbGVkOiBcIixcbmwpfXJldHVybiBudWxsfWZ1bmN0aW9uIFVjKGEpe3ZhciBiPU1iKGEpO2E9bmV3IG1hO2EudXBkYXRlKGIpO3ZhciBiPVtdLGM9OCphLlBkOzU2PmEuYWM/YS51cGRhdGUoYS56ZCw1Ni1hLmFjKTphLnVwZGF0ZShhLnpkLGEuWWEtKGEuYWMtNTYpKTtmb3IodmFyIGQ9YS5ZYS0xOzU2PD1kO2QtLSlhLldkW2RdPWMmMjU1LGMvPTI1NjtuYShhLGEuV2QpO2ZvcihkPWM9MDs1PmQ7ZCsrKWZvcih2YXIgZT0yNDswPD1lO2UtPTgpYltjXT1hLk5bZF0+PmUmMjU1LCsrYztyZXR1cm4gYWIoYil9ZnVuY3Rpb24gVmMoYSl7Zm9yKHZhciBiPVwiXCIsYz0wO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYj1lYShhcmd1bWVudHNbY10pP2IrVmMuYXBwbHkobnVsbCxhcmd1bWVudHNbY10pOlwib2JqZWN0XCI9PT10eXBlb2YgYXJndW1lbnRzW2NdP2IrQihhcmd1bWVudHNbY10pOmIrYXJndW1lbnRzW2NdLGIrPVwiIFwiO3JldHVybiBifXZhciBzYz1udWxsLFdjPSEwO1xuZnVuY3Rpb24gWGMoYSxiKXtLYighYnx8ITA9PT1hfHwhMT09PWEsXCJDYW4ndCB0dXJuIG9uIGN1c3RvbSBsb2dnZXJzIHBlcnNpc3RlbnRseS5cIik7ITA9PT1hPyhcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUmJihcImZ1bmN0aW9uXCI9PT10eXBlb2YgY29uc29sZS5sb2c/c2M9cihjb25zb2xlLmxvZyxjb25zb2xlKTpcIm9iamVjdFwiPT09dHlwZW9mIGNvbnNvbGUubG9nJiYoc2M9ZnVuY3Rpb24oYSl7Y29uc29sZS5sb2coYSl9KSksYiYmWmIuc2V0KFwibG9nZ2luZ19lbmFibGVkXCIsITApKTpnYShhKT9zYz1hOihzYz1udWxsLFpiLnJlbW92ZShcImxvZ2dpbmdfZW5hYmxlZFwiKSl9ZnVuY3Rpb24gRShhKXshMD09PVdjJiYoV2M9ITEsbnVsbD09PXNjJiYhMD09PVpiLmdldChcImxvZ2dpbmdfZW5hYmxlZFwiKSYmWGMoITApKTtpZihzYyl7dmFyIGI9VmMuYXBwbHkobnVsbCxhcmd1bWVudHMpO3NjKGIpfX1cbmZ1bmN0aW9uIFljKGEpe3JldHVybiBmdW5jdGlvbigpe0UoYSxhcmd1bWVudHMpfX1mdW5jdGlvbiBaYyhhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUpe3ZhciBiPVwiRklSRUJBU0UgSU5URVJOQUwgRVJST1I6IFwiK1ZjLmFwcGx5KG51bGwsYXJndW1lbnRzKTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUuZXJyb3I/Y29uc29sZS5lcnJvcihiKTpjb25zb2xlLmxvZyhiKX19ZnVuY3Rpb24gJGMoYSl7dmFyIGI9VmMuYXBwbHkobnVsbCxhcmd1bWVudHMpO3Rocm93IEVycm9yKFwiRklSRUJBU0UgRkFUQUwgRVJST1I6IFwiK2IpO31mdW5jdGlvbiBPKGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSl7dmFyIGI9XCJGSVJFQkFTRSBXQVJOSU5HOiBcIitWYy5hcHBseShudWxsLGFyZ3VtZW50cyk7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlLndhcm4/Y29uc29sZS53YXJuKGIpOmNvbnNvbGUubG9nKGIpfX1cbmZ1bmN0aW9uIGFkKGEpe3ZhciBiLGMsZCxlLGYsaD1hO2Y9Yz1hPWI9XCJcIjtkPSEwO2U9XCJodHRwc1wiO2lmKHEoaCkpe3ZhciBrPWguaW5kZXhPZihcIi8vXCIpOzA8PWsmJihlPWguc3Vic3RyaW5nKDAsay0xKSxoPWguc3Vic3RyaW5nKGsrMikpO2s9aC5pbmRleE9mKFwiL1wiKTstMT09PWsmJihrPWgubGVuZ3RoKTtiPWguc3Vic3RyaW5nKDAsayk7Zj1cIlwiO2g9aC5zdWJzdHJpbmcoaykuc3BsaXQoXCIvXCIpO2ZvcihrPTA7azxoLmxlbmd0aDtrKyspaWYoMDxoW2tdLmxlbmd0aCl7dmFyIG09aFtrXTt0cnl7bT1kZWNvZGVVUklDb21wb25lbnQobS5yZXBsYWNlKC9cXCsvZyxcIiBcIikpfWNhdGNoKGwpe31mKz1cIi9cIittfWg9Yi5zcGxpdChcIi5cIik7Mz09PWgubGVuZ3RoPyhhPWhbMV0sYz1oWzBdLnRvTG93ZXJDYXNlKCkpOjI9PT1oLmxlbmd0aCYmKGE9aFswXSk7az1iLmluZGV4T2YoXCI6XCIpOzA8PWsmJihkPVwiaHR0cHNcIj09PWV8fFwid3NzXCI9PT1lKX1cImZpcmViYXNlXCI9PT1hJiYkYyhiK1wiIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIFBsZWFzZSB1c2UgPFlPVVIgRklSRUJBU0U+LmZpcmViYXNlaW8uY29tIGluc3RlYWRcIik7XG5jJiZcInVuZGVmaW5lZFwiIT1jfHwkYyhcIkNhbm5vdCBwYXJzZSBGaXJlYmFzZSB1cmwuIFBsZWFzZSB1c2UgaHR0cHM6Ly88WU9VUiBGSVJFQkFTRT4uZmlyZWJhc2Vpby5jb21cIik7ZHx8XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhdGlvbiYmd2luZG93LmxvY2F0aW9uLnByb3RvY29sJiYtMSE9PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKFwiaHR0cHM6XCIpJiZPKFwiSW5zZWN1cmUgRmlyZWJhc2UgYWNjZXNzIGZyb20gYSBzZWN1cmUgcGFnZS4gUGxlYXNlIHVzZSBodHRwcyBpbiBjYWxscyB0byBuZXcgRmlyZWJhc2UoKS5cIik7cmV0dXJue2tjOm5ldyBnYyhiLGQsYyxcIndzXCI9PT1lfHxcIndzc1wiPT09ZSkscGF0aDpuZXcgTChmKX19ZnVuY3Rpb24gYmQoYSl7cmV0dXJuIGZhKGEpJiYoYSE9YXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpfVxuZnVuY3Rpb24gY2QoYSl7aWYoXCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSlhKCk7ZWxzZXt2YXIgYj0hMSxjPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keT9ifHwoYj0hMCxhKCkpOnNldFRpbWVvdXQoYyxNYXRoLmZsb29yKDEwKSl9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI/KGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsYywhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsYywhMSkpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiYoZG9jdW1lbnQuYXR0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixmdW5jdGlvbigpe1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmMoKX0pLHdpbmRvdy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLGMpKX19XG5mdW5jdGlvbiBIYyhhLGIpe2lmKGE9PT1iKXJldHVybiAwO2lmKFwiW01JTl9OQU1FXVwiPT09YXx8XCJbTUFYX05BTUVdXCI9PT1iKXJldHVybi0xO2lmKFwiW01JTl9OQU1FXVwiPT09Ynx8XCJbTUFYX05BTUVdXCI9PT1hKXJldHVybiAxO3ZhciBjPWRkKGEpLGQ9ZGQoYik7cmV0dXJuIG51bGwhPT1jP251bGwhPT1kPzA9PWMtZD9hLmxlbmd0aC1iLmxlbmd0aDpjLWQ6LTE6bnVsbCE9PWQ/MTphPGI/LTE6MX1mdW5jdGlvbiBlZChhLGIpe2lmKGImJmEgaW4gYilyZXR1cm4gYlthXTt0aHJvdyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQga2V5IChcIithK1wiKSBpbiBvYmplY3Q6IFwiK0IoYikpO31cbmZ1bmN0aW9uIGZkKGEpe2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8bnVsbD09PWEpcmV0dXJuIEIoYSk7dmFyIGI9W10sYztmb3IoYyBpbiBhKWIucHVzaChjKTtiLnNvcnQoKTtjPVwie1wiO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKTAhPT1kJiYoYys9XCIsXCIpLGMrPUIoYltkXSksYys9XCI6XCIsYys9ZmQoYVtiW2RdXSk7cmV0dXJuIGMrXCJ9XCJ9ZnVuY3Rpb24gZ2QoYSxiKXtpZihhLmxlbmd0aDw9YilyZXR1cm5bYV07Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrPWIpZCtiPmE/Yy5wdXNoKGEuc3Vic3RyaW5nKGQsYS5sZW5ndGgpKTpjLnB1c2goYS5zdWJzdHJpbmcoZCxkK2IpKTtyZXR1cm4gY31mdW5jdGlvbiBoZChhLGIpe2lmKGRhKGEpKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWIoYyxhW2NdKTtlbHNlIHQoYSxiKX1cbmZ1bmN0aW9uIGlkKGEpe0goIWJkKGEpLFwiSW52YWxpZCBKU09OIG51bWJlclwiKTt2YXIgYixjLGQsZTswPT09YT8oZD1jPTAsYj0tSW5maW5pdHk9PT0xL2E/MTowKTooYj0wPmEsYT1NYXRoLmFicyhhKSxhPj1NYXRoLnBvdygyLC0xMDIyKT8oZD1NYXRoLm1pbihNYXRoLmZsb29yKE1hdGgubG9nKGEpL01hdGguTE4yKSwxMDIzKSxjPWQrMTAyMyxkPU1hdGgucm91bmQoYSpNYXRoLnBvdygyLDUyLWQpLU1hdGgucG93KDIsNTIpKSk6KGM9MCxkPU1hdGgucm91bmQoYS9NYXRoLnBvdygyLC0xMDc0KSkpKTtlPVtdO2ZvcihhPTUyO2E7LS1hKWUucHVzaChkJTI/MTowKSxkPU1hdGguZmxvb3IoZC8yKTtmb3IoYT0xMTthOy0tYSllLnB1c2goYyUyPzE6MCksYz1NYXRoLmZsb29yKGMvMik7ZS5wdXNoKGI/MTowKTtlLnJldmVyc2UoKTtiPWUuam9pbihcIlwiKTtjPVwiXCI7Zm9yKGE9MDs2ND5hO2ErPTgpZD1wYXJzZUludChiLnN1YnN0cihhLDgpLDIpLnRvU3RyaW5nKDE2KSwxPT09ZC5sZW5ndGgmJlxuKGQ9XCIwXCIrZCksYys9ZDtyZXR1cm4gYy50b0xvd2VyQ2FzZSgpfXZhciBqZD0vXi0/XFxkezEsMTB9JC87ZnVuY3Rpb24gZGQoYSl7cmV0dXJuIGpkLnRlc3QoYSkmJihhPU51bWJlcihhKSwtMjE0NzQ4MzY0ODw9YSYmMjE0NzQ4MzY0Nz49YSk/YTpudWxsfWZ1bmN0aW9uIFViKGEpe3RyeXthKCl9Y2F0Y2goYil7c2V0VGltZW91dChmdW5jdGlvbigpe08oXCJFeGNlcHRpb24gd2FzIHRocm93biBieSB1c2VyIGNhbGxiYWNrLlwiLGIuc3RhY2t8fFwiXCIpO3Rocm93IGI7fSxNYXRoLmZsb29yKDApKX19ZnVuY3Rpb24ga2QoYSxiLGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2dldDpjfSl9ZnVuY3Rpb24gbGQoYSxiKXt2YXIgYz1zZXRUaW1lb3V0KGEsYik7XCJvYmplY3RcIj09PXR5cGVvZiBjJiZjLnVucmVmJiZjLnVucmVmKCk7cmV0dXJuIGN9O2Z1bmN0aW9uIG1kKGEpe3ZhciBiPXt9LGM9e30sZD17fSxlPVwiXCI7dHJ5e3ZhciBmPWEuc3BsaXQoXCIuXCIpLGI9T2IoVGMoZlswXSl8fFwiXCIpLGM9T2IoVGMoZlsxXSl8fFwiXCIpLGU9ZlsyXSxkPWMuZHx8e307ZGVsZXRlIGMuZH1jYXRjaChoKXt9cmV0dXJue0ZnOmIsTWU6YyxkYXRhOmQseGc6ZX19ZnVuY3Rpb24gbmQoYSl7YT1tZChhKTt2YXIgYj1hLk1lO3JldHVybiEhYS54ZyYmISFiJiZcIm9iamVjdFwiPT09dHlwZW9mIGImJmIuaGFzT3duUHJvcGVydHkoXCJpYXRcIil9ZnVuY3Rpb24gb2QoYSl7YT1tZChhKS5NZTtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJiEwPT09eChhLFwiYWRtaW5cIil9O2Z1bmN0aW9uIHBkKGEsYixjKXt0aGlzLmY9WWMoXCJwOnJlc3Q6XCIpO3RoaXMuTT1hO3RoaXMuSGI9Yjt0aGlzLlZkPWM7dGhpcy5hYT17fX1mdW5jdGlvbiBxZChhLGIpe2lmKHAoYikpcmV0dXJuXCJ0YWckXCIrYjtIKHJkKGEubiksXCJzaG91bGQgaGF2ZSBhIHRhZyBpZiBpdCdzIG5vdCBhIGRlZmF1bHQgcXVlcnkuXCIpO3JldHVybiBhLnBhdGgudG9TdHJpbmcoKX1nPXBkLnByb3RvdHlwZTtcbmcuZGY9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5wYXRoLnRvU3RyaW5nKCk7dGhpcy5mKFwiTGlzdGVuIGNhbGxlZCBmb3IgXCIrZStcIiBcIithLmthKCkpO3ZhciBmPXFkKGEsYyksaD17fTt0aGlzLmFhW2ZdPWg7YT1zZChhLm4pO3ZhciBrPXRoaXM7dGQodGhpcyxlK1wiLmpzb25cIixhLGZ1bmN0aW9uKGEsYil7dmFyIHU9Yjs0MDQ9PT1hJiYoYT11PW51bGwpO251bGw9PT1hJiZrLkhiKGUsdSwhMSxjKTt4KGsuYWEsZik9PT1oJiZkKGE/NDAxPT1hP1wicGVybWlzc2lvbl9kZW5pZWRcIjpcInJlc3RfZXJyb3I6XCIrYTpcIm9rXCIsbnVsbCl9KX07Zy5FZj1mdW5jdGlvbihhLGIpe3ZhciBjPXFkKGEsYik7ZGVsZXRlIHRoaXMuYWFbY119O2cucWY9ZnVuY3Rpb24oKXt9O2cucmU9ZnVuY3Rpb24oKXt9O2cuZ2Y9ZnVuY3Rpb24oKXt9O2cueGQ9ZnVuY3Rpb24oKXt9O2cucHV0PWZ1bmN0aW9uKCl7fTtnLmVmPWZ1bmN0aW9uKCl7fTtnLnllPWZ1bmN0aW9uKCl7fTtcbmZ1bmN0aW9uIHRkKGEsYixjLGQpe2M9Y3x8e307Yy5mb3JtYXQ9XCJleHBvcnRcIjthLlZkLmdldFRva2VuKCExKS50aGVuKGZ1bmN0aW9uKGUpeyhlPWUmJmUuYWNjZXNzVG9rZW4pJiYoYy5hdXRoPWUpO3ZhciBmPShhLk0uU2M/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSthLk0uaG9zdCtiK1wiP1wiK0ZiKGMpO2EuZihcIlNlbmRpbmcgUkVTVCByZXF1ZXN0IGZvciBcIitmKTt2YXIgaD1uZXcgWE1MSHR0cFJlcXVlc3Q7aC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZihkJiY0PT09aC5yZWFkeVN0YXRlKXthLmYoXCJSRVNUIFJlc3BvbnNlIGZvciBcIitmK1wiIHJlY2VpdmVkLiBzdGF0dXM6XCIsaC5zdGF0dXMsXCJyZXNwb25zZTpcIixoLnJlc3BvbnNlVGV4dCk7dmFyIGI9bnVsbDtpZigyMDA8PWguc3RhdHVzJiYzMDA+aC5zdGF0dXMpe3RyeXtiPU9iKGgucmVzcG9uc2VUZXh0KX1jYXRjaChjKXtPKFwiRmFpbGVkIHRvIHBhcnNlIEpTT04gcmVzcG9uc2UgZm9yIFwiK2YrXCI6IFwiK2gucmVzcG9uc2VUZXh0KX1kKG51bGwsXG5iKX1lbHNlIDQwMSE9PWguc3RhdHVzJiY0MDQhPT1oLnN0YXR1cyYmTyhcIkdvdCB1bnN1Y2Nlc3NmdWwgUkVTVCByZXNwb25zZSBmb3IgXCIrZitcIiBTdGF0dXM6IFwiK2guc3RhdHVzKSxkKGguc3RhdHVzKTtkPW51bGx9fTtoLm9wZW4oXCJHRVRcIixmLCEwKTtoLnNlbmQoKX0pfTtmdW5jdGlvbiB2ZChhLGIsYyl7dGhpcy50eXBlPXdkO3RoaXMuc291cmNlPWE7dGhpcy5wYXRoPWI7dGhpcy5jaGlsZHJlbj1jfXZkLnByb3RvdHlwZS5OYz1mdW5jdGlvbihhKXtpZih0aGlzLnBhdGguZSgpKXJldHVybiBhPXRoaXMuY2hpbGRyZW4uc3VidHJlZShuZXcgTChhKSksYS5lKCk/bnVsbDphLnZhbHVlP25ldyAkYih0aGlzLnNvdXJjZSxDLGEudmFsdWUpOm5ldyB2ZCh0aGlzLnNvdXJjZSxDLGEpO0goSih0aGlzLnBhdGgpPT09YSxcIkNhbid0IGdldCBhIG1lcmdlIGZvciBhIGNoaWxkIG5vdCBvbiB0aGUgcGF0aCBvZiB0aGUgb3BlcmF0aW9uXCIpO3JldHVybiBuZXcgdmQodGhpcy5zb3VyY2UsRCh0aGlzLnBhdGgpLHRoaXMuY2hpbGRyZW4pfTt2ZC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgbWVyZ2U6IFwiK3RoaXMuY2hpbGRyZW4udG9TdHJpbmcoKStcIilcIn07ZnVuY3Rpb24geGQoYSxiKXt0aGlzLnpmPXt9O3RoaXMuVmM9bmV3IGxjKGEpO3RoaXMud2E9Yjt2YXIgYz0xRTQrMkU0Kk1hdGgucmFuZG9tKCk7bGQocih0aGlzLnJmLHRoaXMpLE1hdGguZmxvb3IoYykpfXhkLnByb3RvdHlwZS5yZj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuVmMuZ2V0KCksYj17fSxjPSExLGQ7Zm9yKGQgaW4gYSkwPGFbZF0mJkJiKHRoaXMuemYsZCkmJihiW2RdPWFbZF0sYz0hMCk7YyYmdGhpcy53YS55ZShiKTtsZChyKHRoaXMucmYsdGhpcyksTWF0aC5mbG9vcig2RTUqTWF0aC5yYW5kb20oKSkpfTt2YXIgeWQ9e30semQ9e307ZnVuY3Rpb24gQWQoYSl7YT1hLnRvU3RyaW5nKCk7eWRbYV18fCh5ZFthXT1uZXcgamMpO3JldHVybiB5ZFthXX1mdW5jdGlvbiBCZChhLGIpe3ZhciBjPWEudG9TdHJpbmcoKTt6ZFtjXXx8KHpkW2NdPWIoKSk7cmV0dXJuIHpkW2NdfTt2YXIgQ2Q9bnVsbDtcInVuZGVmaW5lZFwiIT09dHlwZW9mIE1veldlYlNvY2tldD9DZD1Nb3pXZWJTb2NrZXQ6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBXZWJTb2NrZXQmJihDZD1XZWJTb2NrZXQpO2Z1bmN0aW9uIERkKGEsYixjLGQpe3RoaXMuWmQ9YTt0aGlzLmY9WWModGhpcy5aZCk7dGhpcy5mcmFtZXM9dGhpcy5BYz1udWxsO3RoaXMucWI9dGhpcy5yYj10aGlzLkZlPTA7dGhpcy5YYT1BZChiKTthPXt2OlwiNVwifTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGxvY2F0aW9uJiZsb2NhdGlvbi5ocmVmJiYtMSE9PWxvY2F0aW9uLmhyZWYuaW5kZXhPZihcImZpcmViYXNlaW8uY29tXCIpJiYoYS5yPVwiZlwiKTtjJiYoYS5zPWMpO2QmJihhLmxzPWQpO3RoaXMuTmU9aWMoYixcIndlYnNvY2tldFwiLGEpfXZhciBFZDtcbkRkLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYil7dGhpcy5rYj1iO3RoaXMuaGc9YTt0aGlzLmYoXCJXZWJzb2NrZXQgY29ubmVjdGluZyB0byBcIit0aGlzLk5lKTt0aGlzLnhjPSExO1liLnNldChcInByZXZpb3VzX3dlYnNvY2tldF9mYWlsdXJlXCIsITApO3RyeXt0aGlzLkxhPW5ldyBDZCh0aGlzLk5lKX1jYXRjaChjKXt0aGlzLmYoXCJFcnJvciBpbnN0YW50aWF0aW5nIFdlYlNvY2tldC5cIik7dmFyIGQ9Yy5tZXNzYWdlfHxjLmRhdGE7ZCYmdGhpcy5mKGQpO3RoaXMuZmIoKTtyZXR1cm59dmFyIGU9dGhpczt0aGlzLkxhLm9ub3Blbj1mdW5jdGlvbigpe2UuZihcIldlYnNvY2tldCBjb25uZWN0ZWQuXCIpO2UueGM9ITB9O3RoaXMuTGEub25jbG9zZT1mdW5jdGlvbigpe2UuZihcIldlYnNvY2tldCBjb25uZWN0aW9uIHdhcyBkaXNjb25uZWN0ZWQuXCIpO2UuTGE9bnVsbDtlLmZiKCl9O3RoaXMuTGEub25tZXNzYWdlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPT1lLkxhKWlmKGE9YS5kYXRhLGUucWIrPVxuYS5sZW5ndGgsa2MoZS5YYSxcImJ5dGVzX3JlY2VpdmVkXCIsYS5sZW5ndGgpLEZkKGUpLG51bGwhPT1lLmZyYW1lcylHZChlLGEpO2Vsc2V7YTp7SChudWxsPT09ZS5mcmFtZXMsXCJXZSBhbHJlYWR5IGhhdmUgYSBmcmFtZSBidWZmZXJcIik7aWYoNj49YS5sZW5ndGgpe3ZhciBiPU51bWJlcihhKTtpZighaXNOYU4oYikpe2UuRmU9YjtlLmZyYW1lcz1bXTthPW51bGw7YnJlYWsgYX19ZS5GZT0xO2UuZnJhbWVzPVtdfW51bGwhPT1hJiZHZChlLGEpfX07dGhpcy5MYS5vbmVycm9yPWZ1bmN0aW9uKGEpe2UuZihcIldlYlNvY2tldCBlcnJvci4gIENsb3NpbmcgY29ubmVjdGlvbi5cIik7KGE9YS5tZXNzYWdlfHxhLmRhdGEpJiZlLmYoYSk7ZS5mYigpfX07RGQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7fTtcbkRkLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7dmFyIGE9ITE7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQpe3ZhciBiPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQgKFswLTldezAsfVxcLlswLTldezAsfSkvKTtiJiYxPGIubGVuZ3RoJiY0LjQ+cGFyc2VGbG9hdChiWzFdKSYmKGE9ITApfXJldHVybiFhJiZudWxsIT09Q2QmJiFFZH07RGQucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeT0yO0RkLmhlYWx0aHlUaW1lb3V0PTNFNDtnPURkLnByb3RvdHlwZTtnLnNkPWZ1bmN0aW9uKCl7WWIucmVtb3ZlKFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIil9O2Z1bmN0aW9uIEdkKGEsYil7YS5mcmFtZXMucHVzaChiKTtpZihhLmZyYW1lcy5sZW5ndGg9PWEuRmUpe3ZhciBjPWEuZnJhbWVzLmpvaW4oXCJcIik7YS5mcmFtZXM9bnVsbDtjPU9iKGMpO2EuaGcoYyl9fVxuZy5zZW5kPWZ1bmN0aW9uKGEpe0ZkKHRoaXMpO2E9QihhKTt0aGlzLnJiKz1hLmxlbmd0aDtrYyh0aGlzLlhhLFwiYnl0ZXNfc2VudFwiLGEubGVuZ3RoKTthPWdkKGEsMTYzODQpOzE8YS5sZW5ndGgmJkhkKHRoaXMsU3RyaW5nKGEubGVuZ3RoKSk7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspSGQodGhpcyxhW2JdKX07Zy5UYz1mdW5jdGlvbigpe3RoaXMuQmI9ITA7dGhpcy5BYyYmKGNsZWFySW50ZXJ2YWwodGhpcy5BYyksdGhpcy5BYz1udWxsKTt0aGlzLkxhJiYodGhpcy5MYS5jbG9zZSgpLHRoaXMuTGE9bnVsbCl9O2cuZmI9ZnVuY3Rpb24oKXt0aGlzLkJifHwodGhpcy5mKFwiV2ViU29ja2V0IGlzIGNsb3NpbmcgaXRzZWxmXCIpLHRoaXMuVGMoKSx0aGlzLmtiJiYodGhpcy5rYih0aGlzLnhjKSx0aGlzLmtiPW51bGwpKX07Zy5jbG9zZT1mdW5jdGlvbigpe3RoaXMuQmJ8fCh0aGlzLmYoXCJXZWJTb2NrZXQgaXMgYmVpbmcgY2xvc2VkXCIpLHRoaXMuVGMoKSl9O1xuZnVuY3Rpb24gRmQoYSl7Y2xlYXJJbnRlcnZhbChhLkFjKTthLkFjPXNldEludGVydmFsKGZ1bmN0aW9uKCl7YS5MYSYmSGQoYSxcIjBcIik7RmQoYSl9LE1hdGguZmxvb3IoNDVFMykpfWZ1bmN0aW9uIEhkKGEsYil7dHJ5e2EuTGEuc2VuZChiKX1jYXRjaChjKXthLmYoXCJFeGNlcHRpb24gdGhyb3duIGZyb20gV2ViU29ja2V0LnNlbmQoKTpcIixjLm1lc3NhZ2V8fGMuZGF0YSxcIkNsb3NpbmcgY29ubmVjdGlvbi5cIiksc2V0VGltZW91dChyKGEuZmIsYSksMCl9fTtmdW5jdGlvbiBJZCgpe3RoaXMuaGI9e319XG5mdW5jdGlvbiBKZChhLGIpe3ZhciBjPWIudHlwZSxkPWIuWmE7SChcImNoaWxkX2FkZGVkXCI9PWN8fFwiY2hpbGRfY2hhbmdlZFwiPT1jfHxcImNoaWxkX3JlbW92ZWRcIj09YyxcIk9ubHkgY2hpbGQgY2hhbmdlcyBzdXBwb3J0ZWQgZm9yIHRyYWNraW5nXCIpO0goXCIucHJpb3JpdHlcIiE9PWQsXCJPbmx5IG5vbi1wcmlvcml0eSBjaGlsZCBjaGFuZ2VzIGNhbiBiZSB0cmFja2VkLlwiKTt2YXIgZT14KGEuaGIsZCk7aWYoZSl7dmFyIGY9ZS50eXBlO2lmKFwiY2hpbGRfYWRkZWRcIj09YyYmXCJjaGlsZF9yZW1vdmVkXCI9PWYpYS5oYltkXT1uZXcgSShcImNoaWxkX2NoYW5nZWRcIixiLk1hLGQsZS5NYSk7ZWxzZSBpZihcImNoaWxkX3JlbW92ZWRcIj09YyYmXCJjaGlsZF9hZGRlZFwiPT1mKWRlbGV0ZSBhLmhiW2RdO2Vsc2UgaWYoXCJjaGlsZF9yZW1vdmVkXCI9PWMmJlwiY2hpbGRfY2hhbmdlZFwiPT1mKWEuaGJbZF09bmV3IEkoXCJjaGlsZF9yZW1vdmVkXCIsZS5xZSxkKTtlbHNlIGlmKFwiY2hpbGRfY2hhbmdlZFwiPT1jJiZcblwiY2hpbGRfYWRkZWRcIj09ZilhLmhiW2RdPW5ldyBJKFwiY2hpbGRfYWRkZWRcIixiLk1hLGQpO2Vsc2UgaWYoXCJjaGlsZF9jaGFuZ2VkXCI9PWMmJlwiY2hpbGRfY2hhbmdlZFwiPT1mKWEuaGJbZF09bmV3IEkoXCJjaGlsZF9jaGFuZ2VkXCIsYi5NYSxkLGUucWUpO2Vsc2UgdGhyb3cgU2MoXCJJbGxlZ2FsIGNvbWJpbmF0aW9uIG9mIGNoYW5nZXM6IFwiK2IrXCIgb2NjdXJyZWQgYWZ0ZXIgXCIrZSk7fWVsc2UgYS5oYltkXT1ifTtmdW5jdGlvbiBLZChhKXt0aGlzLlc9YTt0aGlzLmc9YS5uLmd9ZnVuY3Rpb24gTGQoYSxiLGMsZCl7dmFyIGU9W10sZj1bXTtKYShiLGZ1bmN0aW9uKGIpe1wiY2hpbGRfY2hhbmdlZFwiPT09Yi50eXBlJiZhLmcubmQoYi5xZSxiLk1hKSYmZi5wdXNoKG5ldyBJKFwiY2hpbGRfbW92ZWRcIixiLk1hLGIuWmEpKX0pO01kKGEsZSxcImNoaWxkX3JlbW92ZWRcIixiLGQsYyk7TWQoYSxlLFwiY2hpbGRfYWRkZWRcIixiLGQsYyk7TWQoYSxlLFwiY2hpbGRfbW92ZWRcIixmLGQsYyk7TWQoYSxlLFwiY2hpbGRfY2hhbmdlZFwiLGIsZCxjKTtNZChhLGUsQ2MsYixkLGMpO3JldHVybiBlfWZ1bmN0aW9uIE1kKGEsYixjLGQsZSxmKXtkPUthKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PWN9KTtTYShkLHIoYS5PZixhKSk7SmEoZCxmdW5jdGlvbihjKXt2YXIgZD1OZChhLGMsZik7SmEoZSxmdW5jdGlvbihlKXtlLnRmKGMudHlwZSkmJmIucHVzaChlLmNyZWF0ZUV2ZW50KGQsYS5XKSl9KX0pfVxuZnVuY3Rpb24gTmQoYSxiLGMpe1widmFsdWVcIiE9PWIudHlwZSYmXCJjaGlsZF9yZW1vdmVkXCIhPT1iLnR5cGUmJihiLkRkPWMuWmUoYi5aYSxiLk1hLGEuZykpO3JldHVybiBifUtkLnByb3RvdHlwZS5PZj1mdW5jdGlvbihhLGIpe2lmKG51bGw9PWEuWmF8fG51bGw9PWIuWmEpdGhyb3cgU2MoXCJTaG91bGQgb25seSBjb21wYXJlIGNoaWxkXyBldmVudHMuXCIpO3JldHVybiB0aGlzLmcuY29tcGFyZShuZXcgSyhhLlphLGEuTWEpLG5ldyBLKGIuWmEsYi5NYSkpfTtmdW5jdGlvbiBPZChhLGIpe3RoaXMuU2Q9YTt0aGlzLk1mPWJ9ZnVuY3Rpb24gUGQoYSl7dGhpcy5WPWF9XG5QZC5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bmV3IElkLGY7aWYoYi50eXBlPT09YWMpYi5zb3VyY2UuZWU/Yz1RZCh0aGlzLGEsYi5wYXRoLGIuSmEsYyxkLGUpOihIKGIuc291cmNlLldlLFwiVW5rbm93biBzb3VyY2UuXCIpLGY9Yi5zb3VyY2UuRWV8fEVjKGEudygpKSYmIWIucGF0aC5lKCksYz1SZCh0aGlzLGEsYi5wYXRoLGIuSmEsYyxkLGYsZSkpO2Vsc2UgaWYoYi50eXBlPT09d2QpYi5zb3VyY2UuZWU/Yz1TZCh0aGlzLGEsYi5wYXRoLGIuY2hpbGRyZW4sYyxkLGUpOihIKGIuc291cmNlLldlLFwiVW5rbm93biBzb3VyY2UuXCIpLGY9Yi5zb3VyY2UuRWV8fEVjKGEudygpKSxjPVRkKHRoaXMsYSxiLnBhdGgsYi5jaGlsZHJlbixjLGQsZixlKSk7ZWxzZSBpZihiLnR5cGU9PT1VZClpZihiLklkKWlmKGI9Yi5wYXRoLG51bGwhPWMubWMoYikpYz1hO2Vsc2V7Zj1uZXcgeGMoYyxhLGQpO2Q9YS5PLmooKTtpZihiLmUoKXx8XCIucHJpb3JpdHlcIj09PUooYikpRGMoYS53KCkpP1xuYj1jLkJhKEFjKGEpKTooYj1hLncoKS5qKCksSChiIGluc3RhbmNlb2YgUCxcInNlcnZlckNoaWxkcmVuIHdvdWxkIGJlIGNvbXBsZXRlIGlmIGxlYWYgbm9kZVwiKSxiPWMuc2MoYikpLGI9dGhpcy5WLnphKGQsYixlKTtlbHNle3ZhciBoPUooYiksaz1jLnJjKGgsYS53KCkpO251bGw9PWsmJnljKGEudygpLGgpJiYoaz1kLlIoaCkpO2I9bnVsbCE9az90aGlzLlYuRihkLGgsayxEKGIpLGYsZSk6YS5PLmooKS5GYShoKT90aGlzLlYuRihkLGgsRixEKGIpLGYsZSk6ZDtiLmUoKSYmRGMoYS53KCkpJiYoZD1jLkJhKEFjKGEpKSxkLkooKSYmKGI9dGhpcy5WLnphKGIsZCxlKSkpfWQ9RGMoYS53KCkpfHxudWxsIT1jLm1jKEMpO2M9VmQoYSxiLGQsdGhpcy5WLlFhKCkpfWVsc2UgYz1XZCh0aGlzLGEsYi5wYXRoLGIuUGIsYyxkLGUpO2Vsc2UgaWYoYi50eXBlPT09Y2MpZD1iLnBhdGgsYj1hLncoKSxmPWIuaigpLGg9Yi5lYXx8ZC5lKCksYz1YZCh0aGlzLG5ldyBZZChhLk8sbmV3IHpjKGYsXG5oLGIuVGIpKSxkLGMsd2MsZSk7ZWxzZSB0aHJvdyBTYyhcIlVua25vd24gb3BlcmF0aW9uIHR5cGU6IFwiK2IudHlwZSk7ZT1zYShlLmhiKTtkPWM7Yj1kLk87Yi5lYSYmKGY9Yi5qKCkuSigpfHxiLmooKS5lKCksaD1aZChhKSwoMDxlLmxlbmd0aHx8IWEuTy5lYXx8ZiYmIWIuaigpLiQoaCl8fCFiLmooKS5DKCkuJChoLkMoKSkpJiZlLnB1c2goQmMoWmQoZCkpKSk7cmV0dXJuIG5ldyBPZChjLGUpfTtcbmZ1bmN0aW9uIFhkKGEsYixjLGQsZSxmKXt2YXIgaD1iLk87aWYobnVsbCE9ZC5tYyhjKSlyZXR1cm4gYjt2YXIgaztpZihjLmUoKSlIKERjKGIudygpKSxcIklmIGNoYW5nZSBwYXRoIGlzIGVtcHR5LCB3ZSBtdXN0IGhhdmUgY29tcGxldGUgc2VydmVyIGRhdGFcIiksRWMoYi53KCkpPyhlPUFjKGIpLGQ9ZC5zYyhlIGluc3RhbmNlb2YgUD9lOkYpKTpkPWQuQmEoQWMoYikpLGY9YS5WLnphKGIuTy5qKCksZCxmKTtlbHNle3ZhciBtPUooYyk7aWYoXCIucHJpb3JpdHlcIj09bSlIKDE9PSRkKGMpLFwiQ2FuJ3QgaGF2ZSBhIHByaW9yaXR5IHdpdGggYWRkaXRpb25hbCBwYXRoIGNvbXBvbmVudHNcIiksZj1oLmooKSxrPWIudygpLmooKSxkPWQuJGMoYyxmLGspLGY9bnVsbCE9ZD9hLlYuZ2EoZixkKTpoLmooKTtlbHNle3ZhciBsPUQoYyk7eWMoaCxtKT8oaz1iLncoKS5qKCksZD1kLiRjKGMsaC5qKCksayksZD1udWxsIT1kP2guaigpLlIobSkuRihsLGQpOmguaigpLlIobSkpOmQ9ZC5yYyhtLFxuYi53KCkpO2Y9bnVsbCE9ZD9hLlYuRihoLmooKSxtLGQsbCxlLGYpOmguaigpfX1yZXR1cm4gVmQoYixmLGguZWF8fGMuZSgpLGEuVi5RYSgpKX1mdW5jdGlvbiBSZChhLGIsYyxkLGUsZixoLGspe3ZhciBtPWIudygpO2g9aD9hLlY6YS5WLlZiKCk7aWYoYy5lKCkpZD1oLnphKG0uaigpLGQsbnVsbCk7ZWxzZSBpZihoLlFhKCkmJiFtLlRiKWQ9bS5qKCkuRihjLGQpLGQ9aC56YShtLmooKSxkLG51bGwpO2Vsc2V7dmFyIGw9SihjKTtpZighRmMobSxjKSYmMTwkZChjKSlyZXR1cm4gYjt2YXIgdT1EKGMpO2Q9bS5qKCkuUihsKS5GKHUsZCk7ZD1cIi5wcmlvcml0eVwiPT1sP2guZ2EobS5qKCksZCk6aC5GKG0uaigpLGwsZCx1LHdjLG51bGwpfW09bS5lYXx8Yy5lKCk7Yj1uZXcgWWQoYi5PLG5ldyB6YyhkLG0saC5RYSgpKSk7cmV0dXJuIFhkKGEsYixjLGUsbmV3IHhjKGUsYixmKSxrKX1cbmZ1bmN0aW9uIFFkKGEsYixjLGQsZSxmLGgpe3ZhciBrPWIuTztlPW5ldyB4YyhlLGIsZik7aWYoYy5lKCkpaD1hLlYuemEoYi5PLmooKSxkLGgpLGE9VmQoYixoLCEwLGEuVi5RYSgpKTtlbHNlIGlmKGY9SihjKSxcIi5wcmlvcml0eVwiPT09ZiloPWEuVi5nYShiLk8uaigpLGQpLGE9VmQoYixoLGsuZWEsay5UYik7ZWxzZXtjPUQoYyk7dmFyIG09ay5qKCkuUihmKTtpZighYy5lKCkpe3ZhciBsPWUuWGUoZik7ZD1udWxsIT1sP1wiLnByaW9yaXR5XCI9PT1hZShjKSYmbC5RKGMucGFyZW50KCkpLmUoKT9sOmwuRihjLGQpOkZ9bS4kKGQpP2E9YjooaD1hLlYuRihrLmooKSxmLGQsYyxlLGgpLGE9VmQoYixoLGsuZWEsYS5WLlFhKCkpKX1yZXR1cm4gYX1cbmZ1bmN0aW9uIFNkKGEsYixjLGQsZSxmLGgpe3ZhciBrPWI7YmUoZCxmdW5jdGlvbihkLGwpe3ZhciB1PWMuayhkKTt5YyhiLk8sSih1KSkmJihrPVFkKGEsayx1LGwsZSxmLGgpKX0pO2JlKGQsZnVuY3Rpb24oZCxsKXt2YXIgdT1jLmsoZCk7eWMoYi5PLEoodSkpfHwoaz1RZChhLGssdSxsLGUsZixoKSl9KTtyZXR1cm4ga31mdW5jdGlvbiBjZShhLGIpe2JlKGIsZnVuY3Rpb24oYixkKXthPWEuRihiLGQpfSk7cmV0dXJuIGF9XG5mdW5jdGlvbiBUZChhLGIsYyxkLGUsZixoLGspe2lmKGIudygpLmooKS5lKCkmJiFEYyhiLncoKSkpcmV0dXJuIGI7dmFyIG09YjtjPWMuZSgpP2Q6ZGUoUSxjLGQpO3ZhciBsPWIudygpLmooKTtjLmNoaWxkcmVuLmlhKGZ1bmN0aW9uKGMsZCl7aWYobC5GYShjKSl7dmFyIEc9Yi53KCkuaigpLlIoYyksRz1jZShHLGQpO209UmQoYSxtLG5ldyBMKGMpLEcsZSxmLGgsayl9fSk7Yy5jaGlsZHJlbi5pYShmdW5jdGlvbihjLGQpe3ZhciBHPSF5YyhiLncoKSxjKSYmbnVsbD09ZC52YWx1ZTtsLkZhKGMpfHxHfHwoRz1iLncoKS5qKCkuUihjKSxHPWNlKEcsZCksbT1SZChhLG0sbmV3IEwoYyksRyxlLGYsaCxrKSl9KTtyZXR1cm4gbX1cbmZ1bmN0aW9uIFdkKGEsYixjLGQsZSxmLGgpe2lmKG51bGwhPWUubWMoYykpcmV0dXJuIGI7dmFyIGs9RWMoYi53KCkpLG09Yi53KCk7aWYobnVsbCE9ZC52YWx1ZSl7aWYoYy5lKCkmJm0uZWF8fEZjKG0sYykpcmV0dXJuIFJkKGEsYixjLG0uaigpLlEoYyksZSxmLGssaCk7aWYoYy5lKCkpe3ZhciBsPVE7bS5qKCkuUChlZSxmdW5jdGlvbihhLGIpe2w9bC5zZXQobmV3IEwoYSksYil9KTtyZXR1cm4gVGQoYSxiLGMsbCxlLGYsayxoKX1yZXR1cm4gYn1sPVE7YmUoZCxmdW5jdGlvbihhKXt2YXIgYj1jLmsoYSk7RmMobSxiKSYmKGw9bC5zZXQoYSxtLmooKS5RKGIpKSl9KTtyZXR1cm4gVGQoYSxiLGMsbCxlLGYsayxoKX07ZnVuY3Rpb24gZmUoYSl7dGhpcy5nPWF9Zz1mZS5wcm90b3R5cGU7Zy5GPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtIKGEuemModGhpcy5nKSxcIkEgbm9kZSBtdXN0IGJlIGluZGV4ZWQgaWYgb25seSBhIGNoaWxkIGlzIHVwZGF0ZWRcIik7ZT1hLlIoYik7aWYoZS5RKGQpLiQoYy5RKGQpKSYmZS5lKCk9PWMuZSgpKXJldHVybiBhO251bGwhPWYmJihjLmUoKT9hLkZhKGIpP0pkKGYsbmV3IEkoXCJjaGlsZF9yZW1vdmVkXCIsZSxiKSk6SChhLkooKSxcIkEgY2hpbGQgcmVtb3ZlIHdpdGhvdXQgYW4gb2xkIGNoaWxkIG9ubHkgbWFrZXMgc2Vuc2Ugb24gYSBsZWFmIG5vZGVcIik6ZS5lKCk/SmQoZixuZXcgSShcImNoaWxkX2FkZGVkXCIsYyxiKSk6SmQoZixuZXcgSShcImNoaWxkX2NoYW5nZWRcIixjLGIsZSkpKTtyZXR1cm4gYS5KKCkmJmMuZSgpP2E6YS5VKGIsYykub2IodGhpcy5nKX07XG5nLnphPWZ1bmN0aW9uKGEsYixjKXtudWxsIT1jJiYoYS5KKCl8fGEuUChOLGZ1bmN0aW9uKGEsZSl7Yi5GYShhKXx8SmQoYyxuZXcgSShcImNoaWxkX3JlbW92ZWRcIixlLGEpKX0pLGIuSigpfHxiLlAoTixmdW5jdGlvbihiLGUpe2lmKGEuRmEoYikpe3ZhciBmPWEuUihiKTtmLiQoZSl8fEpkKGMsbmV3IEkoXCJjaGlsZF9jaGFuZ2VkXCIsZSxiLGYpKX1lbHNlIEpkKGMsbmV3IEkoXCJjaGlsZF9hZGRlZFwiLGUsYikpfSkpO3JldHVybiBiLm9iKHRoaXMuZyl9O2cuZ2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5lKCk/RjphLmdhKGIpfTtnLlFhPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2cuVmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZnVuY3Rpb24gZ2UoYSl7dGhpcy5oZT1uZXcgZmUoYS5nKTt0aGlzLmc9YS5nO3ZhciBiO2EubGE/KGI9aGUoYSksYj1hLmcuRmMoaWUoYSksYikpOmI9YS5nLkljKCk7dGhpcy5VYz1iO2Eub2E/KGI9amUoYSksYT1hLmcuRmMoa2UoYSksYikpOmE9YS5nLkdjKCk7dGhpcy53Yz1hfWc9Z2UucHJvdG90eXBlO2cubWF0Y2hlcz1mdW5jdGlvbihhKXtyZXR1cm4gMD49dGhpcy5nLmNvbXBhcmUodGhpcy5VYyxhKSYmMD49dGhpcy5nLmNvbXBhcmUoYSx0aGlzLndjKX07Zy5GPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLm1hdGNoZXMobmV3IEsoYixjKSl8fChjPUYpO3JldHVybiB0aGlzLmhlLkYoYSxiLGMsZCxlLGYpfTtcbmcuemE9ZnVuY3Rpb24oYSxiLGMpe2IuSigpJiYoYj1GKTt2YXIgZD1iLm9iKHRoaXMuZyksZD1kLmdhKEYpLGU9dGhpcztiLlAoTixmdW5jdGlvbihhLGIpe2UubWF0Y2hlcyhuZXcgSyhhLGIpKXx8KGQ9ZC5VKGEsRikpfSk7cmV0dXJuIHRoaXMuaGUuemEoYSxkLGMpfTtnLmdhPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtnLlFhPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2cuVmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZX07ZnVuY3Rpb24gbGUoYSl7dGhpcy50YT1uZXcgZ2UoYSk7dGhpcy5nPWEuZztIKGEueWEsXCJPbmx5IHZhbGlkIGlmIGxpbWl0IGhhcyBiZWVuIHNldFwiKTt0aGlzLnBhPWEucGE7dGhpcy5KYj0hbWUoYSl9Zz1sZS5wcm90b3R5cGU7Zy5GPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLnRhLm1hdGNoZXMobmV3IEsoYixjKSl8fChjPUYpO3JldHVybiBhLlIoYikuJChjKT9hOmEuRmIoKTx0aGlzLnBhP3RoaXMudGEuVmIoKS5GKGEsYixjLGQsZSxmKTpuZSh0aGlzLGEsYixjLGUsZil9O1xuZy56YT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoYi5KKCl8fGIuZSgpKWQ9Ri5vYih0aGlzLmcpO2Vsc2UgaWYoMip0aGlzLnBhPGIuRmIoKSYmYi56Yyh0aGlzLmcpKXtkPUYub2IodGhpcy5nKTtiPXRoaXMuSmI/Yi4kYih0aGlzLnRhLndjLHRoaXMuZyk6Yi5ZYih0aGlzLnRhLlVjLHRoaXMuZyk7Zm9yKHZhciBlPTA7MDxiLlNhLmxlbmd0aCYmZTx0aGlzLnBhOyl7dmFyIGY9UihiKSxoO2lmKGg9dGhpcy5KYj8wPj10aGlzLmcuY29tcGFyZSh0aGlzLnRhLlVjLGYpOjA+PXRoaXMuZy5jb21wYXJlKGYsdGhpcy50YS53YykpZD1kLlUoZi5uYW1lLGYuUyksZSsrO2Vsc2UgYnJlYWt9fWVsc2V7ZD1iLm9iKHRoaXMuZyk7ZD1kLmdhKEYpO3ZhciBrLG0sbDtpZih0aGlzLkpiKXtiPWQuJGUodGhpcy5nKTtrPXRoaXMudGEud2M7bT10aGlzLnRhLlVjO3ZhciB1PW9lKHRoaXMuZyk7bD1mdW5jdGlvbihhLGIpe3JldHVybiB1KGIsYSl9fWVsc2UgYj1kLlhiKHRoaXMuZyksaz10aGlzLnRhLlVjLFxubT10aGlzLnRhLndjLGw9b2UodGhpcy5nKTtmb3IodmFyIGU9MCx6PSExOzA8Yi5TYS5sZW5ndGg7KWY9UihiKSwheiYmMD49bChrLGYpJiYoej0hMCksKGg9eiYmZTx0aGlzLnBhJiYwPj1sKGYsbSkpP2UrKzpkPWQuVShmLm5hbWUsRil9cmV0dXJuIHRoaXMudGEuVmIoKS56YShhLGQsYyl9O2cuZ2E9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O2cuUWE9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Zy5WYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhLlZiKCl9O1xuZnVuY3Rpb24gbmUoYSxiLGMsZCxlLGYpe3ZhciBoO2lmKGEuSmIpe3ZhciBrPW9lKGEuZyk7aD1mdW5jdGlvbihhLGIpe3JldHVybiBrKGIsYSl9fWVsc2UgaD1vZShhLmcpO0goYi5GYigpPT1hLnBhLFwiXCIpO3ZhciBtPW5ldyBLKGMsZCksbD1hLkpiP3BlKGIsYS5nKTpxZShiLGEuZyksdT1hLnRhLm1hdGNoZXMobSk7aWYoYi5GYShjKSl7Zm9yKHZhciB6PWIuUihjKSxsPWUuZmUoYS5nLGwsYS5KYik7bnVsbCE9bCYmKGwubmFtZT09Y3x8Yi5GYShsLm5hbWUpKTspbD1lLmZlKGEuZyxsLGEuSmIpO2U9bnVsbD09bD8xOmgobCxtKTtpZih1JiYhZC5lKCkmJjA8PWUpcmV0dXJuIG51bGwhPWYmJkpkKGYsbmV3IEkoXCJjaGlsZF9jaGFuZ2VkXCIsZCxjLHopKSxiLlUoYyxkKTtudWxsIT1mJiZKZChmLG5ldyBJKFwiY2hpbGRfcmVtb3ZlZFwiLHosYykpO2I9Yi5VKGMsRik7cmV0dXJuIG51bGwhPWwmJmEudGEubWF0Y2hlcyhsKT8obnVsbCE9ZiYmSmQoZixuZXcgSShcImNoaWxkX2FkZGVkXCIsXG5sLlMsbC5uYW1lKSksYi5VKGwubmFtZSxsLlMpKTpifXJldHVybiBkLmUoKT9iOnUmJjA8PWgobCxtKT8obnVsbCE9ZiYmKEpkKGYsbmV3IEkoXCJjaGlsZF9yZW1vdmVkXCIsbC5TLGwubmFtZSkpLEpkKGYsbmV3IEkoXCJjaGlsZF9hZGRlZFwiLGQsYykpKSxiLlUoYyxkKS5VKGwubmFtZSxGKSk6Yn07ZnVuY3Rpb24gUWMoYSxiKXt0aGlzLkI9YTtIKHAodGhpcy5CKSYmbnVsbCE9PXRoaXMuQixcIkxlYWZOb2RlIHNob3VsZG4ndCBiZSBjcmVhdGVkIHdpdGggbnVsbC91bmRlZmluZWQgdmFsdWUuXCIpO3RoaXMuYmE9Ynx8RjtyZSh0aGlzLmJhKTt0aGlzLkViPW51bGx9dmFyIHNlPVtcIm9iamVjdFwiLFwiYm9vbGVhblwiLFwibnVtYmVyXCIsXCJzdHJpbmdcIl07Zz1RYy5wcm90b3R5cGU7Zy5KPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2cuQz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhfTtnLmdhPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgUWModGhpcy5CLGEpfTtnLlI9ZnVuY3Rpb24oYSl7cmV0dXJuXCIucHJpb3JpdHlcIj09PWE/dGhpcy5iYTpGfTtnLlE9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZSgpP3RoaXM6XCIucHJpb3JpdHlcIj09PUooYSk/dGhpcy5iYTpGfTtnLkZhPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2cuWmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07XG5nLlU9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIi5wcmlvcml0eVwiPT09YT90aGlzLmdhKGIpOmIuZSgpJiZcIi5wcmlvcml0eVwiIT09YT90aGlzOkYuVShhLGIpLmdhKHRoaXMuYmEpfTtnLkY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1KKGEpO2lmKG51bGw9PT1jKXJldHVybiBiO2lmKGIuZSgpJiZcIi5wcmlvcml0eVwiIT09YylyZXR1cm4gdGhpcztIKFwiLnByaW9yaXR5XCIhPT1jfHwxPT09JGQoYSksXCIucHJpb3JpdHkgbXVzdCBiZSB0aGUgbGFzdCB0b2tlbiBpbiBhIHBhdGhcIik7cmV0dXJuIHRoaXMuVShjLEYuRihEKGEpLGIpKX07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2cuRmI9ZnVuY3Rpb24oKXtyZXR1cm4gMH07Zy5QPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2cuSD1mdW5jdGlvbihhKXtyZXR1cm4gYSYmIXRoaXMuQygpLmUoKT97XCIudmFsdWVcIjp0aGlzLkVhKCksXCIucHJpb3JpdHlcIjp0aGlzLkMoKS5IKCl9OnRoaXMuRWEoKX07XG5nLmhhc2g9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5FYil7dmFyIGE9XCJcIjt0aGlzLmJhLmUoKXx8KGErPVwicHJpb3JpdHk6XCIrdGUodGhpcy5iYS5IKCkpK1wiOlwiKTt2YXIgYj10eXBlb2YgdGhpcy5CLGE9YSsoYitcIjpcIiksYT1cIm51bWJlclwiPT09Yj9hK2lkKHRoaXMuQik6YSt0aGlzLkI7dGhpcy5FYj1VYyhhKX1yZXR1cm4gdGhpcy5FYn07Zy5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJ9O2cudGM9ZnVuY3Rpb24oYSl7aWYoYT09PUYpcmV0dXJuIDE7aWYoYSBpbnN0YW5jZW9mIFApcmV0dXJuLTE7SChhLkooKSxcIlVua25vd24gbm9kZSB0eXBlXCIpO3ZhciBiPXR5cGVvZiBhLkIsYz10eXBlb2YgdGhpcy5CLGQ9SWEoc2UsYiksZT1JYShzZSxjKTtIKDA8PWQsXCJVbmtub3duIGxlYWYgdHlwZTogXCIrYik7SCgwPD1lLFwiVW5rbm93biBsZWFmIHR5cGU6IFwiK2MpO3JldHVybiBkPT09ZT9cIm9iamVjdFwiPT09Yz8wOnRoaXMuQjxhLkI/LTE6dGhpcy5CPT09YS5CPzA6MTplLWR9O1xuZy5vYj1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtnLnpjPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2cuJD1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXM/ITA6YS5KKCk/dGhpcy5CPT09YS5CJiZ0aGlzLmJhLiQoYS5iYSk6ITF9O2cudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gQih0aGlzLkgoITApKX07ZnVuY3Rpb24gdWUoKXt9dmFyIHZlPXt9O2Z1bmN0aW9uIG9lKGEpe3JldHVybiByKGEuY29tcGFyZSxhKX11ZS5wcm90b3R5cGUubmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMCE9PXRoaXMuY29tcGFyZShuZXcgSyhcIltNSU5fTkFNRV1cIixhKSxuZXcgSyhcIltNSU5fTkFNRV1cIixiKSl9O3VlLnByb3RvdHlwZS5JYz1mdW5jdGlvbigpe3JldHVybiB3ZX07ZnVuY3Rpb24geGUoYSl7SCghYS5lKCkmJlwiLnByaW9yaXR5XCIhPT1KKGEpLFwiQ2FuJ3QgY3JlYXRlIFBhdGhJbmRleCB3aXRoIGVtcHR5IHBhdGggb3IgLnByaW9yaXR5IGtleVwiKTt0aGlzLmNjPWF9a2EoeGUsdWUpO2c9eGUucHJvdG90eXBlO2cueWM9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuUSh0aGlzLmNjKS5lKCl9O2cuY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuUy5RKHRoaXMuY2MpLGQ9Yi5TLlEodGhpcy5jYyksYz1jLnRjKGQpO3JldHVybiAwPT09Yz9IYyhhLm5hbWUsYi5uYW1lKTpjfTtcbmcuRmM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKGEpLGM9Ri5GKHRoaXMuY2MsYyk7cmV0dXJuIG5ldyBLKGIsYyl9O2cuR2M9ZnVuY3Rpb24oKXt2YXIgYT1GLkYodGhpcy5jYyx5ZSk7cmV0dXJuIG5ldyBLKFwiW01BWF9OQU1FXVwiLGEpfTtnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2Muc2xpY2UoKS5qb2luKFwiL1wiKX07ZnVuY3Rpb24gemUoKXt9a2EoemUsdWUpO2c9emUucHJvdG90eXBlO2cuY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuUy5DKCksZD1iLlMuQygpLGM9Yy50YyhkKTtyZXR1cm4gMD09PWM/SGMoYS5uYW1lLGIubmFtZSk6Y307Zy55Yz1mdW5jdGlvbihhKXtyZXR1cm4hYS5DKCkuZSgpfTtnLm5kPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWEuQygpLiQoYi5DKCkpfTtnLkljPWZ1bmN0aW9uKCl7cmV0dXJuIHdlfTtnLkdjPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBLKFwiW01BWF9OQU1FXVwiLG5ldyBRYyhcIltQUklPUklUWS1QT1NUXVwiLHllKSl9O1xuZy5GYz1mdW5jdGlvbihhLGIpe3ZhciBjPU0oYSk7cmV0dXJuIG5ldyBLKGIsbmV3IFFjKFwiW1BSSU9SSVRZLVBPU1RdXCIsYykpfTtnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIucHJpb3JpdHlcIn07dmFyIE49bmV3IHplO2Z1bmN0aW9uIEFlKCl7fWthKEFlLHVlKTtnPUFlLnByb3RvdHlwZTtnLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSGMoYS5uYW1lLGIubmFtZSl9O2cueWM9ZnVuY3Rpb24oKXt0aHJvdyBTYyhcIktleUluZGV4LmlzRGVmaW5lZE9uIG5vdCBleHBlY3RlZCB0byBiZSBjYWxsZWQuXCIpO307Zy5uZD1mdW5jdGlvbigpe3JldHVybiExfTtnLkljPWZ1bmN0aW9uKCl7cmV0dXJuIHdlfTtnLkdjPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBLKFwiW01BWF9OQU1FXVwiLEYpfTtnLkZjPWZ1bmN0aW9uKGEpe0gocShhKSxcIktleUluZGV4IGluZGV4VmFsdWUgbXVzdCBhbHdheXMgYmUgYSBzdHJpbmcuXCIpO3JldHVybiBuZXcgSyhhLEYpfTtnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIua2V5XCJ9O1xudmFyIGVlPW5ldyBBZTtmdW5jdGlvbiBCZSgpe31rYShCZSx1ZSk7Zz1CZS5wcm90b3R5cGU7Zy5jb21wYXJlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5TLnRjKGIuUyk7cmV0dXJuIDA9PT1jP0hjKGEubmFtZSxiLm5hbWUpOmN9O2cueWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Zy5uZD1mdW5jdGlvbihhLGIpe3JldHVybiFhLiQoYil9O2cuSWM9ZnVuY3Rpb24oKXtyZXR1cm4gd2V9O2cuR2M9ZnVuY3Rpb24oKXtyZXR1cm4gQ2V9O2cuRmM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKGEpO3JldHVybiBuZXcgSyhiLGMpfTtnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIudmFsdWVcIn07dmFyIERlPW5ldyBCZTtmdW5jdGlvbiBFZSgpe3RoaXMuU2I9dGhpcy5vYT10aGlzLkxiPXRoaXMubGE9dGhpcy55YT0hMTt0aGlzLnBhPTA7dGhpcy5vYz1cIlwiO3RoaXMuZWM9bnVsbDt0aGlzLkFiPVwiXCI7dGhpcy5iYz1udWxsO3RoaXMueWI9XCJcIjt0aGlzLmc9Tn12YXIgRmU9bmV3IEVlO2Z1bmN0aW9uIG1lKGEpe3JldHVyblwiXCI9PT1hLm9jP2EubGE6XCJsXCI9PT1hLm9jfWZ1bmN0aW9uIGllKGEpe0goYS5sYSxcIk9ubHkgdmFsaWQgaWYgc3RhcnQgaGFzIGJlZW4gc2V0XCIpO3JldHVybiBhLmVjfWZ1bmN0aW9uIGhlKGEpe0goYS5sYSxcIk9ubHkgdmFsaWQgaWYgc3RhcnQgaGFzIGJlZW4gc2V0XCIpO3JldHVybiBhLkxiP2EuQWI6XCJbTUlOX05BTUVdXCJ9ZnVuY3Rpb24ga2UoYSl7SChhLm9hLFwiT25seSB2YWxpZCBpZiBlbmQgaGFzIGJlZW4gc2V0XCIpO3JldHVybiBhLmJjfVxuZnVuY3Rpb24gamUoYSl7SChhLm9hLFwiT25seSB2YWxpZCBpZiBlbmQgaGFzIGJlZW4gc2V0XCIpO3JldHVybiBhLlNiP2EueWI6XCJbTUFYX05BTUVdXCJ9ZnVuY3Rpb24gR2UoYSl7dmFyIGI9bmV3IEVlO2IueWE9YS55YTtiLnBhPWEucGE7Yi5sYT1hLmxhO2IuZWM9YS5lYztiLkxiPWEuTGI7Yi5BYj1hLkFiO2Iub2E9YS5vYTtiLmJjPWEuYmM7Yi5TYj1hLlNiO2IueWI9YS55YjtiLmc9YS5nO3JldHVybiBifWc9RWUucHJvdG90eXBlO2cubmU9ZnVuY3Rpb24oYSl7dmFyIGI9R2UodGhpcyk7Yi55YT0hMDtiLnBhPWE7Yi5vYz1cImxcIjtyZXR1cm4gYn07Zy5vZT1mdW5jdGlvbihhKXt2YXIgYj1HZSh0aGlzKTtiLnlhPSEwO2IucGE9YTtiLm9jPVwiclwiO3JldHVybiBifTtnLk5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9R2UodGhpcyk7Yy5sYT0hMDtwKGEpfHwoYT1udWxsKTtjLmVjPWE7bnVsbCE9Yj8oYy5MYj0hMCxjLkFiPWIpOihjLkxiPSExLGMuQWI9XCJcIik7cmV0dXJuIGN9O1xuZy5mZD1mdW5jdGlvbihhLGIpe3ZhciBjPUdlKHRoaXMpO2Mub2E9ITA7cChhKXx8KGE9bnVsbCk7Yy5iYz1hO3AoYik/KGMuU2I9ITAsYy55Yj1iKTooYy5IZz0hMSxjLnliPVwiXCIpO3JldHVybiBjfTtmdW5jdGlvbiBIZShhLGIpe3ZhciBjPUdlKGEpO2MuZz1iO3JldHVybiBjfWZ1bmN0aW9uIEllKGEpe3ZhciBiPXt9O2EubGEmJihiLnNwPWEuZWMsYS5MYiYmKGIuc249YS5BYikpO2Eub2EmJihiLmVwPWEuYmMsYS5TYiYmKGIuZW49YS55YikpO2lmKGEueWEpe2IubD1hLnBhO3ZhciBjPWEub2M7XCJcIj09PWMmJihjPW1lKGEpP1wibFwiOlwiclwiKTtiLnZmPWN9YS5nIT09TiYmKGIuaT1hLmcudG9TdHJpbmcoKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gUyhhKXtyZXR1cm4hKGEubGF8fGEub2F8fGEueWEpfWZ1bmN0aW9uIHJkKGEpe3JldHVybiBTKGEpJiZhLmc9PU59XG5mdW5jdGlvbiBzZChhKXt2YXIgYj17fTtpZihyZChhKSlyZXR1cm4gYjt2YXIgYzthLmc9PT1OP2M9XCIkcHJpb3JpdHlcIjphLmc9PT1EZT9jPVwiJHZhbHVlXCI6YS5nPT09ZWU/Yz1cIiRrZXlcIjooSChhLmcgaW5zdGFuY2VvZiB4ZSxcIlVucmVjb2duaXplZCBpbmRleCB0eXBlIVwiKSxjPWEuZy50b1N0cmluZygpKTtiLm9yZGVyQnk9QihjKTthLmxhJiYoYi5zdGFydEF0PUIoYS5lYyksYS5MYiYmKGIuc3RhcnRBdCs9XCIsXCIrQihhLkFiKSkpO2Eub2EmJihiLmVuZEF0PUIoYS5iYyksYS5TYiYmKGIuZW5kQXQrPVwiLFwiK0IoYS55YikpKTthLnlhJiYobWUoYSk/Yi5saW1pdFRvRmlyc3Q9YS5wYTpiLmxpbWl0VG9MYXN0PWEucGEpO3JldHVybiBifWcudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gQihJZSh0aGlzKSl9O2Z1bmN0aW9uIEplKGEsYil7dGhpcy5vZD1hO3RoaXMuZGM9Yn1KZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXgodGhpcy5vZCxhKTtpZighYil0aHJvdyBFcnJvcihcIk5vIGluZGV4IGRlZmluZWQgZm9yIFwiK2EpO3JldHVybiBiPT09dmU/bnVsbDpifTtmdW5jdGlvbiBLZShhLGIsYyl7dmFyIGQ9b2EoYS5vZCxmdW5jdGlvbihkLGYpe3ZhciBoPXgoYS5kYyxmKTtIKGgsXCJNaXNzaW5nIGluZGV4IGltcGxlbWVudGF0aW9uIGZvciBcIitmKTtpZihkPT09dmUpe2lmKGgueWMoYi5TKSl7Zm9yKHZhciBrPVtdLG09Yy5YYihKYyksbD1SKG0pO2w7KWwubmFtZSE9Yi5uYW1lJiZrLnB1c2gobCksbD1SKG0pO2sucHVzaChiKTtyZXR1cm4gTGUoayxvZShoKSl9cmV0dXJuIHZlfWg9Yy5nZXQoYi5uYW1lKTtrPWQ7aCYmKGs9ay5yZW1vdmUobmV3IEsoYi5uYW1lLGgpKSk7cmV0dXJuIGsuUmEoYixiLlMpfSk7cmV0dXJuIG5ldyBKZShkLGEuZGMpfVxuZnVuY3Rpb24gTWUoYSxiLGMpe3ZhciBkPW9hKGEub2QsZnVuY3Rpb24oYSl7aWYoYT09PXZlKXJldHVybiBhO3ZhciBkPWMuZ2V0KGIubmFtZSk7cmV0dXJuIGQ/YS5yZW1vdmUobmV3IEsoYi5uYW1lLGQpKTphfSk7cmV0dXJuIG5ldyBKZShkLGEuZGMpfXZhciBOZT1uZXcgSmUoe1wiLnByaW9yaXR5XCI6dmV9LHtcIi5wcmlvcml0eVwiOk59KTtmdW5jdGlvbiBPZSgpe3RoaXMuc2V0PXt9fWc9T2UucHJvdG90eXBlO2cuYWRkPWZ1bmN0aW9uKGEsYil7dGhpcy5zZXRbYV09bnVsbCE9PWI/YjohMH07Zy5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gQmIodGhpcy5zZXQsYSl9O2cuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnRhaW5zKGEpP3RoaXMuc2V0W2FdOnZvaWQgMH07Zy5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMuc2V0W2FdfTtnLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5zZXQ9e319O2cuZT1mdW5jdGlvbigpe3JldHVybiB4YSh0aGlzLnNldCl9O2cuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcWEodGhpcy5zZXQpfTtmdW5jdGlvbiBQZShhLGIpe3QoYS5zZXQsZnVuY3Rpb24oYSxkKXtiKGQsYSl9KX1nLmtleXM9ZnVuY3Rpb24oKXt2YXIgYT1bXTt0KHRoaXMuc2V0LGZ1bmN0aW9uKGIsYyl7YS5wdXNoKGMpfSk7cmV0dXJuIGF9O2Z1bmN0aW9uIFFlKGEsYixjLGQpe3RoaXMuWmQ9YTt0aGlzLmY9WWMoYSk7dGhpcy5rYz1iO3RoaXMucWI9dGhpcy5yYj0wO3RoaXMuWGE9QWQoYik7dGhpcy5CZj1jO3RoaXMueGM9ITE7dGhpcy5EYj1kO3RoaXMuWWM9ZnVuY3Rpb24oYSl7cmV0dXJuIGljKGIsXCJsb25nX3BvbGxpbmdcIixhKX19dmFyIFJlLFNlO1xuUWUucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiKXt0aGlzLlFlPTA7dGhpcy5qYT1iO3RoaXMuZmY9bmV3IFJiKGEpO3RoaXMuQmI9ITE7dmFyIGM9dGhpczt0aGlzLnRiPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmYoXCJUaW1lZCBvdXQgdHJ5aW5nIHRvIGNvbm5lY3QuXCIpO2MuZmIoKTtjLnRiPW51bGx9LE1hdGguZmxvb3IoM0U0KSk7Y2QoZnVuY3Rpb24oKXtpZighYy5CYil7Yy5XYT1uZXcgVGUoZnVuY3Rpb24oYSxiLGQsayxtKXtVZShjLGFyZ3VtZW50cyk7aWYoYy5XYSlpZihjLnRiJiYoY2xlYXJUaW1lb3V0KGMudGIpLGMudGI9bnVsbCksYy54Yz0hMCxcInN0YXJ0XCI9PWEpYy5pZD1iLGMubWY9ZDtlbHNlIGlmKFwiY2xvc2VcIj09PWEpYj8oYy5XYS5LZD0hMSxTYihjLmZmLGIsZnVuY3Rpb24oKXtjLmZiKCl9KSk6Yy5mYigpO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbnJlY29nbml6ZWQgY29tbWFuZCByZWNlaXZlZDogXCIrYSk7fSxmdW5jdGlvbihhLGIpe1VlKGMsYXJndW1lbnRzKTtcblRiKGMuZmYsYSxiKX0sZnVuY3Rpb24oKXtjLmZiKCl9LGMuWWMpO3ZhciBhPXtzdGFydDpcInRcIn07YS5zZXI9TWF0aC5mbG9vcigxRTgqTWF0aC5yYW5kb20oKSk7Yy5XYS5RZCYmKGEuY2I9Yy5XYS5RZCk7YS52PVwiNVwiO2MuQmYmJihhLnM9Yy5CZik7Yy5EYiYmKGEubHM9Yy5EYik7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24uaHJlZiYmLTEhPT1sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJmaXJlYmFzZWlvLmNvbVwiKSYmKGEucj1cImZcIik7YT1jLlljKGEpO2MuZihcIkNvbm5lY3RpbmcgdmlhIGxvbmctcG9sbCB0byBcIithKTtWZShjLldhLGEsZnVuY3Rpb24oKXt9KX19KX07XG5RZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLldhLGI9dGhpcy5tZjthLmZnPXRoaXMuaWQ7YS5nZz1iO2ZvcihhLlVkPSEwO1dlKGEpOyk7YT10aGlzLmlkO2I9dGhpcy5tZjt0aGlzLmdjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7dmFyIGM9e2RmcmFtZTpcInRcIn07Yy5pZD1hO2MucHc9Yjt0aGlzLmdjLnNyYz10aGlzLlljKGMpO3RoaXMuZ2Muc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZ2MpfTtcblFlLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIFJlfHwhU2UmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQmJm51bGwhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQmJiEoXCJvYmplY3RcIj09PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jaHJvbWUmJndpbmRvdy5jaHJvbWUuZXh0ZW5zaW9uJiYhL15jaHJvbWUvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYpKSYmIShcIm9iamVjdFwiPT09dHlwZW9mIFdpbmRvd3MmJlwib2JqZWN0XCI9PT10eXBlb2YgV2luZG93cy5EZykmJiEwfTtnPVFlLnByb3RvdHlwZTtnLnNkPWZ1bmN0aW9uKCl7fTtnLlRjPWZ1bmN0aW9uKCl7dGhpcy5CYj0hMDt0aGlzLldhJiYodGhpcy5XYS5jbG9zZSgpLHRoaXMuV2E9bnVsbCk7dGhpcy5nYyYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5nYyksdGhpcy5nYz1udWxsKTt0aGlzLnRiJiYoY2xlYXJUaW1lb3V0KHRoaXMudGIpLHRoaXMudGI9bnVsbCl9O1xuZy5mYj1mdW5jdGlvbigpe3RoaXMuQmJ8fCh0aGlzLmYoXCJMb25ncG9sbCBpcyBjbG9zaW5nIGl0c2VsZlwiKSx0aGlzLlRjKCksdGhpcy5qYSYmKHRoaXMuamEodGhpcy54YyksdGhpcy5qYT1udWxsKSl9O2cuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLkJifHwodGhpcy5mKFwiTG9uZ3BvbGwgaXMgYmVpbmcgY2xvc2VkLlwiKSx0aGlzLlRjKCkpfTtnLnNlbmQ9ZnVuY3Rpb24oYSl7YT1CKGEpO3RoaXMucmIrPWEubGVuZ3RoO2tjKHRoaXMuWGEsXCJieXRlc19zZW50XCIsYS5sZW5ndGgpO2E9TWIoYSk7YT1hYihhLCEwKTthPWdkKGEsMTg0MCk7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuV2E7Yy5RYy5wdXNoKHt1Zzp0aGlzLlFlLEJnOmEubGVuZ3RoLFNlOmFbYl19KTtjLlVkJiZXZShjKTt0aGlzLlFlKyt9fTtmdW5jdGlvbiBVZShhLGIpe3ZhciBjPUIoYikubGVuZ3RoO2EucWIrPWM7a2MoYS5YYSxcImJ5dGVzX3JlY2VpdmVkXCIsYyl9XG5mdW5jdGlvbiBUZShhLGIsYyxkKXt0aGlzLlljPWQ7dGhpcy5rYj1jO3RoaXMudmU9bmV3IE9lO3RoaXMuUWM9W107dGhpcy4kZD1NYXRoLmZsb29yKDFFOCpNYXRoLnJhbmRvbSgpKTt0aGlzLktkPSEwO3RoaXMuUWQ9UmMoKTt3aW5kb3dbXCJwTFBDb21tYW5kXCIrdGhpcy5RZF09YTt3aW5kb3dbXCJwUlRMUENCXCIrdGhpcy5RZF09YjthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7YS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2lmKGRvY3VtZW50LmJvZHkpe2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7dHJ5e2EuY29udGVudFdpbmRvdy5kb2N1bWVudHx8RShcIk5vIElFIGRvbWFpbiBzZXR0aW5nIHJlcXVpcmVkXCIpfWNhdGNoKGUpe2Euc3JjPVwiamF2YXNjcmlwdDp2b2lkKChmdW5jdGlvbigpe2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49J1wiK2RvY3VtZW50LmRvbWFpbitcIic7ZG9jdW1lbnQuY2xvc2UoKTt9KSgpKVwifX1lbHNlIHRocm93XCJEb2N1bWVudCBib2R5IGhhcyBub3QgaW5pdGlhbGl6ZWQuIFdhaXQgdG8gaW5pdGlhbGl6ZSBGaXJlYmFzZSB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXCI7XG5hLmNvbnRlbnREb2N1bWVudD9hLmliPWEuY29udGVudERvY3VtZW50OmEuY29udGVudFdpbmRvdz9hLmliPWEuY29udGVudFdpbmRvdy5kb2N1bWVudDphLmRvY3VtZW50JiYoYS5pYj1hLmRvY3VtZW50KTt0aGlzLkdhPWE7YT1cIlwiO3RoaXMuR2Euc3JjJiZcImphdmFzY3JpcHQ6XCI9PT10aGlzLkdhLnNyYy5zdWJzdHIoMCwxMSkmJihhPSc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj1cIicrZG9jdW1lbnQuZG9tYWluKydcIjtcXHgzYy9zY3JpcHQ+Jyk7YT1cIjxodG1sPjxib2R5PlwiK2ErXCI8L2JvZHk+PC9odG1sPlwiO3RyeXt0aGlzLkdhLmliLm9wZW4oKSx0aGlzLkdhLmliLndyaXRlKGEpLHRoaXMuR2EuaWIuY2xvc2UoKX1jYXRjaChmKXtFKFwiZnJhbWUgd3JpdGluZyBleGNlcHRpb25cIiksZi5zdGFjayYmRShmLnN0YWNrKSxFKGYpfX1cblRlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuVWQ9ITE7aWYodGhpcy5HYSl7dGhpcy5HYS5pYi5ib2R5LmlubmVySFRNTD1cIlwiO3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe251bGwhPT1hLkdhJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhLkdhKSxhLkdhPW51bGwpfSxNYXRoLmZsb29yKDApKX12YXIgYj10aGlzLmtiO2ImJih0aGlzLmtiPW51bGwsYigpKX07XG5mdW5jdGlvbiBXZShhKXtpZihhLlVkJiZhLktkJiZhLnZlLmNvdW50KCk8KDA8YS5RYy5sZW5ndGg/MjoxKSl7YS4kZCsrO3ZhciBiPXt9O2IuaWQ9YS5mZztiLnB3PWEuZ2c7Yi5zZXI9YS4kZDtmb3IodmFyIGI9YS5ZYyhiKSxjPVwiXCIsZD0wOzA8YS5RYy5sZW5ndGg7KWlmKDE4NzA+PWEuUWNbMF0uU2UubGVuZ3RoKzMwK2MubGVuZ3RoKXt2YXIgZT1hLlFjLnNoaWZ0KCksYz1jK1wiJnNlZ1wiK2QrXCI9XCIrZS51ZytcIiZ0c1wiK2QrXCI9XCIrZS5CZytcIiZkXCIrZCtcIj1cIitlLlNlO2QrK31lbHNlIGJyZWFrO1hlKGEsYitjLGEuJGQpO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIFhlKGEsYixjKXtmdW5jdGlvbiBkKCl7YS52ZS5yZW1vdmUoYyk7V2UoYSl9YS52ZS5hZGQoYywxKTt2YXIgZT1zZXRUaW1lb3V0KGQsTWF0aC5mbG9vcigyNUUzKSk7VmUoYSxiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpO2QoKX0pfVxuZnVuY3Rpb24gVmUoYSxiLGMpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7aWYoYS5LZCl7dmFyIGQ9YS5HYS5pYi5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2QudHlwZT1cInRleHQvamF2YXNjcmlwdFwiO2QuYXN5bmM9ITA7ZC5zcmM9YjtkLm9ubG9hZD1kLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciBhPWQucmVhZHlTdGF0ZTthJiZcImxvYWRlZFwiIT09YSYmXCJjb21wbGV0ZVwiIT09YXx8KGQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCksYygpKX07ZC5vbmVycm9yPWZ1bmN0aW9uKCl7RShcIkxvbmctcG9sbCBzY3JpcHQgZmFpbGVkIHRvIGxvYWQ6IFwiK2IpO2EuS2Q9ITE7YS5jbG9zZSgpfTthLkdhLmliLmJvZHkuYXBwZW5kQ2hpbGQoZCl9fWNhdGNoKGUpe319LE1hdGguZmxvb3IoMSkpfTtmdW5jdGlvbiBZZShhKXtaZSh0aGlzLGEpfXZhciAkZT1bUWUsRGRdO2Z1bmN0aW9uIFplKGEsYil7dmFyIGM9RGQmJkRkLmlzQXZhaWxhYmxlKCksZD1jJiYhKFliLmNmfHwhMD09PVliLmdldChcInByZXZpb3VzX3dlYnNvY2tldF9mYWlsdXJlXCIpKTtiLkNnJiYoY3x8TyhcIndzczovLyBVUkwgdXNlZCwgYnV0IGJyb3dzZXIgaXNuJ3Qga25vd24gdG8gc3VwcG9ydCB3ZWJzb2NrZXRzLiAgVHJ5aW5nIGFueXdheS5cIiksZD0hMCk7aWYoZClhLldjPVtEZF07ZWxzZXt2YXIgZT1hLldjPVtdO2hkKCRlLGZ1bmN0aW9uKGEsYil7YiYmYi5pc0F2YWlsYWJsZSgpJiZlLnB1c2goYil9KX19ZnVuY3Rpb24gYWYoYSl7aWYoMDxhLldjLmxlbmd0aClyZXR1cm4gYS5XY1swXTt0aHJvdyBFcnJvcihcIk5vIHRyYW5zcG9ydHMgYXZhaWxhYmxlXCIpO307ZnVuY3Rpb24gYmYoYSxiLGMsZCxlLGYsaCl7dGhpcy5pZD1hO3RoaXMuZj1ZYyhcImM6XCIrdGhpcy5pZCtcIjpcIik7dGhpcy50ZT1jO3RoaXMuTWM9ZDt0aGlzLmphPWU7dGhpcy5zZT1mO3RoaXMuTT1iO3RoaXMuQWQ9W107dGhpcy5PZT0wO3RoaXMuQWY9bmV3IFllKGIpO3RoaXMuTD0wO3RoaXMuRGI9aDt0aGlzLmYoXCJDb25uZWN0aW9uIGNyZWF0ZWRcIik7Y2YodGhpcyl9XG5mdW5jdGlvbiBjZihhKXt2YXIgYj1hZihhLkFmKTthLkk9bmV3IGIoXCJjOlwiK2EuaWQrXCI6XCIrYS5PZSsrLGEuTSx2b2lkIDAsYS5EYik7YS54ZT1iLnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHl8fDA7dmFyIGM9ZGYoYSxhLkkpLGQ9ZWYoYSxhLkkpO2EuWGM9YS5JO2EuUmM9YS5JO2EuRD1udWxsO2EuQ2I9ITE7c2V0VGltZW91dChmdW5jdGlvbigpe2EuSSYmYS5JLm9wZW4oYyxkKX0sTWF0aC5mbG9vcigwKSk7Yj1iLmhlYWx0aHlUaW1lb3V0fHwwOzA8YiYmKGEubWQ9bGQoZnVuY3Rpb24oKXthLm1kPW51bGw7YS5DYnx8KGEuSSYmMTAyNDAwPGEuSS5xYj8oYS5mKFwiQ29ubmVjdGlvbiBleGNlZWRlZCBoZWFsdGh5IHRpbWVvdXQgYnV0IGhhcyByZWNlaXZlZCBcIithLkkucWIrXCIgYnl0ZXMuICBNYXJraW5nIGNvbm5lY3Rpb24gaGVhbHRoeS5cIiksYS5DYj0hMCxhLkkuc2QoKSk6YS5JJiYxMDI0MDxhLkkucmI/YS5mKFwiQ29ubmVjdGlvbiBleGNlZWRlZCBoZWFsdGh5IHRpbWVvdXQgYnV0IGhhcyBzZW50IFwiK1xuYS5JLnJiK1wiIGJ5dGVzLiAgTGVhdmluZyBjb25uZWN0aW9uIGFsaXZlLlwiKTooYS5mKFwiQ2xvc2luZyB1bmhlYWx0aHkgY29ubmVjdGlvbiBhZnRlciB0aW1lb3V0LlwiKSxhLmNsb3NlKCkpKX0sTWF0aC5mbG9vcihiKSkpfWZ1bmN0aW9uIGVmKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2I9PT1hLkk/KGEuST1udWxsLGN8fDAhPT1hLkw/MT09PWEuTCYmYS5mKFwiUmVhbHRpbWUgY29ubmVjdGlvbiBsb3N0LlwiKTooYS5mKFwiUmVhbHRpbWUgY29ubmVjdGlvbiBmYWlsZWQuXCIpLFwicy1cIj09PWEuTS5iYi5zdWJzdHIoMCwyKSYmKFliLnJlbW92ZShcImhvc3Q6XCIrYS5NLmhvc3QpLGEuTS5iYj1hLk0uaG9zdCkpLGEuY2xvc2UoKSk6Yj09PWEuRD8oYS5mKFwiU2Vjb25kYXJ5IGNvbm5lY3Rpb24gbG9zdC5cIiksYz1hLkQsYS5EPW51bGwsYS5YYyE9PWMmJmEuUmMhPT1jfHxhLmNsb3NlKCkpOmEuZihcImNsb3NpbmcgYW4gb2xkIGNvbm5lY3Rpb25cIil9fVxuZnVuY3Rpb24gZGYoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7aWYoMiE9YS5MKWlmKGI9PT1hLlJjKXt2YXIgZD1lZChcInRcIixjKTtjPWVkKFwiZFwiLGMpO2lmKFwiY1wiPT1kKXtpZihkPWVkKFwidFwiLGMpLFwiZFwiaW4gYylpZihjPWMuZCxcImhcIj09PWQpe3ZhciBkPWMudHMsZT1jLnYsZj1jLmg7YS55Zj1jLnM7aGMoYS5NLGYpOzA9PWEuTCYmKGEuSS5zdGFydCgpLGZmKGEsYS5JLGQpLFwiNVwiIT09ZSYmTyhcIlByb3RvY29sIHZlcnNpb24gbWlzbWF0Y2ggZGV0ZWN0ZWRcIiksYz1hLkFmLChjPTE8Yy5XYy5sZW5ndGg/Yy5XY1sxXTpudWxsKSYmZ2YoYSxjKSl9ZWxzZSBpZihcIm5cIj09PWQpe2EuZihcInJlY3ZkIGVuZCB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKTthLlJjPWEuRDtmb3IoYz0wO2M8YS5BZC5sZW5ndGg7KytjKWEud2QoYS5BZFtjXSk7YS5BZD1bXTtoZihhKX1lbHNlXCJzXCI9PT1kPyhhLmYoXCJDb25uZWN0aW9uIHNodXRkb3duIGNvbW1hbmQgcmVjZWl2ZWQuIFNodXR0aW5nIGRvd24uLi5cIiksXG5hLnNlJiYoYS5zZShjKSxhLnNlPW51bGwpLGEuamE9bnVsbCxhLmNsb3NlKCkpOlwiclwiPT09ZD8oYS5mKFwiUmVzZXQgcGFja2V0IHJlY2VpdmVkLiAgTmV3IGhvc3Q6IFwiK2MpLGhjKGEuTSxjKSwxPT09YS5MP2EuY2xvc2UoKTooamYoYSksY2YoYSkpKTpcImVcIj09PWQ/WmMoXCJTZXJ2ZXIgRXJyb3I6IFwiK2MpOlwib1wiPT09ZD8oYS5mKFwiZ290IHBvbmcgb24gcHJpbWFyeS5cIiksa2YoYSksbGYoYSkpOlpjKFwiVW5rbm93biBjb250cm9sIHBhY2tldCBjb21tYW5kOiBcIitkKX1lbHNlXCJkXCI9PWQmJmEud2QoYyl9ZWxzZSBpZihiPT09YS5EKWlmKGQ9ZWQoXCJ0XCIsYyksYz1lZChcImRcIixjKSxcImNcIj09ZClcInRcImluIGMmJihjPWMudCxcImFcIj09PWM/bWYoYSk6XCJyXCI9PT1jPyhhLmYoXCJHb3QgYSByZXNldCBvbiBzZWNvbmRhcnksIGNsb3NpbmcgaXRcIiksYS5ELmNsb3NlKCksYS5YYyE9PWEuRCYmYS5SYyE9PWEuRHx8YS5jbG9zZSgpKTpcIm9cIj09PWMmJihhLmYoXCJnb3QgcG9uZyBvbiBzZWNvbmRhcnkuXCIpLFxuYS54Zi0tLG1mKGEpKSk7ZWxzZSBpZihcImRcIj09ZClhLkFkLnB1c2goYyk7ZWxzZSB0aHJvdyBFcnJvcihcIlVua25vd24gcHJvdG9jb2wgbGF5ZXI6IFwiK2QpO2Vsc2UgYS5mKFwibWVzc2FnZSBvbiBvbGQgY29ubmVjdGlvblwiKX19YmYucHJvdG90eXBlLnZhPWZ1bmN0aW9uKGEpe25mKHRoaXMse3Q6XCJkXCIsZDphfSl9O2Z1bmN0aW9uIGhmKGEpe2EuWGM9PT1hLkQmJmEuUmM9PT1hLkQmJihhLmYoXCJjbGVhbmluZyB1cCBhbmQgcHJvbW90aW5nIGEgY29ubmVjdGlvbjogXCIrYS5ELlpkKSxhLkk9YS5ELGEuRD1udWxsKX1cbmZ1bmN0aW9uIG1mKGEpezA+PWEueGY/KGEuZihcIlNlY29uZGFyeSBjb25uZWN0aW9uIGlzIGhlYWx0aHkuXCIpLGEuQ2I9ITAsYS5ELnNkKCksYS5ELnN0YXJ0KCksYS5mKFwic2VuZGluZyBjbGllbnQgYWNrIG9uIHNlY29uZGFyeVwiKSxhLkQuc2VuZCh7dDpcImNcIixkOnt0OlwiYVwiLGQ6e319fSksYS5mKFwiRW5kaW5nIHRyYW5zbWlzc2lvbiBvbiBwcmltYXJ5XCIpLGEuSS5zZW5kKHt0OlwiY1wiLGQ6e3Q6XCJuXCIsZDp7fX19KSxhLlhjPWEuRCxoZihhKSk6KGEuZihcInNlbmRpbmcgcGluZyBvbiBzZWNvbmRhcnkuXCIpLGEuRC5zZW5kKHt0OlwiY1wiLGQ6e3Q6XCJwXCIsZDp7fX19KSl9YmYucHJvdG90eXBlLndkPWZ1bmN0aW9uKGEpe2tmKHRoaXMpO3RoaXMudGUoYSl9O2Z1bmN0aW9uIGtmKGEpe2EuQ2J8fChhLnhlLS0sMD49YS54ZSYmKGEuZihcIlByaW1hcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLkNiPSEwLGEuSS5zZCgpKSl9XG5mdW5jdGlvbiBnZihhLGIpe2EuRD1uZXcgYihcImM6XCIrYS5pZCtcIjpcIithLk9lKyssYS5NLGEueWYpO2EueGY9Yi5yZXNwb25zZXNSZXF1aXJlZFRvQmVIZWFsdGh5fHwwO2EuRC5vcGVuKGRmKGEsYS5EKSxlZihhLGEuRCkpO2xkKGZ1bmN0aW9uKCl7YS5EJiYoYS5mKFwiVGltZWQgb3V0IHRyeWluZyB0byB1cGdyYWRlLlwiKSxhLkQuY2xvc2UoKSl9LE1hdGguZmxvb3IoNkU0KSl9ZnVuY3Rpb24gZmYoYSxiLGMpe2EuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpO2EuST1iO2EuTD0xO2EuTWMmJihhLk1jKGMsYS55ZiksYS5NYz1udWxsKTswPT09YS54ZT8oYS5mKFwiUHJpbWFyeSBjb25uZWN0aW9uIGlzIGhlYWx0aHkuXCIpLGEuQ2I9ITApOmxkKGZ1bmN0aW9uKCl7bGYoYSl9LE1hdGguZmxvb3IoNUUzKSl9XG5mdW5jdGlvbiBsZihhKXthLkNifHwxIT09YS5MfHwoYS5mKFwic2VuZGluZyBwaW5nIG9uIHByaW1hcnkuXCIpLG5mKGEse3Q6XCJjXCIsZDp7dDpcInBcIixkOnt9fX0pKX1mdW5jdGlvbiBuZihhLGIpe2lmKDEhPT1hLkwpdGhyb3dcIkNvbm5lY3Rpb24gaXMgbm90IGNvbm5lY3RlZFwiO2EuWGMuc2VuZChiKX1iZi5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXsyIT09dGhpcy5MJiYodGhpcy5mKFwiQ2xvc2luZyByZWFsdGltZSBjb25uZWN0aW9uLlwiKSx0aGlzLkw9MixqZih0aGlzKSx0aGlzLmphJiYodGhpcy5qYSgpLHRoaXMuamE9bnVsbCkpfTtmdW5jdGlvbiBqZihhKXthLmYoXCJTaHV0dGluZyBkb3duIGFsbCBjb25uZWN0aW9uc1wiKTthLkkmJihhLkkuY2xvc2UoKSxhLkk9bnVsbCk7YS5EJiYoYS5ELmNsb3NlKCksYS5EPW51bGwpO2EubWQmJihjbGVhclRpbWVvdXQoYS5tZCksYS5tZD1udWxsKX07ZnVuY3Rpb24gTChhLGIpe2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpe3RoaXMubz1hLnNwbGl0KFwiL1wiKTtmb3IodmFyIGM9MCxkPTA7ZDx0aGlzLm8ubGVuZ3RoO2QrKykwPHRoaXMub1tkXS5sZW5ndGgmJih0aGlzLm9bY109dGhpcy5vW2RdLGMrKyk7dGhpcy5vLmxlbmd0aD1jO3RoaXMuWj0wfWVsc2UgdGhpcy5vPWEsdGhpcy5aPWJ9ZnVuY3Rpb24gVChhLGIpe3ZhciBjPUooYSk7aWYobnVsbD09PWMpcmV0dXJuIGI7aWYoYz09PUooYikpcmV0dXJuIFQoRChhKSxEKGIpKTt0aHJvdyBFcnJvcihcIklOVEVSTkFMIEVSUk9SOiBpbm5lclBhdGggKFwiK2IrXCIpIGlzIG5vdCB3aXRoaW4gb3V0ZXJQYXRoIChcIithK1wiKVwiKTt9XG5mdW5jdGlvbiBvZihhLGIpe2Zvcih2YXIgYz1hLnNsaWNlKCksZD1iLnNsaWNlKCksZT0wO2U8Yy5sZW5ndGgmJmU8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1IYyhjW2VdLGRbZV0pO2lmKDAhPT1mKXJldHVybiBmfXJldHVybiBjLmxlbmd0aD09PWQubGVuZ3RoPzA6Yy5sZW5ndGg8ZC5sZW5ndGg/LTE6MX1mdW5jdGlvbiBKKGEpe3JldHVybiBhLlo+PWEuby5sZW5ndGg/bnVsbDphLm9bYS5aXX1mdW5jdGlvbiAkZChhKXtyZXR1cm4gYS5vLmxlbmd0aC1hLlp9ZnVuY3Rpb24gRChhKXt2YXIgYj1hLlo7YjxhLm8ubGVuZ3RoJiZiKys7cmV0dXJuIG5ldyBMKGEubyxiKX1mdW5jdGlvbiBhZShhKXtyZXR1cm4gYS5aPGEuby5sZW5ndGg/YS5vW2Euby5sZW5ndGgtMV06bnVsbH1nPUwucHJvdG90eXBlO1xuZy50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgYT1cIlwiLGI9dGhpcy5aO2I8dGhpcy5vLmxlbmd0aDtiKyspXCJcIiE9PXRoaXMub1tiXSYmKGErPVwiL1wiK3RoaXMub1tiXSk7cmV0dXJuIGF8fFwiL1wifTtnLnNsaWNlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm8uc2xpY2UodGhpcy5aKyhhfHwwKSl9O2cucGFyZW50PWZ1bmN0aW9uKCl7aWYodGhpcy5aPj10aGlzLm8ubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgYT1bXSxiPXRoaXMuWjtiPHRoaXMuby5sZW5ndGgtMTtiKyspYS5wdXNoKHRoaXMub1tiXSk7cmV0dXJuIG5ldyBMKGEsMCl9O1xuZy5rPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPXRoaXMuWjtjPHRoaXMuby5sZW5ndGg7YysrKWIucHVzaCh0aGlzLm9bY10pO2lmKGEgaW5zdGFuY2VvZiBMKWZvcihjPWEuWjtjPGEuby5sZW5ndGg7YysrKWIucHVzaChhLm9bY10pO2Vsc2UgZm9yKGE9YS5zcGxpdChcIi9cIiksYz0wO2M8YS5sZW5ndGg7YysrKTA8YVtjXS5sZW5ndGgmJmIucHVzaChhW2NdKTtyZXR1cm4gbmV3IEwoYiwwKX07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWj49dGhpcy5vLmxlbmd0aH07Zy4kPWZ1bmN0aW9uKGEpe2lmKCRkKHRoaXMpIT09JGQoYSkpcmV0dXJuITE7Zm9yKHZhciBiPXRoaXMuWixjPWEuWjtiPD10aGlzLm8ubGVuZ3RoO2IrKyxjKyspaWYodGhpcy5vW2JdIT09YS5vW2NdKXJldHVybiExO3JldHVybiEwfTtcbmcuY29udGFpbnM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5aLGM9YS5aO2lmKCRkKHRoaXMpPiRkKGEpKXJldHVybiExO2Zvcig7Yjx0aGlzLm8ubGVuZ3RoOyl7aWYodGhpcy5vW2JdIT09YS5vW2NdKXJldHVybiExOysrYjsrK2N9cmV0dXJuITB9O3ZhciBDPW5ldyBMKFwiXCIpO2Z1bmN0aW9uIHBmKGEsYil7dGhpcy5UYT1hLnNsaWNlKCk7dGhpcy5LYT1NYXRoLm1heCgxLHRoaXMuVGEubGVuZ3RoKTt0aGlzLlRlPWI7Zm9yKHZhciBjPTA7Yzx0aGlzLlRhLmxlbmd0aDtjKyspdGhpcy5LYSs9TmIodGhpcy5UYVtjXSk7cWYodGhpcyl9cGYucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oYSl7MDx0aGlzLlRhLmxlbmd0aCYmKHRoaXMuS2ErPTEpO3RoaXMuVGEucHVzaChhKTt0aGlzLkthKz1OYihhKTtxZih0aGlzKX07cGYucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuVGEucG9wKCk7dGhpcy5LYS09TmIoYSk7MDx0aGlzLlRhLmxlbmd0aCYmLS10aGlzLkthfTtcbmZ1bmN0aW9uIHFmKGEpe2lmKDc2ODxhLkthKXRocm93IEVycm9yKGEuVGUrXCJoYXMgYSBrZXkgcGF0aCBsb25nZXIgdGhhbiA3NjggYnl0ZXMgKFwiK2EuS2ErXCIpLlwiKTtpZigzMjxhLlRhLmxlbmd0aCl0aHJvdyBFcnJvcihhLlRlK1wicGF0aCBzcGVjaWZpZWQgZXhjZWVkcyB0aGUgbWF4aW11bSBkZXB0aCB0aGF0IGNhbiBiZSB3cml0dGVuICgzMikgb3Igb2JqZWN0IGNvbnRhaW5zIGEgY3ljbGUgXCIrcmYoYSkpO31mdW5jdGlvbiByZihhKXtyZXR1cm4gMD09YS5UYS5sZW5ndGg/XCJcIjpcImluIHByb3BlcnR5ICdcIithLlRhLmpvaW4oXCIuXCIpK1wiJ1wifTtmdW5jdGlvbiBzZihhKXthIGluc3RhbmNlb2YgdGZ8fCRjKFwiRG9uJ3QgY2FsbCBuZXcgRGF0YWJhc2UoKSBkaXJlY3RseSAtIHBsZWFzZSB1c2UgZmlyZWJhc2UuZGF0YWJhc2UoKS5cIik7dGhpcy51YT1hO3RoaXMuY2E9bmV3IFUoYSxDKTt0aGlzLklOVEVSTkFMPW5ldyB1Zih0aGlzKX12YXIgdmY9e1RJTUVTVEFNUDp7XCIuc3ZcIjpcInRpbWVzdGFtcFwifX07Zz1zZi5wcm90b3R5cGU7Zy5hcHA9bnVsbDtnLnBmPWZ1bmN0aW9uKGEpe3dmKHRoaXMsXCJyZWZcIik7eShcImRhdGFiYXNlLnJlZlwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gcChhKT90aGlzLmNhLmsoYSk6dGhpcy5jYX07XG5nLnJnPWZ1bmN0aW9uKGEpe3dmKHRoaXMsXCJkYXRhYmFzZS5yZWZGcm9tVVJMXCIpO3koXCJkYXRhYmFzZS5yZWZGcm9tVVJMXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO3ZhciBiPWFkKGEpO3hmKFwiZGF0YWJhc2UucmVmRnJvbVVSTFwiLGIpO3ZhciBjPWIua2M7Yy5ob3N0IT09dGhpcy51YS5NLmhvc3QmJiRjKFwiZGF0YWJhc2UucmVmRnJvbVVSTDogSG9zdCBuYW1lIGRvZXMgbm90IG1hdGNoIHRoZSBjdXJyZW50IGRhdGFiYXNlOiAoZm91bmQgXCIrYy5ob3N0K1wiIGJ1dCBleHBlY3RlZCBcIit0aGlzLnVhLk0uaG9zdCtcIilcIik7cmV0dXJuIHRoaXMucGYoYi5wYXRoLnRvU3RyaW5nKCkpfTtmdW5jdGlvbiB3ZihhLGIpe251bGw9PT1hLnVhJiYkYyhcIkNhbm5vdCBjYWxsIFwiK2IrXCIgb24gYSBkZWxldGVkIGRhdGFiYXNlLlwiKX1nLiRmPWZ1bmN0aW9uKCl7eShcImRhdGFiYXNlLmdvT2ZmbGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTt3Zih0aGlzLFwiZ29PZmZsaW5lXCIpO3RoaXMudWEuZWIoKX07XG5nLmFnPWZ1bmN0aW9uKCl7eShcImRhdGFiYXNlLmdvT25saW5lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3dmKHRoaXMsXCJnb09ubGluZVwiKTt0aGlzLnVhLmxjKCl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShzZi5wcm90b3R5cGUsXCJhcHBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWEuYXBwfX0pO2Z1bmN0aW9uIHVmKGEpe3RoaXMuJGE9YX11Zi5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7d2YodGhpcy4kYSxcImRlbGV0ZVwiKTt2YXIgYT15Zi5XYigpLGI9dGhpcy4kYS51YTt4KGEubmIsYi5hcHAubmFtZSkhPT1iJiYkYyhcIkRhdGFiYXNlIFwiK2IuYXBwLm5hbWUrXCIgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkLlwiKTtiLmViKCk7ZGVsZXRlIGEubmJbYi5hcHAubmFtZV07dGhpcy4kYS51YT1udWxsO3RoaXMuJGEuY2E9bnVsbDt0aGlzLiRhPXRoaXMuJGEuSU5URVJOQUw9bnVsbDtyZXR1cm4gZmlyZWJhc2UuUHJvbWlzZS5yZXNvbHZlKCl9O1xuc2YucHJvdG90eXBlLnJlZj1zZi5wcm90b3R5cGUucGY7c2YucHJvdG90eXBlLnJlZkZyb21VUkw9c2YucHJvdG90eXBlLnJnO3NmLnByb3RvdHlwZS5nb09ubGluZT1zZi5wcm90b3R5cGUuYWc7c2YucHJvdG90eXBlLmdvT2ZmbGluZT1zZi5wcm90b3R5cGUuJGY7dWYucHJvdG90eXBlW1wiZGVsZXRlXCJdPXVmLnByb3RvdHlwZS5kZWxldGU7ZnVuY3Rpb24gTWMoKXt0aGlzLm09dGhpcy5CPW51bGx9TWMucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5CKXJldHVybiB0aGlzLkIuUShhKTtpZihhLmUoKXx8bnVsbD09dGhpcy5tKXJldHVybiBudWxsO3ZhciBiPUooYSk7YT1EKGEpO3JldHVybiB0aGlzLm0uY29udGFpbnMoYik/dGhpcy5tLmdldChiKS5maW5kKGEpOm51bGx9O2Z1bmN0aW9uIE9jKGEsYixjKXtpZihiLmUoKSlhLkI9YyxhLm09bnVsbDtlbHNlIGlmKG51bGwhPT1hLkIpYS5CPWEuQi5GKGIsYyk7ZWxzZXtudWxsPT1hLm0mJihhLm09bmV3IE9lKTt2YXIgZD1KKGIpO2EubS5jb250YWlucyhkKXx8YS5tLmFkZChkLG5ldyBNYyk7YT1hLm0uZ2V0KGQpO2I9RChiKTtPYyhhLGIsYyl9fVxuZnVuY3Rpb24gemYoYSxiKXtpZihiLmUoKSlyZXR1cm4gYS5CPW51bGwsYS5tPW51bGwsITA7aWYobnVsbCE9PWEuQil7aWYoYS5CLkooKSlyZXR1cm4hMTt2YXIgYz1hLkI7YS5CPW51bGw7Yy5QKE4sZnVuY3Rpb24oYixjKXtPYyhhLG5ldyBMKGIpLGMpfSk7cmV0dXJuIHpmKGEsYil9cmV0dXJuIG51bGwhPT1hLm0/KGM9SihiKSxiPUQoYiksYS5tLmNvbnRhaW5zKGMpJiZ6ZihhLm0uZ2V0KGMpLGIpJiZhLm0ucmVtb3ZlKGMpLGEubS5lKCk/KGEubT1udWxsLCEwKTohMSk6ITB9ZnVuY3Rpb24gTmMoYSxiLGMpe251bGwhPT1hLkI/YyhiLGEuQik6YS5QKGZ1bmN0aW9uKGEsZSl7dmFyIGY9bmV3IEwoYi50b1N0cmluZygpK1wiL1wiK2EpO05jKGUsZixjKX0pfU1jLnByb3RvdHlwZS5QPWZ1bmN0aW9uKGEpe251bGwhPT10aGlzLm0mJlBlKHRoaXMubSxmdW5jdGlvbihiLGMpe2EoYixjKX0pfTt2YXIgQWY9L1tcXFtcXF0uIyRcXC9cXHUwMDAwLVxcdTAwMUZcXHUwMDdGXS8sQmY9L1tcXFtcXF0uIyRcXHUwMDAwLVxcdTAwMUZcXHUwMDdGXS87ZnVuY3Rpb24gQ2YoYSl7cmV0dXJuIHEoYSkmJjAhPT1hLmxlbmd0aCYmIUFmLnRlc3QoYSl9ZnVuY3Rpb24gRGYoYSl7cmV0dXJuIG51bGw9PT1hfHxxKGEpfHxmYShhKSYmIWJkKGEpfHxoYShhKSYmQmIoYSxcIi5zdlwiKX1mdW5jdGlvbiBFZihhLGIsYyxkKXtkJiYhcChiKXx8RmYoRGIoYSwxLGQpLGIsYyl9XG5mdW5jdGlvbiBGZihhLGIsYyl7YyBpbnN0YW5jZW9mIEwmJihjPW5ldyBwZihjLGEpKTtpZighcChiKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgdW5kZWZpbmVkIFwiK3JmKGMpKTtpZihnYShiKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgYSBmdW5jdGlvbiBcIityZihjKStcIiB3aXRoIGNvbnRlbnRzOiBcIitiLnRvU3RyaW5nKCkpO2lmKGJkKGIpKXRocm93IEVycm9yKGErXCJjb250YWlucyBcIitiLnRvU3RyaW5nKCkrXCIgXCIrcmYoYykpO2lmKHEoYikmJmIubGVuZ3RoPjEwNDg1NzYwLzMmJjEwNDg1NzYwPE5iKGIpKXRocm93IEVycm9yKGErXCJjb250YWlucyBhIHN0cmluZyBncmVhdGVyIHRoYW4gMTA0ODU3NjAgdXRmOCBieXRlcyBcIityZihjKStcIiAoJ1wiK2Iuc3Vic3RyaW5nKDAsNTApK1wiLi4uJylcIik7aWYoaGEoYikpe3ZhciBkPSExLGU9ITE7Q2IoYixmdW5jdGlvbihiLGgpe2lmKFwiLnZhbHVlXCI9PT1iKWQ9ITA7ZWxzZSBpZihcIi5wcmlvcml0eVwiIT09YiYmXCIuc3ZcIiE9PWImJihlPVxuITAsIUNmKGIpKSl0aHJvdyBFcnJvcihhK1wiIGNvbnRhaW5zIGFuIGludmFsaWQga2V5IChcIitiK1wiKSBcIityZihjKSsnLiAgS2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIicpO2MucHVzaChiKTtGZihhLGgsYyk7Yy5wb3AoKX0pO2lmKGQmJmUpdGhyb3cgRXJyb3IoYSsnIGNvbnRhaW5zIFwiLnZhbHVlXCIgY2hpbGQgJytyZihjKStcIiBpbiBhZGRpdGlvbiB0byBhY3R1YWwgY2hpbGRyZW4uXCIpO319XG5mdW5jdGlvbiBHZihhLGIpe3ZhciBjLGQ7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl7ZD1iW2NdO2Zvcih2YXIgZT1kLnNsaWNlKCksZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKChcIi5wcmlvcml0eVwiIT09ZVtmXXx8ZiE9PWUubGVuZ3RoLTEpJiYhQ2YoZVtmXSkpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIGFuIGludmFsaWQga2V5IChcIitlW2ZdK1wiKSBpbiBwYXRoIFwiK2QudG9TdHJpbmcoKSsnLiBLZXlzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3MgYW5kIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIi9cIiwgXCJbXCIsIG9yIFwiXVwiJyk7fWIuc29ydChvZik7ZT1udWxsO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspe2Q9YltjXTtpZihudWxsIT09ZSYmZS5jb250YWlucyhkKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgYSBwYXRoIFwiK2UudG9TdHJpbmcoKStcIiB0aGF0IGlzIGFuY2VzdG9yIG9mIGFub3RoZXIgcGF0aCBcIitkLnRvU3RyaW5nKCkpO2U9ZH19XG5mdW5jdGlvbiBIZihhLGIsYyl7dmFyIGQ9RGIoYSwxLCExKTtpZighaGEoYil8fGRhKGIpKXRocm93IEVycm9yKGQrXCIgbXVzdCBiZSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgY2hpbGRyZW4gdG8gcmVwbGFjZS5cIik7dmFyIGU9W107Q2IoYixmdW5jdGlvbihhLGIpe3ZhciBrPW5ldyBMKGEpO0ZmKGQsYixjLmsoaykpO2lmKFwiLnByaW9yaXR5XCI9PT1hZShrKSYmIURmKGIpKXRocm93IEVycm9yKGQrXCJjb250YWlucyBhbiBpbnZhbGlkIHZhbHVlIGZvciAnXCIray50b1N0cmluZygpK1wiJywgd2hpY2ggbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7ZS5wdXNoKGspfSk7R2YoZCxlKX1cbmZ1bmN0aW9uIElmKGEsYixjKXtpZihiZChjKSl0aHJvdyBFcnJvcihEYihhLGIsITEpK1wiaXMgXCIrYy50b1N0cmluZygpK1wiLCBidXQgbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7aWYoIURmKGMpKXRocm93IEVycm9yKERiKGEsYiwhMSkrXCJtdXN0IGJlIGEgdmFsaWQgRmlyZWJhc2UgcHJpb3JpdHkgKGEgc3RyaW5nLCBmaW5pdGUgbnVtYmVyLCBzZXJ2ZXIgdmFsdWUsIG9yIG51bGwpLlwiKTt9XG5mdW5jdGlvbiBKZihhLGIsYyl7aWYoIWN8fHAoYikpc3dpdGNoKGIpe2Nhc2UgXCJ2YWx1ZVwiOmNhc2UgXCJjaGlsZF9hZGRlZFwiOmNhc2UgXCJjaGlsZF9yZW1vdmVkXCI6Y2FzZSBcImNoaWxkX2NoYW5nZWRcIjpjYXNlIFwiY2hpbGRfbW92ZWRcIjpicmVhaztkZWZhdWx0OnRocm93IEVycm9yKERiKGEsMSxjKSsnbXVzdCBiZSBhIHZhbGlkIGV2ZW50IHR5cGU6IFwidmFsdWVcIiwgXCJjaGlsZF9hZGRlZFwiLCBcImNoaWxkX3JlbW92ZWRcIiwgXCJjaGlsZF9jaGFuZ2VkXCIsIG9yIFwiY2hpbGRfbW92ZWRcIi4nKTt9fWZ1bmN0aW9uIEtmKGEsYil7aWYocChiKSYmIUNmKGIpKXRocm93IEVycm9yKERiKGEsMiwhMCkrJ3dhcyBhbiBpbnZhbGlkIGtleTogXCInK2IrJ1wiLiAgRmlyZWJhc2Uga2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIikuJyk7fVxuZnVuY3Rpb24gTGYoYSxiKXtpZighcShiKXx8MD09PWIubGVuZ3RofHxCZi50ZXN0KGIpKXRocm93IEVycm9yKERiKGEsMSwhMSkrJ3dhcyBhbiBpbnZhbGlkIHBhdGg6IFwiJytiKydcIi4gUGF0aHMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiW1wiLCBvciBcIl1cIicpO31mdW5jdGlvbiBNZihhLGIpe2lmKFwiLmluZm9cIj09PUooYikpdGhyb3cgRXJyb3IoYStcIiBmYWlsZWQ6IENhbid0IG1vZGlmeSBkYXRhIHVuZGVyIC8uaW5mby9cIik7fVxuZnVuY3Rpb24geGYoYSxiKXt2YXIgYz1iLnBhdGgudG9TdHJpbmcoKSxkOyEoZD0hcShiLmtjLmhvc3QpfHwwPT09Yi5rYy5ob3N0Lmxlbmd0aHx8IUNmKGIua2MucGUpKSYmKGQ9MCE9PWMubGVuZ3RoKSYmKGMmJihjPWMucmVwbGFjZSgvXlxcLypcXC5pbmZvKFxcL3wkKS8sXCIvXCIpKSxkPSEocShjKSYmMCE9PWMubGVuZ3RoJiYhQmYudGVzdChjKSkpO2lmKGQpdGhyb3cgRXJyb3IoRGIoYSwxLCExKSsnbXVzdCBiZSBhIHZhbGlkIGZpcmViYXNlIFVSTCBhbmQgdGhlIHBhdGggY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiW1wiLCBvciBcIl1cIi4nKTt9O2Z1bmN0aW9uIFYoYSxiKXt0aGlzLnVhPWE7dGhpcy5yYT1ifVYucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXt5KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuY2FuY2VsXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO0EoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5jYW5jZWxcIiwxLGEsITApO3ZhciBiPW5ldyBIYjt0aGlzLnVhLnhkKHRoaXMucmEsSWIoYixhKSk7cmV0dXJuIGIuc2F9O1YucHJvdG90eXBlLmNhbmNlbD1WLnByb3RvdHlwZS5jYW5jZWw7Vi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe3koXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7TWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIix0aGlzLnJhKTtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsMSxhLCEwKTt2YXIgYj1uZXcgSGI7TmYodGhpcy51YSx0aGlzLnJhLG51bGwsSWIoYixhKSk7cmV0dXJuIGIuc2F9O1xuVi5wcm90b3R5cGUucmVtb3ZlPVYucHJvdG90eXBlLnJlbW92ZTtWLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt5KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO01mKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsdGhpcy5yYSk7RWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIixhLHRoaXMucmEsITEpO0EoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIiwyLGIsITApO3ZhciBjPW5ldyBIYjtOZih0aGlzLnVhLHRoaXMucmEsYSxJYihjLGIpKTtyZXR1cm4gYy5zYX07Vi5wcm90b3R5cGUuc2V0PVYucHJvdG90eXBlLnNldDtcblYucHJvdG90eXBlLktiPWZ1bmN0aW9uKGEsYixjKXt5KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpO01mKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsdGhpcy5yYSk7RWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIixhLHRoaXMucmEsITEpO0lmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsMixiKTtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsMyxjLCEwKTt2YXIgZD1uZXcgSGI7T2YodGhpcy51YSx0aGlzLnJhLGEsYixJYihkLGMpKTtyZXR1cm4gZC5zYX07Vi5wcm90b3R5cGUuc2V0V2l0aFByaW9yaXR5PVYucHJvdG90eXBlLktiO1xuVi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7eShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtNZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLHRoaXMucmEpO2lmKGRhKGEpKXtmb3IodmFyIGM9e30sZD0wO2Q8YS5sZW5ndGg7KytkKWNbXCJcIitkXT1hW2RdO2E9YztPKFwiUGFzc2luZyBhbiBBcnJheSB0byBGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBpcyBkZXByZWNhdGVkLiBVc2Ugc2V0KCkgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBkYXRhLCBvciBhbiBPYmplY3Qgd2l0aCBpbnRlZ2VyIGtleXMgaWYgeW91IHJlYWxseSBkbyB3YW50IHRvIG9ubHkgdXBkYXRlIHNvbWUgb2YgdGhlIGNoaWxkcmVuLlwiKX1IZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLGEsdGhpcy5yYSk7QShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLDIsYiwhMCk7XG5jPW5ldyBIYjtQZih0aGlzLnVhLHRoaXMucmEsYSxJYihjLGIpKTtyZXR1cm4gYy5zYX07Vi5wcm90b3R5cGUudXBkYXRlPVYucHJvdG90eXBlLnVwZGF0ZTtmdW5jdGlvbiBRZihhKXtIKGRhKGEpJiYwPGEubGVuZ3RoLFwiUmVxdWlyZXMgYSBub24tZW1wdHkgYXJyYXlcIik7dGhpcy5LZj1hO3RoaXMuRWM9e319UWYucHJvdG90eXBlLkdlPWZ1bmN0aW9uKGEsYil7dmFyIGM7Yz10aGlzLkVjW2FdfHxbXTt2YXIgZD1jLmxlbmd0aDtpZigwPGQpe2Zvcih2YXIgZT1BcnJheShkKSxmPTA7ZjxkO2YrKyllW2ZdPWNbZl07Yz1lfWVsc2UgYz1bXTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWNbZF0uS2UuYXBwbHkoY1tkXS5QYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfTtRZi5wcm90b3R5cGUuaGM9ZnVuY3Rpb24oYSxiLGMpe1JmKHRoaXMsYSk7dGhpcy5FY1thXT10aGlzLkVjW2FdfHxbXTt0aGlzLkVjW2FdLnB1c2goe0tlOmIsUGE6Y30pOyhhPXRoaXMuWWUoYSkpJiZiLmFwcGx5KGMsYSl9O1xuUWYucHJvdG90eXBlLkpjPWZ1bmN0aW9uKGEsYixjKXtSZih0aGlzLGEpO2E9dGhpcy5FY1thXXx8W107Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspaWYoYVtkXS5LZT09PWImJighY3x8Yz09PWFbZF0uUGEpKXthLnNwbGljZShkLDEpO2JyZWFrfX07ZnVuY3Rpb24gUmYoYSxiKXtIKE9hKGEuS2YsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifSksXCJVbmtub3duIGV2ZW50OiBcIitiKX07ZnVuY3Rpb24gU2YoKXtRZi5jYWxsKHRoaXMsW1wib25saW5lXCJdKTt0aGlzLmljPSEwO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyJiYhUWIoKSl7dmFyIGE9dGhpczt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLGZ1bmN0aW9uKCl7YS5pY3x8KGEuaWM9ITAsYS5HZShcIm9ubGluZVwiLCEwKSl9LCExKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIixmdW5jdGlvbigpe2EuaWMmJihhLmljPSExLGEuR2UoXCJvbmxpbmVcIiwhMSkpfSwhMSl9fWthKFNmLFFmKTtTZi5wcm90b3R5cGUuWWU9ZnVuY3Rpb24oYSl7SChcIm9ubGluZVwiPT09YSxcIlVua25vd24gZXZlbnQgdHlwZTogXCIrYSk7cmV0dXJuW3RoaXMuaWNdfTtiYShTZik7ZnVuY3Rpb24gVGYoKXtRZi5jYWxsKHRoaXMsW1widmlzaWJsZVwiXSk7dmFyIGEsYjtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXImJihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LmhpZGRlbj8oYj1cInZpc2liaWxpdHljaGFuZ2VcIixhPVwiaGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQubW96SGlkZGVuPyhiPVwibW96dmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJtb3pIaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5tc0hpZGRlbj8oYj1cIm1zdmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJtc0hpZGRlblwiKTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LndlYmtpdEhpZGRlbiYmKGI9XCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cIndlYmtpdEhpZGRlblwiKSk7dGhpcy5OYj0hMDtpZihiKXt2YXIgYz10aGlzO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoYixcbmZ1bmN0aW9uKCl7dmFyIGI9IWRvY3VtZW50W2FdO2IhPT1jLk5iJiYoYy5OYj1iLGMuR2UoXCJ2aXNpYmxlXCIsYikpfSwhMSl9fWthKFRmLFFmKTtUZi5wcm90b3R5cGUuWWU9ZnVuY3Rpb24oYSl7SChcInZpc2libGVcIj09PWEsXCJVbmtub3duIGV2ZW50IHR5cGU6IFwiK2EpO3JldHVyblt0aGlzLk5iXX07YmEoVGYpO3ZhciBVZj1mdW5jdGlvbigpe3ZhciBhPTAsYj1bXTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9Yz09PWE7YT1jO2Zvcih2YXIgZT1BcnJheSg4KSxmPTc7MDw9ZjtmLS0pZVtmXT1cIi0wMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5jaGFyQXQoYyU2NCksYz1NYXRoLmZsb29yKGMvNjQpO0goMD09PWMsXCJDYW5ub3QgcHVzaCBhdCB0aW1lID09IDBcIik7Yz1lLmpvaW4oXCJcIik7aWYoZCl7Zm9yKGY9MTE7MDw9ZiYmNjM9PT1iW2ZdO2YtLSliW2ZdPTA7YltmXSsrfWVsc2UgZm9yKGY9MDsxMj5mO2YrKyliW2ZdPU1hdGguZmxvb3IoNjQqTWF0aC5yYW5kb20oKSk7Zm9yKGY9MDsxMj5mO2YrKyljKz1cIi0wMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5jaGFyQXQoYltmXSk7SCgyMD09PWMubGVuZ3RoLFwibmV4dFB1c2hJZDogTGVuZ3RoIHNob3VsZCBiZSAyMC5cIik7XG5yZXR1cm4gY319KCk7ZnVuY3Rpb24gVmYoYSxiKXt0aGlzLk9hPWE7dGhpcy5jYT1iP2I6V2Z9Zz1WZi5wcm90b3R5cGU7Zy5SYT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgVmYodGhpcy5PYSx0aGlzLmNhLlJhKGEsYix0aGlzLk9hKS5ZKG51bGwsbnVsbCwhMSxudWxsLG51bGwpKX07Zy5yZW1vdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBWZih0aGlzLk9hLHRoaXMuY2EucmVtb3ZlKGEsdGhpcy5PYSkuWShudWxsLG51bGwsITEsbnVsbCxudWxsKSl9O2cuZ2V0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPXRoaXMuY2E7IWMuZSgpOyl7Yj10aGlzLk9hKGEsYy5rZXkpO2lmKDA9PT1iKXJldHVybiBjLnZhbHVlOzA+Yj9jPWMubGVmdDowPGImJihjPWMucmlnaHQpfXJldHVybiBudWxsfTtcbmZ1bmN0aW9uIFhmKGEsYil7Zm9yKHZhciBjLGQ9YS5jYSxlPW51bGw7IWQuZSgpOyl7Yz1hLk9hKGIsZC5rZXkpO2lmKDA9PT1jKXtpZihkLmxlZnQuZSgpKXJldHVybiBlP2Uua2V5Om51bGw7Zm9yKGQ9ZC5sZWZ0OyFkLnJpZ2h0LmUoKTspZD1kLnJpZ2h0O3JldHVybiBkLmtleX0wPmM/ZD1kLmxlZnQ6MDxjJiYoZT1kLGQ9ZC5yaWdodCl9dGhyb3cgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gZmluZCBwcmVkZWNlc3NvciBrZXkgZm9yIGEgbm9uZXhpc3RlbnQga2V5LiAgV2hhdCBnaXZlcz9cIik7fWcuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhLmUoKX07Zy5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhLmNvdW50KCl9O2cuSGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYS5IYygpfTtnLmZjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2EuZmMoKX07Zy5pYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jYS5pYShhKX07XG5nLlhiPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgWWYodGhpcy5jYSxudWxsLHRoaXMuT2EsITEsYSl9O2cuWWI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFlmKHRoaXMuY2EsYSx0aGlzLk9hLCExLGIpfTtnLiRiPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBZZih0aGlzLmNhLGEsdGhpcy5PYSwhMCxiKX07Zy4kZT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFlmKHRoaXMuY2EsbnVsbCx0aGlzLk9hLCEwLGEpfTtmdW5jdGlvbiBZZihhLGIsYyxkLGUpe3RoaXMuSGQ9ZXx8bnVsbDt0aGlzLmxlPWQ7dGhpcy5TYT1bXTtmb3IoZT0xOyFhLmUoKTspaWYoZT1iP2MoYS5rZXksYik6MSxkJiYoZSo9LTEpLDA+ZSlhPXRoaXMubGU/YS5sZWZ0OmEucmlnaHQ7ZWxzZSBpZigwPT09ZSl7dGhpcy5TYS5wdXNoKGEpO2JyZWFrfWVsc2UgdGhpcy5TYS5wdXNoKGEpLGE9dGhpcy5sZT9hLnJpZ2h0OmEubGVmdH1cbmZ1bmN0aW9uIFIoYSl7aWYoMD09PWEuU2EubGVuZ3RoKXJldHVybiBudWxsO3ZhciBiPWEuU2EucG9wKCksYztjPWEuSGQ/YS5IZChiLmtleSxiLnZhbHVlKTp7a2V5OmIua2V5LHZhbHVlOmIudmFsdWV9O2lmKGEubGUpZm9yKGI9Yi5sZWZ0OyFiLmUoKTspYS5TYS5wdXNoKGIpLGI9Yi5yaWdodDtlbHNlIGZvcihiPWIucmlnaHQ7IWIuZSgpOylhLlNhLnB1c2goYiksYj1iLmxlZnQ7cmV0dXJuIGN9ZnVuY3Rpb24gWmYoYSl7aWYoMD09PWEuU2EubGVuZ3RoKXJldHVybiBudWxsO3ZhciBiO2I9YS5TYTtiPWJbYi5sZW5ndGgtMV07cmV0dXJuIGEuSGQ/YS5IZChiLmtleSxiLnZhbHVlKTp7a2V5OmIua2V5LHZhbHVlOmIudmFsdWV9fWZ1bmN0aW9uICRmKGEsYixjLGQsZSl7dGhpcy5rZXk9YTt0aGlzLnZhbHVlPWI7dGhpcy5jb2xvcj1udWxsIT1jP2M6ITA7dGhpcy5sZWZ0PW51bGwhPWQ/ZDpXZjt0aGlzLnJpZ2h0PW51bGwhPWU/ZTpXZn1nPSRmLnByb3RvdHlwZTtcbmcuWT1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBuZXcgJGYobnVsbCE9YT9hOnRoaXMua2V5LG51bGwhPWI/Yjp0aGlzLnZhbHVlLG51bGwhPWM/Yzp0aGlzLmNvbG9yLG51bGwhPWQ/ZDp0aGlzLmxlZnQsbnVsbCE9ZT9lOnRoaXMucmlnaHQpfTtnLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5jb3VudCgpKzErdGhpcy5yaWdodC5jb3VudCgpfTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Zy5pYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sZWZ0LmlhKGEpfHxhKHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLnJpZ2h0LmlhKGEpfTtmdW5jdGlvbiBhZyhhKXtyZXR1cm4gYS5sZWZ0LmUoKT9hOmFnKGEubGVmdCl9Zy5IYz1mdW5jdGlvbigpe3JldHVybiBhZyh0aGlzKS5rZXl9O2cuZmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yaWdodC5lKCk/dGhpcy5rZXk6dGhpcy5yaWdodC5mYygpfTtcbmcuUmE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7ZT10aGlzO2Q9YyhhLGUua2V5KTtlPTA+ZD9lLlkobnVsbCxudWxsLG51bGwsZS5sZWZ0LlJhKGEsYixjKSxudWxsKTowPT09ZD9lLlkobnVsbCxiLG51bGwsbnVsbCxudWxsKTplLlkobnVsbCxudWxsLG51bGwsbnVsbCxlLnJpZ2h0LlJhKGEsYixjKSk7cmV0dXJuIGJnKGUpfTtmdW5jdGlvbiBjZyhhKXtpZihhLmxlZnQuZSgpKXJldHVybiBXZjthLmxlZnQuZmEoKXx8YS5sZWZ0LmxlZnQuZmEoKXx8KGE9ZGcoYSkpO2E9YS5ZKG51bGwsbnVsbCxudWxsLGNnKGEubGVmdCksbnVsbCk7cmV0dXJuIGJnKGEpfVxuZy5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2M9dGhpcztpZigwPmIoYSxjLmtleSkpYy5sZWZ0LmUoKXx8Yy5sZWZ0LmZhKCl8fGMubGVmdC5sZWZ0LmZhKCl8fChjPWRnKGMpKSxjPWMuWShudWxsLG51bGwsbnVsbCxjLmxlZnQucmVtb3ZlKGEsYiksbnVsbCk7ZWxzZXtjLmxlZnQuZmEoKSYmKGM9ZWcoYykpO2MucmlnaHQuZSgpfHxjLnJpZ2h0LmZhKCl8fGMucmlnaHQubGVmdC5mYSgpfHwoYz1mZyhjKSxjLmxlZnQubGVmdC5mYSgpJiYoYz1lZyhjKSxjPWZnKGMpKSk7aWYoMD09PWIoYSxjLmtleSkpe2lmKGMucmlnaHQuZSgpKXJldHVybiBXZjtkPWFnKGMucmlnaHQpO2M9Yy5ZKGQua2V5LGQudmFsdWUsbnVsbCxudWxsLGNnKGMucmlnaHQpKX1jPWMuWShudWxsLG51bGwsbnVsbCxudWxsLGMucmlnaHQucmVtb3ZlKGEsYikpfXJldHVybiBiZyhjKX07Zy5mYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbG9yfTtcbmZ1bmN0aW9uIGJnKGEpe2EucmlnaHQuZmEoKSYmIWEubGVmdC5mYSgpJiYoYT1nZyhhKSk7YS5sZWZ0LmZhKCkmJmEubGVmdC5sZWZ0LmZhKCkmJihhPWVnKGEpKTthLmxlZnQuZmEoKSYmYS5yaWdodC5mYSgpJiYoYT1mZyhhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZGcoYSl7YT1mZyhhKTthLnJpZ2h0LmxlZnQuZmEoKSYmKGE9YS5ZKG51bGwsbnVsbCxudWxsLG51bGwsZWcoYS5yaWdodCkpLGE9Z2coYSksYT1mZyhhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZ2coYSl7cmV0dXJuIGEucmlnaHQuWShudWxsLG51bGwsYS5jb2xvcixhLlkobnVsbCxudWxsLCEwLG51bGwsYS5yaWdodC5sZWZ0KSxudWxsKX1mdW5jdGlvbiBlZyhhKXtyZXR1cm4gYS5sZWZ0LlkobnVsbCxudWxsLGEuY29sb3IsbnVsbCxhLlkobnVsbCxudWxsLCEwLGEubGVmdC5yaWdodCxudWxsKSl9XG5mdW5jdGlvbiBmZyhhKXtyZXR1cm4gYS5ZKG51bGwsbnVsbCwhYS5jb2xvcixhLmxlZnQuWShudWxsLG51bGwsIWEubGVmdC5jb2xvcixudWxsLG51bGwpLGEucmlnaHQuWShudWxsLG51bGwsIWEucmlnaHQuY29sb3IsbnVsbCxudWxsKSl9ZnVuY3Rpb24gaGcoKXt9Zz1oZy5wcm90b3R5cGU7Zy5ZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2cuUmE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3ICRmKGEsYixudWxsKX07Zy5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307Zy5jb3VudD1mdW5jdGlvbigpe3JldHVybiAwfTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Zy5pYT1mdW5jdGlvbigpe3JldHVybiExfTtnLkhjPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2cuZmM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07Zy5mYT1mdW5jdGlvbigpe3JldHVybiExfTt2YXIgV2Y9bmV3IGhnO2Z1bmN0aW9uIFAoYSxiLGMpe3RoaXMubT1hOyh0aGlzLmJhPWIpJiZyZSh0aGlzLmJhKTthLmUoKSYmSCghdGhpcy5iYXx8dGhpcy5iYS5lKCksXCJBbiBlbXB0eSBub2RlIGNhbm5vdCBoYXZlIGEgcHJpb3JpdHlcIik7dGhpcy56Yj1jO3RoaXMuRWI9bnVsbH1nPVAucHJvdG90eXBlO2cuSj1mdW5jdGlvbigpe3JldHVybiExfTtnLkM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYXx8Rn07Zy5nYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tLmUoKT90aGlzOm5ldyBQKHRoaXMubSxhLHRoaXMuemIpfTtnLlI9ZnVuY3Rpb24oYSl7aWYoXCIucHJpb3JpdHlcIj09PWEpcmV0dXJuIHRoaXMuQygpO2E9dGhpcy5tLmdldChhKTtyZXR1cm4gbnVsbD09PWE/RjphfTtnLlE9ZnVuY3Rpb24oYSl7dmFyIGI9SihhKTtyZXR1cm4gbnVsbD09PWI/dGhpczp0aGlzLlIoYikuUShEKGEpKX07Zy5GYT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PXRoaXMubS5nZXQoYSl9O1xuZy5VPWZ1bmN0aW9uKGEsYil7SChiLFwiV2Ugc2hvdWxkIGFsd2F5cyBiZSBwYXNzaW5nIHNuYXBzaG90IG5vZGVzXCIpO2lmKFwiLnByaW9yaXR5XCI9PT1hKXJldHVybiB0aGlzLmdhKGIpO3ZhciBjPW5ldyBLKGEsYiksZCxlO2IuZSgpPyhkPXRoaXMubS5yZW1vdmUoYSksYz1NZSh0aGlzLnpiLGMsdGhpcy5tKSk6KGQ9dGhpcy5tLlJhKGEsYiksYz1LZSh0aGlzLnpiLGMsdGhpcy5tKSk7ZT1kLmUoKT9GOnRoaXMuYmE7cmV0dXJuIG5ldyBQKGQsZSxjKX07Zy5GPWZ1bmN0aW9uKGEsYil7dmFyIGM9SihhKTtpZihudWxsPT09YylyZXR1cm4gYjtIKFwiLnByaW9yaXR5XCIhPT1KKGEpfHwxPT09JGQoYSksXCIucHJpb3JpdHkgbXVzdCBiZSB0aGUgbGFzdCB0b2tlbiBpbiBhIHBhdGhcIik7dmFyIGQ9dGhpcy5SKGMpLkYoRChhKSxiKTtyZXR1cm4gdGhpcy5VKGMsZCl9O2cuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm0uZSgpfTtnLkZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubS5jb3VudCgpfTtcbnZhciBpZz0vXigwfFsxLTldXFxkKikkLztnPVAucHJvdG90eXBlO2cuSD1mdW5jdGlvbihhKXtpZih0aGlzLmUoKSlyZXR1cm4gbnVsbDt2YXIgYj17fSxjPTAsZD0wLGU9ITA7dGhpcy5QKE4sZnVuY3Rpb24oZixoKXtiW2ZdPWguSChhKTtjKys7ZSYmaWcudGVzdChmKT9kPU1hdGgubWF4KGQsTnVtYmVyKGYpKTplPSExfSk7aWYoIWEmJmUmJmQ8MipjKXt2YXIgZj1bXSxoO2ZvcihoIGluIGIpZltoXT1iW2hdO3JldHVybiBmfWEmJiF0aGlzLkMoKS5lKCkmJihiW1wiLnByaW9yaXR5XCJdPXRoaXMuQygpLkgoKSk7cmV0dXJuIGJ9O2cuaGFzaD1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLkViKXt2YXIgYT1cIlwiO3RoaXMuQygpLmUoKXx8KGErPVwicHJpb3JpdHk6XCIrdGUodGhpcy5DKCkuSCgpKStcIjpcIik7dGhpcy5QKE4sZnVuY3Rpb24oYixjKXt2YXIgZD1jLmhhc2goKTtcIlwiIT09ZCYmKGErPVwiOlwiK2IrXCI6XCIrZCl9KTt0aGlzLkViPVwiXCI9PT1hP1wiXCI6VWMoYSl9cmV0dXJuIHRoaXMuRWJ9O1xuZy5aZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuKGM9amcodGhpcyxjKSk/KGE9WGYoYyxuZXcgSyhhLGIpKSk/YS5uYW1lOm51bGw6WGYodGhpcy5tLGEpfTtmdW5jdGlvbiBwZShhLGIpe3ZhciBjO2M9KGM9amcoYSxiKSk/KGM9Yy5IYygpKSYmYy5uYW1lOmEubS5IYygpO3JldHVybiBjP25ldyBLKGMsYS5tLmdldChjKSk6bnVsbH1mdW5jdGlvbiBxZShhLGIpe3ZhciBjO2M9KGM9amcoYSxiKSk/KGM9Yy5mYygpKSYmYy5uYW1lOmEubS5mYygpO3JldHVybiBjP25ldyBLKGMsYS5tLmdldChjKSk6bnVsbH1nLlA9ZnVuY3Rpb24oYSxiKXt2YXIgYz1qZyh0aGlzLGEpO3JldHVybiBjP2MuaWEoZnVuY3Rpb24oYSl7cmV0dXJuIGIoYS5uYW1lLGEuUyl9KTp0aGlzLm0uaWEoYil9O2cuWGI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuWWIoYS5JYygpLGEpfTtcbmcuWWI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1qZyh0aGlzLGIpO2lmKGMpcmV0dXJuIGMuWWIoYSxmdW5jdGlvbihhKXtyZXR1cm4gYX0pO2Zvcih2YXIgYz10aGlzLm0uWWIoYS5uYW1lLEpjKSxkPVpmKGMpO251bGwhPWQmJjA+Yi5jb21wYXJlKGQsYSk7KVIoYyksZD1aZihjKTtyZXR1cm4gY307Zy4kZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kYihhLkdjKCksYSl9O2cuJGI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1qZyh0aGlzLGIpO2lmKGMpcmV0dXJuIGMuJGIoYSxmdW5jdGlvbihhKXtyZXR1cm4gYX0pO2Zvcih2YXIgYz10aGlzLm0uJGIoYS5uYW1lLEpjKSxkPVpmKGMpO251bGwhPWQmJjA8Yi5jb21wYXJlKGQsYSk7KVIoYyksZD1aZihjKTtyZXR1cm4gY307Zy50Yz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lKCk/YS5lKCk/MDotMTphLkooKXx8YS5lKCk/MTphPT09eWU/LTE6MH07XG5nLm9iPWZ1bmN0aW9uKGEpe2lmKGE9PT1lZXx8dWEodGhpcy56Yi5kYyxhLnRvU3RyaW5nKCkpKXJldHVybiB0aGlzO3ZhciBiPXRoaXMuemIsYz10aGlzLm07SChhIT09ZWUsXCJLZXlJbmRleCBhbHdheXMgZXhpc3RzIGFuZCBpc24ndCBtZWFudCB0byBiZSBhZGRlZCB0byB0aGUgSW5kZXhNYXAuXCIpO2Zvcih2YXIgZD1bXSxlPSExLGM9Yy5YYihKYyksZj1SKGMpO2Y7KWU9ZXx8YS55YyhmLlMpLGQucHVzaChmKSxmPVIoYyk7ZD1lP0xlKGQsb2UoYSkpOnZlO2U9YS50b1N0cmluZygpO2M9eWEoYi5kYyk7Y1tlXT1hO2E9eWEoYi5vZCk7YVtlXT1kO3JldHVybiBuZXcgUCh0aGlzLm0sdGhpcy5iYSxuZXcgSmUoYSxjKSl9O2cuemM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1lZXx8dWEodGhpcy56Yi5kYyxhLnRvU3RyaW5nKCkpfTtcbmcuJD1mdW5jdGlvbihhKXtpZihhPT09dGhpcylyZXR1cm4hMDtpZihhLkooKSlyZXR1cm4hMTtpZih0aGlzLkMoKS4kKGEuQygpKSYmdGhpcy5tLmNvdW50KCk9PT1hLm0uY291bnQoKSl7dmFyIGI9dGhpcy5YYihOKTthPWEuWGIoTik7Zm9yKHZhciBjPVIoYiksZD1SKGEpO2MmJmQ7KXtpZihjLm5hbWUhPT1kLm5hbWV8fCFjLlMuJChkLlMpKXJldHVybiExO2M9UihiKTtkPVIoYSl9cmV0dXJuIG51bGw9PT1jJiZudWxsPT09ZH1yZXR1cm4hMX07ZnVuY3Rpb24gamcoYSxiKXtyZXR1cm4gYj09PWVlP251bGw6YS56Yi5nZXQoYi50b1N0cmluZygpKX1nLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEIodGhpcy5IKCEwKSl9O2Z1bmN0aW9uIE0oYSxiKXtpZihudWxsPT09YSlyZXR1cm4gRjt2YXIgYz1udWxsO1wib2JqZWN0XCI9PT10eXBlb2YgYSYmXCIucHJpb3JpdHlcImluIGE/Yz1hW1wiLnByaW9yaXR5XCJdOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgYiYmKGM9Yik7SChudWxsPT09Y3x8XCJzdHJpbmdcIj09PXR5cGVvZiBjfHxcIm51bWJlclwiPT09dHlwZW9mIGN8fFwib2JqZWN0XCI9PT10eXBlb2YgYyYmXCIuc3ZcImluIGMsXCJJbnZhbGlkIHByaW9yaXR5IHR5cGUgZm91bmQ6IFwiK3R5cGVvZiBjKTtcIm9iamVjdFwiPT09dHlwZW9mIGEmJlwiLnZhbHVlXCJpbiBhJiZudWxsIT09YVtcIi52YWx1ZVwiXSYmKGE9YVtcIi52YWx1ZVwiXSk7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBhfHxcIi5zdlwiaW4gYSlyZXR1cm4gbmV3IFFjKGEsTShjKSk7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXt2YXIgZD1GLGU9YTt0KGUsZnVuY3Rpb24oYSxiKXtpZihCYihlLGIpJiZcIi5cIiE9PWIuc3Vic3RyaW5nKDAsMSkpe3ZhciBjPU0oYSk7aWYoYy5KKCl8fCFjLmUoKSlkPVxuZC5VKGIsYyl9fSk7cmV0dXJuIGQuZ2EoTShjKSl9dmFyIGY9W10saD0hMSxrPWE7Q2IoayxmdW5jdGlvbihhKXtpZihcInN0cmluZ1wiIT09dHlwZW9mIGF8fFwiLlwiIT09YS5zdWJzdHJpbmcoMCwxKSl7dmFyIGI9TShrW2FdKTtiLmUoKXx8KGg9aHx8IWIuQygpLmUoKSxmLnB1c2gobmV3IEsoYSxiKSkpfX0pO2lmKDA9PWYubGVuZ3RoKXJldHVybiBGO3ZhciBtPUxlKGYsR2MsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZX0sSWMpO2lmKGgpe3ZhciBsPUxlKGYsb2UoTikpO3JldHVybiBuZXcgUChtLE0oYyksbmV3IEplKHtcIi5wcmlvcml0eVwiOmx9LHtcIi5wcmlvcml0eVwiOk59KSl9cmV0dXJuIG5ldyBQKG0sTShjKSxOZSl9dmFyIGtnPU1hdGgubG9nKDIpO1xuZnVuY3Rpb24gbGcoYSl7dGhpcy5jb3VudD1wYXJzZUludChNYXRoLmxvZyhhKzEpL2tnLDEwKTt0aGlzLlJlPXRoaXMuY291bnQtMTt0aGlzLkxmPWErMSZwYXJzZUludChBcnJheSh0aGlzLmNvdW50KzEpLmpvaW4oXCIxXCIpLDIpfWZ1bmN0aW9uIG1nKGEpe3ZhciBiPSEoYS5MZiYxPDxhLlJlKTthLlJlLS07cmV0dXJuIGJ9XG5mdW5jdGlvbiBMZShhLGIsYyxkKXtmdW5jdGlvbiBlKGIsZCl7dmFyIGY9ZC1iO2lmKDA9PWYpcmV0dXJuIG51bGw7aWYoMT09Zil7dmFyIGw9YVtiXSx1PWM/YyhsKTpsO3JldHVybiBuZXcgJGYodSxsLlMsITEsbnVsbCxudWxsKX12YXIgbD1wYXJzZUludChmLzIsMTApK2IsZj1lKGIsbCksej1lKGwrMSxkKSxsPWFbbF0sdT1jP2MobCk6bDtyZXR1cm4gbmV3ICRmKHUsbC5TLCExLGYseil9YS5zb3J0KGIpO3ZhciBmPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoYixoKXt2YXIgaz11LWIsej11O3UtPWI7dmFyIHo9ZShrKzEseiksaz1hW2tdLEc9Yz9jKGspOmssej1uZXcgJGYoRyxrLlMsaCxudWxsLHopO2Y/Zi5sZWZ0PXo6bD16O2Y9en1mb3IodmFyIGY9bnVsbCxsPW51bGwsdT1hLmxlbmd0aCx6PTA7ejxiLmNvdW50Oysreil7dmFyIEc9bWcoYiksdWQ9TWF0aC5wb3coMixiLmNvdW50LSh6KzEpKTtHP2QodWQsITEpOihkKHVkLCExKSxkKHVkLCEwKSl9cmV0dXJuIGx9KG5ldyBsZyhhLmxlbmd0aCkpO1xucmV0dXJuIG51bGwhPT1mP25ldyBWZihkfHxiLGYpOm5ldyBWZihkfHxiKX1mdW5jdGlvbiB0ZShhKXtyZXR1cm5cIm51bWJlclwiPT09dHlwZW9mIGE/XCJudW1iZXI6XCIraWQoYSk6XCJzdHJpbmc6XCIrYX1mdW5jdGlvbiByZShhKXtpZihhLkooKSl7dmFyIGI9YS5IKCk7SChcInN0cmluZ1wiPT09dHlwZW9mIGJ8fFwibnVtYmVyXCI9PT10eXBlb2YgYnx8XCJvYmplY3RcIj09PXR5cGVvZiBiJiZCYihiLFwiLnN2XCIpLFwiUHJpb3JpdHkgbXVzdCBiZSBhIHN0cmluZyBvciBudW1iZXIuXCIpfWVsc2UgSChhPT09eWV8fGEuZSgpLFwicHJpb3JpdHkgb2YgdW5leHBlY3RlZCB0eXBlLlwiKTtIKGE9PT15ZXx8YS5DKCkuZSgpLFwiUHJpb3JpdHkgbm9kZXMgY2FuJ3QgaGF2ZSBhIHByaW9yaXR5IG9mIHRoZWlyIG93bi5cIil9dmFyIEY9bmV3IFAobmV3IFZmKEljKSxudWxsLE5lKTtmdW5jdGlvbiBuZygpe1AuY2FsbCh0aGlzLG5ldyBWZihJYyksRixOZSl9a2EobmcsUCk7Zz1uZy5wcm90b3R5cGU7XG5nLnRjPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpcz8wOjF9O2cuJD1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN9O2cuQz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtnLlI9ZnVuY3Rpb24oKXtyZXR1cm4gRn07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuITF9O3ZhciB5ZT1uZXcgbmcsd2U9bmV3IEsoXCJbTUlOX05BTUVdXCIsRiksQ2U9bmV3IEsoXCJbTUFYX05BTUVdXCIseWUpO2Z1bmN0aW9uIFcoYSxiLGMpe3RoaXMuQT1hO3RoaXMuVz1iO3RoaXMuZz1jfVcucHJvdG90eXBlLkg9ZnVuY3Rpb24oKXt5KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LnZhbFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5BLkgoKX07Vy5wcm90b3R5cGUudmFsPVcucHJvdG90eXBlLkg7Vy5wcm90b3R5cGUuVWU9ZnVuY3Rpb24oKXt5KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmV4cG9ydFZhbFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5BLkgoITApfTtXLnByb3RvdHlwZS5leHBvcnRWYWw9Vy5wcm90b3R5cGUuVWU7Vy5wcm90b3R5cGUuVmY9ZnVuY3Rpb24oKXt5KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmV4aXN0c1wiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4hdGhpcy5BLmUoKX07Vy5wcm90b3R5cGUuZXhpc3RzPVcucHJvdG90eXBlLlZmO1xuVy5wcm90b3R5cGUuaz1mdW5jdGlvbihhKXt5KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmNoaWxkXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO2ZhKGEpJiYoYT1TdHJpbmcoYSkpO0xmKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmNoaWxkXCIsYSk7dmFyIGI9bmV3IEwoYSksYz10aGlzLlcuayhiKTtyZXR1cm4gbmV3IFcodGhpcy5BLlEoYiksYyxOKX07Vy5wcm90b3R5cGUuY2hpbGQ9Vy5wcm90b3R5cGUuaztXLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXt5KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO0xmKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsYSk7dmFyIGI9bmV3IEwoYSk7cmV0dXJuIXRoaXMuQS5RKGIpLmUoKX07Vy5wcm90b3R5cGUuaGFzQ2hpbGQ9Vy5wcm90b3R5cGUuRmE7XG5XLnByb3RvdHlwZS5DPWZ1bmN0aW9uKCl7eShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5nZXRQcmlvcml0eVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5BLkMoKS5IKCl9O1cucHJvdG90eXBlLmdldFByaW9yaXR5PVcucHJvdG90eXBlLkM7Vy5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihhKXt5KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmZvckVhY2hcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7QShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5mb3JFYWNoXCIsMSxhLCExKTtpZih0aGlzLkEuSigpKXJldHVybiExO3ZhciBiPXRoaXM7cmV0dXJuISF0aGlzLkEuUCh0aGlzLmcsZnVuY3Rpb24oYyxkKXtyZXR1cm4gYShuZXcgVyhkLGIuVy5rKGMpLE4pKX0pfTtXLnByb3RvdHlwZS5mb3JFYWNoPVcucHJvdG90eXBlLmZvckVhY2g7XG5XLnByb3RvdHlwZS5rZD1mdW5jdGlvbigpe3koXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5KKCk/ITE6IXRoaXMuQS5lKCl9O1cucHJvdG90eXBlLmhhc0NoaWxkcmVuPVcucHJvdG90eXBlLmtkO1cucHJvdG90eXBlLmdldEtleT1mdW5jdGlvbigpe3koXCJGaXJlYmFzZS5EYXRhU25hcHNob3Qua2V5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLlcuZ2V0S2V5KCl9O2tkKFcucHJvdG90eXBlLFwia2V5XCIsVy5wcm90b3R5cGUuZ2V0S2V5KTtXLnByb3RvdHlwZS5GYj1mdW5jdGlvbigpe3koXCJGaXJlYmFzZS5EYXRhU25hcHNob3QubnVtQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5GYigpfTtXLnByb3RvdHlwZS5udW1DaGlsZHJlbj1XLnByb3RvdHlwZS5GYjtcblcucHJvdG90eXBlLnhiPWZ1bmN0aW9uKCl7eShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5yZWZcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuV307a2QoVy5wcm90b3R5cGUsXCJyZWZcIixXLnByb3RvdHlwZS54Yik7ZnVuY3Rpb24gWWQoYSxiKXt0aGlzLk89YTt0aGlzLkxkPWJ9ZnVuY3Rpb24gVmQoYSxiLGMsZCl7cmV0dXJuIG5ldyBZZChuZXcgemMoYixjLGQpLGEuTGQpfWZ1bmN0aW9uIFpkKGEpe3JldHVybiBhLk8uZWE/YS5PLmooKTpudWxsfVlkLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTGR9O2Z1bmN0aW9uIEFjKGEpe3JldHVybiBhLkxkLmVhP2EuTGQuaigpOm51bGx9O2Z1bmN0aW9uIG9nKGEsYil7dGhpcy5XPWE7dmFyIGM9YS5uLGQ9bmV3IGZlKGMuZyksYz1TKGMpP25ldyBmZShjLmcpOmMueWE/bmV3IGxlKGMpOm5ldyBnZShjKTt0aGlzLm9mPW5ldyBQZChjKTt2YXIgZT1iLncoKSxmPWIuTyxoPWQuemEoRixlLmooKSxudWxsKSxrPWMuemEoRixmLmooKSxudWxsKTt0aGlzLk5hPW5ldyBZZChuZXcgemMoayxmLmVhLGMuUWEoKSksbmV3IHpjKGgsZS5lYSxkLlFhKCkpKTt0aGlzLmFiPVtdO3RoaXMuU2Y9bmV3IEtkKGEpfWZ1bmN0aW9uIHBnKGEpe3JldHVybiBhLld9Zz1vZy5wcm90b3R5cGU7Zy53PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTmEudygpLmooKX07Zy5qYj1mdW5jdGlvbihhKXt2YXIgYj1BYyh0aGlzLk5hKTtyZXR1cm4gYiYmKFModGhpcy5XLm4pfHwhYS5lKCkmJiFiLlIoSihhKSkuZSgpKT9iLlEoYSk6bnVsbH07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmFiLmxlbmd0aH07Zy5PYj1mdW5jdGlvbihhKXt0aGlzLmFiLnB1c2goYSl9O1xuZy5tYj1mdW5jdGlvbihhLGIpe3ZhciBjPVtdO2lmKGIpe0gobnVsbD09YSxcIkEgY2FuY2VsIHNob3VsZCBjYW5jZWwgYWxsIGV2ZW50IHJlZ2lzdHJhdGlvbnMuXCIpO3ZhciBkPXRoaXMuVy5wYXRoO0phKHRoaXMuYWIsZnVuY3Rpb24oYSl7KGE9YS5QZShiLGQpKSYmYy5wdXNoKGEpfSl9aWYoYSl7Zm9yKHZhciBlPVtdLGY9MDtmPHRoaXMuYWIubGVuZ3RoOysrZil7dmFyIGg9dGhpcy5hYltmXTtpZighaC5tYXRjaGVzKGEpKWUucHVzaChoKTtlbHNlIGlmKGEuYWYoKSl7ZT1lLmNvbmNhdCh0aGlzLmFiLnNsaWNlKGYrMSkpO2JyZWFrfX10aGlzLmFiPWV9ZWxzZSB0aGlzLmFiPVtdO3JldHVybiBjfTtcbmcuZ2I9ZnVuY3Rpb24oYSxiLGMpe2EudHlwZT09PXdkJiZudWxsIT09YS5zb3VyY2UuSWImJihIKEFjKHRoaXMuTmEpLFwiV2Ugc2hvdWxkIGFsd2F5cyBoYXZlIGEgZnVsbCBjYWNoZSBiZWZvcmUgaGFuZGxpbmcgbWVyZ2VzXCIpLEgoWmQodGhpcy5OYSksXCJNaXNzaW5nIGV2ZW50IGNhY2hlLCBldmVuIHRob3VnaCB3ZSBoYXZlIGEgc2VydmVyIGNhY2hlXCIpKTt2YXIgZD10aGlzLk5hO2E9dGhpcy5vZi5nYihkLGEsYixjKTtiPXRoaXMub2Y7Yz1hLlNkO0goYy5PLmooKS56YyhiLlYuZyksXCJFdmVudCBzbmFwIG5vdCBpbmRleGVkXCIpO0goYy53KCkuaigpLnpjKGIuVi5nKSxcIlNlcnZlciBzbmFwIG5vdCBpbmRleGVkXCIpO0goRGMoYS5TZC53KCkpfHwhRGMoZC53KCkpLFwiT25jZSBhIHNlcnZlciBzbmFwIGlzIGNvbXBsZXRlLCBpdCBzaG91bGQgbmV2ZXIgZ28gYmFja1wiKTt0aGlzLk5hPWEuU2Q7cmV0dXJuIHFnKHRoaXMsYS5NZixhLlNkLk8uaigpLG51bGwpfTtcbmZ1bmN0aW9uIHJnKGEsYil7dmFyIGM9YS5OYS5PLGQ9W107Yy5qKCkuSigpfHxjLmooKS5QKE4sZnVuY3Rpb24oYSxiKXtkLnB1c2gobmV3IEkoXCJjaGlsZF9hZGRlZFwiLGIsYSkpfSk7Yy5lYSYmZC5wdXNoKEJjKGMuaigpKSk7cmV0dXJuIHFnKGEsZCxjLmooKSxiKX1mdW5jdGlvbiBxZyhhLGIsYyxkKXtyZXR1cm4gTGQoYS5TZixiLGMsZD9bZF06YS5hYil9O2Z1bmN0aW9uIHNnKGEsYixjKXt0aGlzLlFiPWE7dGhpcy5zYj1iO3RoaXMudWI9Y3x8bnVsbH1nPXNnLnByb3RvdHlwZTtnLnRmPWZ1bmN0aW9uKGEpe3JldHVyblwidmFsdWVcIj09PWF9O2cuY3JlYXRlRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLm4uZztyZXR1cm4gbmV3IHRjKFwidmFsdWVcIix0aGlzLG5ldyBXKGEuTWEsYi54YigpLGMpKX07Zy5VYj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnViO2lmKFwiY2FuY2VsXCI9PT1hLmdlKCkpe0godGhpcy5zYixcIlJhaXNpbmcgYSBjYW5jZWwgZXZlbnQgb24gYSBsaXN0ZW5lciB3aXRoIG5vIGNhbmNlbCBjYWxsYmFja1wiKTt2YXIgYz10aGlzLnNiO3JldHVybiBmdW5jdGlvbigpe2MuY2FsbChiLGEuZXJyb3IpfX12YXIgZD10aGlzLlFiO3JldHVybiBmdW5jdGlvbigpe2QuY2FsbChiLGEuTWQpfX07Zy5QZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNiP25ldyB1Yyh0aGlzLGEsYik6bnVsbH07XG5nLm1hdGNoZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBzZz9hLlFiJiZ0aGlzLlFiP2EuUWI9PT10aGlzLlFiJiZhLnViPT09dGhpcy51YjohMDohMX07Zy5hZj1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5RYn07ZnVuY3Rpb24gdGcoYSxiLGMpe3RoaXMuaGE9YTt0aGlzLnNiPWI7dGhpcy51Yj1jfWc9dGcucHJvdG90eXBlO2cudGY9ZnVuY3Rpb24oYSl7YT1cImNoaWxkcmVuX2FkZGVkXCI9PT1hP1wiY2hpbGRfYWRkZWRcIjphO3JldHVybihcImNoaWxkcmVuX3JlbW92ZWRcIj09PWE/XCJjaGlsZF9yZW1vdmVkXCI6YSlpbiB0aGlzLmhhfTtnLlBlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuc2I/bmV3IHVjKHRoaXMsYSxiKTpudWxsfTtcbmcuY3JlYXRlRXZlbnQ9ZnVuY3Rpb24oYSxiKXtIKG51bGwhPWEuWmEsXCJDaGlsZCBldmVudHMgc2hvdWxkIGhhdmUgYSBjaGlsZE5hbWUuXCIpO3ZhciBjPWIueGIoKS5rKGEuWmEpO3JldHVybiBuZXcgdGMoYS50eXBlLHRoaXMsbmV3IFcoYS5NYSxjLGIubi5nKSxhLkRkKX07Zy5VYj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnViO2lmKFwiY2FuY2VsXCI9PT1hLmdlKCkpe0godGhpcy5zYixcIlJhaXNpbmcgYSBjYW5jZWwgZXZlbnQgb24gYSBsaXN0ZW5lciB3aXRoIG5vIGNhbmNlbCBjYWxsYmFja1wiKTt2YXIgYz10aGlzLnNiO3JldHVybiBmdW5jdGlvbigpe2MuY2FsbChiLGEuZXJyb3IpfX12YXIgZD10aGlzLmhhW2EuZ2RdO3JldHVybiBmdW5jdGlvbigpe2QuY2FsbChiLGEuTWQsYS5EZCl9fTtcbmcubWF0Y2hlcz1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgdGcpe2lmKCF0aGlzLmhhfHwhYS5oYSlyZXR1cm4hMDtpZih0aGlzLnViPT09YS51Yil7dmFyIGI9cWEoYS5oYSk7aWYoYj09PXFhKHRoaXMuaGEpKXtpZigxPT09Yil7dmFyIGI9cmEoYS5oYSksYz1yYSh0aGlzLmhhKTtyZXR1cm4gYz09PWImJighYS5oYVtiXXx8IXRoaXMuaGFbY118fGEuaGFbYl09PT10aGlzLmhhW2NdKX1yZXR1cm4gcGEodGhpcy5oYSxmdW5jdGlvbihiLGMpe3JldHVybiBhLmhhW2NdPT09Yn0pfX19cmV0dXJuITF9O2cuYWY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuaGF9O2Z1bmN0aW9uIFgoYSxiLGMsZCl7dGhpcy51PWE7dGhpcy5wYXRoPWI7dGhpcy5uPWM7dGhpcy5PYz1kfVxuZnVuY3Rpb24gdWcoYSl7dmFyIGI9bnVsbCxjPW51bGw7YS5sYSYmKGI9aWUoYSkpO2Eub2EmJihjPWtlKGEpKTtpZihhLmc9PT1lZSl7aWYoYS5sYSl7aWYoXCJbTUlOX05BTUVdXCIhPWhlKGEpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB5b3UgbWF5IG9ubHkgcGFzcyBvbmUgYXJndW1lbnQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkuXCIpO2lmKFwic3RyaW5nXCIhPT10eXBlb2YgYil0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgdGhlIGFyZ3VtZW50IHBhc3NlZCB0byBzdGFydEF0KCksIGVuZEF0KCksb3IgZXF1YWxUbygpIG11c3QgYmUgYSBzdHJpbmcuXCIpO31pZihhLm9hKXtpZihcIltNQVhfTkFNRV1cIiE9amUoYSkpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHlvdSBtYXkgb25seSBwYXNzIG9uZSBhcmd1bWVudCB0byBzdGFydEF0KCksIGVuZEF0KCksIG9yIGVxdWFsVG8oKS5cIik7aWYoXCJzdHJpbmdcIiE9PVxudHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgc3RyaW5nLlwiKTt9fWVsc2UgaWYoYS5nPT09Til7aWYobnVsbCE9YiYmIURmKGIpfHxudWxsIT1jJiYhRGYoYykpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBwcmlvcml0eSwgdGhlIGZpcnN0IGFyZ3VtZW50IHBhc3NlZCB0byBzdGFydEF0KCksIGVuZEF0KCksIG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgdmFsaWQgcHJpb3JpdHkgdmFsdWUgKG51bGwsIGEgbnVtYmVyLCBvciBhIHN0cmluZykuXCIpO31lbHNlIGlmKEgoYS5nIGluc3RhbmNlb2YgeGV8fGEuZz09PURlLFwidW5rbm93biBpbmRleCB0eXBlLlwiKSxudWxsIT1iJiZcIm9iamVjdFwiPT09dHlwZW9mIGJ8fG51bGwhPWMmJlwib2JqZWN0XCI9PT10eXBlb2YgYyl0aHJvdyBFcnJvcihcIlF1ZXJ5OiBGaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkgY2Fubm90IGJlIGFuIG9iamVjdC5cIik7XG59ZnVuY3Rpb24gdmcoYSl7aWYoYS5sYSYmYS5vYSYmYS55YSYmKCFhLnlhfHxcIlwiPT09YS5vYykpdGhyb3cgRXJyb3IoXCJRdWVyeTogQ2FuJ3QgY29tYmluZSBzdGFydEF0KCksIGVuZEF0KCksIGFuZCBsaW1pdCgpLiBVc2UgbGltaXRUb0ZpcnN0KCkgb3IgbGltaXRUb0xhc3QoKSBpbnN0ZWFkLlwiKTt9ZnVuY3Rpb24gd2coYSxiKXtpZighMD09PWEuT2MpdGhyb3cgRXJyb3IoYitcIjogWW91IGNhbid0IGNvbWJpbmUgbXVsdGlwbGUgb3JkZXJCeSBjYWxscy5cIik7fWc9WC5wcm90b3R5cGU7Zy54Yj1mdW5jdGlvbigpe3koXCJRdWVyeS5yZWZcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIG5ldyBVKHRoaXMudSx0aGlzLnBhdGgpfTtcbmcuaGM9ZnVuY3Rpb24oYSxiLGMsZCl7eShcIlF1ZXJ5Lm9uXCIsMiw0LGFyZ3VtZW50cy5sZW5ndGgpO0pmKFwiUXVlcnkub25cIixhLCExKTtBKFwiUXVlcnkub25cIiwyLGIsITEpO3ZhciBlPXhnKFwiUXVlcnkub25cIixjLGQpO2lmKFwidmFsdWVcIj09PWEpeWcodGhpcy51LHRoaXMsbmV3IHNnKGIsZS5jYW5jZWx8fG51bGwsZS5QYXx8bnVsbCkpO2Vsc2V7dmFyIGY9e307ZlthXT1iO3lnKHRoaXMudSx0aGlzLG5ldyB0ZyhmLGUuY2FuY2VsLGUuUGEpKX1yZXR1cm4gYn07XG5nLkpjPWZ1bmN0aW9uKGEsYixjKXt5KFwiUXVlcnkub2ZmXCIsMCwzLGFyZ3VtZW50cy5sZW5ndGgpO0pmKFwiUXVlcnkub2ZmXCIsYSwhMCk7QShcIlF1ZXJ5Lm9mZlwiLDIsYiwhMCk7RWIoXCJRdWVyeS5vZmZcIiwzLGMpO3ZhciBkPW51bGwsZT1udWxsO1widmFsdWVcIj09PWE/ZD1uZXcgc2coYnx8bnVsbCxudWxsLGN8fG51bGwpOmEmJihiJiYoZT17fSxlW2FdPWIpLGQ9bmV3IHRnKGUsbnVsbCxjfHxudWxsKSk7ZT10aGlzLnU7ZD1cIi5pbmZvXCI9PT1KKHRoaXMucGF0aCk/ZS5wZC5tYih0aGlzLGQpOmUuSy5tYih0aGlzLGQpO3BjKGUuZGEsdGhpcy5wYXRoLGQpfTtcbmcua2c9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGspe2YmJihmPSExLGUuSmMoYSxjKSxiJiZiLmNhbGwoZC5QYSxrKSxoLnJlc29sdmUoaykpfXkoXCJRdWVyeS5vbmNlXCIsMSw0LGFyZ3VtZW50cy5sZW5ndGgpO0pmKFwiUXVlcnkub25jZVwiLGEsITEpO0EoXCJRdWVyeS5vbmNlXCIsMixiLCEwKTt2YXIgZD14ZyhcIlF1ZXJ5Lm9uY2VcIixhcmd1bWVudHNbMl0sYXJndW1lbnRzWzNdKSxlPXRoaXMsZj0hMCxoPW5ldyBIYjtKYihoLnNhKTt0aGlzLmhjKGEsYyxmdW5jdGlvbihiKXtlLkpjKGEsYyk7ZC5jYW5jZWwmJmQuY2FuY2VsLmNhbGwoZC5QYSxiKTtoLnJlamVjdChiKX0pO3JldHVybiBoLnNhfTtcbmcubmU9ZnVuY3Rpb24oYSl7eShcIlF1ZXJ5LmxpbWl0VG9GaXJzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZighZmEoYSl8fE1hdGguZmxvb3IoYSkhPT1hfHwwPj1hKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0ZpcnN0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy5uLnlhKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0ZpcnN0OiBMaW1pdCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBsaW1pdCwgbGltaXRUb0ZpcnN0LCBvciBsaW1pdFRvTGFzdCkuXCIpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLHRoaXMubi5uZShhKSx0aGlzLk9jKX07XG5nLm9lPWZ1bmN0aW9uKGEpe3koXCJRdWVyeS5saW1pdFRvTGFzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZighZmEoYSl8fE1hdGguZmxvb3IoYSkhPT1hfHwwPj1hKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0xhc3Q6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLlwiKTtpZih0aGlzLm4ueWEpdGhyb3cgRXJyb3IoXCJRdWVyeS5saW1pdFRvTGFzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCx0aGlzLm4ub2UoYSksdGhpcy5PYyl9O1xuZy5sZz1mdW5jdGlvbihhKXt5KFwiUXVlcnkub3JkZXJCeUNoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO2lmKFwiJGtleVwiPT09YSl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiRrZXlcIiBpcyBpbnZhbGlkLiAgVXNlIFF1ZXJ5Lm9yZGVyQnlLZXkoKSBpbnN0ZWFkLicpO2lmKFwiJHByaW9yaXR5XCI9PT1hKXRocm93IEVycm9yKCdRdWVyeS5vcmRlckJ5Q2hpbGQ6IFwiJHByaW9yaXR5XCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5UHJpb3JpdHkoKSBpbnN0ZWFkLicpO2lmKFwiJHZhbHVlXCI9PT1hKXRocm93IEVycm9yKCdRdWVyeS5vcmRlckJ5Q2hpbGQ6IFwiJHZhbHVlXCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5VmFsdWUoKSBpbnN0ZWFkLicpO0xmKFwiUXVlcnkub3JkZXJCeUNoaWxkXCIsYSk7d2codGhpcyxcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiKTt2YXIgYj1uZXcgTChhKTtpZihiLmUoKSl0aHJvdyBFcnJvcihcIlF1ZXJ5Lm9yZGVyQnlDaGlsZDogY2Fubm90IHBhc3MgaW4gZW1wdHkgcGF0aC4gIFVzZSBRdWVyeS5vcmRlckJ5VmFsdWUoKSBpbnN0ZWFkLlwiKTtcbmI9bmV3IHhlKGIpO2I9SGUodGhpcy5uLGIpO3VnKGIpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLGIsITApfTtnLm1nPWZ1bmN0aW9uKCl7eShcIlF1ZXJ5Lm9yZGVyQnlLZXlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7d2codGhpcyxcIlF1ZXJ5Lm9yZGVyQnlLZXlcIik7dmFyIGE9SGUodGhpcy5uLGVlKTt1ZyhhKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCxhLCEwKX07Zy5uZz1mdW5jdGlvbigpe3koXCJRdWVyeS5vcmRlckJ5UHJpb3JpdHlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7d2codGhpcyxcIlF1ZXJ5Lm9yZGVyQnlQcmlvcml0eVwiKTt2YXIgYT1IZSh0aGlzLm4sTik7dWcoYSk7cmV0dXJuIG5ldyBYKHRoaXMudSx0aGlzLnBhdGgsYSwhMCl9O1xuZy5vZz1mdW5jdGlvbigpe3koXCJRdWVyeS5vcmRlckJ5VmFsdWVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7d2codGhpcyxcIlF1ZXJ5Lm9yZGVyQnlWYWx1ZVwiKTt2YXIgYT1IZSh0aGlzLm4sRGUpO3VnKGEpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLGEsITApfTtnLk5kPWZ1bmN0aW9uKGEsYil7eShcIlF1ZXJ5LnN0YXJ0QXRcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCk7RWYoXCJRdWVyeS5zdGFydEF0XCIsYSx0aGlzLnBhdGgsITApO0tmKFwiUXVlcnkuc3RhcnRBdFwiLGIpO3ZhciBjPXRoaXMubi5OZChhLGIpO3ZnKGMpO3VnKGMpO2lmKHRoaXMubi5sYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LnN0YXJ0QXQ6IFN0YXJ0aW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIHN0YXJ0QXQgb3IgZXF1YWxUbykuXCIpO3AoYSl8fChiPWE9bnVsbCk7cmV0dXJuIG5ldyBYKHRoaXMudSx0aGlzLnBhdGgsYyx0aGlzLk9jKX07XG5nLmZkPWZ1bmN0aW9uKGEsYil7eShcIlF1ZXJ5LmVuZEF0XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpO0VmKFwiUXVlcnkuZW5kQXRcIixhLHRoaXMucGF0aCwhMCk7S2YoXCJRdWVyeS5lbmRBdFwiLGIpO3ZhciBjPXRoaXMubi5mZChhLGIpO3ZnKGMpO3VnKGMpO2lmKHRoaXMubi5vYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmVuZEF0OiBFbmRpbmcgcG9pbnQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gZW5kQXQgb3IgZXF1YWxUbykuXCIpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLGMsdGhpcy5PYyl9O1xuZy5SZj1mdW5jdGlvbihhLGIpe3koXCJRdWVyeS5lcXVhbFRvXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO0VmKFwiUXVlcnkuZXF1YWxUb1wiLGEsdGhpcy5wYXRoLCExKTtLZihcIlF1ZXJ5LmVxdWFsVG9cIixiKTtpZih0aGlzLm4ubGEpdGhyb3cgRXJyb3IoXCJRdWVyeS5lcXVhbFRvOiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCBvciBlcXVhbFRvKS5cIik7aWYodGhpcy5uLm9hKXRocm93IEVycm9yKFwiUXVlcnkuZXF1YWxUbzogRW5kaW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGVuZEF0IG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gdGhpcy5OZChhLGIpLmZkKGEsYil9O1xuZy50b1N0cmluZz1mdW5jdGlvbigpe3koXCJRdWVyeS50b1N0cmluZ1wiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIGE9dGhpcy5wYXRoLGI9XCJcIixjPWEuWjtjPGEuby5sZW5ndGg7YysrKVwiXCIhPT1hLm9bY10mJihiKz1cIi9cIitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGEub1tjXSkpKTtyZXR1cm4gdGhpcy51LnRvU3RyaW5nKCkrKGJ8fFwiL1wiKX07Zy5rYT1mdW5jdGlvbigpe3ZhciBhPWZkKEllKHRoaXMubikpO3JldHVyblwie31cIj09PWE/XCJkZWZhdWx0XCI6YX07XG5nLmlzRXF1YWw9ZnVuY3Rpb24oYSl7eShcIlF1ZXJ5LmlzRXF1YWxcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIShhIGluc3RhbmNlb2YgWCkpdGhyb3cgRXJyb3IoXCJRdWVyeS5pc0VxdWFsIGZhaWxlZDogRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBmaXJlYmFzZS5kYXRhYmFzZS5RdWVyeS5cIik7dmFyIGI9dGhpcy51PT09YS51LGM9dGhpcy5wYXRoLiQoYS5wYXRoKSxkPXRoaXMua2EoKT09PWEua2EoKTtyZXR1cm4gYiYmYyYmZH07XG5mdW5jdGlvbiB4ZyhhLGIsYyl7dmFyIGQ9e2NhbmNlbDpudWxsLFBhOm51bGx9O2lmKGImJmMpZC5jYW5jZWw9YixBKGEsMyxkLmNhbmNlbCwhMCksZC5QYT1jLEViKGEsNCxkLlBhKTtlbHNlIGlmKGIpaWYoXCJvYmplY3RcIj09PXR5cGVvZiBiJiZudWxsIT09YilkLlBhPWI7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilkLmNhbmNlbD1iO2Vsc2UgdGhyb3cgRXJyb3IoRGIoYSwzLCEwKStcIiBtdXN0IGVpdGhlciBiZSBhIGNhbmNlbCBjYWxsYmFjayBvciBhIGNvbnRleHQgb2JqZWN0LlwiKTtyZXR1cm4gZH1YLnByb3RvdHlwZS5vbj1YLnByb3RvdHlwZS5oYztYLnByb3RvdHlwZS5vZmY9WC5wcm90b3R5cGUuSmM7WC5wcm90b3R5cGUub25jZT1YLnByb3RvdHlwZS5rZztYLnByb3RvdHlwZS5saW1pdFRvRmlyc3Q9WC5wcm90b3R5cGUubmU7WC5wcm90b3R5cGUubGltaXRUb0xhc3Q9WC5wcm90b3R5cGUub2U7WC5wcm90b3R5cGUub3JkZXJCeUNoaWxkPVgucHJvdG90eXBlLmxnO1xuWC5wcm90b3R5cGUub3JkZXJCeUtleT1YLnByb3RvdHlwZS5tZztYLnByb3RvdHlwZS5vcmRlckJ5UHJpb3JpdHk9WC5wcm90b3R5cGUubmc7WC5wcm90b3R5cGUub3JkZXJCeVZhbHVlPVgucHJvdG90eXBlLm9nO1gucHJvdG90eXBlLnN0YXJ0QXQ9WC5wcm90b3R5cGUuTmQ7WC5wcm90b3R5cGUuZW5kQXQ9WC5wcm90b3R5cGUuZmQ7WC5wcm90b3R5cGUuZXF1YWxUbz1YLnByb3RvdHlwZS5SZjtYLnByb3RvdHlwZS50b1N0cmluZz1YLnByb3RvdHlwZS50b1N0cmluZztYLnByb3RvdHlwZS5pc0VxdWFsPVgucHJvdG90eXBlLmlzRXF1YWw7a2QoWC5wcm90b3R5cGUsXCJyZWZcIixYLnByb3RvdHlwZS54Yik7ZnVuY3Rpb24gemcoYSxiKXt0aGlzLnZhbHVlPWE7dGhpcy5jaGlsZHJlbj1ifHxBZ312YXIgQWc9bmV3IFZmKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iPzA6YTxiPy0xOjF9KTtmdW5jdGlvbiBCZyhhKXt2YXIgYj1RO3QoYSxmdW5jdGlvbihhLGQpe2I9Yi5zZXQobmV3IEwoZCksYSl9KTtyZXR1cm4gYn1nPXpnLnByb3RvdHlwZTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMudmFsdWUmJnRoaXMuY2hpbGRyZW4uZSgpfTtmdW5jdGlvbiBDZyhhLGIsYyl7aWYobnVsbCE9YS52YWx1ZSYmYyhhLnZhbHVlKSlyZXR1cm57cGF0aDpDLHZhbHVlOmEudmFsdWV9O2lmKGIuZSgpKXJldHVybiBudWxsO3ZhciBkPUooYik7YT1hLmNoaWxkcmVuLmdldChkKTtyZXR1cm4gbnVsbCE9PWE/KGI9Q2coYSxEKGIpLGMpLG51bGwhPWI/e3BhdGg6KG5ldyBMKGQpKS5rKGIucGF0aCksdmFsdWU6Yi52YWx1ZX06bnVsbCk6bnVsbH1cbmZ1bmN0aW9uIERnKGEsYil7cmV0dXJuIENnKGEsYixmdW5jdGlvbigpe3JldHVybiEwfSl9Zy5zdWJ0cmVlPWZ1bmN0aW9uKGEpe2lmKGEuZSgpKXJldHVybiB0aGlzO3ZhciBiPXRoaXMuY2hpbGRyZW4uZ2V0KEooYSkpO3JldHVybiBudWxsIT09Yj9iLnN1YnRyZWUoRChhKSk6UX07Zy5zZXQ9ZnVuY3Rpb24oYSxiKXtpZihhLmUoKSlyZXR1cm4gbmV3IHpnKGIsdGhpcy5jaGlsZHJlbik7dmFyIGM9SihhKSxkPSh0aGlzLmNoaWxkcmVuLmdldChjKXx8USkuc2V0KEQoYSksYiksYz10aGlzLmNoaWxkcmVuLlJhKGMsZCk7cmV0dXJuIG5ldyB6Zyh0aGlzLnZhbHVlLGMpfTtcbmcucmVtb3ZlPWZ1bmN0aW9uKGEpe2lmKGEuZSgpKXJldHVybiB0aGlzLmNoaWxkcmVuLmUoKT9ROm5ldyB6ZyhudWxsLHRoaXMuY2hpbGRyZW4pO3ZhciBiPUooYSksYz10aGlzLmNoaWxkcmVuLmdldChiKTtyZXR1cm4gYz8oYT1jLnJlbW92ZShEKGEpKSxiPWEuZSgpP3RoaXMuY2hpbGRyZW4ucmVtb3ZlKGIpOnRoaXMuY2hpbGRyZW4uUmEoYixhKSxudWxsPT09dGhpcy52YWx1ZSYmYi5lKCk/UTpuZXcgemcodGhpcy52YWx1ZSxiKSk6dGhpc307Zy5nZXQ9ZnVuY3Rpb24oYSl7aWYoYS5lKCkpcmV0dXJuIHRoaXMudmFsdWU7dmFyIGI9dGhpcy5jaGlsZHJlbi5nZXQoSihhKSk7cmV0dXJuIGI/Yi5nZXQoRChhKSk6bnVsbH07XG5mdW5jdGlvbiBkZShhLGIsYyl7aWYoYi5lKCkpcmV0dXJuIGM7dmFyIGQ9SihiKTtiPWRlKGEuY2hpbGRyZW4uZ2V0KGQpfHxRLEQoYiksYyk7ZD1iLmUoKT9hLmNoaWxkcmVuLnJlbW92ZShkKTphLmNoaWxkcmVuLlJhKGQsYik7cmV0dXJuIG5ldyB6ZyhhLnZhbHVlLGQpfWZ1bmN0aW9uIEVnKGEsYil7cmV0dXJuIEZnKGEsQyxiKX1mdW5jdGlvbiBGZyhhLGIsYyl7dmFyIGQ9e307YS5jaGlsZHJlbi5pYShmdW5jdGlvbihhLGYpe2RbYV09RmcoZixiLmsoYSksYyl9KTtyZXR1cm4gYyhiLGEudmFsdWUsZCl9ZnVuY3Rpb24gR2coYSxiLGMpe3JldHVybiBIZyhhLGIsQyxjKX1mdW5jdGlvbiBIZyhhLGIsYyxkKXt2YXIgZT1hLnZhbHVlP2QoYyxhLnZhbHVlKTohMTtpZihlKXJldHVybiBlO2lmKGIuZSgpKXJldHVybiBudWxsO2U9SihiKTtyZXR1cm4oYT1hLmNoaWxkcmVuLmdldChlKSk/SGcoYSxEKGIpLGMuayhlKSxkKTpudWxsfVxuZnVuY3Rpb24gSWcoYSxiLGMpe0pnKGEsYixDLGMpfWZ1bmN0aW9uIEpnKGEsYixjLGQpe2lmKGIuZSgpKXJldHVybiBhO2EudmFsdWUmJmQoYyxhLnZhbHVlKTt2YXIgZT1KKGIpO3JldHVybihhPWEuY2hpbGRyZW4uZ2V0KGUpKT9KZyhhLEQoYiksYy5rKGUpLGQpOlF9ZnVuY3Rpb24gYmUoYSxiKXtLZyhhLEMsYil9ZnVuY3Rpb24gS2coYSxiLGMpe2EuY2hpbGRyZW4uaWEoZnVuY3Rpb24oYSxlKXtLZyhlLGIuayhhKSxjKX0pO2EudmFsdWUmJmMoYixhLnZhbHVlKX1mdW5jdGlvbiBMZyhhLGIpe2EuY2hpbGRyZW4uaWEoZnVuY3Rpb24oYSxkKXtkLnZhbHVlJiZiKGEsZC52YWx1ZSl9KX12YXIgUT1uZXcgemcobnVsbCk7emcucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9e307YmUodGhpcyxmdW5jdGlvbihiLGMpe2FbYi50b1N0cmluZygpXT1jLnRvU3RyaW5nKCl9KTtyZXR1cm4gQihhKX07ZnVuY3Rpb24gTWcoYSxiLGMpe3RoaXMudHlwZT1VZDt0aGlzLnNvdXJjZT1OZzt0aGlzLnBhdGg9YTt0aGlzLlBiPWI7dGhpcy5JZD1jfU1nLnByb3RvdHlwZS5OYz1mdW5jdGlvbihhKXtpZih0aGlzLnBhdGguZSgpKXtpZihudWxsIT10aGlzLlBiLnZhbHVlKXJldHVybiBIKHRoaXMuUGIuY2hpbGRyZW4uZSgpLFwiYWZmZWN0ZWRUcmVlIHNob3VsZCBub3QgaGF2ZSBvdmVybGFwcGluZyBhZmZlY3RlZCBwYXRocy5cIiksdGhpczthPXRoaXMuUGIuc3VidHJlZShuZXcgTChhKSk7cmV0dXJuIG5ldyBNZyhDLGEsdGhpcy5JZCl9SChKKHRoaXMucGF0aCk9PT1hLFwib3BlcmF0aW9uRm9yQ2hpbGQgY2FsbGVkIGZvciB1bnJlbGF0ZWQgY2hpbGQuXCIpO3JldHVybiBuZXcgTWcoRCh0aGlzLnBhdGgpLHRoaXMuUGIsdGhpcy5JZCl9O1xuTWcucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIGFjayB3cml0ZSByZXZlcnQ9XCIrdGhpcy5JZCtcIiBhZmZlY3RlZFRyZWU9XCIrdGhpcy5QYitcIilcIn07dmFyIGFjPTAsd2Q9MSxVZD0yLGNjPTM7ZnVuY3Rpb24gT2coYSxiLGMsZCl7dGhpcy5lZT1hO3RoaXMuV2U9Yjt0aGlzLkliPWM7dGhpcy5FZT1kO0goIWR8fGIsXCJUYWdnZWQgcXVlcmllcyBtdXN0IGJlIGZyb20gc2VydmVyLlwiKX12YXIgTmc9bmV3IE9nKCEwLCExLG51bGwsITEpLFBnPW5ldyBPZyghMSwhMCxudWxsLCExKTtPZy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZT9cInVzZXJcIjp0aGlzLkVlP1wic2VydmVyKHF1ZXJ5SUQ9XCIrdGhpcy5JYitcIilcIjpcInNlcnZlclwifTtmdW5jdGlvbiBRZyhhKXt0aGlzLlg9YX12YXIgUmc9bmV3IFFnKG5ldyB6ZyhudWxsKSk7ZnVuY3Rpb24gU2coYSxiLGMpe2lmKGIuZSgpKXJldHVybiBuZXcgUWcobmV3IHpnKGMpKTt2YXIgZD1EZyhhLlgsYik7aWYobnVsbCE9ZCl7dmFyIGU9ZC5wYXRoLGQ9ZC52YWx1ZTtiPVQoZSxiKTtkPWQuRihiLGMpO3JldHVybiBuZXcgUWcoYS5YLnNldChlLGQpKX1hPWRlKGEuWCxiLG5ldyB6ZyhjKSk7cmV0dXJuIG5ldyBRZyhhKX1mdW5jdGlvbiBUZyhhLGIsYyl7dmFyIGQ9YTtDYihjLGZ1bmN0aW9uKGEsYyl7ZD1TZyhkLGIuayhhKSxjKX0pO3JldHVybiBkfVFnLnByb3RvdHlwZS5FZD1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gUmc7YT1kZSh0aGlzLlgsYSxRKTtyZXR1cm4gbmV3IFFnKGEpfTtmdW5jdGlvbiBVZyhhLGIpe3ZhciBjPURnKGEuWCxiKTtyZXR1cm4gbnVsbCE9Yz9hLlguZ2V0KGMucGF0aCkuUShUKGMucGF0aCxiKSk6bnVsbH1cbmZ1bmN0aW9uIFZnKGEpe3ZhciBiPVtdLGM9YS5YLnZhbHVlO251bGwhPWM/Yy5KKCl8fGMuUChOLGZ1bmN0aW9uKGEsYyl7Yi5wdXNoKG5ldyBLKGEsYykpfSk6YS5YLmNoaWxkcmVuLmlhKGZ1bmN0aW9uKGEsYyl7bnVsbCE9Yy52YWx1ZSYmYi5wdXNoKG5ldyBLKGEsYy52YWx1ZSkpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gV2coYSxiKXtpZihiLmUoKSlyZXR1cm4gYTt2YXIgYz1VZyhhLGIpO3JldHVybiBudWxsIT1jP25ldyBRZyhuZXcgemcoYykpOm5ldyBRZyhhLlguc3VidHJlZShiKSl9UWcucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5YLmUoKX07UWcucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGEpe3JldHVybiBYZyhDLHRoaXMuWCxhKX07XG5mdW5jdGlvbiBYZyhhLGIsYyl7aWYobnVsbCE9Yi52YWx1ZSlyZXR1cm4gYy5GKGEsYi52YWx1ZSk7dmFyIGQ9bnVsbDtiLmNoaWxkcmVuLmlhKGZ1bmN0aW9uKGIsZil7XCIucHJpb3JpdHlcIj09PWI/KEgobnVsbCE9PWYudmFsdWUsXCJQcmlvcml0eSB3cml0ZXMgbXVzdCBhbHdheXMgYmUgbGVhZiBub2Rlc1wiKSxkPWYudmFsdWUpOmM9WGcoYS5rKGIpLGYsYyl9KTtjLlEoYSkuZSgpfHxudWxsPT09ZHx8KGM9Yy5GKGEuayhcIi5wcmlvcml0eVwiKSxkKSk7cmV0dXJuIGN9O2Z1bmN0aW9uIFlnKCl7dGhpcy5BYT17fX1nPVlnLnByb3RvdHlwZTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4geGEodGhpcy5BYSl9O2cuZ2I9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuc291cmNlLkliO2lmKG51bGwhPT1kKXJldHVybiBkPXgodGhpcy5BYSxkKSxIKG51bGwhPWQsXCJTeW5jVHJlZSBnYXZlIHVzIGFuIG9wIGZvciBhbiBpbnZhbGlkIHF1ZXJ5LlwiKSxkLmdiKGEsYixjKTt2YXIgZT1bXTt0KHRoaXMuQWEsZnVuY3Rpb24oZCl7ZT1lLmNvbmNhdChkLmdiKGEsYixjKSl9KTtyZXR1cm4gZX07Zy5PYj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEua2EoKSxoPXgodGhpcy5BYSxmKTtpZighaCl7dmFyIGg9Yy5CYShlP2Q6bnVsbCksaz0hMTtoP2s9ITA6KGg9ZCBpbnN0YW5jZW9mIFA/Yy5zYyhkKTpGLGs9ITEpO2g9bmV3IG9nKGEsbmV3IFlkKG5ldyB6YyhoLGssITEpLG5ldyB6YyhkLGUsITEpKSk7dGhpcy5BYVtmXT1ofWguT2IoYik7cmV0dXJuIHJnKGgsYil9O1xuZy5tYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5rYSgpLGU9W10sZj1bXSxoPW51bGwhPVpnKHRoaXMpO2lmKFwiZGVmYXVsdFwiPT09ZCl7dmFyIGs9dGhpczt0KHRoaXMuQWEsZnVuY3Rpb24oYSxkKXtmPWYuY29uY2F0KGEubWIoYixjKSk7YS5lKCkmJihkZWxldGUgay5BYVtkXSxTKGEuVy5uKXx8ZS5wdXNoKGEuVykpfSl9ZWxzZXt2YXIgbT14KHRoaXMuQWEsZCk7bSYmKGY9Zi5jb25jYXQobS5tYihiLGMpKSxtLmUoKSYmKGRlbGV0ZSB0aGlzLkFhW2RdLFMobS5XLm4pfHxlLnB1c2gobS5XKSkpfWgmJm51bGw9PVpnKHRoaXMpJiZlLnB1c2gobmV3IFUoYS51LGEucGF0aCkpO3JldHVybntzZzplLFRmOmZ9fTtmdW5jdGlvbiAkZyhhKXtyZXR1cm4gS2Eoc2EoYS5BYSksZnVuY3Rpb24oYSl7cmV0dXJuIVMoYS5XLm4pfSl9Zy5qYj1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3QodGhpcy5BYSxmdW5jdGlvbihjKXtiPWJ8fGMuamIoYSl9KTtyZXR1cm4gYn07XG5mdW5jdGlvbiBhaChhLGIpe2lmKFMoYi5uKSlyZXR1cm4gWmcoYSk7dmFyIGM9Yi5rYSgpO3JldHVybiB4KGEuQWEsYyl9ZnVuY3Rpb24gWmcoYSl7cmV0dXJuIHdhKGEuQWEsZnVuY3Rpb24oYSl7cmV0dXJuIFMoYS5XLm4pfSl8fG51bGx9O2Z1bmN0aW9uIGJoKCl7dGhpcy5UPVJnO3RoaXMubWE9W107dGhpcy5DYz0tMX1mdW5jdGlvbiBjaChhLGIpe2Zvcih2YXIgYz0wO2M8YS5tYS5sZW5ndGg7YysrKXt2YXIgZD1hLm1hW2NdO2lmKGQuWmM9PT1iKXJldHVybiBkfXJldHVybiBudWxsfWc9YmgucHJvdG90eXBlO1xuZy5FZD1mdW5jdGlvbihhKXt2YXIgYj1QYSh0aGlzLm1hLGZ1bmN0aW9uKGIpe3JldHVybiBiLlpjPT09YX0pO0goMDw9YixcInJlbW92ZVdyaXRlIGNhbGxlZCB3aXRoIG5vbmV4aXN0ZW50IHdyaXRlSWQuXCIpO3ZhciBjPXRoaXMubWFbYl07dGhpcy5tYS5zcGxpY2UoYiwxKTtmb3IodmFyIGQ9Yy52aXNpYmxlLGU9ITEsZj10aGlzLm1hLmxlbmd0aC0xO2QmJjA8PWY7KXt2YXIgaD10aGlzLm1hW2ZdO2gudmlzaWJsZSYmKGY+PWImJmRoKGgsYy5wYXRoKT9kPSExOmMucGF0aC5jb250YWlucyhoLnBhdGgpJiYoZT0hMCkpO2YtLX1pZihkKXtpZihlKXRoaXMuVD1laCh0aGlzLm1hLGZoLEMpLHRoaXMuQ2M9MDx0aGlzLm1hLmxlbmd0aD90aGlzLm1hW3RoaXMubWEubGVuZ3RoLTFdLlpjOi0xO2Vsc2UgaWYoYy5KYSl0aGlzLlQ9dGhpcy5ULkVkKGMucGF0aCk7ZWxzZXt2YXIgaz10aGlzO3QoYy5jaGlsZHJlbixmdW5jdGlvbihhLGIpe2suVD1rLlQuRWQoYy5wYXRoLmsoYikpfSl9cmV0dXJuITB9cmV0dXJuITF9O1xuZy5CYT1mdW5jdGlvbihhLGIsYyxkKXtpZihjfHxkKXt2YXIgZT1XZyh0aGlzLlQsYSk7cmV0dXJuIWQmJmUuZSgpP2I6ZHx8bnVsbCE9Ynx8bnVsbCE9VWcoZSxDKT8oZT1laCh0aGlzLm1hLGZ1bmN0aW9uKGIpe3JldHVybihiLnZpc2libGV8fGQpJiYoIWN8fCEoMDw9SWEoYyxiLlpjKSkpJiYoYi5wYXRoLmNvbnRhaW5zKGEpfHxhLmNvbnRhaW5zKGIucGF0aCkpfSxhKSxiPWJ8fEYsZS5hcHBseShiKSk6bnVsbH1lPVVnKHRoaXMuVCxhKTtpZihudWxsIT1lKXJldHVybiBlO2U9V2codGhpcy5ULGEpO3JldHVybiBlLmUoKT9iOm51bGwhPWJ8fG51bGwhPVVnKGUsQyk/KGI9Ynx8RixlLmFwcGx5KGIpKTpudWxsfTtcbmcuc2M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1GLGQ9VWcodGhpcy5ULGEpO2lmKGQpZC5KKCl8fGQuUChOLGZ1bmN0aW9uKGEsYil7Yz1jLlUoYSxiKX0pO2Vsc2UgaWYoYil7dmFyIGU9V2codGhpcy5ULGEpO2IuUChOLGZ1bmN0aW9uKGEsYil7dmFyIGQ9V2coZSxuZXcgTChhKSkuYXBwbHkoYik7Yz1jLlUoYSxkKX0pO0phKFZnKGUpLGZ1bmN0aW9uKGEpe2M9Yy5VKGEubmFtZSxhLlMpfSl9ZWxzZSBlPVdnKHRoaXMuVCxhKSxKYShWZyhlKSxmdW5jdGlvbihhKXtjPWMuVShhLm5hbWUsYS5TKX0pO3JldHVybiBjfTtnLiRjPWZ1bmN0aW9uKGEsYixjLGQpe0goY3x8ZCxcIkVpdGhlciBleGlzdGluZ0V2ZW50U25hcCBvciBleGlzdGluZ1NlcnZlclNuYXAgbXVzdCBleGlzdFwiKTthPWEuayhiKTtpZihudWxsIT1VZyh0aGlzLlQsYSkpcmV0dXJuIG51bGw7YT1XZyh0aGlzLlQsYSk7cmV0dXJuIGEuZSgpP2QuUShiKTphLmFwcGx5KGQuUShiKSl9O1xuZy5yYz1mdW5jdGlvbihhLGIsYyl7YT1hLmsoYik7dmFyIGQ9VWcodGhpcy5ULGEpO3JldHVybiBudWxsIT1kP2Q6eWMoYyxiKT9XZyh0aGlzLlQsYSkuYXBwbHkoYy5qKCkuUihiKSk6bnVsbH07Zy5tYz1mdW5jdGlvbihhKXtyZXR1cm4gVWcodGhpcy5ULGEpfTtnLlhkPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgaDthPVdnKHRoaXMuVCxhKTtoPVVnKGEsQyk7aWYobnVsbD09aClpZihudWxsIT1iKWg9YS5hcHBseShiKTtlbHNlIHJldHVybltdO2g9aC5vYihmKTtpZihoLmUoKXx8aC5KKCkpcmV0dXJuW107Yj1bXTthPW9lKGYpO2U9ZT9oLiRiKGMsZik6aC5ZYihjLGYpO2ZvcihmPVIoZSk7ZiYmYi5sZW5ndGg8ZDspMCE9PWEoZixjKSYmYi5wdXNoKGYpLGY9UihlKTtyZXR1cm4gYn07XG5mdW5jdGlvbiBkaChhLGIpe3JldHVybiBhLkphP2EucGF0aC5jb250YWlucyhiKTohIXZhKGEuY2hpbGRyZW4sZnVuY3Rpb24oYyxkKXtyZXR1cm4gYS5wYXRoLmsoZCkuY29udGFpbnMoYil9KX1mdW5jdGlvbiBmaChhKXtyZXR1cm4gYS52aXNpYmxlfVxuZnVuY3Rpb24gZWgoYSxiLGMpe2Zvcih2YXIgZD1SZyxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWFbZV07aWYoYihmKSl7dmFyIGg9Zi5wYXRoO2lmKGYuSmEpYy5jb250YWlucyhoKT8oaD1UKGMsaCksZD1TZyhkLGgsZi5KYSkpOmguY29udGFpbnMoYykmJihoPVQoaCxjKSxkPVNnKGQsQyxmLkphLlEoaCkpKTtlbHNlIGlmKGYuY2hpbGRyZW4paWYoYy5jb250YWlucyhoKSloPVQoYyxoKSxkPVRnKGQsaCxmLmNoaWxkcmVuKTtlbHNle2lmKGguY29udGFpbnMoYykpaWYoaD1UKGgsYyksaC5lKCkpZD1UZyhkLEMsZi5jaGlsZHJlbik7ZWxzZSBpZihmPXgoZi5jaGlsZHJlbixKKGgpKSlmPWYuUShEKGgpKSxkPVNnKGQsQyxmKX1lbHNlIHRocm93IFNjKFwiV3JpdGVSZWNvcmQgc2hvdWxkIGhhdmUgLnNuYXAgb3IgLmNoaWxkcmVuXCIpO319cmV0dXJuIGR9ZnVuY3Rpb24gZ2goYSxiKXt0aGlzLk1iPWE7dGhpcy5YPWJ9Zz1naC5wcm90b3R5cGU7XG5nLkJhPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5YLkJhKHRoaXMuTWIsYSxiLGMpfTtnLnNjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLlguc2ModGhpcy5NYixhKX07Zy4kYz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuWC4kYyh0aGlzLk1iLGEsYixjKX07Zy5tYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5YLm1jKHRoaXMuTWIuayhhKSl9O2cuWGQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gdGhpcy5YLlhkKHRoaXMuTWIsYSxiLGMsZCxlKX07Zy5yYz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLlgucmModGhpcy5NYixhLGIpfTtnLms9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBnaCh0aGlzLk1iLmsoYSksdGhpcy5YKX07ZnVuY3Rpb24gaGgoKXt0aGlzLmNoaWxkcmVuPXt9O3RoaXMuYWQ9MDt0aGlzLnZhbHVlPW51bGx9ZnVuY3Rpb24gaWgoYSxiLGMpe3RoaXMudWQ9YT9hOlwiXCI7dGhpcy5IYT1iP2I6bnVsbDt0aGlzLkE9Yz9jOm5ldyBoaH1mdW5jdGlvbiBqaChhLGIpe2Zvcih2YXIgYz1iIGluc3RhbmNlb2YgTD9iOm5ldyBMKGIpLGQ9YSxlO251bGwhPT0oZT1KKGMpKTspZD1uZXcgaWgoZSxkLHgoZC5BLmNoaWxkcmVuLGUpfHxuZXcgaGgpLGM9RChjKTtyZXR1cm4gZH1nPWloLnByb3RvdHlwZTtnLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQS52YWx1ZX07ZnVuY3Rpb24ga2goYSxiKXtIKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgYixcIkNhbm5vdCBzZXQgdmFsdWUgdG8gdW5kZWZpbmVkXCIpO2EuQS52YWx1ZT1iO2xoKGEpfWcuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLkEudmFsdWU9bnVsbDt0aGlzLkEuY2hpbGRyZW49e307dGhpcy5BLmFkPTA7bGgodGhpcyl9O1xuZy5rZD1mdW5jdGlvbigpe3JldHVybiAwPHRoaXMuQS5hZH07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLkVhKCkmJiF0aGlzLmtkKCl9O2cuUD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3QodGhpcy5BLmNoaWxkcmVuLGZ1bmN0aW9uKGMsZCl7YShuZXcgaWgoZCxiLGMpKX0pfTtmdW5jdGlvbiBtaChhLGIsYyxkKXtjJiYhZCYmYihhKTthLlAoZnVuY3Rpb24oYSl7bWgoYSxiLCEwLGQpfSk7YyYmZCYmYihhKX1mdW5jdGlvbiBuaChhLGIpe2Zvcih2YXIgYz1hLnBhcmVudCgpO251bGwhPT1jJiYhYihjKTspYz1jLnBhcmVudCgpfWcucGF0aD1mdW5jdGlvbigpe3JldHVybiBuZXcgTChudWxsPT09dGhpcy5IYT90aGlzLnVkOnRoaXMuSGEucGF0aCgpK1wiL1wiK3RoaXMudWQpfTtnLm5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51ZH07Zy5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5IYX07XG5mdW5jdGlvbiBsaChhKXtpZihudWxsIT09YS5IYSl7dmFyIGI9YS5IYSxjPWEudWQsZD1hLmUoKSxlPUJiKGIuQS5jaGlsZHJlbixjKTtkJiZlPyhkZWxldGUgYi5BLmNoaWxkcmVuW2NdLGIuQS5hZC0tLGxoKGIpKTpkfHxlfHwoYi5BLmNoaWxkcmVuW2NdPWEuQSxiLkEuYWQrKyxsaChiKSl9fTtmdW5jdGlvbiBvaChhLGIsYyxkLGUsZil7dGhpcy5pZD1waCsrO3RoaXMuZj1ZYyhcInA6XCIrdGhpcy5pZCtcIjpcIik7dGhpcy5xZD17fTt0aGlzLmFhPXt9O3RoaXMucWE9W107dGhpcy5QYz0wO3RoaXMuTGM9W107dGhpcy5uYT0hMTt0aGlzLlZhPTFFMzt0aGlzLnRkPTNFNTt0aGlzLkhiPWI7dGhpcy5LYz1jO3RoaXMudWU9ZDt0aGlzLk09YTt0aGlzLnBiPXRoaXMuSWE9dGhpcy5EYj10aGlzLnplPW51bGw7dGhpcy5WZD1lO3RoaXMuZGU9ITE7dGhpcy5rZT0wO2lmKGYpdGhyb3cgRXJyb3IoXCJBdXRoIG92ZXJyaWRlIHNwZWNpZmllZCBpbiBvcHRpb25zLCBidXQgbm90IHN1cHBvcnRlZCBvbiBub24gTm9kZS5qcyBwbGF0Zm9ybXNcIik7dGhpcy5KZT1mfHxudWxsO3RoaXMudmI9bnVsbDt0aGlzLk5iPSExO3RoaXMuR2Q9e307dGhpcy50Zz0wO3RoaXMuVmU9ITA7dGhpcy5CYz10aGlzLm1lPW51bGw7cWgodGhpcywwKTtUZi5XYigpLmhjKFwidmlzaWJsZVwiLHRoaXMuamcsdGhpcyk7LTE9PT1cbmEuaG9zdC5pbmRleE9mKFwiZmJsb2NhbFwiKSYmU2YuV2IoKS5oYyhcIm9ubGluZVwiLHRoaXMuaWcsdGhpcyl9dmFyIHBoPTAscmg9MDtnPW9oLnByb3RvdHlwZTtnLnZhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0rK3RoaXMudGc7YT17cjpkLGE6YSxiOmJ9O3RoaXMuZihCKGEpKTtIKHRoaXMubmEsXCJzZW5kUmVxdWVzdCBjYWxsIHdoZW4gd2UncmUgbm90IGNvbm5lY3RlZCBub3QgYWxsb3dlZC5cIik7dGhpcy5JYS52YShhKTtjJiYodGhpcy5HZFtkXT1jKX07XG5nLmRmPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEua2EoKSxmPWEucGF0aC50b1N0cmluZygpO3RoaXMuZihcIkxpc3RlbiBjYWxsZWQgZm9yIFwiK2YrXCIgXCIrZSk7dGhpcy5hYVtmXT10aGlzLmFhW2ZdfHx7fTtIKHJkKGEubil8fCFTKGEubiksXCJsaXN0ZW4oKSBjYWxsZWQgZm9yIG5vbi1kZWZhdWx0IGJ1dCBjb21wbGV0ZSBxdWVyeVwiKTtIKCF0aGlzLmFhW2ZdW2VdLFwibGlzdGVuKCkgY2FsbGVkIHR3aWNlIGZvciBzYW1lIHBhdGgvcXVlcnlJZC5cIik7YT17RzpkLGxkOmIscGc6YSx0YWc6Y307dGhpcy5hYVtmXVtlXT1hO3RoaXMubmEmJnNoKHRoaXMsYSl9O1xuZnVuY3Rpb24gc2goYSxiKXt2YXIgYz1iLnBnLGQ9Yy5wYXRoLnRvU3RyaW5nKCksZT1jLmthKCk7YS5mKFwiTGlzdGVuIG9uIFwiK2QrXCIgZm9yIFwiK2UpO3ZhciBmPXtwOmR9O2IudGFnJiYoZi5xPUllKGMubiksZi50PWIudGFnKTtmLmg9Yi5sZCgpO2EudmEoXCJxXCIsZixmdW5jdGlvbihmKXt2YXIgaz1mLmQsbT1mLnM7aWYoayYmXCJvYmplY3RcIj09PXR5cGVvZiBrJiZCYihrLFwid1wiKSl7dmFyIGw9eChrLFwid1wiKTtkYShsKSYmMDw9SWEobCxcIm5vX2luZGV4XCIpJiZPKFwiVXNpbmcgYW4gdW5zcGVjaWZpZWQgaW5kZXguIENvbnNpZGVyIGFkZGluZyBcIisoJ1wiLmluZGV4T25cIjogXCInK2Mubi5nLnRvU3RyaW5nKCkrJ1wiJykrXCIgYXQgXCIrYy5wYXRoLnRvU3RyaW5nKCkrXCIgdG8geW91ciBzZWN1cml0eSBydWxlcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXCIpfShhLmFhW2RdJiZhLmFhW2RdW2VdKT09PWImJihhLmYoXCJsaXN0ZW4gcmVzcG9uc2VcIixmKSxcIm9rXCIhPT1tJiZ0aChhLGQsZSksYi5HJiZcbmIuRyhtLGspKX0pfWcucWY9ZnVuY3Rpb24oYSl7dGhpcy5wYj1hO3RoaXMuZihcIkF1dGggdG9rZW4gcmVmcmVzaGVkXCIpO3RoaXMucGI/dWgodGhpcyk6dGhpcy5uYSYmdGhpcy52YShcInVuYXV0aFwiLHt9LGZ1bmN0aW9uKCl7fSk7aWYoYSYmNDA9PT1hLmxlbmd0aHx8b2QoYSkpdGhpcy5mKFwiQWRtaW4gYXV0aCBjcmVkZW50aWFsIGRldGVjdGVkLiAgUmVkdWNpbmcgbWF4IHJlY29ubmVjdCB0aW1lLlwiKSx0aGlzLnRkPTNFNH07ZnVuY3Rpb24gdWgoYSl7aWYoYS5uYSYmYS5wYil7dmFyIGI9YS5wYixjPW5kKGIpP1wiYXV0aFwiOlwiZ2F1dGhcIixkPXtjcmVkOmJ9O2EuSmUmJihkLmF1dGh2YXI9YS5KZSk7YS52YShjLGQsZnVuY3Rpb24oYyl7dmFyIGQ9Yy5zO2M9Yy5kfHxcImVycm9yXCI7YS5wYj09PWImJihcIm9rXCI9PT1kP2Eua2U9MDp2aChhLGQsYykpfSl9fVxuZy5FZj1mdW5jdGlvbihhLGIpe3ZhciBjPWEucGF0aC50b1N0cmluZygpLGQ9YS5rYSgpO3RoaXMuZihcIlVubGlzdGVuIGNhbGxlZCBmb3IgXCIrYytcIiBcIitkKTtIKHJkKGEubil8fCFTKGEubiksXCJ1bmxpc3RlbigpIGNhbGxlZCBmb3Igbm9uLWRlZmF1bHQgYnV0IGNvbXBsZXRlIHF1ZXJ5XCIpO2lmKHRoKHRoaXMsYyxkKSYmdGhpcy5uYSl7dmFyIGU9SWUoYS5uKTt0aGlzLmYoXCJVbmxpc3RlbiBvbiBcIitjK1wiIGZvciBcIitkKTtjPXtwOmN9O2ImJihjLnE9ZSxjLnQ9Yik7dGhpcy52YShcIm5cIixjKX19O2cucmU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubmE/d2godGhpcyxcIm9cIixhLGIsYyk6dGhpcy5MYy5wdXNoKHt3ZTphLGFjdGlvbjpcIm9cIixkYXRhOmIsRzpjfSl9O2cuZ2Y9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubmE/d2godGhpcyxcIm9tXCIsYSxiLGMpOnRoaXMuTGMucHVzaCh7d2U6YSxhY3Rpb246XCJvbVwiLGRhdGE6YixHOmN9KX07XG5nLnhkPWZ1bmN0aW9uKGEsYil7dGhpcy5uYT93aCh0aGlzLFwib2NcIixhLG51bGwsYik6dGhpcy5MYy5wdXNoKHt3ZTphLGFjdGlvbjpcIm9jXCIsZGF0YTpudWxsLEc6Yn0pfTtmdW5jdGlvbiB3aChhLGIsYyxkLGUpe2M9e3A6YyxkOmR9O2EuZihcIm9uRGlzY29ubmVjdCBcIitiLGMpO2EudmEoYixjLGZ1bmN0aW9uKGEpe2UmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGEucyxhLmQpfSxNYXRoLmZsb29yKDApKX0pfWcucHV0PWZ1bmN0aW9uKGEsYixjLGQpe3hoKHRoaXMsXCJwXCIsYSxiLGMsZCl9O2cuZWY9ZnVuY3Rpb24oYSxiLGMsZCl7eGgodGhpcyxcIm1cIixhLGIsYyxkKX07ZnVuY3Rpb24geGgoYSxiLGMsZCxlLGYpe2Q9e3A6YyxkOmR9O3AoZikmJihkLmg9Zik7YS5xYS5wdXNoKHthY3Rpb246YixzZjpkLEc6ZX0pO2EuUGMrKztiPWEucWEubGVuZ3RoLTE7YS5uYT95aChhLGIpOmEuZihcIkJ1ZmZlcmluZyBwdXQ6IFwiK2MpfVxuZnVuY3Rpb24geWgoYSxiKXt2YXIgYz1hLnFhW2JdLmFjdGlvbixkPWEucWFbYl0uc2YsZT1hLnFhW2JdLkc7YS5xYVtiXS5xZz1hLm5hO2EudmEoYyxkLGZ1bmN0aW9uKGQpe2EuZihjK1wiIHJlc3BvbnNlXCIsZCk7ZGVsZXRlIGEucWFbYl07YS5QYy0tOzA9PT1hLlBjJiYoYS5xYT1bXSk7ZSYmZShkLnMsZC5kKX0pfWcueWU9ZnVuY3Rpb24oYSl7dGhpcy5uYSYmKGE9e2M6YX0sdGhpcy5mKFwicmVwb3J0U3RhdHNcIixhKSx0aGlzLnZhKFwic1wiLGEsZnVuY3Rpb24oYSl7XCJva1wiIT09YS5zJiZ0aGlzLmYoXCJyZXBvcnRTdGF0c1wiLFwiRXJyb3Igc2VuZGluZyBzdGF0czogXCIrYS5kKX0pKX07XG5nLndkPWZ1bmN0aW9uKGEpe2lmKFwiclwiaW4gYSl7dGhpcy5mKFwiZnJvbSBzZXJ2ZXI6IFwiK0IoYSkpO3ZhciBiPWEucixjPXRoaXMuR2RbYl07YyYmKGRlbGV0ZSB0aGlzLkdkW2JdLGMoYS5iKSl9ZWxzZXtpZihcImVycm9yXCJpbiBhKXRocm93XCJBIHNlcnZlci1zaWRlIGVycm9yIGhhcyBvY2N1cnJlZDogXCIrYS5lcnJvcjtcImFcImluIGEmJihiPWEuYSxhPWEuYix0aGlzLmYoXCJoYW5kbGVTZXJ2ZXJNZXNzYWdlXCIsYixhKSxcImRcIj09PWI/dGhpcy5IYihhLnAsYS5kLCExLGEudCk6XCJtXCI9PT1iP3RoaXMuSGIoYS5wLGEuZCwhMCxhLnQpOlwiY1wiPT09Yj96aCh0aGlzLGEucCxhLnEpOlwiYWNcIj09PWI/dmgodGhpcyxhLnMsYS5kKTpcInNkXCI9PT1iP3RoaXMuemU/dGhpcy56ZShhKTpcIm1zZ1wiaW4gYSYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLmxvZyhcIkZJUkVCQVNFOiBcIithLm1zZy5yZXBsYWNlKFwiXFxuXCIsXCJcXG5GSVJFQkFTRTogXCIpKTpaYyhcIlVucmVjb2duaXplZCBhY3Rpb24gcmVjZWl2ZWQgZnJvbSBzZXJ2ZXI6IFwiK1xuQihiKStcIlxcbkFyZSB5b3UgdXNpbmcgdGhlIGxhdGVzdCBjbGllbnQ/XCIpKX19O2cuTWM9ZnVuY3Rpb24oYSxiKXt0aGlzLmYoXCJjb25uZWN0aW9uIHJlYWR5XCIpO3RoaXMubmE9ITA7dGhpcy5CYz0obmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLnVlKHtzZXJ2ZXJUaW1lT2Zmc2V0OmEtKG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt0aGlzLkRiPWI7aWYodGhpcy5WZSl7dmFyIGM9e307Y1tcInNkay5qcy5cIitmaXJlYmFzZS5TREtfVkVSU0lPTi5yZXBsYWNlKC9cXC4vZyxcIi1cIildPTE7UWIoKT9jW1wiZnJhbWV3b3JrLmNvcmRvdmFcIl09MTpcIm9iamVjdFwiPT09dHlwZW9mIG5hdmlnYXRvciYmXCJSZWFjdE5hdGl2ZVwiPT09bmF2aWdhdG9yLnByb2R1Y3QmJihjW1wiZnJhbWV3b3JrLnJlYWN0bmF0aXZlXCJdPTEpO3RoaXMueWUoYyl9QWgodGhpcyk7dGhpcy5WZT0hMTt0aGlzLktjKCEwKX07XG5mdW5jdGlvbiBxaChhLGIpe0goIWEuSWEsXCJTY2hlZHVsaW5nIGEgY29ubmVjdCB3aGVuIHdlJ3JlIGFscmVhZHkgY29ubmVjdGVkL2luZz9cIik7YS52YiYmY2xlYXJUaW1lb3V0KGEudmIpO2EudmI9c2V0VGltZW91dChmdW5jdGlvbigpe2EudmI9bnVsbDtCaChhKX0sTWF0aC5mbG9vcihiKSl9Zy5qZz1mdW5jdGlvbihhKXthJiYhdGhpcy5OYiYmdGhpcy5WYT09PXRoaXMudGQmJih0aGlzLmYoXCJXaW5kb3cgYmVjYW1lIHZpc2libGUuICBSZWR1Y2luZyBkZWxheS5cIiksdGhpcy5WYT0xRTMsdGhpcy5JYXx8cWgodGhpcywwKSk7dGhpcy5OYj1hfTtnLmlnPWZ1bmN0aW9uKGEpe2E/KHRoaXMuZihcIkJyb3dzZXIgd2VudCBvbmxpbmUuXCIpLHRoaXMuVmE9MUUzLHRoaXMuSWF8fHFoKHRoaXMsMCkpOih0aGlzLmYoXCJCcm93c2VyIHdlbnQgb2ZmbGluZS4gIEtpbGxpbmcgY29ubmVjdGlvbi5cIiksdGhpcy5JYSYmdGhpcy5JYS5jbG9zZSgpKX07XG5nLmpmPWZ1bmN0aW9uKCl7dGhpcy5mKFwiZGF0YSBjbGllbnQgZGlzY29ubmVjdGVkXCIpO3RoaXMubmE9ITE7dGhpcy5JYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5xYS5sZW5ndGg7YSsrKXt2YXIgYj10aGlzLnFhW2FdO2ImJlwiaFwiaW4gYi5zZiYmYi5xZyYmKGIuRyYmYi5HKFwiZGlzY29ubmVjdFwiKSxkZWxldGUgdGhpcy5xYVthXSx0aGlzLlBjLS0pfTA9PT10aGlzLlBjJiYodGhpcy5xYT1bXSk7dGhpcy5HZD17fTtDaCh0aGlzKSYmKHRoaXMuTmI/dGhpcy5CYyYmKDNFNDwobmV3IERhdGUpLmdldFRpbWUoKS10aGlzLkJjJiYodGhpcy5WYT0xRTMpLHRoaXMuQmM9bnVsbCk6KHRoaXMuZihcIldpbmRvdyBpc24ndCB2aXNpYmxlLiAgRGVsYXlpbmcgcmVjb25uZWN0LlwiKSx0aGlzLlZhPXRoaXMudGQsdGhpcy5tZT0obmV3IERhdGUpLmdldFRpbWUoKSksYT1NYXRoLm1heCgwLHRoaXMuVmEtKChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMubWUpKSxhKj1NYXRoLnJhbmRvbSgpLHRoaXMuZihcIlRyeWluZyB0byByZWNvbm5lY3QgaW4gXCIrXG5hK1wibXNcIikscWgodGhpcyxhKSx0aGlzLlZhPU1hdGgubWluKHRoaXMudGQsMS4zKnRoaXMuVmEpKTt0aGlzLktjKCExKX07XG5mdW5jdGlvbiBCaChhKXtpZihDaChhKSl7YS5mKFwiTWFraW5nIGEgY29ubmVjdGlvbiBhdHRlbXB0XCIpO2EubWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7YS5CYz1udWxsO3ZhciBiPXIoYS53ZCxhKSxjPXIoYS5NYyxhKSxkPXIoYS5qZixhKSxlPWEuaWQrXCI6XCIrcmgrKyxmPWEuRGIsaD0hMSxrPW51bGwsbT1mdW5jdGlvbigpe2s/ay5jbG9zZSgpOihoPSEwLGQoKSl9O2EuSWE9e2Nsb3NlOm0sdmE6ZnVuY3Rpb24oYSl7SChrLFwic2VuZFJlcXVlc3QgY2FsbCB3aGVuIHdlJ3JlIG5vdCBjb25uZWN0ZWQgbm90IGFsbG93ZWQuXCIpO2sudmEoYSl9fTt2YXIgbD1hLmRlO2EuZGU9ITE7YS5WZC5nZXRUb2tlbihsKS50aGVuKGZ1bmN0aW9uKGwpe2g/RShcImdldFRva2VuKCkgY29tcGxldGVkIGJ1dCB3YXMgY2FuY2VsZWRcIik6KEUoXCJnZXRUb2tlbigpIGNvbXBsZXRlZC4gQ3JlYXRpbmcgY29ubmVjdGlvbi5cIiksYS5wYj1sJiZsLmFjY2Vzc1Rva2VuLGs9bmV3IGJmKGUsYS5NLGIsYyxkLGZ1bmN0aW9uKGIpe08oYitcblwiIChcIithLk0udG9TdHJpbmcoKStcIilcIik7YS5lYihcInNlcnZlcl9raWxsXCIpfSxmKSl9KS50aGVuKG51bGwsZnVuY3Rpb24oYil7YS5mKFwiRmFpbGVkIHRvIGdldCB0b2tlbjogXCIrYik7aHx8bSgpfSl9fWcuZWI9ZnVuY3Rpb24oYSl7RShcIkludGVycnVwdGluZyBjb25uZWN0aW9uIGZvciByZWFzb246IFwiK2EpO3RoaXMucWRbYV09ITA7dGhpcy5JYT90aGlzLklhLmNsb3NlKCk6KHRoaXMudmImJihjbGVhclRpbWVvdXQodGhpcy52YiksdGhpcy52Yj1udWxsKSx0aGlzLm5hJiZ0aGlzLmpmKCkpfTtnLmxjPWZ1bmN0aW9uKGEpe0UoXCJSZXN1bWluZyBjb25uZWN0aW9uIGZvciByZWFzb246IFwiK2EpO2RlbGV0ZSB0aGlzLnFkW2FdO3hhKHRoaXMucWQpJiYodGhpcy5WYT0xRTMsdGhpcy5JYXx8cWgodGhpcywwKSl9O1xuZnVuY3Rpb24gemgoYSxiLGMpe2M9Yz9MYShjLGZ1bmN0aW9uKGEpe3JldHVybiBmZChhKX0pLmpvaW4oXCIkXCIpOlwiZGVmYXVsdFwiOyhhPXRoKGEsYixjKSkmJmEuRyYmYS5HKFwicGVybWlzc2lvbl9kZW5pZWRcIil9ZnVuY3Rpb24gdGgoYSxiLGMpe2I9KG5ldyBMKGIpKS50b1N0cmluZygpO3ZhciBkO3AoYS5hYVtiXSk/KGQ9YS5hYVtiXVtjXSxkZWxldGUgYS5hYVtiXVtjXSwwPT09cWEoYS5hYVtiXSkmJmRlbGV0ZSBhLmFhW2JdKTpkPXZvaWQgMDtyZXR1cm4gZH1cbmZ1bmN0aW9uIHZoKGEsYixjKXtFKFwiQXV0aCB0b2tlbiByZXZva2VkOiBcIitiK1wiL1wiK2MpO2EucGI9bnVsbDthLmRlPSEwO2EuSWEuY2xvc2UoKTtcImludmFsaWRfdG9rZW5cIj09PWImJihhLmtlKyssMzw9YS5rZSYmKGEuVmE9M0U0LE8oXCJQcm92aWRlZCBhdXRoZW50aWNhdGlvbiBjcmVkZW50aWFscyBhcmUgaW52YWxpZC4gVGhpcyB1c3VhbGx5IGluZGljYXRlcyB5b3VyIEZpcmViYXNlQXBwIGluc3RhbmNlIHdhcyBub3QgaW5pdGlhbGl6ZWQgY29ycmVjdGx5LiBNYWtlIHN1cmUgeW91ciBhcGlLZXkgYW5kIGRhdGFiYXNlVVJMIG1hdGNoIHRoZSB2YWx1ZXMgcHJvdmlkZWQgZm9yIHlvdXIgYXBwIGF0IGh0dHBzOi8vY29uc29sZS5maXJlYmFzZS5nb29nbGUuY29tLywgb3IgaWYgeW91J3JlIHVzaW5nIGEgc2VydmljZSBhY2NvdW50LCBtYWtlIHN1cmUgaXQncyBhdXRob3JpemVkIHRvIGFjY2VzcyB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlVVJMIGFuZCBpcyBmcm9tIHRoZSBjb3JyZWN0IHByb2plY3QuXCIpKSl9XG5mdW5jdGlvbiBBaChhKXt1aChhKTt0KGEuYWEsZnVuY3Rpb24oYil7dChiLGZ1bmN0aW9uKGIpe3NoKGEsYil9KX0pO2Zvcih2YXIgYj0wO2I8YS5xYS5sZW5ndGg7YisrKWEucWFbYl0mJnloKGEsYik7Zm9yKDthLkxjLmxlbmd0aDspYj1hLkxjLnNoaWZ0KCksd2goYSxiLmFjdGlvbixiLndlLGIuZGF0YSxiLkcpfWZ1bmN0aW9uIENoKGEpe3ZhciBiO2I9U2YuV2IoKS5pYztyZXR1cm4geGEoYS5xZCkmJmJ9O3ZhciBZPXtYZjpmdW5jdGlvbigpe1JlPUVkPSEwfX07WS5mb3JjZUxvbmdQb2xsaW5nPVkuWGY7WS5ZZj1mdW5jdGlvbigpe1NlPSEwfTtZLmZvcmNlV2ViU29ja2V0cz1ZLllmO1kuZGc9ZnVuY3Rpb24oKXtyZXR1cm4gRGQuaXNBdmFpbGFibGUoKX07WS5pc1dlYlNvY2tldHNBdmFpbGFibGU9WS5kZztZLndnPWZ1bmN0aW9uKGEsYil7YS51LlVhLnplPWJ9O1kuc2V0U2VjdXJpdHlEZWJ1Z0NhbGxiYWNrPVkud2c7WS5CZT1mdW5jdGlvbihhLGIpe2EudS5CZShiKX07WS5zdGF0cz1ZLkJlO1kuQ2U9ZnVuY3Rpb24oYSxiKXthLnUuQ2UoYil9O1kuc3RhdHNJbmNyZW1lbnRDb3VudGVyPVkuQ2U7WS5lZD1mdW5jdGlvbihhKXtyZXR1cm4gYS51LmVkfTtZLmRhdGFVcGRhdGVDb3VudD1ZLmVkO1kuY2c9ZnVuY3Rpb24oYSxiKXthLnUuamU9Yn07WS5pbnRlcmNlcHRTZXJ2ZXJEYXRhPVkuY2c7ZnVuY3Rpb24gRGgoYSl7dGhpcy54YT1RO3RoaXMubGI9bmV3IGJoO3RoaXMuRGU9e307dGhpcy5qYz17fTt0aGlzLkRjPWF9ZnVuY3Rpb24gRWgoYSxiLGMsZCxlKXt2YXIgZj1hLmxiLGg9ZTtIKGQ+Zi5DYyxcIlN0YWNraW5nIGFuIG9sZGVyIHdyaXRlIG9uIHRvcCBvZiBuZXdlciBvbmVzXCIpO3AoaCl8fChoPSEwKTtmLm1hLnB1c2goe3BhdGg6YixKYTpjLFpjOmQsdmlzaWJsZTpofSk7aCYmKGYuVD1TZyhmLlQsYixjKSk7Zi5DYz1kO3JldHVybiBlP0ZoKGEsbmV3ICRiKE5nLGIsYykpOltdfWZ1bmN0aW9uIEdoKGEsYixjLGQpe3ZhciBlPWEubGI7SChkPmUuQ2MsXCJTdGFja2luZyBhbiBvbGRlciBtZXJnZSBvbiB0b3Agb2YgbmV3ZXIgb25lc1wiKTtlLm1hLnB1c2goe3BhdGg6YixjaGlsZHJlbjpjLFpjOmQsdmlzaWJsZTohMH0pO2UuVD1UZyhlLlQsYixjKTtlLkNjPWQ7Yz1CZyhjKTtyZXR1cm4gRmgoYSxuZXcgdmQoTmcsYixjKSl9XG5mdW5jdGlvbiBIaChhLGIsYyl7Yz1jfHwhMTt2YXIgZD1jaChhLmxiLGIpO2lmKGEubGIuRWQoYikpe3ZhciBlPVE7bnVsbCE9ZC5KYT9lPWUuc2V0KEMsITApOkNiKGQuY2hpbGRyZW4sZnVuY3Rpb24oYSxiKXtlPWUuc2V0KG5ldyBMKGEpLGIpfSk7cmV0dXJuIEZoKGEsbmV3IE1nKGQucGF0aCxlLGMpKX1yZXR1cm5bXX1mdW5jdGlvbiBJaChhLGIsYyl7Yz1CZyhjKTtyZXR1cm4gRmgoYSxuZXcgdmQoUGcsYixjKSl9ZnVuY3Rpb24gSmgoYSxiLGMsZCl7ZD1LaChhLGQpO2lmKG51bGwhPWQpe3ZhciBlPUxoKGQpO2Q9ZS5wYXRoO2U9ZS5JYjtiPVQoZCxiKTtjPW5ldyAkYihuZXcgT2coITEsITAsZSwhMCksYixjKTtyZXR1cm4gTWgoYSxkLGMpfXJldHVybltdfVxuZnVuY3Rpb24gTmgoYSxiLGMsZCl7aWYoZD1LaChhLGQpKXt2YXIgZT1MaChkKTtkPWUucGF0aDtlPWUuSWI7Yj1UKGQsYik7Yz1CZyhjKTtjPW5ldyB2ZChuZXcgT2coITEsITAsZSwhMCksYixjKTtyZXR1cm4gTWgoYSxkLGMpfXJldHVybltdfVxuRGgucHJvdG90eXBlLk9iPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wYXRoLGQ9bnVsbCxlPSExO0lnKHRoaXMueGEsYyxmdW5jdGlvbihhLGIpe3ZhciBmPVQoYSxjKTtkPWR8fGIuamIoZik7ZT1lfHxudWxsIT1aZyhiKX0pO3ZhciBmPXRoaXMueGEuZ2V0KGMpO2Y/KGU9ZXx8bnVsbCE9WmcoZiksZD1kfHxmLmpiKEMpKTooZj1uZXcgWWcsdGhpcy54YT10aGlzLnhhLnNldChjLGYpKTt2YXIgaDtudWxsIT1kP2g9ITA6KGg9ITEsZD1GLExnKHRoaXMueGEuc3VidHJlZShjKSxmdW5jdGlvbihhLGIpe3ZhciBjPWIuamIoQyk7YyYmKGQ9ZC5VKGEsYykpfSkpO3ZhciBrPW51bGwhPWFoKGYsYSk7aWYoIWsmJiFTKGEubikpe3ZhciBtPU9oKGEpO0goIShtIGluIHRoaXMuamMpLFwiVmlldyBkb2VzIG5vdCBleGlzdCwgYnV0IHdlIGhhdmUgYSB0YWdcIik7dmFyIGw9UGgrKzt0aGlzLmpjW21dPWw7dGhpcy5EZVtcIl9cIitsXT1tfWg9Zi5PYihhLGIsbmV3IGdoKGMsdGhpcy5sYiksZCxoKTtrfHxcbmV8fChmPWFoKGYsYSksaD1oLmNvbmNhdChRaCh0aGlzLGEsZikpKTtyZXR1cm4gaH07XG5EaC5wcm90b3R5cGUubWI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEucGF0aCxlPXRoaXMueGEuZ2V0KGQpLGY9W107aWYoZSYmKFwiZGVmYXVsdFwiPT09YS5rYSgpfHxudWxsIT1haChlLGEpKSl7Zj1lLm1iKGEsYixjKTtlLmUoKSYmKHRoaXMueGE9dGhpcy54YS5yZW1vdmUoZCkpO2U9Zi5zZztmPWYuVGY7Yj0tMSE9PVBhKGUsZnVuY3Rpb24oYSl7cmV0dXJuIFMoYS5uKX0pO3ZhciBoPUdnKHRoaXMueGEsZCxmdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1aZyhiKX0pO2lmKGImJiFoJiYoZD10aGlzLnhhLnN1YnRyZWUoZCksIWQuZSgpKSlmb3IodmFyIGQ9UmgoZCksaz0wO2s8ZC5sZW5ndGg7KytrKXt2YXIgbT1kW2tdLGw9bS5XLG09U2godGhpcyxtKTt0aGlzLkRjLkFlKFRoKGwpLFVoKHRoaXMsbCksbS5sZCxtLkcpfWlmKCFoJiYwPGUubGVuZ3RoJiYhYylpZihiKXRoaXMuRGMuT2QoVGgoYSksbnVsbCk7ZWxzZXt2YXIgdT10aGlzO0phKGUsZnVuY3Rpb24oYSl7YS5rYSgpO1xudmFyIGI9dS5qY1tPaChhKV07dS5EYy5PZChUaChhKSxiKX0pfVZoKHRoaXMsZSl9cmV0dXJuIGZ9O0RoLnByb3RvdHlwZS5CYT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubGIsZD1HZyh0aGlzLnhhLGEsZnVuY3Rpb24oYixjKXt2YXIgZD1UKGIsYSk7aWYoZD1jLmpiKGQpKXJldHVybiBkfSk7cmV0dXJuIGMuQmEoYSxkLGIsITApfTtmdW5jdGlvbiBSaChhKXtyZXR1cm4gRWcoYSxmdW5jdGlvbihhLGMsZCl7aWYoYyYmbnVsbCE9WmcoYykpcmV0dXJuW1pnKGMpXTt2YXIgZT1bXTtjJiYoZT0kZyhjKSk7dChkLGZ1bmN0aW9uKGEpe2U9ZS5jb25jYXQoYSl9KTtyZXR1cm4gZX0pfWZ1bmN0aW9uIFZoKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107aWYoIVMoZC5uKSl7dmFyIGQ9T2goZCksZT1hLmpjW2RdO2RlbGV0ZSBhLmpjW2RdO2RlbGV0ZSBhLkRlW1wiX1wiK2VdfX19XG5mdW5jdGlvbiBUaChhKXtyZXR1cm4gUyhhLm4pJiYhcmQoYS5uKT9hLnhiKCk6YX1mdW5jdGlvbiBRaChhLGIsYyl7dmFyIGQ9Yi5wYXRoLGU9VWgoYSxiKTtjPVNoKGEsYyk7Yj1hLkRjLkFlKFRoKGIpLGUsYy5sZCxjLkcpO2Q9YS54YS5zdWJ0cmVlKGQpO2lmKGUpSChudWxsPT1aZyhkLnZhbHVlKSxcIklmIHdlJ3JlIGFkZGluZyBhIHF1ZXJ5LCBpdCBzaG91bGRuJ3QgYmUgc2hhZG93ZWRcIik7ZWxzZSBmb3IoZT1FZyhkLGZ1bmN0aW9uKGEsYixjKXtpZighYS5lKCkmJmImJm51bGwhPVpnKGIpKXJldHVybltwZyhaZyhiKSldO3ZhciBkPVtdO2ImJihkPWQuY29uY2F0KExhKCRnKGIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLld9KSkpO3QoYyxmdW5jdGlvbihhKXtkPWQuY29uY2F0KGEpfSk7cmV0dXJuIGR9KSxkPTA7ZDxlLmxlbmd0aDsrK2QpYz1lW2RdLGEuRGMuT2QoVGgoYyksVWgoYSxjKSk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBTaChhLGIpe3ZhciBjPWIuVyxkPVVoKGEsYyk7cmV0dXJue2xkOmZ1bmN0aW9uKCl7cmV0dXJuKGIudygpfHxGKS5oYXNoKCl9LEc6ZnVuY3Rpb24oYil7aWYoXCJva1wiPT09Yil7aWYoZCl7dmFyIGY9Yy5wYXRoO2lmKGI9S2goYSxkKSl7dmFyIGg9TGgoYik7Yj1oLnBhdGg7aD1oLkliO2Y9VChiLGYpO2Y9bmV3IGJjKG5ldyBPZyghMSwhMCxoLCEwKSxmKTtiPU1oKGEsYixmKX1lbHNlIGI9W119ZWxzZSBiPUZoKGEsbmV3IGJjKFBnLGMucGF0aCkpO3JldHVybiBifWY9XCJVbmtub3duIEVycm9yXCI7XCJ0b29fYmlnXCI9PT1iP2Y9XCJUaGUgZGF0YSByZXF1ZXN0ZWQgZXhjZWVkcyB0aGUgbWF4aW11bSBzaXplIHRoYXQgY2FuIGJlIGFjY2Vzc2VkIHdpdGggYSBzaW5nbGUgcmVxdWVzdC5cIjpcInBlcm1pc3Npb25fZGVuaWVkXCI9PWI/Zj1cIkNsaWVudCBkb2Vzbid0IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhlIGRlc2lyZWQgZGF0YS5cIjpcInVuYXZhaWxhYmxlXCI9PWImJlxuKGY9XCJUaGUgc2VydmljZSBpcyB1bmF2YWlsYWJsZVwiKTtmPUVycm9yKGIrXCIgYXQgXCIrYy5wYXRoLnRvU3RyaW5nKCkrXCI6IFwiK2YpO2YuY29kZT1iLnRvVXBwZXJDYXNlKCk7cmV0dXJuIGEubWIoYyxudWxsLGYpfX19ZnVuY3Rpb24gT2goYSl7cmV0dXJuIGEucGF0aC50b1N0cmluZygpK1wiJFwiK2Eua2EoKX1mdW5jdGlvbiBMaChhKXt2YXIgYj1hLmluZGV4T2YoXCIkXCIpO0goLTEhPT1iJiZiPGEubGVuZ3RoLTEsXCJCYWQgcXVlcnlLZXkuXCIpO3JldHVybntJYjphLnN1YnN0cihiKzEpLHBhdGg6bmV3IEwoYS5zdWJzdHIoMCxiKSl9fWZ1bmN0aW9uIEtoKGEsYil7dmFyIGM9YS5EZSxkPVwiX1wiK2I7cmV0dXJuIGQgaW4gYz9jW2RdOnZvaWQgMH1mdW5jdGlvbiBVaChhLGIpe3ZhciBjPU9oKGIpO3JldHVybiB4KGEuamMsYyl9dmFyIFBoPTE7XG5mdW5jdGlvbiBNaChhLGIsYyl7dmFyIGQ9YS54YS5nZXQoYik7SChkLFwiTWlzc2luZyBzeW5jIHBvaW50IGZvciBxdWVyeSB0YWcgdGhhdCB3ZSdyZSB0cmFja2luZ1wiKTtyZXR1cm4gZC5nYihjLG5ldyBnaChiLGEubGIpLG51bGwpfWZ1bmN0aW9uIEZoKGEsYil7cmV0dXJuIFdoKGEsYixhLnhhLG51bGwsbmV3IGdoKEMsYS5sYikpfWZ1bmN0aW9uIFdoKGEsYixjLGQsZSl7aWYoYi5wYXRoLmUoKSlyZXR1cm4gWGgoYSxiLGMsZCxlKTt2YXIgZj1jLmdldChDKTtudWxsPT1kJiZudWxsIT1mJiYoZD1mLmpiKEMpKTt2YXIgaD1bXSxrPUooYi5wYXRoKSxtPWIuTmMoayk7aWYoKGM9Yy5jaGlsZHJlbi5nZXQoaykpJiZtKXZhciBsPWQ/ZC5SKGspOm51bGwsaz1lLmsoayksaD1oLmNvbmNhdChXaChhLG0sYyxsLGspKTtmJiYoaD1oLmNvbmNhdChmLmdiKGIsZSxkKSkpO3JldHVybiBofVxuZnVuY3Rpb24gWGgoYSxiLGMsZCxlKXt2YXIgZj1jLmdldChDKTtudWxsPT1kJiZudWxsIT1mJiYoZD1mLmpiKEMpKTt2YXIgaD1bXTtjLmNoaWxkcmVuLmlhKGZ1bmN0aW9uKGMsZil7dmFyIGw9ZD9kLlIoYyk6bnVsbCx1PWUuayhjKSx6PWIuTmMoYyk7eiYmKGg9aC5jb25jYXQoWGgoYSx6LGYsbCx1KSkpfSk7ZiYmKGg9aC5jb25jYXQoZi5nYihiLGUsZCkpKTtyZXR1cm4gaH07ZnVuY3Rpb24gdGYoYSxiLGMpe3RoaXMuYXBwPWM7dmFyIGQ9bmV3IGRjKGMpO3RoaXMuTT1hO3RoaXMuWGE9QWQoYSk7dGhpcy5WYz1udWxsO3RoaXMuZGE9bmV3IG1jO3RoaXMudmQ9MTt0aGlzLlVhPW51bGw7aWYoYnx8MDw9KFwib2JqZWN0XCI9PT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudHx8XCJcIikuc2VhcmNoKC9nb29nbGVib3R8Z29vZ2xlIHdlYm1hc3RlciB0b29sc3xiaW5nYm90fHlhaG9vISBzbHVycHxiYWlkdXNwaWRlcnx5YW5kZXhib3R8ZHVja2R1Y2tib3QvaSkpdGhpcy53YT1uZXcgcGQodGhpcy5NLHIodGhpcy5IYix0aGlzKSxkKSxzZXRUaW1lb3V0KHIodGhpcy5LYyx0aGlzLCEwKSwwKTtlbHNle2I9Yy5vcHRpb25zLmRhdGFiYXNlQXV0aFZhcmlhYmxlT3ZlcnJpZGV8fG51bGw7aWYobnVsbCE9PWIpe2lmKFwib2JqZWN0XCIhPT1jYShiKSl0aHJvdyBFcnJvcihcIk9ubHkgb2JqZWN0cyBhcmUgc3VwcG9ydGVkIGZvciBvcHRpb24gZGF0YWJhc2VBdXRoVmFyaWFibGVPdmVycmlkZVwiKTtcbnRyeXtCKGIpfWNhdGNoKGUpe3Rocm93IEVycm9yKFwiSW52YWxpZCBhdXRoT3ZlcnJpZGUgcHJvdmlkZWQ6IFwiK2UpO319dGhpcy53YT10aGlzLlVhPW5ldyBvaCh0aGlzLk0scih0aGlzLkhiLHRoaXMpLHIodGhpcy5LYyx0aGlzKSxyKHRoaXMudWUsdGhpcyksZCxiKX12YXIgZj10aGlzO2VjKGQsZnVuY3Rpb24oYSl7Zi53YS5xZihhKX0pO3RoaXMuemc9QmQoYSxyKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4ZCh0aGlzLlhhLHRoaXMud2EpfSx0aGlzKSk7dGhpcy5uYz1uZXcgaWg7dGhpcy5pZT1uZXcgZmM7dGhpcy5wZD1uZXcgRGgoe0FlOmZ1bmN0aW9uKGEsYixjLGQpe2I9W107Yz1mLmllLmooYS5wYXRoKTtjLmUoKXx8KGI9RmgoZi5wZCxuZXcgJGIoUGcsYS5wYXRoLGMpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZChcIm9rXCIpfSwwKSk7cmV0dXJuIGJ9LE9kOmFhfSk7WWgodGhpcyxcImNvbm5lY3RlZFwiLCExKTt0aGlzLmphPW5ldyBNYzt0aGlzLiRhPW5ldyBzZih0aGlzKTt0aGlzLmVkPVxuMDt0aGlzLmplPW51bGw7dGhpcy5LPW5ldyBEaCh7QWU6ZnVuY3Rpb24oYSxiLGMsZCl7Zi53YS5kZihhLGMsYixmdW5jdGlvbihiLGMpe3ZhciBlPWQoYixjKTtyYyhmLmRhLGEucGF0aCxlKX0pO3JldHVybltdfSxPZDpmdW5jdGlvbihhLGIpe2Yud2EuRWYoYSxiKX19KX1nPXRmLnByb3RvdHlwZTtnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuTS5TYz9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK3RoaXMuTS5ob3N0fTtnLm5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5NLnBlfTtmdW5jdGlvbiBaaChhKXthPWEuaWUuaihuZXcgTChcIi5pbmZvL3NlcnZlclRpbWVPZmZzZXRcIikpLkgoKXx8MDtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKSthfWZ1bmN0aW9uICRoKGEpe2E9YT17dGltZXN0YW1wOlpoKGEpfTthLnRpbWVzdGFtcD1hLnRpbWVzdGFtcHx8KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIGF9XG5nLkhiPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuZWQrKzt2YXIgZT1uZXcgTChhKTtiPXRoaXMuamU/dGhpcy5qZShhLGIpOmI7YT1bXTtkP2M/KGI9b2EoYixmdW5jdGlvbihhKXtyZXR1cm4gTShhKX0pLGE9TmgodGhpcy5LLGUsYixkKSk6KGI9TShiKSxhPUpoKHRoaXMuSyxlLGIsZCkpOmM/KGQ9b2EoYixmdW5jdGlvbihhKXtyZXR1cm4gTShhKX0pLGE9SWgodGhpcy5LLGUsZCkpOihkPU0oYiksYT1GaCh0aGlzLkssbmV3ICRiKFBnLGUsZCkpKTtkPWU7MDxhLmxlbmd0aCYmKGQ9YWkodGhpcyxlKSk7cmModGhpcy5kYSxkLGEpfTtnLktjPWZ1bmN0aW9uKGEpe1loKHRoaXMsXCJjb25uZWN0ZWRcIixhKTshMT09PWEmJmJpKHRoaXMpfTtnLnVlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aGQoYSxmdW5jdGlvbihhLGQpe1loKGIsZCxhKX0pfTtcbmZ1bmN0aW9uIFloKGEsYixjKXtiPW5ldyBMKFwiLy5pbmZvL1wiK2IpO2M9TShjKTt2YXIgZD1hLmllO2QuSmQ9ZC5KZC5GKGIsYyk7Yz1GaChhLnBkLG5ldyAkYihQZyxiLGMpKTtyYyhhLmRhLGIsYyl9Zy5LYj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmYoXCJzZXRcIix7cGF0aDphLnRvU3RyaW5nKCksdmFsdWU6YixHZzpjfSk7dmFyIGU9JGgodGhpcyk7Yj1NKGIsYyk7dmFyIGU9UGMoYixlKSxmPXRoaXMudmQrKyxlPUVoKHRoaXMuSyxhLGUsZiwhMCk7bmModGhpcy5kYSxlKTt2YXIgaD10aGlzO3RoaXMud2EucHV0KGEudG9TdHJpbmcoKSxiLkgoITApLGZ1bmN0aW9uKGIsYyl7dmFyIGU9XCJva1wiPT09YjtlfHxPKFwic2V0IGF0IFwiK2ErXCIgZmFpbGVkOiBcIitiKTtlPUhoKGguSyxmLCFlKTtyYyhoLmRhLGEsZSk7Y2koZCxiLGMpfSk7ZT1kaSh0aGlzLGEpO2FpKHRoaXMsZSk7cmModGhpcy5kYSxlLFtdKX07XG5nLnVwZGF0ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5mKFwidXBkYXRlXCIse3BhdGg6YS50b1N0cmluZygpLHZhbHVlOmJ9KTt2YXIgZD0hMCxlPSRoKHRoaXMpLGY9e307dChiLGZ1bmN0aW9uKGEsYil7ZD0hMTt2YXIgYz1NKGEpO2ZbYl09UGMoYyxlKX0pO2lmKGQpRShcInVwZGF0ZSgpIGNhbGxlZCB3aXRoIGVtcHR5IGRhdGEuICBEb24ndCBkbyBhbnl0aGluZy5cIiksY2koYyxcIm9rXCIpO2Vsc2V7dmFyIGg9dGhpcy52ZCsrLGs9R2godGhpcy5LLGEsZixoKTtuYyh0aGlzLmRhLGspO3ZhciBtPXRoaXM7dGhpcy53YS5lZihhLnRvU3RyaW5nKCksYixmdW5jdGlvbihiLGQpe3ZhciBlPVwib2tcIj09PWI7ZXx8TyhcInVwZGF0ZSBhdCBcIithK1wiIGZhaWxlZDogXCIrYik7dmFyIGU9SGgobS5LLGgsIWUpLGY9YTswPGUubGVuZ3RoJiYoZj1haShtLGEpKTtyYyhtLmRhLGYsZSk7Y2koYyxiLGQpfSk7dChiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9ZGkobSxhLmsoYykpO2FpKG0sZCl9KTtyYyh0aGlzLmRhLFxuYSxbXSl9fTtmdW5jdGlvbiBiaShhKXthLmYoXCJvbkRpc2Nvbm5lY3RFdmVudHNcIik7dmFyIGI9JGgoYSksYz1bXTtOYyhMYyhhLmphLGIpLEMsZnVuY3Rpb24oYixlKXtjPWMuY29uY2F0KEZoKGEuSyxuZXcgJGIoUGcsYixlKSkpO3ZhciBmPWRpKGEsYik7YWkoYSxmKX0pO2EuamE9bmV3IE1jO3JjKGEuZGEsQyxjKX1nLnhkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt0aGlzLndhLnhkKGEudG9TdHJpbmcoKSxmdW5jdGlvbihkLGUpe1wib2tcIj09PWQmJnpmKGMuamEsYSk7Y2koYixkLGUpfSl9O2Z1bmN0aW9uIE5mKGEsYixjLGQpe3ZhciBlPU0oYyk7YS53YS5yZShiLnRvU3RyaW5nKCksZS5IKCEwKSxmdW5jdGlvbihjLGgpe1wib2tcIj09PWMmJk9jKGEuamEsYixlKTtjaShkLGMsaCl9KX1cbmZ1bmN0aW9uIE9mKGEsYixjLGQsZSl7dmFyIGY9TShjLGQpO2Eud2EucmUoYi50b1N0cmluZygpLGYuSCghMCksZnVuY3Rpb24oYyxkKXtcIm9rXCI9PT1jJiZPYyhhLmphLGIsZik7Y2koZSxjLGQpfSl9ZnVuY3Rpb24gUGYoYSxiLGMsZCl7dmFyIGU9ITAsZjtmb3IoZiBpbiBjKWU9ITE7ZT8oRShcIm9uRGlzY29ubmVjdCgpLnVwZGF0ZSgpIGNhbGxlZCB3aXRoIGVtcHR5IGRhdGEuICBEb24ndCBkbyBhbnl0aGluZy5cIiksY2koZCxcIm9rXCIpKTphLndhLmdmKGIudG9TdHJpbmcoKSxjLGZ1bmN0aW9uKGUsZil7aWYoXCJva1wiPT09ZSlmb3IodmFyIG0gaW4gYyl7dmFyIGw9TShjW21dKTtPYyhhLmphLGIuayhtKSxsKX1jaShkLGUsZil9KX1mdW5jdGlvbiB5ZyhhLGIsYyl7Yz1cIi5pbmZvXCI9PT1KKGIucGF0aCk/YS5wZC5PYihiLGMpOmEuSy5PYihiLGMpO3BjKGEuZGEsYi5wYXRoLGMpfWcuZWI9ZnVuY3Rpb24oKXt0aGlzLlVhJiZ0aGlzLlVhLmViKFwicmVwb19pbnRlcnJ1cHRcIil9O1xuZy5sYz1mdW5jdGlvbigpe3RoaXMuVWEmJnRoaXMuVWEubGMoXCJyZXBvX2ludGVycnVwdFwiKX07Zy5CZT1mdW5jdGlvbihhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUpe2E/KHRoaXMuVmN8fCh0aGlzLlZjPW5ldyBsYyh0aGlzLlhhKSksYT10aGlzLlZjLmdldCgpKTphPXRoaXMuWGEuZ2V0KCk7dmFyIGI9TWEodGEoYSksZnVuY3Rpb24oYSxiKXtyZXR1cm4gTWF0aC5tYXgoYi5sZW5ndGgsYSl9LDApLGM7Zm9yKGMgaW4gYSl7Zm9yKHZhciBkPWFbY10sZT1jLmxlbmd0aDtlPGIrMjtlKyspYys9XCIgXCI7Y29uc29sZS5sb2coYytkKX19fTtnLkNlPWZ1bmN0aW9uKGEpe2tjKHRoaXMuWGEsYSk7dGhpcy56Zy56ZlthXT0hMH07Zy5mPWZ1bmN0aW9uKGEpe3ZhciBiPVwiXCI7dGhpcy5VYSYmKGI9dGhpcy5VYS5pZCtcIjpcIik7RShiLGFyZ3VtZW50cyl9O1xuZnVuY3Rpb24gY2koYSxiLGMpe2EmJlViKGZ1bmN0aW9uKCl7aWYoXCJva1wiPT1iKWEobnVsbCk7ZWxzZXt2YXIgZD0oYnx8XCJlcnJvclwiKS50b1VwcGVyQ2FzZSgpLGU9ZDtjJiYoZSs9XCI6IFwiK2MpO2U9RXJyb3IoZSk7ZS5jb2RlPWQ7YShlKX19KX07ZnVuY3Rpb24gZWkoYSxiLGMsZCxlKXtmdW5jdGlvbiBmKCl7fWEuZihcInRyYW5zYWN0aW9uIG9uIFwiK2IpO3ZhciBoPW5ldyBVKGEsYik7aC5oYyhcInZhbHVlXCIsZik7Yz17cGF0aDpiLHVwZGF0ZTpjLEc6ZCxzdGF0dXM6bnVsbCxsZjpSYygpLEllOmUsd2Y6MCxSZDpmdW5jdGlvbigpe2guSmMoXCJ2YWx1ZVwiLGYpfSxUZDpudWxsLERhOm51bGwsYmQ6bnVsbCxjZDpudWxsLGRkOm51bGx9O2Q9YS5LLkJhKGIsdm9pZCAwKXx8RjtjLmJkPWQ7ZD1jLnVwZGF0ZShkLkgoKSk7aWYocChkKSl7RmYoXCJ0cmFuc2FjdGlvbiBmYWlsZWQ6IERhdGEgcmV0dXJuZWQgXCIsZCxjLnBhdGgpO2Muc3RhdHVzPTE7ZT1qaChhLm5jLGIpO3ZhciBrPWUuRWEoKXx8W107ay5wdXNoKGMpO2toKGUsayk7XCJvYmplY3RcIj09PXR5cGVvZiBkJiZudWxsIT09ZCYmQmIoZCxcIi5wcmlvcml0eVwiKT8oaz14KGQsXCIucHJpb3JpdHlcIiksSChEZihrKSxcIkludmFsaWQgcHJpb3JpdHkgcmV0dXJuZWQgYnkgdHJhbnNhY3Rpb24uIFByaW9yaXR5IG11c3QgYmUgYSB2YWxpZCBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbC5cIikpOlxuaz0oYS5LLkJhKGIpfHxGKS5DKCkuSCgpO2U9JGgoYSk7ZD1NKGQsayk7ZT1QYyhkLGUpO2MuY2Q9ZDtjLmRkPWU7Yy5EYT1hLnZkKys7Yz1FaChhLkssYixlLGMuRGEsYy5JZSk7cmMoYS5kYSxiLGMpO2ZpKGEpfWVsc2UgYy5SZCgpLGMuY2Q9bnVsbCxjLmRkPW51bGwsYy5HJiYoYT1uZXcgVyhjLmJkLG5ldyBVKGEsYy5wYXRoKSxOKSxjLkcobnVsbCwhMSxhKSl9ZnVuY3Rpb24gZmkoYSxiKXt2YXIgYz1ifHxhLm5jO2J8fGdpKGEsYyk7aWYobnVsbCE9PWMuRWEoKSl7dmFyIGQ9aGkoYSxjKTtIKDA8ZC5sZW5ndGgsXCJTZW5kaW5nIHplcm8gbGVuZ3RoIHRyYW5zYWN0aW9uIHF1ZXVlXCIpO05hKGQsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLnN0YXR1c30pJiZpaShhLGMucGF0aCgpLGQpfWVsc2UgYy5rZCgpJiZjLlAoZnVuY3Rpb24oYil7ZmkoYSxiKX0pfVxuZnVuY3Rpb24gaWkoYSxiLGMpe2Zvcih2YXIgZD1MYShjLGZ1bmN0aW9uKGEpe3JldHVybiBhLkRhfSksZT1hLksuQmEoYixkKXx8RixkPWUsZT1lLmhhc2goKSxmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBoPWNbZl07SCgxPT09aC5zdGF0dXMsXCJ0cnlUb1NlbmRUcmFuc2FjdGlvblF1ZXVlXzogaXRlbXMgaW4gcXVldWUgc2hvdWxkIGFsbCBiZSBydW4uXCIpO2guc3RhdHVzPTI7aC53ZisrO3ZhciBrPVQoYixoLnBhdGgpLGQ9ZC5GKGssaC5jZCl9ZD1kLkgoITApO2Eud2EucHV0KGIudG9TdHJpbmcoKSxkLGZ1bmN0aW9uKGQpe2EuZihcInRyYW5zYWN0aW9uIHB1dCByZXNwb25zZVwiLHtwYXRoOmIudG9TdHJpbmcoKSxzdGF0dXM6ZH0pO3ZhciBlPVtdO2lmKFwib2tcIj09PWQpe2Q9W107Zm9yKGY9MDtmPGMubGVuZ3RoO2YrKyl7Y1tmXS5zdGF0dXM9MztlPWUuY29uY2F0KEhoKGEuSyxjW2ZdLkRhKSk7aWYoY1tmXS5HKXt2YXIgaD1jW2ZdLmRkLGs9bmV3IFUoYSxjW2ZdLnBhdGgpO2QucHVzaChyKGNbZl0uRyxcbm51bGwsbnVsbCwhMCxuZXcgVyhoLGssTikpKX1jW2ZdLlJkKCl9Z2koYSxqaChhLm5jLGIpKTtmaShhKTtyYyhhLmRhLGIsZSk7Zm9yKGY9MDtmPGQubGVuZ3RoO2YrKylVYihkW2ZdKX1lbHNle2lmKFwiZGF0YXN0YWxlXCI9PT1kKWZvcihmPTA7ZjxjLmxlbmd0aDtmKyspY1tmXS5zdGF0dXM9ND09PWNbZl0uc3RhdHVzPzU6MTtlbHNlIGZvcihPKFwidHJhbnNhY3Rpb24gYXQgXCIrYi50b1N0cmluZygpK1wiIGZhaWxlZDogXCIrZCksZj0wO2Y8Yy5sZW5ndGg7ZisrKWNbZl0uc3RhdHVzPTUsY1tmXS5UZD1kO2FpKGEsYil9fSxlKX1mdW5jdGlvbiBhaShhLGIpe3ZhciBjPWppKGEsYiksZD1jLnBhdGgoKSxjPWhpKGEsYyk7a2koYSxjLGQpO3JldHVybiBkfVxuZnVuY3Rpb24ga2koYSxiLGMpe2lmKDAhPT1iLmxlbmd0aCl7Zm9yKHZhciBkPVtdLGU9W10sZj1LYShiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5zdGF0dXN9KSxmPUxhKGYsZnVuY3Rpb24oYSl7cmV0dXJuIGEuRGF9KSxoPTA7aDxiLmxlbmd0aDtoKyspe3ZhciBrPWJbaF0sbT1UKGMsay5wYXRoKSxsPSExLHU7SChudWxsIT09bSxcInJlcnVuVHJhbnNhY3Rpb25zVW5kZXJOb2RlXzogcmVsYXRpdmVQYXRoIHNob3VsZCBub3QgYmUgbnVsbC5cIik7aWYoNT09PWsuc3RhdHVzKWw9ITAsdT1rLlRkLGU9ZS5jb25jYXQoSGgoYS5LLGsuRGEsITApKTtlbHNlIGlmKDE9PT1rLnN0YXR1cylpZigyNTw9ay53ZilsPSEwLHU9XCJtYXhyZXRyeVwiLGU9ZS5jb25jYXQoSGgoYS5LLGsuRGEsITApKTtlbHNle3ZhciB6PWEuSy5CYShrLnBhdGgsZil8fEY7ay5iZD16O3ZhciBHPWJbaF0udXBkYXRlKHouSCgpKTtwKEcpPyhGZihcInRyYW5zYWN0aW9uIGZhaWxlZDogRGF0YSByZXR1cm5lZCBcIixHLFxuay5wYXRoKSxtPU0oRyksXCJvYmplY3RcIj09PXR5cGVvZiBHJiZudWxsIT1HJiZCYihHLFwiLnByaW9yaXR5XCIpfHwobT1tLmdhKHouQygpKSksej1rLkRhLEc9JGgoYSksRz1QYyhtLEcpLGsuY2Q9bSxrLmRkPUcsay5EYT1hLnZkKyssUWEoZix6KSxlPWUuY29uY2F0KEVoKGEuSyxrLnBhdGgsRyxrLkRhLGsuSWUpKSxlPWUuY29uY2F0KEhoKGEuSyx6LCEwKSkpOihsPSEwLHU9XCJub2RhdGFcIixlPWUuY29uY2F0KEhoKGEuSyxrLkRhLCEwKSkpfXJjKGEuZGEsYyxlKTtlPVtdO2wmJihiW2hdLnN0YXR1cz0zLHNldFRpbWVvdXQoYltoXS5SZCxNYXRoLmZsb29yKDApKSxiW2hdLkcmJihcIm5vZGF0YVwiPT09dT8oaz1uZXcgVShhLGJbaF0ucGF0aCksZC5wdXNoKHIoYltoXS5HLG51bGwsbnVsbCwhMSxuZXcgVyhiW2hdLmJkLGssTikpKSk6ZC5wdXNoKHIoYltoXS5HLG51bGwsRXJyb3IodSksITEsbnVsbCkpKSl9Z2koYSxhLm5jKTtmb3IoaD0wO2g8ZC5sZW5ndGg7aCsrKVViKGRbaF0pO2ZpKGEpfX1cbmZ1bmN0aW9uIGppKGEsYil7Zm9yKHZhciBjLGQ9YS5uYztudWxsIT09KGM9SihiKSkmJm51bGw9PT1kLkVhKCk7KWQ9amgoZCxjKSxiPUQoYik7cmV0dXJuIGR9ZnVuY3Rpb24gaGkoYSxiKXt2YXIgYz1bXTtsaShhLGIsYyk7Yy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGYtYi5sZn0pO3JldHVybiBjfWZ1bmN0aW9uIGxpKGEsYixjKXt2YXIgZD1iLkVhKCk7aWYobnVsbCE9PWQpZm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspYy5wdXNoKGRbZV0pO2IuUChmdW5jdGlvbihiKXtsaShhLGIsYyl9KX1mdW5jdGlvbiBnaShhLGIpe3ZhciBjPWIuRWEoKTtpZihjKXtmb3IodmFyIGQ9MCxlPTA7ZTxjLmxlbmd0aDtlKyspMyE9PWNbZV0uc3RhdHVzJiYoY1tkXT1jW2VdLGQrKyk7Yy5sZW5ndGg9ZDtraChiLDA8Yy5sZW5ndGg/YzpudWxsKX1iLlAoZnVuY3Rpb24oYil7Z2koYSxiKX0pfVxuZnVuY3Rpb24gZGkoYSxiKXt2YXIgYz1qaShhLGIpLnBhdGgoKSxkPWpoKGEubmMsYik7bmgoZCxmdW5jdGlvbihiKXttaShhLGIpfSk7bWkoYSxkKTttaChkLGZ1bmN0aW9uKGIpe21pKGEsYil9KTtyZXR1cm4gY31cbmZ1bmN0aW9uIG1pKGEsYil7dmFyIGM9Yi5FYSgpO2lmKG51bGwhPT1jKXtmb3IodmFyIGQ9W10sZT1bXSxmPS0xLGg9MDtoPGMubGVuZ3RoO2grKyk0IT09Y1toXS5zdGF0dXMmJigyPT09Y1toXS5zdGF0dXM/KEgoZj09PWgtMSxcIkFsbCBTRU5UIGl0ZW1zIHNob3VsZCBiZSBhdCBiZWdpbm5pbmcgb2YgcXVldWUuXCIpLGY9aCxjW2hdLnN0YXR1cz00LGNbaF0uVGQ9XCJzZXRcIik6KEgoMT09PWNbaF0uc3RhdHVzLFwiVW5leHBlY3RlZCB0cmFuc2FjdGlvbiBzdGF0dXMgaW4gYWJvcnRcIiksY1toXS5SZCgpLGU9ZS5jb25jYXQoSGgoYS5LLGNbaF0uRGEsITApKSxjW2hdLkcmJmQucHVzaChyKGNbaF0uRyxudWxsLEVycm9yKFwic2V0XCIpLCExLG51bGwpKSkpOy0xPT09Zj9raChiLG51bGwpOmMubGVuZ3RoPWYrMTtyYyhhLmRhLGIucGF0aCgpLGUpO2ZvcihoPTA7aDxkLmxlbmd0aDtoKyspVWIoZFtoXSl9fTtmdW5jdGlvbiB5Zigpe3RoaXMubmI9e307dGhpcy5GZj0hMX15Zi5wcm90b3R5cGUuZWI9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5uYil0aGlzLm5iW2FdLmViKCl9O3lmLnByb3RvdHlwZS5sYz1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLm5iKXRoaXMubmJbYV0ubGMoKX07eWYucHJvdG90eXBlLmNlPWZ1bmN0aW9uKGEpe3RoaXMuRmY9YX07YmEoeWYpO3lmLnByb3RvdHlwZS5pbnRlcnJ1cHQ9eWYucHJvdG90eXBlLmViO3lmLnByb3RvdHlwZS5yZXN1bWU9eWYucHJvdG90eXBlLmxjO3ZhciBaPXt9O1oucGM9b2g7Wi5EYXRhQ29ubmVjdGlvbj1aLnBjO29oLnByb3RvdHlwZS55Zz1mdW5jdGlvbihhLGIpe3RoaXMudmEoXCJxXCIse3A6YX0sYil9O1oucGMucHJvdG90eXBlLnNpbXBsZUxpc3Rlbj1aLnBjLnByb3RvdHlwZS55ZztvaC5wcm90b3R5cGUuUWY9ZnVuY3Rpb24oYSxiKXt0aGlzLnZhKFwiZWNob1wiLHtkOmF9LGIpfTtaLnBjLnByb3RvdHlwZS5lY2hvPVoucGMucHJvdG90eXBlLlFmO29oLnByb3RvdHlwZS5pbnRlcnJ1cHQ9b2gucHJvdG90eXBlLmViO1ouSWY9YmY7Wi5SZWFsVGltZUNvbm5lY3Rpb249Wi5JZjtiZi5wcm90b3R5cGUuc2VuZFJlcXVlc3Q9YmYucHJvdG90eXBlLnZhO2JmLnByb3RvdHlwZS5jbG9zZT1iZi5wcm90b3R5cGUuY2xvc2U7XG5aLmJnPWZ1bmN0aW9uKGEpe3ZhciBiPW9oLnByb3RvdHlwZS5wdXQ7b2gucHJvdG90eXBlLnB1dD1mdW5jdGlvbihjLGQsZSxmKXtwKGYpJiYoZj1hKCkpO2IuY2FsbCh0aGlzLGMsZCxlLGYpfTtyZXR1cm4gZnVuY3Rpb24oKXtvaC5wcm90b3R5cGUucHV0PWJ9fTtaLmhpamFja0hhc2g9Wi5iZztaLkhmPWdjO1ouQ29ubmVjdGlvblRhcmdldD1aLkhmO1oua2E9ZnVuY3Rpb24oYSl7cmV0dXJuIGEua2EoKX07Wi5xdWVyeUlkZW50aWZpZXI9Wi5rYTtaLmVnPWZ1bmN0aW9uKGEpe3JldHVybiBhLnUuVWEuYWF9O1oubGlzdGVucz1aLmVnO1ouY2U9ZnVuY3Rpb24oYSl7eWYuV2IoKS5jZShhKX07Wi5mb3JjZVJlc3RDbGllbnQ9Wi5jZTtaLkNvbnRleHQ9eWY7ZnVuY3Rpb24gVShhLGIpe2lmKCEoYSBpbnN0YW5jZW9mIHRmKSl0aHJvdyBFcnJvcihcIm5ldyBGaXJlYmFzZSgpIG5vIGxvbmdlciBzdXBwb3J0ZWQgLSB1c2UgYXBwLmRhdGFiYXNlKCkuXCIpO1guY2FsbCh0aGlzLGEsYixGZSwhMSk7dGhpcy50aGVuPXZvaWQgMDt0aGlzW1wiY2F0Y2hcIl09dm9pZCAwfWthKFUsWCk7Zz1VLnByb3RvdHlwZTtnLmdldEtleT1mdW5jdGlvbigpe3koXCJGaXJlYmFzZS5rZXlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMucGF0aC5lKCk/bnVsbDphZSh0aGlzLnBhdGgpfTtcbmcuaz1mdW5jdGlvbihhKXt5KFwiRmlyZWJhc2UuY2hpbGRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoZmEoYSkpYT1TdHJpbmcoYSk7ZWxzZSBpZighKGEgaW5zdGFuY2VvZiBMKSlpZihudWxsPT09Sih0aGlzLnBhdGgpKXt2YXIgYj1hO2ImJihiPWIucmVwbGFjZSgvXlxcLypcXC5pbmZvKFxcL3wkKS8sXCIvXCIpKTtMZihcIkZpcmViYXNlLmNoaWxkXCIsYil9ZWxzZSBMZihcIkZpcmViYXNlLmNoaWxkXCIsYSk7cmV0dXJuIG5ldyBVKHRoaXMudSx0aGlzLnBhdGguayhhKSl9O2cuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7eShcIkZpcmViYXNlLnBhcmVudFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTt2YXIgYT10aGlzLnBhdGgucGFyZW50KCk7cmV0dXJuIG51bGw9PT1hP251bGw6bmV3IFUodGhpcy51LGEpfTtcbmcuWmY9ZnVuY3Rpb24oKXt5KFwiRmlyZWJhc2UucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO2Zvcih2YXIgYT10aGlzO251bGwhPT1hLmdldFBhcmVudCgpOylhPWEuZ2V0UGFyZW50KCk7cmV0dXJuIGF9O2cuUGY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51LiRhfTtnLnNldD1mdW5jdGlvbihhLGIpe3koXCJGaXJlYmFzZS5zZXRcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7TWYoXCJGaXJlYmFzZS5zZXRcIix0aGlzLnBhdGgpO0VmKFwiRmlyZWJhc2Uuc2V0XCIsYSx0aGlzLnBhdGgsITEpO0EoXCJGaXJlYmFzZS5zZXRcIiwyLGIsITApO3ZhciBjPW5ldyBIYjt0aGlzLnUuS2IodGhpcy5wYXRoLGEsbnVsbCxJYihjLGIpKTtyZXR1cm4gYy5zYX07XG5nLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3koXCJGaXJlYmFzZS51cGRhdGVcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7TWYoXCJGaXJlYmFzZS51cGRhdGVcIix0aGlzLnBhdGgpO2lmKGRhKGEpKXtmb3IodmFyIGM9e30sZD0wO2Q8YS5sZW5ndGg7KytkKWNbXCJcIitkXT1hW2RdO2E9YztPKFwiUGFzc2luZyBhbiBBcnJheSB0byBGaXJlYmFzZS51cGRhdGUoKSBpcyBkZXByZWNhdGVkLiBVc2Ugc2V0KCkgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBkYXRhLCBvciBhbiBPYmplY3Qgd2l0aCBpbnRlZ2VyIGtleXMgaWYgeW91IHJlYWxseSBkbyB3YW50IHRvIG9ubHkgdXBkYXRlIHNvbWUgb2YgdGhlIGNoaWxkcmVuLlwiKX1IZihcIkZpcmViYXNlLnVwZGF0ZVwiLGEsdGhpcy5wYXRoKTtBKFwiRmlyZWJhc2UudXBkYXRlXCIsMixiLCEwKTtjPW5ldyBIYjt0aGlzLnUudXBkYXRlKHRoaXMucGF0aCxhLEliKGMsYikpO3JldHVybiBjLnNhfTtcbmcuS2I9ZnVuY3Rpb24oYSxiLGMpe3koXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCk7TWYoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIix0aGlzLnBhdGgpO0VmKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsYSx0aGlzLnBhdGgsITEpO0lmKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsMixiKTtBKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsMyxjLCEwKTtpZihcIi5sZW5ndGhcIj09PXRoaXMuZ2V0S2V5KCl8fFwiLmtleXNcIj09PXRoaXMuZ2V0S2V5KCkpdGhyb3dcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eSBmYWlsZWQ6IFwiK3RoaXMuZ2V0S2V5KCkrXCIgaXMgYSByZWFkLW9ubHkgb2JqZWN0LlwiO3ZhciBkPW5ldyBIYjt0aGlzLnUuS2IodGhpcy5wYXRoLGEsYixJYihkLGMpKTtyZXR1cm4gZC5zYX07XG5nLnJlbW92ZT1mdW5jdGlvbihhKXt5KFwiRmlyZWJhc2UucmVtb3ZlXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO01mKFwiRmlyZWJhc2UucmVtb3ZlXCIsdGhpcy5wYXRoKTtBKFwiRmlyZWJhc2UucmVtb3ZlXCIsMSxhLCEwKTtyZXR1cm4gdGhpcy5zZXQobnVsbCxhKX07XG5nLnRyYW5zYWN0aW9uPWZ1bmN0aW9uKGEsYixjKXt5KFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwxLDMsYXJndW1lbnRzLmxlbmd0aCk7TWYoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLHRoaXMucGF0aCk7QShcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMSxhLCExKTtBKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwyLGIsITApO2lmKHAoYykmJlwiYm9vbGVhblwiIT10eXBlb2YgYyl0aHJvdyBFcnJvcihEYihcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMywhMCkrXCJtdXN0IGJlIGEgYm9vbGVhbi5cIik7aWYoXCIubGVuZ3RoXCI9PT10aGlzLmdldEtleSgpfHxcIi5rZXlzXCI9PT10aGlzLmdldEtleSgpKXRocm93XCJGaXJlYmFzZS50cmFuc2FjdGlvbiBmYWlsZWQ6IFwiK3RoaXMuZ2V0S2V5KCkrXCIgaXMgYSByZWFkLW9ubHkgb2JqZWN0LlwiO1widW5kZWZpbmVkXCI9PT10eXBlb2YgYyYmKGM9ITApO3ZhciBkPW5ldyBIYjtnYShiKSYmSmIoZC5zYSk7ZWkodGhpcy51LHRoaXMucGF0aCxhLGZ1bmN0aW9uKGEsYyxcbmgpe2E/ZC5yZWplY3QoYSk6ZC5yZXNvbHZlKG5ldyBQYihjLGgpKTtnYShiKSYmYihhLGMsaCl9LGMpO3JldHVybiBkLnNhfTtnLnZnPWZ1bmN0aW9uKGEsYil7eShcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO01mKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIix0aGlzLnBhdGgpO0lmKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwxLGEpO0EoXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDIsYiwhMCk7dmFyIGM9bmV3IEhiO3RoaXMudS5LYih0aGlzLnBhdGguayhcIi5wcmlvcml0eVwiKSxhLG51bGwsSWIoYyxiKSk7cmV0dXJuIGMuc2F9O1xuZy5wdXNoPWZ1bmN0aW9uKGEsYil7eShcIkZpcmViYXNlLnB1c2hcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCk7TWYoXCJGaXJlYmFzZS5wdXNoXCIsdGhpcy5wYXRoKTtFZihcIkZpcmViYXNlLnB1c2hcIixhLHRoaXMucGF0aCwhMCk7QShcIkZpcmViYXNlLnB1c2hcIiwyLGIsITApO3ZhciBjPVpoKHRoaXMudSksZD1VZihjKSxjPXRoaXMuayhkKTtpZihudWxsIT1hKXt2YXIgZT10aGlzLGY9Yy5zZXQoYSxiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuayhkKX0pO2MudGhlbj1yKGYudGhlbixmKTtjW1wiY2F0Y2hcIl09cihmLnRoZW4sZix2b2lkIDApO2dhKGIpJiZKYihmKX1yZXR1cm4gY307Zy5rYj1mdW5jdGlvbigpe01mKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0XCIsdGhpcy5wYXRoKTtyZXR1cm4gbmV3IFYodGhpcy51LHRoaXMucGF0aCl9O1UucHJvdG90eXBlLmNoaWxkPVUucHJvdG90eXBlLms7VS5wcm90b3R5cGUuc2V0PVUucHJvdG90eXBlLnNldDtVLnByb3RvdHlwZS51cGRhdGU9VS5wcm90b3R5cGUudXBkYXRlO1xuVS5wcm90b3R5cGUuc2V0V2l0aFByaW9yaXR5PVUucHJvdG90eXBlLktiO1UucHJvdG90eXBlLnJlbW92ZT1VLnByb3RvdHlwZS5yZW1vdmU7VS5wcm90b3R5cGUudHJhbnNhY3Rpb249VS5wcm90b3R5cGUudHJhbnNhY3Rpb247VS5wcm90b3R5cGUuc2V0UHJpb3JpdHk9VS5wcm90b3R5cGUudmc7VS5wcm90b3R5cGUucHVzaD1VLnByb3RvdHlwZS5wdXNoO1UucHJvdG90eXBlLm9uRGlzY29ubmVjdD1VLnByb3RvdHlwZS5rYjtrZChVLnByb3RvdHlwZSxcImRhdGFiYXNlXCIsVS5wcm90b3R5cGUuUGYpO2tkKFUucHJvdG90eXBlLFwia2V5XCIsVS5wcm90b3R5cGUuZ2V0S2V5KTtrZChVLnByb3RvdHlwZSxcInBhcmVudFwiLFUucHJvdG90eXBlLmdldFBhcmVudCk7a2QoVS5wcm90b3R5cGUsXCJyb290XCIsVS5wcm90b3R5cGUuWmYpO2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgZmlyZWJhc2UpdGhyb3cgRXJyb3IoXCJDYW5ub3QgaW5zdGFsbCBGaXJlYmFzZSBEYXRhYmFzZSAtIGJlIHN1cmUgdG8gbG9hZCBmaXJlYmFzZS1hcHAuanMgZmlyc3QuXCIpO1xudHJ5e2ZpcmViYXNlLklOVEVSTkFMLnJlZ2lzdGVyU2VydmljZShcImRhdGFiYXNlXCIsZnVuY3Rpb24oYSl7dmFyIGI9eWYuV2IoKSxjPWEub3B0aW9ucy5kYXRhYmFzZVVSTDtwKGMpfHwkYyhcIkNhbid0IGRldGVybWluZSBGaXJlYmFzZSBEYXRhYmFzZSBVUkwuICBCZSBzdXJlIHRvIGluY2x1ZGUgZGF0YWJhc2VVUkwgb3B0aW9uIHdoZW4gY2FsbGluZyBmaXJlYmFzZS5pbnRpYWxpemVBcHAoKS5cIik7dmFyIGQ9YWQoYyksYz1kLmtjO3hmKFwiSW52YWxpZCBGaXJlYmFzZSBEYXRhYmFzZSBVUkxcIixkKTtkLnBhdGguZSgpfHwkYyhcIkRhdGFiYXNlIFVSTCBtdXN0IHBvaW50IHRvIHRoZSByb290IG9mIGEgRmlyZWJhc2UgRGF0YWJhc2UgKG5vdCBpbmNsdWRpbmcgYSBjaGlsZCBwYXRoKS5cIik7KGQ9eChiLm5iLGEubmFtZSkpJiYkYyhcIkZJUkVCQVNFIElOVEVSTkFMIEVSUk9SOiBEYXRhYmFzZSBpbml0aWFsaXplZCBtdWx0aXBsZSB0aW1lcy5cIik7ZD1uZXcgdGYoYyxiLkZmLGEpO2IubmJbYS5uYW1lXT1cbmQ7cmV0dXJuIGQuJGF9LHtSZWZlcmVuY2U6VSxRdWVyeTpYLERhdGFiYXNlOnNmLGVuYWJsZUxvZ2dpbmc6WGMsSU5URVJOQUw6WSxURVNUX0FDQ0VTUzpaLFNlcnZlclZhbHVlOnZmfSl9Y2F0Y2gobmkpeyRjKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIHRoZSBGaXJlYmFzZSBEYXRhYmFzZSBTZXJ2aWNlIChcIituaStcIilcIil9O30pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZmlyZWJhc2UuZGF0YWJhc2U7XG4iLCIvKipcbiAqICBGaXJlYmFzZSBsaWJyYXJpZXMgZm9yIGJyb3dzZXIgLSBucG0gcGFja2FnZS5cbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiAgIGZpcmViYXNlID0gcmVxdWlyZSgnZmlyZWJhc2UnKTtcbiAqL1xudmFyIGZpcmViYXNlID0gcmVxdWlyZSgnLi9hcHAnKTtcbnJlcXVpcmUoJy4vYXV0aCcpO1xucmVxdWlyZSgnLi9kYXRhYmFzZScpO1xucmVxdWlyZSgnLi9zdG9yYWdlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZpcmViYXNlO1xuIiwidmFyIGZpcmViYXNlID0gcmVxdWlyZSgnLi9hcHAnKTtcbi8qISBAbGljZW5zZSBGaXJlYmFzZSB2My40LjFcbiAgICBCdWlsZDogMy40LjEtcmMuMlxuICAgIFRlcm1zOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS90ZXJtcyAqL1xuKGZ1bmN0aW9uKCkge3ZhciBrLGFhPWFhfHx7fSxsPXRoaXMsbj1mdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwIT09YX0sYmE9ZnVuY3Rpb24oKXt9LGNhPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJ1bmltcGxlbWVudGVkIGFic3RyYWN0IG1ldGhvZFwiKTt9LHA9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO2lmKFwiW29iamVjdCBXaW5kb3ddXCI9PWMpcmV0dXJuXCJvYmplY3RcIjtpZihcIltvYmplY3QgQXJyYXldXCI9PWN8fFwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3BsaWNlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJzcGxpY2VcIikpcmV0dXJuXCJhcnJheVwiO1xuaWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1jfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jYWxsJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9LGRhPWZ1bmN0aW9uKGEpe3ZhciBiPXAoYSk7cmV0dXJuXCJhcnJheVwiPT1ifHxcIm9iamVjdFwiPT1iJiZcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGh9LHI9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGF9LHQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT1wKGEpfSxlYT1mdW5jdGlvbihhKXt2YXIgYj10eXBlb2YgYTtyZXR1cm5cIm9iamVjdFwiPT1iJiZudWxsIT1hfHxcImZ1bmN0aW9uXCI9PWJ9LGZhPVwiY2xvc3VyZV91aWRfXCIrKDFFOSpNYXRoLnJhbmRvbSgpPj4+XG4wKSxnYT0wLGhhPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfSxpYT1mdW5jdGlvbihhLGIsYyl7aWYoIWEpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGMsZCk7cmV0dXJuIGEuYXBwbHkoYixjKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX0sdT1mdW5jdGlvbihhLGIsYyl7dT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2hhOmlhO3JldHVybiB1LmFwcGx5KG51bGwsYXJndW1lbnRzKX0samE9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxcbnY9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuST1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLkthPWZ1bmN0aW9uKGEsYyxmKXtmb3IodmFyIGQ9QXJyYXkoYXJndW1lbnRzLmxlbmd0aC0yKSxlPTI7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylkW2UtMl09YXJndW1lbnRzW2VdO3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLGQpfX07dmFyIGthPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7UHx8KFA9ITAsYi5hcHBseShudWxsLGFyZ3VtZW50cykpfWZ1bmN0aW9uIGUoYil7bT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bT1udWxsO2EoZiwyPT09USl9LGIpfWZ1bmN0aW9uIGYoYSxiKXtpZighUClpZihhKWQuYXBwbHkobnVsbCxhcmd1bWVudHMpO2Vsc2UgaWYoMj09PVF8fHEpZC5hcHBseShudWxsLGFyZ3VtZW50cyk7ZWxzZXs2ND5oJiYoaCo9Mik7dmFyIGM7MT09PVE/KFE9MixjPTApOmM9MUUzKihoK01hdGgucmFuZG9tKCkpO2UoYyl9fWZ1bmN0aW9uIGcoYSl7amN8fChqYz0hMCxQfHwobnVsbCE9PW0/KGF8fChRPTIpLGNsZWFyVGltZW91dChtKSxlKDApKTphfHwoUT0xKSkpfXZhciBoPTEsbT1udWxsLHE9ITEsUT0wLFA9ITEsamM9ITE7ZSgwKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cT0hMDtnKCEwKX0sYyk7cmV0dXJuIGd9O3ZhciBsYT1cImh0dHBzOi8vZmlyZWJhc2VzdG9yYWdlLmdvb2dsZWFwaXMuY29tXCI7dmFyIHc9ZnVuY3Rpb24oYSxiKXt0aGlzLmNvZGU9XCJzdG9yYWdlL1wiK2E7dGhpcy5tZXNzYWdlPVwiRmlyZWJhc2UgU3RvcmFnZTogXCIrYjt0aGlzLnNlcnZlclJlc3BvbnNlPW51bGw7dGhpcy5uYW1lPVwiRmlyZWJhc2VFcnJvclwifTt2KHcsRXJyb3IpO1xudmFyIG1hPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB3KFwidW5rbm93blwiLFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCwgcGxlYXNlIGNoZWNrIHRoZSBlcnJvciBwYXlsb2FkIGZvciBzZXJ2ZXIgcmVzcG9uc2UuXCIpfSxuYT1mdW5jdGlvbigpe3JldHVybiBuZXcgdyhcImNhbmNlbGVkXCIsXCJVc2VyIGNhbmNlbGVkIHRoZSB1cGxvYWQvZG93bmxvYWQuXCIpfSxvYT1mdW5jdGlvbigpe3JldHVybiBuZXcgdyhcImNhbm5vdC1zbGljZS1ibG9iXCIsXCJDYW5ub3Qgc2xpY2UgYmxvYiBmb3IgdXBsb2FkLiBQbGVhc2UgcmV0cnkgdGhlIHVwbG9hZC5cIil9LHBhPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IHcoXCJpbnZhbGlkLWFyZ3VtZW50XCIsXCJJbnZhbGlkIGFyZ3VtZW50IGluIGBcIitiK1wiYCBhdCBpbmRleCBcIithK1wiOiBcIitjKX0scWE9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHcoXCJhcHAtZGVsZXRlZFwiLFwiVGhlIEZpcmViYXNlIGFwcCB3YXMgZGVsZXRlZC5cIil9LHJhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyB3KFwiaW52YWxpZC1mb3JtYXRcIixcblwiU3RyaW5nIGRvZXMgbm90IG1hdGNoIGZvcm1hdCAnXCIrYStcIic6IFwiK2IpfTt2YXIgc2E9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxjKSYmYihjLGFbY10pfSx0YT1mdW5jdGlvbihhKXt2YXIgYj17fTtzYShhLGZ1bmN0aW9uKGEsZCl7YlthXT1kfSk7cmV0dXJuIGJ9O3ZhciB4PWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuaj1hO3RoaXMuYj17fTt0aGlzLm1ldGhvZD1iO3RoaXMuaGVhZGVycz17fTt0aGlzLmJvZHk9XCJcIjt0aGlzLk09Yzt0aGlzLmM9dGhpcy5hPW51bGw7dGhpcy5mPVsyMDBdO3RoaXMuaD1bXTt0aGlzLmk9ZDt0aGlzLmc9ITB9O3ZhciB1YT17U1RBVEVfQ0hBTkdFRDpcInN0YXRlX2NoYW5nZWRcIn0sdmE9e1JVTk5JTkc6XCJydW5uaW5nXCIsUEFVU0VEOlwicGF1c2VkXCIsU1VDQ0VTUzpcInN1Y2Nlc3NcIixDQU5DRUxFRDpcImNhbmNlbGVkXCIsRVJST1I6XCJlcnJvclwifSx3YT1mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBcInJ1bm5pbmdcIjpjYXNlIFwicGF1c2luZ1wiOmNhc2UgXCJjYW5jZWxpbmdcIjpyZXR1cm5cInJ1bm5pbmdcIjtjYXNlIFwicGF1c2VkXCI6cmV0dXJuXCJwYXVzZWRcIjtjYXNlIFwic3VjY2Vzc1wiOnJldHVyblwic3VjY2Vzc1wiO2Nhc2UgXCJjYW5jZWxlZFwiOnJldHVyblwiY2FuY2VsZWRcIjtjYXNlIFwiZXJyb3JcIjpyZXR1cm5cImVycm9yXCI7ZGVmYXVsdDpyZXR1cm5cImVycm9yXCJ9fTt2YXIgeT1mdW5jdGlvbihhKXtyZXR1cm4gbihhKSYmbnVsbCE9PWF9LHhhPWZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYXx8YSBpbnN0YW5jZW9mIFN0cmluZ30seWE9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIEJsb2J9O3ZhciB6YT1mdW5jdGlvbihhLGIsYyl7dGhpcy5mPWM7dGhpcy5jPWE7dGhpcy5nPWI7dGhpcy5iPTA7dGhpcy5hPW51bGx9O3phLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgYTswPHRoaXMuYj8odGhpcy5iLS0sYT10aGlzLmEsdGhpcy5hPWEubmV4dCxhLm5leHQ9bnVsbCk6YT10aGlzLmMoKTtyZXR1cm4gYX07dmFyIEFhPWZ1bmN0aW9uKGEsYil7YS5nKGIpO2EuYjxhLmYmJihhLmIrKyxiLm5leHQ9YS5hLGEuYT1iKX07dmFyIHo9ZnVuY3Rpb24oYSl7aWYoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx6KTtlbHNle3ZhciBiPUVycm9yKCkuc3RhY2s7YiYmKHRoaXMuc3RhY2s9Yil9YSYmKHRoaXMubWVzc2FnZT1TdHJpbmcoYSkpfTt2KHosRXJyb3IpO3oucHJvdG90eXBlLm5hbWU9XCJDdXN0b21FcnJvclwiO3ZhciBCYT1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMucmVzZXQoYSxiLGMsZCxlKX07QmEucHJvdG90eXBlLmE9bnVsbDt2YXIgQ2E9MDtCYS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXtcIm51bWJlclwiPT10eXBlb2YgZXx8Q2ErKztkfHxqYSgpO3RoaXMuYj1iO2RlbGV0ZSB0aGlzLmF9O3ZhciBEYT1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1hW2RdO3JldHVybiBifSxFYT1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1kO3JldHVybiBifSxGYT1cImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZlwiLnNwbGl0KFwiIFwiKSxHYT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkLGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXtkPWFyZ3VtZW50c1tlXTtmb3IoYyBpbiBkKWFbY109ZFtjXTtmb3IodmFyIGY9MDtmPEZhLmxlbmd0aDtmKyspYz1GYVtmXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxjKSYmKGFbY109ZFtjXSl9fTt2YXIgSGE9ZnVuY3Rpb24oYSl7YS5wcm90b3R5cGUudGhlbj1hLnByb3RvdHlwZS50aGVuO2EucHJvdG90eXBlLiRnb29nX1RoZW5hYmxlPSEwfSxJYT1mdW5jdGlvbihhKXtpZighYSlyZXR1cm4hMTt0cnl7cmV0dXJuISFhLiRnb29nX1RoZW5hYmxlfWNhdGNoKGIpe3JldHVybiExfX07dmFyIEphPWZ1bmN0aW9uKGEpe0phW1wiIFwiXShhKTtyZXR1cm4gYX07SmFbXCIgXCJdPWJhO3ZhciBMYT1mdW5jdGlvbihhLGIpe3ZhciBjPUthO3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYyxhKT9jW2FdOmNbYV09YihhKX07dmFyIE1hPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuc3BsaXQoXCIlc1wiKSxkPVwiXCIsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7ZS5sZW5ndGgmJjE8Yy5sZW5ndGg7KWQrPWMuc2hpZnQoKStlLnNoaWZ0KCk7cmV0dXJuIGQrYy5qb2luKFwiJXNcIil9LE5hPVN0cmluZy5wcm90b3R5cGUudHJpbT9mdW5jdGlvbihhKXtyZXR1cm4gYS50cmltKCl9OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL15bXFxzXFx4YTBdK3xbXFxzXFx4YTBdKyQvZyxcIlwiKX0sT2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYTxiPy0xOmE+Yj8xOjB9O3ZhciBQYT1mdW5jdGlvbihhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifTt2YXIgUWE9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ1Y2tldD1hO3RoaXMucGF0aD1ifSxSYT1mdW5jdGlvbihhKXt2YXIgYj1lbmNvZGVVUklDb21wb25lbnQ7cmV0dXJuXCIvYi9cIitiKGEuYnVja2V0KStcIi9vL1wiK2IoYS5wYXRoKX0sU2E9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW51bGwsYz1be2lhOi9eZ3M6XFwvXFwvKFtBLVphLXowLTkuXFwtXSspKFxcLyguKikpPyQvaSxiYTp7YnVja2V0OjEscGF0aDozfSxoYTpmdW5jdGlvbihhKXtcIi9cIj09PWEucGF0aC5jaGFyQXQoYS5wYXRoLmxlbmd0aC0xKSYmKGEucGF0aD1hLnBhdGguc2xpY2UoMCwtMSkpfX0se2lhOi9eaHR0cHM/OlxcL1xcL2ZpcmViYXNlc3RvcmFnZVxcLmdvb2dsZWFwaXNcXC5jb21cXC92W0EtWmEtejAtOV9dK1xcL2JcXC8oW0EtWmEtejAtOS5cXC1dKylcXC9vKFxcLyhbXj8jXSopLiopPyQvaSxiYTp7YnVja2V0OjEscGF0aDozfSxoYTpmdW5jdGlvbihhKXthLnBhdGg9ZGVjb2RlVVJJQ29tcG9uZW50KGEucGF0aCl9fV0sZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1cbmNbZF0sZj1lLmlhLmV4ZWMoYSk7aWYoZil7Yj1mW2UuYmEuYnVja2V0XTsoZj1mW2UuYmEucGF0aF0pfHwoZj1cIlwiKTtiPW5ldyBRYShiLGYpO2UuaGEoYik7YnJlYWt9fWlmKG51bGw9PWIpdGhyb3cgbmV3IHcoXCJpbnZhbGlkLXVybFwiLFwiSW52YWxpZCBVUkwgJ1wiK2ErXCInLlwiKTtyZXR1cm4gYn07dmFyIFRhPWZ1bmN0aW9uKGEsYixjKXt0KGEpfHx5KGIpfHx5KGMpPyh0aGlzLm5leHQ9YSx0aGlzLmE9Ynx8bnVsbCx0aGlzLmI9Y3x8bnVsbCk6KHRoaXMubmV4dD1hLm5leHR8fG51bGwsdGhpcy5hPWEuZXJyb3J8fG51bGwsdGhpcy5iPWEuY29tcGxldGV8fG51bGwpfTt2YXIgVWE9e1JBVzpcInJhd1wiLEJBU0U2NDpcImJhc2U2NFwiLEJBU0U2NFVSTDpcImJhc2U2NHVybFwiLERBVEFfVVJMOlwiZGF0YV91cmxcIn0sVmE9ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgXCJyYXdcIjpjYXNlIFwiYmFzZTY0XCI6Y2FzZSBcImJhc2U2NHVybFwiOmNhc2UgXCJkYXRhX3VybFwiOmJyZWFrO2RlZmF1bHQ6dGhyb3dcIkV4cGVjdGVkIG9uZSBvZiB0aGUgZXZlbnQgdHlwZXM6IFtyYXcsIGJhc2U2NCwgYmFzZTY0dXJsLCBkYXRhX3VybF0uXCI7fX0sV2E9ZnVuY3Rpb24oYSxiKXt0aGlzLmRhdGE9YTt0aGlzLmE9Ynx8bnVsbH0sJGE9ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSBcInJhd1wiOnJldHVybiBuZXcgV2EoWGEoYikpO2Nhc2UgXCJiYXNlNjRcIjpjYXNlIFwiYmFzZTY0dXJsXCI6cmV0dXJuIG5ldyBXYShZYShhLGIpKTtjYXNlIFwiZGF0YV91cmxcIjpyZXR1cm4gYT1uZXcgWmEoYiksYT1hLmE/WWEoXCJiYXNlNjRcIixhLmMpOlhhKGEuYyksbmV3IFdhKGEsKG5ldyBaYShiKSkuYil9dGhyb3cgbWEoKTtcbn0sWGE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGMpO2lmKDEyNz49ZCliLnB1c2goZCk7ZWxzZSBpZigyMDQ3Pj1kKWIucHVzaCgxOTJ8ZD4+NiwxMjh8ZCY2Myk7ZWxzZSBpZig1NTI5Nj09KGQmNjQ1MTIpKWlmKGM8YS5sZW5ndGgtMSYmNTYzMjA9PShhLmNoYXJDb2RlQXQoYysxKSY2NDUxMikpe3ZhciBlPWEuY2hhckNvZGVBdCgrK2MpLGQ9NjU1MzZ8KGQmMTAyMyk8PDEwfGUmMTAyMztiLnB1c2goMjQwfGQ+PjE4LDEyOHxkPj4xMiY2MywxMjh8ZD4+NiY2MywxMjh8ZCY2Myl9ZWxzZSBiLnB1c2goMjM5LDE5MSwxODkpO2Vsc2UgNTYzMjA9PShkJjY0NTEyKT9iLnB1c2goMjM5LDE5MSwxODkpOmIucHVzaCgyMjR8ZD4+MTIsMTI4fGQ+PjYmNjMsMTI4fGQmNjMpfXJldHVybiBuZXcgVWludDhBcnJheShiKX0sWWE9ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSBcImJhc2U2NFwiOnZhciBjPS0xIT09Yi5pbmRleE9mKFwiLVwiKSxcbmQ9LTEhPT1iLmluZGV4T2YoXCJfXCIpO2lmKGN8fGQpdGhyb3cgcmEoYSxcIkludmFsaWQgY2hhcmFjdGVyICdcIisoYz9cIi1cIjpcIl9cIikrXCInIGZvdW5kOiBpcyBpdCBiYXNlNjR1cmwgZW5jb2RlZD9cIik7YnJlYWs7Y2FzZSBcImJhc2U2NHVybFwiOmM9LTEhPT1iLmluZGV4T2YoXCIrXCIpO2Q9LTEhPT1iLmluZGV4T2YoXCIvXCIpO2lmKGN8fGQpdGhyb3cgcmEoYSxcIkludmFsaWQgY2hhcmFjdGVyICdcIisoYz9cIitcIjpcIi9cIikrXCInIGZvdW5kOiBpcyBpdCBiYXNlNjQgZW5jb2RlZD9cIik7Yj1iLnJlcGxhY2UoLy0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKX12YXIgZTt0cnl7ZT1hdG9iKGIpfWNhdGNoKGYpe3Rocm93IHJhKGEsXCJJbnZhbGlkIGNoYXJhY3RlciBmb3VuZFwiKTt9YT1uZXcgVWludDhBcnJheShlLmxlbmd0aCk7Zm9yKGI9MDtiPGUubGVuZ3RoO2IrKylhW2JdPWUuY2hhckNvZGVBdChiKTtyZXR1cm4gYX0sWmE9ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXRjaCgvXmRhdGE6KFteLF0rKT8sLyk7XG5pZihudWxsPT09Yil0aHJvdyByYShcImRhdGFfdXJsXCIsXCJNdXN0IGJlIGZvcm1hdHRlZCAnZGF0YTpbPG1lZGlhdHlwZT5dWztiYXNlNjRdLDxkYXRhPlwiKTtiPWJbMV18fG51bGw7dGhpcy5hPSExO3RoaXMuYj1udWxsO2lmKG51bGwhPWIpe3ZhciBjPWIubGVuZ3RoLTc7dGhpcy5iPSh0aGlzLmE9MDw9YyYmYi5pbmRleE9mKFwiO2Jhc2U2NFwiLGMpPT1jKT9iLnN1YnN0cmluZygwLGIubGVuZ3RoLTcpOmJ9dGhpcy5jPWEuc3Vic3RyaW5nKGEuaW5kZXhPZihcIixcIikrMSl9O3ZhciBhYj1mdW5jdGlvbihhKXt2YXIgYj1lbmNvZGVVUklDb21wb25lbnQsYz1cIj9cIjtzYShhLGZ1bmN0aW9uKGEsZSl7YT1iKGEpK1wiPVwiK2IoZSk7Yz1jK2ErXCImXCJ9KTtyZXR1cm4gYz1jLnNsaWNlKDAsLTEpfTt2YXIgQT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5iPWE7dGhpcy5oPWI7dGhpcy5mPWM7dGhpcy5hPWQ7dGhpcy5nPWU7dGhpcy5jPWZ9O2s9QS5wcm90b3R5cGU7ay5uYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2suSmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofTtrLkdhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07ay5CYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2sucGE9ZnVuY3Rpb24oKXtpZih5KHRoaXMuYSkpe3ZhciBhPXRoaXMuYS5kb3dubG9hZFVSTHM7cmV0dXJuIHkoYSkmJnkoYVswXSk/YVswXTpudWxsfXJldHVybiBudWxsfTtrLklhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307ay5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O3ZhciBiYj1mdW5jdGlvbihhLGIpe2IudW5zaGlmdChhKTt6LmNhbGwodGhpcyxNYS5hcHBseShudWxsLGIpKTtiLnNoaWZ0KCl9O3YoYmIseik7YmIucHJvdG90eXBlLm5hbWU9XCJBc3NlcnRpb25FcnJvclwiO1xudmFyIGNiPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVwiQXNzZXJ0aW9uIGZhaWxlZFwiO2lmKGMpdmFyIGU9ZSsoXCI6IFwiK2MpLGY9ZDtlbHNlIGEmJihlKz1cIjogXCIrYSxmPWIpO3Rocm93IG5ldyBiYihcIlwiK2UsZnx8W10pO30sQj1mdW5jdGlvbihhLGIsYyl7YXx8Y2IoXCJcIixudWxsLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0sZGI9ZnVuY3Rpb24oYSxiKXt0aHJvdyBuZXcgYmIoXCJGYWlsdXJlXCIrKGE/XCI6IFwiK2E6XCJcIiksQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTt9LGViPWZ1bmN0aW9uKGEsYixjKXt0KGEpfHxjYihcIkV4cGVjdGVkIGZ1bmN0aW9uIGJ1dCBnb3QgJXM6ICVzLlwiLFtwKGEpLGFdLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX07dmFyIGZiPWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMuZzt0aGlzLm89dGhpcy5vfTtmYi5wcm90b3R5cGUuZz0hMTtmYi5wcm90b3R5cGUuZWE9ZnVuY3Rpb24oKXt0aGlzLmd8fCh0aGlzLmc9ITAsdGhpcy5EKCkpfTtmYi5wcm90b3R5cGUuRD1mdW5jdGlvbigpe2lmKHRoaXMubylmb3IoO3RoaXMuby5sZW5ndGg7KXRoaXMuby5zaGlmdCgpKCl9O3ZhciBnYj1cImNsb3N1cmVfbGlzdGVuYWJsZV9cIisoMUU2Kk1hdGgucmFuZG9tKCl8MCksaGI9MDt2YXIgaWI7YTp7dmFyIGpiPWwubmF2aWdhdG9yO2lmKGpiKXt2YXIga2I9amIudXNlckFnZW50O2lmKGtiKXtpYj1rYjticmVhayBhfX1pYj1cIlwifXZhciBDPWZ1bmN0aW9uKGEpe3JldHVybi0xIT1pYi5pbmRleE9mKGEpfTt2YXIgbGI9ZnVuY3Rpb24oKXt9O2xiLnByb3RvdHlwZS5iPW51bGw7bGIucHJvdG90eXBlLmE9Y2E7dmFyIG1iPWZ1bmN0aW9uKGEpe3JldHVybiBhLmJ8fChhLmI9YS5mKCkpfTtsYi5wcm90b3R5cGUuZj1jYTt2YXIgbmI9QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/ZnVuY3Rpb24oYSxiLGMpe0IobnVsbCE9YS5sZW5ndGgpO3JldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbD09Yz8wOjA+Yz9NYXRoLm1heCgwLGEubGVuZ3RoK2MpOmM7aWYocihhKSlyZXR1cm4gcihiKSYmMT09Yi5sZW5ndGg/YS5pbmRleE9mKGIsYyk6LTE7Zm9yKDtjPGEubGVuZ3RoO2MrKylpZihjIGluIGEmJmFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxvYj1BcnJheS5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbihhLGIsYyl7QihudWxsIT1hLmxlbmd0aCk7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1yKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKX0scGI9QXJyYXkucHJvdG90eXBlLmZpbHRlcj9mdW5jdGlvbihhLFxuYixjKXtCKG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPVtdLGY9MCxnPXIoYSk/YS5zcGxpdChcIlwiKTphLGg9MDtoPGQ7aCsrKWlmKGggaW4gZyl7dmFyIG09Z1toXTtiLmNhbGwoYyxtLGgsYSkmJihlW2YrK109bSl9cmV0dXJuIGV9LHFiPUFycmF5LnByb3RvdHlwZS5tYXA/ZnVuY3Rpb24oYSxiLGMpe0IobnVsbCE9YS5sZW5ndGgpO3JldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9QXJyYXkoZCksZj1yKGEpP2Euc3BsaXQoXCJcIik6YSxnPTA7ZzxkO2crKylnIGluIGYmJihlW2ddPWIuY2FsbChjLGZbZ10sZyxhKSk7cmV0dXJuIGV9LHJiPUFycmF5LnByb3RvdHlwZS5zb21lP2Z1bmN0aW9uKGEsYixjKXtCKG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChhLFxuYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPXIoYSk/YS5zcGxpdChcIlwiKTphLGY9MDtmPGQ7ZisrKWlmKGYgaW4gZSYmYi5jYWxsKGMsZVtmXSxmLGEpKXJldHVybiEwO3JldHVybiExfSx0Yj1mdW5jdGlvbihhKXt2YXIgYjthOntiPXNiO2Zvcih2YXIgYz1hLmxlbmd0aCxkPXIoYSk/YS5zcGxpdChcIlwiKTphLGU9MDtlPGM7ZSsrKWlmKGUgaW4gZCYmYi5jYWxsKHZvaWQgMCxkW2VdLGUsYSkpe2I9ZTticmVhayBhfWI9LTF9cmV0dXJuIDA+Yj9udWxsOnIoYSk/YS5jaGFyQXQoYik6YVtiXX0sdWI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMDw9bmIoYSxiKX0sdmI9ZnVuY3Rpb24oYSl7aWYoXCJhcnJheVwiIT1wKGEpKWZvcih2YXIgYj1hLmxlbmd0aC0xOzA8PWI7Yi0tKWRlbGV0ZSBhW2JdO2EubGVuZ3RoPTB9LHdiPWZ1bmN0aW9uKGEsYil7Yj1uYihhLGIpO3ZhciBjO2lmKGM9MDw9YilCKG51bGwhPWEubGVuZ3RoKSxBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYSxcbmIsMSk7cmV0dXJuIGN9LHhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoO2lmKDA8Yil7Zm9yKHZhciBjPUFycmF5KGIpLGQ9MDtkPGI7ZCsrKWNbZF09YVtkXTtyZXR1cm4gY31yZXR1cm5bXX07dmFyIHpiPW5ldyB6YShmdW5jdGlvbigpe3JldHVybiBuZXcgeWJ9LGZ1bmN0aW9uKGEpe2EucmVzZXQoKX0sMTAwKSxCYj1mdW5jdGlvbigpe3ZhciBhPUFiLGI9bnVsbDthLmEmJihiPWEuYSxhLmE9YS5hLm5leHQsYS5hfHwoYS5iPW51bGwpLGIubmV4dD1udWxsKTtyZXR1cm4gYn0seWI9ZnVuY3Rpb24oKXt0aGlzLm5leHQ9dGhpcy5iPXRoaXMuYT1udWxsfTt5Yi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dGhpcy5hPWE7dGhpcy5iPWI7dGhpcy5uZXh0PW51bGx9O3liLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubmV4dD10aGlzLmI9dGhpcy5hPW51bGx9O3ZhciBDYj1mdW5jdGlvbihhLGIpe3RoaXMudHlwZT1hO3RoaXMuYT10aGlzLnRhcmdldD1iO3RoaXMuamE9ITB9O0NiLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7dGhpcy5qYT0hMX07dmFyIERiPWZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy5saXN0ZW5lcj1hO3RoaXMuYT1udWxsO3RoaXMuc3JjPWI7dGhpcy50eXBlPWM7dGhpcy5VPSEhZDt0aGlzLk09ZTsrK2hiO3RoaXMuTj10aGlzLlQ9ITF9LEViPWZ1bmN0aW9uKGEpe2EuTj0hMDthLmxpc3RlbmVyPW51bGw7YS5hPW51bGw7YS5zcmM9bnVsbDthLk09bnVsbH07dmFyIEZiPS9eKD86KFteOi8/Iy5dKyk6KT8oPzpcXC9cXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XFw/KFteI10qKSk/KD86IyhbXFxzXFxTXSopKT8kLzt2YXIgR2I9ZnVuY3Rpb24oYSxiKXtiPXBiKGIuc3BsaXQoXCIvXCIpLGZ1bmN0aW9uKGEpe3JldHVybiAwPGEubGVuZ3RofSkuam9pbihcIi9cIik7cmV0dXJuIDA9PT1hLmxlbmd0aD9iOmErXCIvXCIrYn0sSGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS5sYXN0SW5kZXhPZihcIi9cIixhLmxlbmd0aC0yKTtyZXR1cm4tMT09PWI/YTphLnNsaWNlKGIrMSl9O3ZhciBJYj1mdW5jdGlvbihhKXt0aGlzLnNyYz1hO3RoaXMuYT17fTt0aGlzLmI9MH0sS2I9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPWIudG9TdHJpbmcoKTtiPWEuYVtnXTtifHwoYj1hLmFbZ109W10sYS5iKyspO3ZhciBoPUpiKGIsYyxlLGYpOy0xPGg/KGE9YltoXSxkfHwoYS5UPSExKSk6KGE9bmV3IERiKGMsYS5zcmMsZywhIWUsZiksYS5UPWQsYi5wdXNoKGEpKTtyZXR1cm4gYX0sTGI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnR5cGU7YyBpbiBhLmEmJndiKGEuYVtjXSxiKSYmKEViKGIpLDA9PWEuYVtjXS5sZW5ndGgmJihkZWxldGUgYS5hW2NdLGEuYi0tKSl9LEpiPWZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7KytlKXt2YXIgZj1hW2VdO2lmKCFmLk4mJmYubGlzdGVuZXI9PWImJmYuVT09ISFjJiZmLk09PWQpcmV0dXJuIGV9cmV0dXJuLTF9O3ZhciBNYixOYj1mdW5jdGlvbigpe307dihOYixsYik7TmIucHJvdG90eXBlLmE9ZnVuY3Rpb24oKXt2YXIgYT1PYih0aGlzKTtyZXR1cm4gYT9uZXcgQWN0aXZlWE9iamVjdChhKTpuZXcgWE1MSHR0cFJlcXVlc3R9O05iLnByb3RvdHlwZS5mPWZ1bmN0aW9uKCl7dmFyIGE9e307T2IodGhpcykmJihhWzBdPSEwLGFbMV09ITApO3JldHVybiBhfTtcbnZhciBPYj1mdW5jdGlvbihhKXtpZighYS5jJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBBY3RpdmVYT2JqZWN0KXtmb3IodmFyIGI9W1wiTVNYTUwyLlhNTEhUVFAuNi4wXCIsXCJNU1hNTDIuWE1MSFRUUC4zLjBcIixcIk1TWE1MMi5YTUxIVFRQXCIsXCJNaWNyb3NvZnQuWE1MSFRUUFwiXSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107dHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChkKSxhLmM9ZH1jYXRjaChlKXt9fXRocm93IEVycm9yKFwiQ291bGQgbm90IGNyZWF0ZSBBY3RpdmVYT2JqZWN0LiBBY3RpdmVYIG1pZ2h0IGJlIGRpc2FibGVkLCBvciBNU1hNTCBtaWdodCBub3QgYmUgaW5zdGFsbGVkXCIpO31yZXR1cm4gYS5jfTtNYj1uZXcgTmI7dmFyIFBiPWZ1bmN0aW9uKGEpe3RoaXMuYT1bXTtpZihhKWE6e3ZhciBiO2lmKGEgaW5zdGFuY2VvZiBQYil7aWYoYj1hLkgoKSxhPWEuQSgpLDA+PXRoaXMuYigpKXtmb3IodmFyIGM9dGhpcy5hLGQ9MDtkPGIubGVuZ3RoO2QrKyljLnB1c2gobmV3IFBhKGJbZF0sYVtkXSkpO2JyZWFrIGF9fWVsc2UgYj1FYShhKSxhPURhKGEpO2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspUWIodGhpcyxiW2RdLGFbZF0pfX0sUWI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuYTtkLnB1c2gobmV3IFBhKGIsYykpO2I9ZC5sZW5ndGgtMTthPWEuYTtmb3IoYz1hW2JdOzA8YjspaWYoZD1iLTE+PjEsYVtkXS5hPmMuYSlhW2JdPWFbZF0sYj1kO2Vsc2UgYnJlYWs7YVtiXT1jfTtQYi5wcm90b3R5cGUuQT1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmEsYj1bXSxjPWEubGVuZ3RoLGQ9MDtkPGM7ZCsrKWIucHVzaChhW2RdLmIpO3JldHVybiBifTtcblBiLnByb3RvdHlwZS5IPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuYSxiPVtdLGM9YS5sZW5ndGgsZD0wO2Q8YztkKyspYi5wdXNoKGFbZF0uYSk7cmV0dXJuIGJ9O1BiLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGh9O3ZhciBSYj1mdW5jdGlvbigpe3RoaXMuYz1bXTt0aGlzLmE9W119LFNiPWZ1bmN0aW9uKGEpezA9PWEuYy5sZW5ndGgmJihhLmM9YS5hLGEuYy5yZXZlcnNlKCksYS5hPVtdKTtyZXR1cm4gYS5jLnBvcCgpfTtSYi5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMubGVuZ3RoK3RoaXMuYS5sZW5ndGh9O1JiLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9dGhpcy5jLmxlbmd0aC0xOzA8PWI7LS1iKWEucHVzaCh0aGlzLmNbYl0pO2Zvcih2YXIgYz10aGlzLmEubGVuZ3RoLGI9MDtiPGM7KytiKWEucHVzaCh0aGlzLmFbYl0pO3JldHVybiBhfTt2YXIgVGI9ZnVuY3Rpb24oYSl7aWYoYS5BJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLkEpcmV0dXJuIGEuQSgpO2lmKHIoYSkpcmV0dXJuIGEuc3BsaXQoXCJcIik7aWYoZGEoYSkpe2Zvcih2YXIgYj1bXSxjPWEubGVuZ3RoLGQ9MDtkPGM7ZCsrKWIucHVzaChhW2RdKTtyZXR1cm4gYn1yZXR1cm4gRGEoYSl9LFViPWZ1bmN0aW9uKGEsYil7aWYoYS5mb3JFYWNoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmZvckVhY2gpYS5mb3JFYWNoKGIsdm9pZCAwKTtlbHNlIGlmKGRhKGEpfHxyKGEpKW9iKGEsYix2b2lkIDApO2Vsc2V7dmFyIGM7aWYoYS5IJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLkgpYz1hLkgoKTtlbHNlIGlmKGEuQSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5BKWM9dm9pZCAwO2Vsc2UgaWYoZGEoYSl8fHIoYSkpe2M9W107Zm9yKHZhciBkPWEubGVuZ3RoLGU9MDtlPGQ7ZSsrKWMucHVzaChlKX1lbHNlIGM9RWEoYSk7Zm9yKHZhciBkPVRiKGEpLGU9ZC5sZW5ndGgsZj0wO2Y8ZTtmKyspYi5jYWxsKHZvaWQgMCxcbmRbZl0sYyYmY1tmXSxhKX19O3ZhciBWYj1mdW5jdGlvbihhKXtsLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBhO30sMCl9LFdiLFhiPWZ1bmN0aW9uKCl7dmFyIGE9bC5NZXNzYWdlQ2hhbm5lbDtcInVuZGVmaW5lZFwiPT09dHlwZW9mIGEmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucG9zdE1lc3NhZ2UmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyJiYhQyhcIlByZXN0b1wiKSYmKGE9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSUZSQU1FXCIpO2Euc3R5bGUuZGlzcGxheT1cIm5vbmVcIjthLnNyYz1cIlwiO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChhKTt2YXIgYj1hLmNvbnRlbnRXaW5kb3csYT1iLmRvY3VtZW50O2Eub3BlbigpO2Eud3JpdGUoXCJcIik7YS5jbG9zZSgpO3ZhciBjPVwiY2FsbEltbWVkaWF0ZVwiK01hdGgucmFuZG9tKCksZD1cImZpbGU6XCI9PWIubG9jYXRpb24ucHJvdG9jb2w/XCIqXCI6Yi5sb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrYi5sb2NhdGlvbi5ob3N0LFxuYT11KGZ1bmN0aW9uKGEpe2lmKChcIipcIj09ZHx8YS5vcmlnaW49PWQpJiZhLmRhdGE9PWMpdGhpcy5wb3J0MS5vbm1lc3NhZ2UoKX0sdGhpcyk7Yi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGEsITEpO3RoaXMucG9ydDE9e307dGhpcy5wb3J0Mj17cG9zdE1lc3NhZ2U6ZnVuY3Rpb24oKXtiLnBvc3RNZXNzYWdlKGMsZCl9fX0pO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgYSYmIUMoXCJUcmlkZW50XCIpJiYhQyhcIk1TSUVcIikpe3ZhciBiPW5ldyBhLGM9e30sZD1jO2IucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7aWYobihjLm5leHQpKXtjPWMubmV4dDt2YXIgYT1jLmRhO2MuZGE9bnVsbDthKCl9fTtyZXR1cm4gZnVuY3Rpb24oYSl7ZC5uZXh0PXtkYTphfTtkPWQubmV4dDtiLnBvcnQyLnBvc3RNZXNzYWdlKDApfX1yZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNDUklQVFwiKT9cbmZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTQ1JJUFRcIik7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO2IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTtiPW51bGw7YSgpO2E9bnVsbH07ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGIpfTpmdW5jdGlvbihhKXtsLnNldFRpbWVvdXQoYSwwKX19O3ZhciBZYj1cIlN0b3BJdGVyYXRpb25cImluIGw/bC5TdG9wSXRlcmF0aW9uOnttZXNzYWdlOlwiU3RvcEl0ZXJhdGlvblwiLHN0YWNrOlwiXCJ9LFpiPWZ1bmN0aW9uKCl7fTtaYi5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3Rocm93IFliO307WmIucHJvdG90eXBlLmg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyICRiPWZ1bmN0aW9uKCl7UGIuY2FsbCh0aGlzKX07digkYixQYik7dmFyIGFjPUMoXCJPcGVyYVwiKSxEPUMoXCJUcmlkZW50XCIpfHxDKFwiTVNJRVwiKSxiYz1DKFwiRWRnZVwiKSxjYz1DKFwiR2Vja29cIikmJiEoLTEhPWliLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKSYmIUMoXCJFZGdlXCIpKSYmIShDKFwiVHJpZGVudFwiKXx8QyhcIk1TSUVcIikpJiYhQyhcIkVkZ2VcIiksZGM9LTEhPWliLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKSYmIUMoXCJFZGdlXCIpLGVjPWZ1bmN0aW9uKCl7dmFyIGE9bC5kb2N1bWVudDtyZXR1cm4gYT9hLmRvY3VtZW50TW9kZTp2b2lkIDB9LGZjO1xuYTp7dmFyIGdjPVwiXCIsaGM9ZnVuY3Rpb24oKXt2YXIgYT1pYjtpZihjYylyZXR1cm4vcnZcXDooW15cXCk7XSspKFxcKXw7KS8uZXhlYyhhKTtpZihiYylyZXR1cm4vRWRnZVxcLyhbXFxkXFwuXSspLy5leGVjKGEpO2lmKEQpcmV0dXJuL1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLy5leGVjKGEpO2lmKGRjKXJldHVybi9XZWJLaXRcXC8oXFxTKykvLmV4ZWMoYSk7aWYoYWMpcmV0dXJuLyg/OlZlcnNpb24pWyBcXC9dPyhcXFMrKS8uZXhlYyhhKX0oKTtoYyYmKGdjPWhjP2hjWzFdOlwiXCIpO2lmKEQpe3ZhciBpYz1lYygpO2lmKG51bGwhPWljJiZpYz5wYXJzZUZsb2F0KGdjKSl7ZmM9U3RyaW5nKGljKTticmVhayBhfX1mYz1nY31cbnZhciBrYz1mYyxLYT17fSxFPWZ1bmN0aW9uKGEpe3JldHVybiBMYShhLGZ1bmN0aW9uKCl7Zm9yKHZhciBiPTAsYz1OYShTdHJpbmcoa2MpKS5zcGxpdChcIi5cIiksZD1OYShTdHJpbmcoYSkpLnNwbGl0KFwiLlwiKSxlPU1hdGgubWF4KGMubGVuZ3RoLGQubGVuZ3RoKSxmPTA7MD09YiYmZjxlO2YrKyl7dmFyIGc9Y1tmXXx8XCJcIixoPWRbZl18fFwiXCI7ZG97Zz0vKFxcZCopKFxcRCopKC4qKS8uZXhlYyhnKXx8W1wiXCIsXCJcIixcIlwiLFwiXCJdO2g9LyhcXGQqKShcXEQqKSguKikvLmV4ZWMoaCl8fFtcIlwiLFwiXCIsXCJcIixcIlwiXTtpZigwPT1nWzBdLmxlbmd0aCYmMD09aFswXS5sZW5ndGgpYnJlYWs7Yj1PYSgwPT1nWzFdLmxlbmd0aD8wOnBhcnNlSW50KGdbMV0sMTApLDA9PWhbMV0ubGVuZ3RoPzA6cGFyc2VJbnQoaFsxXSwxMCkpfHxPYSgwPT1nWzJdLmxlbmd0aCwwPT1oWzJdLmxlbmd0aCl8fE9hKGdbMl0saFsyXSk7Zz1nWzNdO2g9aFszXX13aGlsZSgwPT1iKX1yZXR1cm4gMDw9Yn0pfSxsYzt2YXIgbWM9bC5kb2N1bWVudDtcbmxjPW1jJiZEP2VjKCl8fChcIkNTUzFDb21wYXRcIj09bWMuY29tcGF0TW9kZT9wYXJzZUludChrYywxMCk6NSk6dm9pZCAwO3ZhciBxYz1mdW5jdGlvbihhLGIpe25jfHxvYygpO3BjfHwobmMoKSxwYz0hMCk7dmFyIGM9QWIsZD16Yi5nZXQoKTtkLnNldChhLGIpO2MuYj9jLmIubmV4dD1kOihCKCFjLmEpLGMuYT1kKTtjLmI9ZH0sbmMsb2M9ZnVuY3Rpb24oKXt2YXIgYT1sLlByb21pc2U7aWYoLTEhPVN0cmluZyhhKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSl7dmFyIGI9YS5yZXNvbHZlKHZvaWQgMCk7bmM9ZnVuY3Rpb24oKXtiLnRoZW4ocmMpfX1lbHNlIG5jPWZ1bmN0aW9uKCl7dmFyIGE9cmM7IXQobC5zZXRJbW1lZGlhdGUpfHxsLldpbmRvdyYmbC5XaW5kb3cucHJvdG90eXBlJiYhQyhcIkVkZ2VcIikmJmwuV2luZG93LnByb3RvdHlwZS5zZXRJbW1lZGlhdGU9PWwuc2V0SW1tZWRpYXRlPyhXYnx8KFdiPVhiKCkpLFdiKGEpKTpsLnNldEltbWVkaWF0ZShhKX19LHBjPSExLEFiPW5ldyBmdW5jdGlvbigpe3RoaXMuYj10aGlzLmE9bnVsbH0scmM9ZnVuY3Rpb24oKXtmb3IodmFyIGE7YT1CYigpOyl7dHJ5e2EuYS5jYWxsKGEuYil9Y2F0Y2goYil7VmIoYil9QWEoemIsXG5hKX1wYz0hMX07dmFyIHNjOyhzYz0hRCl8fChzYz05PD1OdW1iZXIobGMpKTt2YXIgdGM9c2MsdWM9RCYmIUUoXCI5XCIpOyFkY3x8RShcIjUyOFwiKTtjYyYmRShcIjEuOWJcIil8fEQmJkUoXCI4XCIpfHxhYyYmRShcIjkuNVwiKXx8ZGMmJkUoXCI1MjhcIik7Y2MmJiFFKFwiOFwiKXx8RCYmRShcIjlcIik7dmFyIEY9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9e307dGhpcy5hPVtdO3RoaXMuZz10aGlzLmY9MDt2YXIgYz1hcmd1bWVudHMubGVuZ3RoO2lmKDE8Yyl7aWYoYyUyKXRocm93IEVycm9yKFwiVW5ldmVuIG51bWJlciBvZiBhcmd1bWVudHNcIik7Zm9yKHZhciBkPTA7ZDxjO2QrPTIpdGhpcy5zZXQoYXJndW1lbnRzW2RdLGFyZ3VtZW50c1tkKzFdKX1lbHNlIGlmKGEpe2EgaW5zdGFuY2VvZiBGPyhjPWEuSCgpLGQ9YS5BKCkpOihjPUVhKGEpLGQ9RGEoYSkpO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXRoaXMuc2V0KGNbZV0sZFtlXSl9fTtGLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07Ri5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZjKHRoaXMpO2Zvcih2YXIgYT1bXSxiPTA7Yjx0aGlzLmEubGVuZ3RoO2IrKylhLnB1c2godGhpcy5jW3RoaXMuYVtiXV0pO3JldHVybiBhfTtGLnByb3RvdHlwZS5IPWZ1bmN0aW9uKCl7dmModGhpcyk7cmV0dXJuIHRoaXMuYS5jb25jYXQoKX07XG52YXIgd2M9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEuYyxiKT8oZGVsZXRlIGEuY1tiXSxhLmYtLSxhLmcrKyxhLmEubGVuZ3RoPjIqYS5mJiZ2YyhhKSwhMCk6ITF9LHZjPWZ1bmN0aW9uKGEpe2lmKGEuZiE9YS5hLmxlbmd0aCl7Zm9yKHZhciBiPTAsYz0wO2I8YS5hLmxlbmd0aDspe3ZhciBkPWEuYVtiXTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYS5jLGQpJiYoYS5hW2MrK109ZCk7YisrfWEuYS5sZW5ndGg9Y31pZihhLmYhPWEuYS5sZW5ndGgpe2Zvcih2YXIgZT17fSxjPWI9MDtiPGEuYS5sZW5ndGg7KWQ9YS5hW2JdLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGQpfHwoYS5hW2MrK109ZCxlW2RdPTEpLGIrKzthLmEubGVuZ3RoPWN9fTtcbkYucHJvdG90eXBlLmdldD1mdW5jdGlvbihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jLGEpP3RoaXMuY1thXTpifTtGLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jLGEpfHwodGhpcy5mKyssdGhpcy5hLnB1c2goYSksdGhpcy5nKyspO3RoaXMuY1thXT1ifTtGLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuSCgpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxmPXRoaXMuZ2V0KGUpO2EuY2FsbChiLGYsZSx0aGlzKX19O1xuRi5wcm90b3R5cGUuaD1mdW5jdGlvbihhKXt2Yyh0aGlzKTt2YXIgYj0wLGM9dGhpcy5nLGQ9dGhpcyxlPW5ldyBaYjtlLm5leHQ9ZnVuY3Rpb24oKXtpZihjIT1kLmcpdGhyb3cgRXJyb3IoXCJUaGUgbWFwIGhhcyBjaGFuZ2VkIHNpbmNlIHRoZSBpdGVyYXRvciB3YXMgY3JlYXRlZFwiKTtpZihiPj1kLmEubGVuZ3RoKXRocm93IFliO3ZhciBlPWQuYVtiKytdO3JldHVybiBhP2U6ZC5jW2VdfTtyZXR1cm4gZX07dmFyIHhjPWZ1bmN0aW9uKGEsYil7Q2IuY2FsbCh0aGlzLGE/YS50eXBlOlwiXCIpO3RoaXMuYz10aGlzLmE9dGhpcy50YXJnZXQ9bnVsbDtpZihhKXt0aGlzLnR5cGU9YS50eXBlO3RoaXMudGFyZ2V0PWEudGFyZ2V0fHxhLnNyY0VsZW1lbnQ7dGhpcy5hPWI7aWYoKGI9YS5yZWxhdGVkVGFyZ2V0KSYmY2MpdHJ5e0phKGIubm9kZU5hbWUpfWNhdGNoKGMpe310aGlzLmM9YTthLmRlZmF1bHRQcmV2ZW50ZWQmJnRoaXMuYigpfX07dih4YyxDYik7eGMucHJvdG90eXBlLmI9ZnVuY3Rpb24oKXt4Yy5JLmIuY2FsbCh0aGlzKTt2YXIgYT10aGlzLmM7aWYoYS5wcmV2ZW50RGVmYXVsdClhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZihhLnJldHVyblZhbHVlPSExLHVjKXRyeXtpZihhLmN0cmxLZXl8fDExMjw9YS5rZXlDb2RlJiYxMjM+PWEua2V5Q29kZSlhLmtleUNvZGU9LTF9Y2F0Y2goYil7fX07dmFyIEc9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9MDt0aGlzLmk9dm9pZCAwO3RoaXMuZj10aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5nPXRoaXMuaD0hMTtpZihhIT1iYSl0cnl7dmFyIGM9dGhpczthLmNhbGwoYixmdW5jdGlvbihhKXt5YyhjLDIsYSl9LGZ1bmN0aW9uKGEpe2lmKCEoYSBpbnN0YW5jZW9mIHpjKSl0cnl7aWYoYSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGE7dGhyb3cgRXJyb3IoXCJQcm9taXNlIHJlamVjdGVkLlwiKTt9Y2F0Y2goZSl7fXljKGMsMyxhKX0pfWNhdGNoKGQpe3ljKHRoaXMsMyxkKX19LEFjPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuZj10aGlzLmM9dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuZz0hMX07QWMucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5mPXRoaXMuYz10aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5nPSExfTtcbnZhciBCYz1uZXcgemEoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFjfSxmdW5jdGlvbihhKXthLnJlc2V0KCl9LDEwMCksQ2M9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUJjLmdldCgpO2QuYj1hO2QuYz1iO2QuZj1jO3JldHVybiBkfSxEYz1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgRylyZXR1cm4gYTt2YXIgYj1uZXcgRyhiYSk7eWMoYiwyLGEpO3JldHVybiBifSxFYz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEcoZnVuY3Rpb24oYixjKXtjKGEpfSl9O1xuRy5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihhLGIsYyl7bnVsbCE9YSYmZWIoYSxcIm9wdF9vbkZ1bGZpbGxlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi5cIik7bnVsbCE9YiYmZWIoYixcIm9wdF9vblJlamVjdGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiBEaWQgeW91IHBhc3Mgb3B0X2NvbnRleHQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkIG9mIHRoZSB0aGlyZD9cIik7cmV0dXJuIEZjKHRoaXMsdChhKT9hOm51bGwsdChiKT9iOm51bGwsYyl9O0hhKEcpO0cucHJvdG90eXBlLmw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRmModGhpcyxudWxsLGEsYil9O0cucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXswPT10aGlzLmEmJnFjKGZ1bmN0aW9uKCl7dmFyIGI9bmV3IHpjKGEpO0djKHRoaXMsYil9LHRoaXMpfTtcbnZhciBHYz1mdW5jdGlvbihhLGIpe2lmKDA9PWEuYSlpZihhLmMpe3ZhciBjPWEuYztpZihjLmIpe2Zvcih2YXIgZD0wLGU9bnVsbCxmPW51bGwsZz1jLmI7ZyYmKGcuZ3x8KGQrKyxnLmE9PWEmJihlPWcpLCEoZSYmMTxkKSkpO2c9Zy5uZXh0KWV8fChmPWcpO2UmJigwPT1jLmEmJjE9PWQ/R2MoYyxiKTooZj8oZD1mLEIoYy5iKSxCKG51bGwhPWQpLGQubmV4dD09Yy5mJiYoYy5mPWQpLGQubmV4dD1kLm5leHQubmV4dCk6SGMoYyksSWMoYyxlLDMsYikpKX1hLmM9bnVsbH1lbHNlIHljKGEsMyxiKX0sS2M9ZnVuY3Rpb24oYSxiKXthLmJ8fDIhPWEuYSYmMyE9YS5hfHxKYyhhKTtCKG51bGwhPWIuYik7YS5mP2EuZi5uZXh0PWI6YS5iPWI7YS5mPWJ9LEZjPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPUNjKG51bGwsbnVsbCxudWxsKTtlLmE9bmV3IEcoZnVuY3Rpb24oYSxnKXtlLmI9Yj9mdW5jdGlvbihjKXt0cnl7dmFyIGU9Yi5jYWxsKGQsYyk7YShlKX1jYXRjaChxKXtnKHEpfX06YTtcbmUuYz1jP2Z1bmN0aW9uKGIpe3RyeXt2YXIgZT1jLmNhbGwoZCxiKTshbihlKSYmYiBpbnN0YW5jZW9mIHpjP2coYik6YShlKX1jYXRjaChxKXtnKHEpfX06Z30pO2UuYS5jPWE7S2MoYSxlKTtyZXR1cm4gZS5hfTtHLnByb3RvdHlwZS5vPWZ1bmN0aW9uKGEpe0IoMT09dGhpcy5hKTt0aGlzLmE9MDt5Yyh0aGlzLDIsYSl9O0cucHJvdG90eXBlLm09ZnVuY3Rpb24oYSl7QigxPT10aGlzLmEpO3RoaXMuYT0wO3ljKHRoaXMsMyxhKX07XG52YXIgeWM9ZnVuY3Rpb24oYSxiLGMpe2lmKDA9PWEuYSl7YT09PWMmJihiPTMsYz1uZXcgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW5ub3QgcmVzb2x2ZSB0byBpdHNlbGZcIikpO2EuYT0xO3ZhciBkO2E6e3ZhciBlPWMsZj1hLm8sZz1hLm07aWYoZSBpbnN0YW5jZW9mIEcpbnVsbCE9ZiYmZWIoZixcIm9wdF9vbkZ1bGZpbGxlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi5cIiksbnVsbCE9ZyYmZWIoZyxcIm9wdF9vblJlamVjdGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiBEaWQgeW91IHBhc3Mgb3B0X2NvbnRleHQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkIG9mIHRoZSB0aGlyZD9cIiksS2MoZSxDYyhmfHxiYSxnfHxudWxsLGEpKSxkPSEwO2Vsc2UgaWYoSWEoZSkpZS50aGVuKGYsZyxhKSxkPSEwO2Vsc2V7aWYoZWEoZSkpdHJ5e3ZhciBoPWUudGhlbjtpZih0KGgpKXtMYyhlLGgsZixnLGEpO2Q9ITA7YnJlYWsgYX19Y2F0Y2gobSl7Zy5jYWxsKGEsbSk7ZD0hMDticmVhayBhfWQ9ITF9fWR8fFxuKGEuaT1jLGEuYT1iLGEuYz1udWxsLEpjKGEpLDMhPWJ8fGMgaW5zdGFuY2VvZiB6Y3x8TWMoYSxjKSl9fSxMYz1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSExLGc9ZnVuY3Rpb24oYSl7Znx8KGY9ITAsYy5jYWxsKGUsYSkpfSxoPWZ1bmN0aW9uKGEpe2Z8fChmPSEwLGQuY2FsbChlLGEpKX07dHJ5e2IuY2FsbChhLGcsaCl9Y2F0Y2gobSl7aChtKX19LEpjPWZ1bmN0aW9uKGEpe2EuaHx8KGEuaD0hMCxxYyhhLmosYSkpfSxIYz1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2EuYiYmKGI9YS5iLGEuYj1iLm5leHQsYi5uZXh0PW51bGwpO2EuYnx8KGEuZj1udWxsKTtudWxsIT1iJiZCKG51bGwhPWIuYik7cmV0dXJuIGJ9O0cucHJvdG90eXBlLmo9ZnVuY3Rpb24oKXtmb3IodmFyIGE7YT1IYyh0aGlzKTspSWModGhpcyxhLHRoaXMuYSx0aGlzLmkpO3RoaXMuaD0hMX07XG52YXIgSWM9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoMz09YyYmYi5jJiYhYi5nKWZvcig7YSYmYS5nO2E9YS5jKWEuZz0hMTtpZihiLmEpYi5hLmM9bnVsbCxOYyhiLGMsZCk7ZWxzZSB0cnl7Yi5nP2IuYi5jYWxsKGIuZik6TmMoYixjLGQpfWNhdGNoKGUpe09jLmNhbGwobnVsbCxlKX1BYShCYyxiKX0sTmM9ZnVuY3Rpb24oYSxiLGMpezI9PWI/YS5iLmNhbGwoYS5mLGMpOmEuYyYmYS5jLmNhbGwoYS5mLGMpfSxNYz1mdW5jdGlvbihhLGIpe2EuZz0hMDtxYyhmdW5jdGlvbigpe2EuZyYmT2MuY2FsbChudWxsLGIpfSl9LE9jPVZiLHpjPWZ1bmN0aW9uKGEpe3ouY2FsbCh0aGlzLGEpfTt2KHpjLHopO3pjLnByb3RvdHlwZS5uYW1lPVwiY2FuY2VsXCI7dmFyIFFjPWZ1bmN0aW9uKGEpe3RoaXMuYT1uZXcgRjtpZihhKXthPVRiKGEpO2Zvcih2YXIgYj1hLmxlbmd0aCxjPTA7YzxiO2MrKyl7dmFyIGQ9YVtjXTt0aGlzLmEuc2V0KFBjKGQpLGQpfX19LFBjPWZ1bmN0aW9uKGEpe3ZhciBiPXR5cGVvZiBhO3JldHVyblwib2JqZWN0XCI9PWImJmF8fFwiZnVuY3Rpb25cIj09Yj9cIm9cIisoYVtmYV18fChhW2ZhXT0rK2dhKSk6Yi5zdWJzdHIoMCwxKSthfTtRYy5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuYigpfTtRYy5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuQSgpfTtRYy5wcm90b3R5cGUuaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuaCghMSl9O3ZhciBSYz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1bXTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGFyZ3VtZW50cyk7RGMoITApLnRoZW4oZnVuY3Rpb24oKXthLmFwcGx5KG51bGwsYil9KX19O3ZhciBTYz1cImNsb3N1cmVfbG1fXCIrKDFFNipNYXRoLnJhbmRvbSgpfDApLFRjPXt9LFVjPTAsVmM9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihcImFycmF5XCI9PXAoYikpe2Zvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKVZjKGEsYltmXSxjLGQsZSk7cmV0dXJuIG51bGx9Yz1XYyhjKTthJiZhW2diXT8oWGMoYSksYT1LYihhLmIsU3RyaW5nKGIpLGMsITEsZCxlKSk6YT1ZYyhhLGIsYywhMSxkLGUpO3JldHVybiBhfSxZYz1mdW5jdGlvbihhLGIsYyxkLGUsZil7aWYoIWIpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGV2ZW50IHR5cGVcIik7dmFyIGc9ISFlLGg9WmMoYSk7aHx8KGFbU2NdPWg9bmV3IEliKGEpKTtjPUtiKGgsYixjLGQsZSxmKTtpZihjLmEpcmV0dXJuIGM7ZD0kYygpO2MuYT1kO2Quc3JjPWE7ZC5saXN0ZW5lcj1jO2lmKGEuYWRkRXZlbnRMaXN0ZW5lcilhLmFkZEV2ZW50TGlzdGVuZXIoYi50b1N0cmluZygpLGQsZyk7ZWxzZSBpZihhLmF0dGFjaEV2ZW50KWEuYXR0YWNoRXZlbnQoYWQoYi50b1N0cmluZygpKSxcbmQpO2Vsc2UgdGhyb3cgRXJyb3IoXCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuXCIpO1VjKys7cmV0dXJuIGN9LCRjPWZ1bmN0aW9uKCl7dmFyIGE9YmQsYj10Yz9mdW5jdGlvbihjKXtyZXR1cm4gYS5jYWxsKGIuc3JjLGIubGlzdGVuZXIsYyl9OmZ1bmN0aW9uKGMpe2M9YS5jYWxsKGIuc3JjLGIubGlzdGVuZXIsYyk7aWYoIWMpcmV0dXJuIGN9O3JldHVybiBifSxjZD1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKFwiYXJyYXlcIj09cChiKSlmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKyljZChhLGJbZl0sYyxkLGUpO2Vsc2UgYz1XYyhjKSxhJiZhW2diXT9LYihhLmIsU3RyaW5nKGIpLGMsITAsZCxlKTpZYyhhLGIsYywhMCxkLGUpfSxkZD1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKFwiYXJyYXlcIj09cChiKSlmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKylkZChhLGJbZl0sYyxkLGUpO2Vsc2UoYz1XYyhjKSxhJiZhW2diXSk/KGE9YS5iLGI9U3RyaW5nKGIpLnRvU3RyaW5nKCksXG5iIGluIGEuYSYmKGY9YS5hW2JdLGM9SmIoZixjLGQsZSksLTE8YyYmKEViKGZbY10pLEIobnVsbCE9Zi5sZW5ndGgpLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChmLGMsMSksMD09Zi5sZW5ndGgmJihkZWxldGUgYS5hW2JdLGEuYi0tKSkpKTphJiYoYT1aYyhhKSkmJihiPWEuYVtiLnRvU3RyaW5nKCldLGE9LTEsYiYmKGE9SmIoYixjLCEhZCxlKSksKGM9LTE8YT9iW2FdOm51bGwpJiZlZChjKSl9LGVkPWZ1bmN0aW9uKGEpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBhJiZhJiYhYS5OKXt2YXIgYj1hLnNyYztpZihiJiZiW2diXSlMYihiLmIsYSk7ZWxzZXt2YXIgYz1hLnR5cGUsZD1hLmE7Yi5yZW1vdmVFdmVudExpc3RlbmVyP2IucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLGQsYS5VKTpiLmRldGFjaEV2ZW50JiZiLmRldGFjaEV2ZW50KGFkKGMpLGQpO1VjLS07KGM9WmMoYikpPyhMYihjLGEpLDA9PWMuYiYmKGMuc3JjPW51bGwsYltTY109bnVsbCkpOkViKGEpfX19LGFkPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluXG5UYz9UY1thXTpUY1thXT1cIm9uXCIrYX0sZ2Q9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ITA7aWYoYT1aYyhhKSlpZihiPWEuYVtiLnRvU3RyaW5nKCldKWZvcihiPWIuY29uY2F0KCksYT0wO2E8Yi5sZW5ndGg7YSsrKXt2YXIgZj1iW2FdO2YmJmYuVT09YyYmIWYuTiYmKGY9ZmQoZixkKSxlPWUmJiExIT09Zil9cmV0dXJuIGV9LGZkPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5saXN0ZW5lcixkPWEuTXx8YS5zcmM7YS5UJiZlZChhKTtyZXR1cm4gYy5jYWxsKGQsYil9LGJkPWZ1bmN0aW9uKGEsYil7aWYoYS5OKXJldHVybiEwO2lmKCF0Yyl7aWYoIWIpYTp7Yj1bXCJ3aW5kb3dcIixcImV2ZW50XCJdO2Zvcih2YXIgYz1sLGQ7ZD1iLnNoaWZ0KCk7KWlmKG51bGwhPWNbZF0pYz1jW2RdO2Vsc2V7Yj1udWxsO2JyZWFrIGF9Yj1jfWQ9YjtiPW5ldyB4YyhkLHRoaXMpO2M9ITA7aWYoISgwPmQua2V5Q29kZXx8dm9pZCAwIT1kLnJldHVyblZhbHVlKSl7YTp7dmFyIGU9ITE7aWYoMD09ZC5rZXlDb2RlKXRyeXtkLmtleUNvZGU9XG4tMTticmVhayBhfWNhdGNoKGcpe2U9ITB9aWYoZXx8dm9pZCAwPT1kLnJldHVyblZhbHVlKWQucmV0dXJuVmFsdWU9ITB9ZD1bXTtmb3IoZT1iLmE7ZTtlPWUucGFyZW50Tm9kZSlkLnB1c2goZSk7YT1hLnR5cGU7Zm9yKGU9ZC5sZW5ndGgtMTswPD1lO2UtLSl7Yi5hPWRbZV07dmFyIGY9Z2QoZFtlXSxhLCEwLGIpLGM9YyYmZn1mb3IoZT0wO2U8ZC5sZW5ndGg7ZSsrKWIuYT1kW2VdLGY9Z2QoZFtlXSxhLCExLGIpLGM9YyYmZn1yZXR1cm4gY31yZXR1cm4gZmQoYSxuZXcgeGMoYix0aGlzKSl9LFpjPWZ1bmN0aW9uKGEpe2E9YVtTY107cmV0dXJuIGEgaW5zdGFuY2VvZiBJYj9hOm51bGx9LGhkPVwiX19jbG9zdXJlX2V2ZW50c19mbl9cIisoMUU5Kk1hdGgucmFuZG9tKCk+Pj4wKSxXYz1mdW5jdGlvbihhKXtCKGEsXCJMaXN0ZW5lciBjYW4gbm90IGJlIG51bGwuXCIpO2lmKHQoYSkpcmV0dXJuIGE7QihhLmhhbmRsZUV2ZW50LFwiQW4gb2JqZWN0IGxpc3RlbmVyIG11c3QgaGF2ZSBoYW5kbGVFdmVudCBtZXRob2QuXCIpO1xuYVtoZF18fChhW2hkXT1mdW5jdGlvbihiKXtyZXR1cm4gYS5oYW5kbGVFdmVudChiKX0pO3JldHVybiBhW2hkXX07dmFyIEg9ZnVuY3Rpb24oYSxiKXtmYi5jYWxsKHRoaXMpO3RoaXMubT1hfHwwO3RoaXMuZj1ifHwxMDtpZih0aGlzLm0+dGhpcy5mKXRocm93IEVycm9yKFwiW2dvb2cuc3RydWN0cy5Qb29sXSBNaW4gY2FuIG5vdCBiZSBncmVhdGVyIHRoYW4gbWF4XCIpO3RoaXMuYT1uZXcgUmI7dGhpcy5jPW5ldyBRYzt0aGlzLmo9bnVsbDt0aGlzLlMoKX07dihILGZiKTtILnByb3RvdHlwZS5XPWZ1bmN0aW9uKCl7dmFyIGE9amEoKTtpZighKG51bGwhPXRoaXMuaiYmMD5hLXRoaXMuaikpe2Zvcih2YXIgYjswPHRoaXMuYS5iKCkmJihiPVNiKHRoaXMuYSksIXRoaXMubChiKSk7KXRoaXMuUygpOyFiJiZ0aGlzLmIoKTx0aGlzLmYmJihiPXRoaXMuaSgpKTtiJiYodGhpcy5qPWEsdGhpcy5jLmEuc2V0KFBjKGIpLGIpKTtyZXR1cm4gYn19O3ZhciBqZD1mdW5jdGlvbihhKXt2YXIgYj1pZDt3YyhiLmMuYSxQYyhhKSkmJmIuJChhKX07XG5ILnByb3RvdHlwZS4kPWZ1bmN0aW9uKGEpe3djKHRoaXMuYy5hLFBjKGEpKTt0aGlzLmwoYSkmJnRoaXMuYigpPHRoaXMuZj90aGlzLmEuYS5wdXNoKGEpOmtkKGEpfTtILnByb3RvdHlwZS5TPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuYTt0aGlzLmIoKTx0aGlzLm07KXt2YXIgYj10aGlzLmkoKTthLmEucHVzaChiKX1mb3IoO3RoaXMuYigpPnRoaXMuZiYmMDx0aGlzLmEuYigpOylrZChTYihhKSl9O0gucHJvdG90eXBlLmk9ZnVuY3Rpb24oKXtyZXR1cm57fX07dmFyIGtkPWZ1bmN0aW9uKGEpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuZWEpYS5lYSgpO2Vsc2UgZm9yKHZhciBiIGluIGEpYVtiXT1udWxsfTtILnByb3RvdHlwZS5sPWZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEub2E/YS5vYSgpOiEwfTtILnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5iKCkrdGhpcy5jLmIoKX07XG5ILnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7SC5JLkQuY2FsbCh0aGlzKTtpZigwPHRoaXMuYy5iKCkpdGhyb3cgRXJyb3IoXCJbZ29vZy5zdHJ1Y3RzLlBvb2xdIE9iamVjdHMgbm90IHJlbGVhc2VkXCIpO2RlbGV0ZSB0aGlzLmM7Zm9yKHZhciBhPXRoaXMuYTswIT1hLmMubGVuZ3RofHwwIT1hLmEubGVuZ3RoOylrZChTYihhKSk7ZGVsZXRlIHRoaXMuYX07LypcbiBQb3J0aW9ucyBvZiB0aGlzIGNvZGUgYXJlIGZyb20gTW9jaGlLaXQsIHJlY2VpdmVkIGJ5XG4gVGhlIENsb3N1cmUgQXV0aG9ycyB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuIEFsbCBvdGhlciBjb2RlIGlzIENvcHlyaWdodFxuIDIwMDUtMjAwOSBUaGUgQ2xvc3VyZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuKi9cbnZhciBsZD1mdW5jdGlvbihhLGIpe3RoaXMuZz1bXTt0aGlzLnU9YTt0aGlzLnM9Ynx8bnVsbDt0aGlzLmY9dGhpcy5hPSExO3RoaXMuYj12b2lkIDA7dGhpcy5sPXRoaXMubz10aGlzLmk9ITE7dGhpcy5oPTA7dGhpcy5jPW51bGw7dGhpcy5qPTB9O1xubGQucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXtpZih0aGlzLmEpdGhpcy5iIGluc3RhbmNlb2YgbGQmJnRoaXMuYi5jYW5jZWwoKTtlbHNle2lmKHRoaXMuYyl7dmFyIGI9dGhpcy5jO2RlbGV0ZSB0aGlzLmM7YT9iLmNhbmNlbChhKTooYi5qLS0sMD49Yi5qJiZiLmNhbmNlbCgpKX10aGlzLnU/dGhpcy51LmNhbGwodGhpcy5zLHRoaXMpOnRoaXMubD0hMDtpZighdGhpcy5hKXthPW5ldyBtZDtpZih0aGlzLmEpe2lmKCF0aGlzLmwpdGhyb3cgbmV3IG5kO3RoaXMubD0hMX1CKCEoYSBpbnN0YW5jZW9mIGxkKSxcIkFuIGV4ZWN1dGlvbiBzZXF1ZW5jZSBtYXkgbm90IGJlIGluaXRpYXRlZCB3aXRoIGEgYmxvY2tpbmcgRGVmZXJyZWQuXCIpO3RoaXMuYT0hMDt0aGlzLmI9YTt0aGlzLmY9ITA7b2QodGhpcyl9fX07bGQucHJvdG90eXBlLm09ZnVuY3Rpb24oYSxiKXt0aGlzLmk9ITE7dGhpcy5hPSEwO3RoaXMuYj1iO3RoaXMuZj0hYTtvZCh0aGlzKX07XG52YXIgcGQ9ZnVuY3Rpb24oYSxiLGMpe0IoIWEubyxcIkJsb2NraW5nIERlZmVycmVkcyBjYW4gbm90IGJlIHJlLXVzZWRcIik7YS5nLnB1c2goW2IsYyx2b2lkIDBdKTthLmEmJm9kKGEpfTtsZC5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPW5ldyBHKGZ1bmN0aW9uKGEsYil7ZD1hO2U9Yn0pO3BkKHRoaXMsZCxmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgbWQ/Zi5jYW5jZWwoKTplKGEpfSk7cmV0dXJuIGYudGhlbihhLGIsYyl9O0hhKGxkKTtcbnZhciBxZD1mdW5jdGlvbihhKXtyZXR1cm4gcmIoYS5nLGZ1bmN0aW9uKGEpe3JldHVybiB0KGFbMV0pfSl9LG9kPWZ1bmN0aW9uKGEpe2lmKGEuaCYmYS5hJiZxZChhKSl7dmFyIGI9YS5oLGM9cmRbYl07YyYmKGwuY2xlYXJUaW1lb3V0KGMuYSksZGVsZXRlIHJkW2JdKTthLmg9MH1hLmMmJihhLmMuai0tLGRlbGV0ZSBhLmMpO2Zvcih2YXIgYj1hLmIsZD1jPSExO2EuZy5sZW5ndGgmJiFhLmk7KXt2YXIgZT1hLmcuc2hpZnQoKSxmPWVbMF0sZz1lWzFdLGU9ZVsyXTtpZihmPWEuZj9nOmYpdHJ5e3ZhciBoPWYuY2FsbChlfHxhLnMsYik7bihoKSYmKGEuZj1hLmYmJihoPT1ifHxoIGluc3RhbmNlb2YgRXJyb3IpLGEuYj1iPWgpO2lmKElhKGIpfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgbC5Qcm9taXNlJiZiIGluc3RhbmNlb2YgbC5Qcm9taXNlKWQ9ITAsYS5pPSEwfWNhdGNoKG0pe2I9bSxhLmY9ITAscWQoYSl8fChjPSEwKX19YS5iPWI7ZCYmKGg9dShhLm0sYSwhMCksZD11KGEubSxhLFxuITEpLGIgaW5zdGFuY2VvZiBsZD8ocGQoYixoLGQpLGIubz0hMCk6Yi50aGVuKGgsZCkpO2MmJihiPW5ldyBzZChiKSxyZFtiLmFdPWIsYS5oPWIuYSl9LG5kPWZ1bmN0aW9uKCl7ei5jYWxsKHRoaXMpfTt2KG5kLHopO25kLnByb3RvdHlwZS5tZXNzYWdlPVwiRGVmZXJyZWQgaGFzIGFscmVhZHkgZmlyZWRcIjtuZC5wcm90b3R5cGUubmFtZT1cIkFscmVhZHlDYWxsZWRFcnJvclwiO3ZhciBtZD1mdW5jdGlvbigpe3ouY2FsbCh0aGlzKX07dihtZCx6KTttZC5wcm90b3R5cGUubWVzc2FnZT1cIkRlZmVycmVkIHdhcyBjYW5jZWxlZFwiO21kLnByb3RvdHlwZS5uYW1lPVwiQ2FuY2VsZWRFcnJvclwiO3ZhciBzZD1mdW5jdGlvbihhKXt0aGlzLmE9bC5zZXRUaW1lb3V0KHUodGhpcy5jLHRoaXMpLDApO3RoaXMuYj1hfTtcbnNkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7QihyZFt0aGlzLmFdLFwiQ2Fubm90IHRocm93IGFuIGVycm9yIHRoYXQgaXMgbm90IHNjaGVkdWxlZC5cIik7ZGVsZXRlIHJkW3RoaXMuYV07dGhyb3cgdGhpcy5iO307dmFyIHJkPXt9O3ZhciB0ZD1mdW5jdGlvbihhKXt0aGlzLmY9YTt0aGlzLmI9dGhpcy5jPXRoaXMuYT1udWxsfSx1ZD1mdW5jdGlvbihhLGIpe3RoaXMubmFtZT1hO3RoaXMudmFsdWU9Yn07dWQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX07dmFyIHZkPW5ldyB1ZChcIlNFVkVSRVwiLDFFMyksd2Q9bmV3IHVkKFwiQ09ORklHXCIsNzAwKSx4ZD1uZXcgdWQoXCJGSU5FXCIsNTAwKSx5ZD1mdW5jdGlvbihhKXtpZihhLmMpcmV0dXJuIGEuYztpZihhLmEpcmV0dXJuIHlkKGEuYSk7ZGIoXCJSb290IGxvZ2dlciBoYXMgbm8gbGV2ZWwgc2V0LlwiKTtyZXR1cm4gbnVsbH07XG50ZC5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKGEsYixjKXtpZihhLnZhbHVlPj15ZCh0aGlzKS52YWx1ZSlmb3IodChiKSYmKGI9YigpKSxhPW5ldyBCYShhLFN0cmluZyhiKSx0aGlzLmYpLGMmJihhLmE9YyksYz1cImxvZzpcIithLmIsbC5jb25zb2xlJiYobC5jb25zb2xlLnRpbWVTdGFtcD9sLmNvbnNvbGUudGltZVN0YW1wKGMpOmwuY29uc29sZS5tYXJrVGltZWxpbmUmJmwuY29uc29sZS5tYXJrVGltZWxpbmUoYykpLGwubXNXcml0ZVByb2ZpbGVyTWFyayYmbC5tc1dyaXRlUHJvZmlsZXJNYXJrKGMpLGM9dGhpcztjOyljPWMuYX07XG52YXIgemQ9e30sQWQ9bnVsbCxCZD1mdW5jdGlvbihhKXtBZHx8KEFkPW5ldyB0ZChcIlwiKSx6ZFtcIlwiXT1BZCxBZC5jPXdkKTt2YXIgYjtpZighKGI9emRbYV0pKXtiPW5ldyB0ZChhKTt2YXIgYz1hLmxhc3RJbmRleE9mKFwiLlwiKSxkPWEuc3Vic3RyKGMrMSksYz1CZChhLnN1YnN0cigwLGMpKTtjLmJ8fChjLmI9e30pO2MuYltkXT1iO2IuYT1jO3pkW2FdPWJ9cmV0dXJuIGJ9O3ZhciBDZD1mdW5jdGlvbigpe2ZiLmNhbGwodGhpcyk7dGhpcy5iPW5ldyBJYih0aGlzKTt0aGlzLlk9dGhpczt0aGlzLkc9bnVsbH07dihDZCxmYik7Q2QucHJvdG90eXBlW2diXT0hMDtDZC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyxkKXtkZCh0aGlzLGEsYixjLGQpfTtcbnZhciBJPWZ1bmN0aW9uKGEsYil7WGMoYSk7dmFyIGMsZD1hLkc7aWYoZCl7Yz1bXTtmb3IodmFyIGU9MTtkO2Q9ZC5HKWMucHVzaChkKSxCKDFFMz4rK2UsXCJpbmZpbml0ZSBsb29wXCIpfWE9YS5ZO2Q9Yi50eXBlfHxiO3IoYik/Yj1uZXcgQ2IoYixhKTpiIGluc3RhbmNlb2YgQ2I/Yi50YXJnZXQ9Yi50YXJnZXR8fGE6KGU9YixiPW5ldyBDYihkLGEpLEdhKGIsZSkpO3ZhciBlPSEwLGY7aWYoYylmb3IodmFyIGc9Yy5sZW5ndGgtMTswPD1nO2ctLSlmPWIuYT1jW2ddLGU9RGQoZixkLCEwLGIpJiZlO2Y9Yi5hPWE7ZT1EZChmLGQsITAsYikmJmU7ZT1EZChmLGQsITEsYikmJmU7aWYoYylmb3IoZz0wO2c8Yy5sZW5ndGg7ZysrKWY9Yi5hPWNbZ10sZT1EZChmLGQsITEsYikmJmV9O1xuQ2QucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtDZC5JLkQuY2FsbCh0aGlzKTtpZih0aGlzLmIpe3ZhciBhPXRoaXMuYixiPTAsYztmb3IoYyBpbiBhLmEpe2Zvcih2YXIgZD1hLmFbY10sZT0wO2U8ZC5sZW5ndGg7ZSsrKSsrYixFYihkW2VdKTtkZWxldGUgYS5hW2NdO2EuYi0tfX10aGlzLkc9bnVsbH07dmFyIERkPWZ1bmN0aW9uKGEsYixjLGQpe2I9YS5iLmFbU3RyaW5nKGIpXTtpZighYilyZXR1cm4hMDtiPWIuY29uY2F0KCk7Zm9yKHZhciBlPSEwLGY9MDtmPGIubGVuZ3RoOysrZil7dmFyIGc9YltmXTtpZihnJiYhZy5OJiZnLlU9PWMpe3ZhciBoPWcubGlzdGVuZXIsbT1nLk18fGcuc3JjO2cuVCYmTGIoYS5iLGcpO2U9ITEhPT1oLmNhbGwobSxkKSYmZX19cmV0dXJuIGUmJjAhPWQuamF9LFhjPWZ1bmN0aW9uKGEpe0IoYS5iLFwiRXZlbnQgdGFyZ2V0IGlzIG5vdCBpbml0aWFsaXplZC4gRGlkIHlvdSBjYWxsIHRoZSBzdXBlcmNsYXNzIChnb29nLmV2ZW50cy5FdmVudFRhcmdldCkgY29uc3RydWN0b3I/XCIpfTt2YXIgSj1mdW5jdGlvbihhLGIpe3RoaXMuaD1uZXcgJGI7SC5jYWxsKHRoaXMsYSxiKX07dihKLEgpO2s9Si5wcm90b3R5cGU7ay5XPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIEouSS5XLmNhbGwodGhpcyk7UWIodGhpcy5oLG4oYik/YjoxMDAsYSk7dGhpcy5hYSgpfTtrLmFhPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuaDswPGEuYigpOyl7dmFyIGI9dGhpcy5XKCk7aWYoYil7dmFyIGM7dmFyIGQ9YSxlPWQuYSxmPWUubGVuZ3RoO2M9ZVswXTtpZigwPj1mKWM9dm9pZCAwO2Vsc2V7aWYoMT09Zil2YihlKTtlbHNle2VbMF09ZS5wb3AoKTtmb3IodmFyIGU9MCxkPWQuYSxmPWQubGVuZ3RoLGc9ZFtlXTtlPGY+PjE7KXt2YXIgaD0yKmUrMSxtPTIqZSsyLGg9bTxmJiZkW21dLmE8ZFtoXS5hP206aDtpZihkW2hdLmE+Zy5hKWJyZWFrO2RbZV09ZFtoXTtlPWh9ZFtlXT1nfWM9Yy5ifWMuYXBwbHkodGhpcyxbYl0pfWVsc2UgYnJlYWt9fTtcbmsuJD1mdW5jdGlvbihhKXtKLkkuJC5jYWxsKHRoaXMsYSk7dGhpcy5hYSgpfTtrLlM9ZnVuY3Rpb24oKXtKLkkuUy5jYWxsKHRoaXMpO3RoaXMuYWEoKX07ay5EPWZ1bmN0aW9uKCl7Si5JLkQuY2FsbCh0aGlzKTtsLmNsZWFyVGltZW91dCh2b2lkIDApO3ZiKHRoaXMuaC5hKTt0aGlzLmg9bnVsbH07dmFyIEs9ZnVuY3Rpb24oYSxiKXthJiZhLmxvZyh4ZCxiLHZvaWQgMCl9O3ZhciBFZD1mdW5jdGlvbihhLGIsYyl7aWYodChhKSljJiYoYT11KGEsYykpO2Vsc2UgaWYoYSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5oYW5kbGVFdmVudClhPXUoYS5oYW5kbGVFdmVudCxhKTtlbHNlIHRocm93IEVycm9yKFwiSW52YWxpZCBsaXN0ZW5lciBhcmd1bWVudFwiKTtyZXR1cm4gMjE0NzQ4MzY0NzxOdW1iZXIoYik/LTE6bC5zZXRUaW1lb3V0KGEsYnx8MCl9O3ZhciBMPWZ1bmN0aW9uKGEpe0NkLmNhbGwodGhpcyk7dGhpcy5oZWFkZXJzPW5ldyBGO3RoaXMuQj1hfHxudWxsO3RoaXMuYz0hMTt0aGlzLnU9dGhpcy5hPW51bGw7dGhpcy5MPXRoaXMubD1cIlwiO3RoaXMuSz0wO3RoaXMuaD1cIlwiO3RoaXMuZj10aGlzLkM9dGhpcy5qPXRoaXMuRj0hMTt0aGlzLmk9MDt0aGlzLm09bnVsbDt0aGlzLlI9XCJcIjt0aGlzLnM9dGhpcy5jYT10aGlzLlg9ITF9O3YoTCxDZCk7dmFyIEZkPUwucHJvdG90eXBlLEdkPUJkKFwiZ29vZy5uZXQuWGhySW9cIik7RmQudz1HZDt2YXIgSGQ9L15odHRwcz8kL2ksSWQ9W1wiUE9TVFwiLFwiUFVUXCJdO1xuTC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLmEpdGhyb3cgRXJyb3IoXCJbZ29vZy5uZXQuWGhySW9dIE9iamVjdCBpcyBhY3RpdmUgd2l0aCBhbm90aGVyIHJlcXVlc3Q9XCIrdGhpcy5sK1wiOyBuZXdVcmk9XCIrYSk7Yj1iP2IudG9VcHBlckNhc2UoKTpcIkdFVFwiO3RoaXMubD1hO3RoaXMuaD1cIlwiO3RoaXMuSz0wO3RoaXMuTD1iO3RoaXMuRj0hMTt0aGlzLmM9ITA7dGhpcy5hPXRoaXMuQj90aGlzLkIuYSgpOk1iLmEoKTt0aGlzLnU9dGhpcy5CP21iKHRoaXMuQik6bWIoTWIpO3RoaXMuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9dSh0aGlzLlAsdGhpcyk7dGhpcy5jYSYmXCJvbnByb2dyZXNzXCJpbiB0aGlzLmEmJih0aGlzLmEub25wcm9ncmVzcz11KGZ1bmN0aW9uKGEpe3RoaXMuTyhhLCEwKX0sdGhpcyksdGhpcy5hLnVwbG9hZCYmKHRoaXMuYS51cGxvYWQub25wcm9ncmVzcz11KHRoaXMuTyx0aGlzKSkpO3RyeXtLKHRoaXMudyxNKHRoaXMsXCJPcGVuaW5nIFhoclwiKSksXG50aGlzLkM9ITAsdGhpcy5hLm9wZW4oYixTdHJpbmcoYSksITApLHRoaXMuQz0hMX1jYXRjaChmKXtLKHRoaXMudyxNKHRoaXMsXCJFcnJvciBvcGVuaW5nIFhocjogXCIrZi5tZXNzYWdlKSk7SmQodGhpcyxmKTtyZXR1cm59YT1jfHxcIlwiO3ZhciBlPW5ldyBGKHRoaXMuaGVhZGVycyk7ZCYmVWIoZCxmdW5jdGlvbihhLGIpe2Uuc2V0KGIsYSl9KTtkPXRiKGUuSCgpKTtjPWwuRm9ybURhdGEmJmEgaW5zdGFuY2VvZiBsLkZvcm1EYXRhOyF1YihJZCxiKXx8ZHx8Y3x8ZS5zZXQoXCJDb250ZW50LVR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04XCIpO2UuZm9yRWFjaChmdW5jdGlvbihhLGIpe3RoaXMuYS5zZXRSZXF1ZXN0SGVhZGVyKGIsYSl9LHRoaXMpO3RoaXMuUiYmKHRoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5SKTtcIndpdGhDcmVkZW50aWFsc1wiaW4gdGhpcy5hJiZ0aGlzLmEud2l0aENyZWRlbnRpYWxzIT09dGhpcy5YJiYodGhpcy5hLndpdGhDcmVkZW50aWFscz1cbnRoaXMuWCk7dHJ5e0tkKHRoaXMpLDA8dGhpcy5pJiYodGhpcy5zPUxkKHRoaXMuYSksSyh0aGlzLncsTSh0aGlzLFwiV2lsbCBhYm9ydCBhZnRlciBcIit0aGlzLmkrXCJtcyBpZiBpbmNvbXBsZXRlLCB4aHIyIFwiK3RoaXMucykpLHRoaXMucz8odGhpcy5hLnRpbWVvdXQ9dGhpcy5pLHRoaXMuYS5vbnRpbWVvdXQ9dSh0aGlzLkosdGhpcykpOnRoaXMubT1FZCh0aGlzLkosdGhpcy5pLHRoaXMpKSxLKHRoaXMudyxNKHRoaXMsXCJTZW5kaW5nIHJlcXVlc3RcIikpLHRoaXMuaj0hMCx0aGlzLmEuc2VuZChhKSx0aGlzLmo9ITF9Y2F0Y2goZil7Syh0aGlzLncsTSh0aGlzLFwiU2VuZCBlcnJvcjogXCIrZi5tZXNzYWdlKSksSmQodGhpcyxmKX19O3ZhciBMZD1mdW5jdGlvbihhKXtyZXR1cm4gRCYmRSg5KSYmXCJudW1iZXJcIj09dHlwZW9mIGEudGltZW91dCYmbihhLm9udGltZW91dCl9LHNiPWZ1bmN0aW9uKGEpe3JldHVyblwiY29udGVudC10eXBlXCI9PWEudG9Mb3dlckNhc2UoKX07XG5MLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGFhJiZ0aGlzLmEmJih0aGlzLmg9XCJUaW1lZCBvdXQgYWZ0ZXIgXCIrdGhpcy5pK1wibXMsIGFib3J0aW5nXCIsdGhpcy5LPTgsSyh0aGlzLncsTSh0aGlzLHRoaXMuaCkpLEkodGhpcyxcInRpbWVvdXRcIiksdGhpcy5hYm9ydCg4KSl9O3ZhciBKZD1mdW5jdGlvbihhLGIpe2EuYz0hMTthLmEmJihhLmY9ITAsYS5hLmFib3J0KCksYS5mPSExKTthLmg9YjthLks9NTtNZChhKTtOZChhKX0sTWQ9ZnVuY3Rpb24oYSl7YS5GfHwoYS5GPSEwLEkoYSxcImNvbXBsZXRlXCIpLEkoYSxcImVycm9yXCIpKX07TC5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oYSl7dGhpcy5hJiZ0aGlzLmMmJihLKHRoaXMudyxNKHRoaXMsXCJBYm9ydGluZ1wiKSksdGhpcy5jPSExLHRoaXMuZj0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLmY9ITEsdGhpcy5LPWF8fDcsSSh0aGlzLFwiY29tcGxldGVcIiksSSh0aGlzLFwiYWJvcnRcIiksTmQodGhpcykpfTtcbkwucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmMmJih0aGlzLmM9ITEsdGhpcy5mPSEwLHRoaXMuYS5hYm9ydCgpLHRoaXMuZj0hMSksTmQodGhpcywhMCkpO0wuSS5ELmNhbGwodGhpcyl9O0wucHJvdG90eXBlLlA9ZnVuY3Rpb24oKXt0aGlzLmd8fCh0aGlzLkN8fHRoaXMuanx8dGhpcy5mP09kKHRoaXMpOnRoaXMuWigpKX07TC5wcm90b3R5cGUuWj1mdW5jdGlvbigpe09kKHRoaXMpfTtcbnZhciBPZD1mdW5jdGlvbihhKXtpZihhLmMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhYSlpZihhLnVbMV0mJjQ9PVBkKGEpJiYyPT1OKGEpKUsoYS53LE0oYSxcIkxvY2FsIHJlcXVlc3QgZXJyb3IgZGV0ZWN0ZWQgYW5kIGlnbm9yZWRcIikpO2Vsc2UgaWYoYS5qJiY0PT1QZChhKSlFZChhLlAsMCxhKTtlbHNlIGlmKEkoYSxcInJlYWR5c3RhdGVjaGFuZ2VcIiksND09UGQoYSkpe0soYS53LE0oYSxcIlJlcXVlc3QgY29tcGxldGVcIikpO2EuYz0hMTt0cnl7aWYoUWQoYSkpSShhLFwiY29tcGxldGVcIiksSShhLFwic3VjY2Vzc1wiKTtlbHNle2EuSz02O3ZhciBiO3RyeXtiPTI8UGQoYSk/YS5hLnN0YXR1c1RleHQ6XCJcIn1jYXRjaChjKXtLKGEudyxcIkNhbiBub3QgZ2V0IHN0YXR1czogXCIrYy5tZXNzYWdlKSxiPVwiXCJ9YS5oPWIrXCIgW1wiK04oYSkrXCJdXCI7TWQoYSl9fWZpbmFsbHl7TmQoYSl9fX07XG5MLnByb3RvdHlwZS5PPWZ1bmN0aW9uKGEsYil7QihcInByb2dyZXNzXCI9PT1hLnR5cGUsXCJnb29nLm5ldC5FdmVudFR5cGUuUFJPR1JFU1MgaXMgb2YgdGhlIHNhbWUgdHlwZSBhcyByYXcgWEhSIHByb2dyZXNzLlwiKTtJKHRoaXMsUmQoYSxcInByb2dyZXNzXCIpKTtJKHRoaXMsUmQoYSxiP1wiZG93bmxvYWRwcm9ncmVzc1wiOlwidXBsb2FkcHJvZ3Jlc3NcIikpfTtcbnZhciBSZD1mdW5jdGlvbihhLGIpe3JldHVybnt0eXBlOmIsbGVuZ3RoQ29tcHV0YWJsZTphLmxlbmd0aENvbXB1dGFibGUsbG9hZGVkOmEubG9hZGVkLHRvdGFsOmEudG90YWx9fSxOZD1mdW5jdGlvbihhLGIpe2lmKGEuYSl7S2QoYSk7dmFyIGM9YS5hLGQ9YS51WzBdP2JhOm51bGw7YS5hPW51bGw7YS51PW51bGw7Ynx8SShhLFwicmVhZHlcIik7dHJ5e2Mub25yZWFkeXN0YXRlY2hhbmdlPWR9Y2F0Y2goZSl7KGE9YS53KSYmYS5sb2codmQsXCJQcm9ibGVtIGVuY291bnRlcmVkIHJlc2V0dGluZyBvbnJlYWR5c3RhdGVjaGFuZ2U6IFwiK2UubWVzc2FnZSx2b2lkIDApfX19LEtkPWZ1bmN0aW9uKGEpe2EuYSYmYS5zJiYoYS5hLm9udGltZW91dD1udWxsKTtcIm51bWJlclwiPT10eXBlb2YgYS5tJiYobC5jbGVhclRpbWVvdXQoYS5tKSxhLm09bnVsbCl9LFFkPWZ1bmN0aW9uKGEpe3ZhciBiPU4oYSksYzthOnN3aXRjaChiKXtjYXNlIDIwMDpjYXNlIDIwMTpjYXNlIDIwMjpjYXNlIDIwNDpjYXNlIDIwNjpjYXNlIDMwNDpjYXNlIDEyMjM6Yz1cbiEwO2JyZWFrIGE7ZGVmYXVsdDpjPSExfWlmKCFjKXtpZihiPTA9PT1iKWE9U3RyaW5nKGEubCkubWF0Y2goRmIpWzFdfHxudWxsLCFhJiZsLnNlbGYmJmwuc2VsZi5sb2NhdGlvbiYmKGE9bC5zZWxmLmxvY2F0aW9uLnByb3RvY29sLGE9YS5zdWJzdHIoMCxhLmxlbmd0aC0xKSksYj0hSGQudGVzdChhP2EudG9Mb3dlckNhc2UoKTpcIlwiKTtjPWJ9cmV0dXJuIGN9LFBkPWZ1bmN0aW9uKGEpe3JldHVybiBhLmE/YS5hLnJlYWR5U3RhdGU6MH0sTj1mdW5jdGlvbihhKXt0cnl7cmV0dXJuIDI8UGQoYSk/YS5hLnN0YXR1czotMX1jYXRjaChiKXtyZXR1cm4tMX19LFNkPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gYS5hP2EuYS5yZXNwb25zZVRleHQ6XCJcIn1jYXRjaChiKXtyZXR1cm4gSyhhLncsXCJDYW4gbm90IGdldCByZXNwb25zZVRleHQ6IFwiK2IubWVzc2FnZSksXCJcIn19LFRkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYSYmND09UGQoYSk/YS5hLmdldFJlc3BvbnNlSGVhZGVyKGIpOnZvaWQgMH0sXG5NPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrXCIgW1wiK2EuTCtcIiBcIithLmwrXCIgXCIrTihhKStcIl1cIn07dmFyIFVkPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMucz1hO3RoaXMudT0hIWQ7Si5jYWxsKHRoaXMsYixjKX07dihVZCxKKTtVZC5wcm90b3R5cGUuaT1mdW5jdGlvbigpe3ZhciBhPW5ldyBMLGI9dGhpcy5zO2ImJmIuZm9yRWFjaChmdW5jdGlvbihiLGQpe2EuaGVhZGVycy5zZXQoZCxiKX0pO3RoaXMudSYmKGEuWD0hMCk7cmV0dXJuIGF9O1VkLnByb3RvdHlwZS5sPWZ1bmN0aW9uKGEpe3JldHVybiFhLmcmJiFhLmF9O3ZhciBpZD1uZXcgVWQ7dmFyIFdkPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxtLHEsUSl7dGhpcy5KPWE7dGhpcy5DPWI7dGhpcy51PWM7dGhpcy5tPWQ7dGhpcy5HPWUuc2xpY2UoKTt0aGlzLm89Zi5zbGljZSgpO3RoaXMuaj10aGlzLmw9dGhpcy5jPXRoaXMuYj1udWxsO3RoaXMuZz10aGlzLmg9ITE7dGhpcy5zPWc7dGhpcy5pPWg7dGhpcy5mPXE7dGhpcy5MPVE7dGhpcy5GPW07dmFyIFA9dGhpczt0aGlzLkI9bmV3IEcoZnVuY3Rpb24oYSxiKXtQLmw9YTtQLmo9YjtWZChQKX0pfSxYZD1mdW5jdGlvbihhLGIsYyl7dGhpcy5iPWE7dGhpcy5jPWI7dGhpcy5hPSEhY30sVmQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe2I/YSghMSxuZXcgWGQoITEsbnVsbCwhMCkpOmlkLlcoZnVuY3Rpb24oYil7Yi5YPWQuTDtkLmI9Yjt2YXIgYz1udWxsO251bGwhPT1kLmYmJihiLmNhPSEwLGM9VmMoYixcInVwbG9hZHByb2dyZXNzXCIsZnVuY3Rpb24oYSl7ZC5mKGEubG9hZGVkLGEubGVuZ3RoQ29tcHV0YWJsZT9cbmEudG90YWw6LTEpfSksYi5jYT1udWxsIT09ZC5mKTtiLnNlbmQoZC5KLGQuQyxkLm0sZC51KTtjZChiLFwiY29tcGxldGVcIixmdW5jdGlvbihiKXtudWxsIT09YyYmZWQoYyk7ZC5iPW51bGw7Yj1iLnRhcmdldDt2YXIgZT02PT09Yi5LJiYxMDA8PU4oYiksZj1RZChiKXx8ZSxlPU4oYik7aWYoIShmPSFmKSl2YXIgZz1kLGY9NTAwPD1lJiY2MDA+ZSxoPXViKFs0MDgsNDI5XSxlKSxnPXViKGcubyxlKSxmPWZ8fGh8fGc7Zj8oZT03PT09Yi5LLGpkKGIpLGEoITEsbmV3IFhkKCExLG51bGwsZSkpKTooZT11YihkLkcsZSksYSghMCxuZXcgWGQoZSxiKSkpfSl9KX1mdW5jdGlvbiBjKGEsYil7dmFyIGM9ZC5sO2E9ZC5qO3ZhciBlPWIuYztpZihiLmIpdHJ5e3ZhciBmPWQucyhlLFNkKGUpKTtuKGYpP2MoZik6YygpfWNhdGNoKHEpe2EocSl9ZWxzZSBudWxsIT09ZT8oYj1tYSgpLGY9U2QoZSksYi5zZXJ2ZXJSZXNwb25zZT1mLGQuaT9hKGQuaShlLGIpKTphKGIpKTooYj1iLmE/ZC5nP3FhKCk6XG5uYSgpOm5ldyB3KFwicmV0cnktbGltaXQtZXhjZWVkZWRcIixcIk1heCByZXRyeSB0aW1lIGZvciBvcGVyYXRpb24gZXhjZWVkZWQsIHBsZWFzZSB0cnkgYWdhaW4uXCIpLGEoYikpO2pkKGUpfXZhciBkPWE7YS5oP2MoMCxuZXcgWGQoITEsbnVsbCwhMCkpOmEuYz1rYShiLGMsYS5GKX07V2QucHJvdG90eXBlLmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5CfTtXZC5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKGEpe3RoaXMuaD0hMDt0aGlzLmc9YXx8ITE7bnVsbCE9PXRoaXMuYyYmKDAsdGhpcy5jKSghMSk7bnVsbCE9PXRoaXMuYiYmdGhpcy5iLmFib3J0KCl9O1xudmFyIFlkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hYihhLmIpLGQ9YS5qK2QsZT1hLmhlYWRlcnM/dGEoYS5oZWFkZXJzKTp7fTtudWxsIT09YiYmMDxiLmxlbmd0aCYmKGUuQXV0aG9yaXphdGlvbj1cIkZpcmViYXNlIFwiK2IpO2VbXCJYLUZpcmViYXNlLVN0b3JhZ2UtVmVyc2lvblwiXT1cIndlYmpzL1wiKyhcInVuZGVmaW5lZFwiIT09dHlwZW9mIGZpcmViYXNlP2ZpcmViYXNlLlNES19WRVJTSU9OOlwiQXBwTWFuYWdlclwiKTtyZXR1cm4gbmV3IFdkKGQsYS5tZXRob2QsZSxhLmJvZHksYS5mLGEuaCxhLk0sYS5hLGEuaSxhLmMsYyl9O3ZhciBaZD1mdW5jdGlvbihhKXt2YXIgYj1sLkJsb2JCdWlsZGVyfHxsLldlYktpdEJsb2JCdWlsZGVyO2lmKG4oYikpe2Zvcih2YXIgYj1uZXcgYixjPTA7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyliLmFwcGVuZChhcmd1bWVudHNbY10pO3JldHVybiBiLmdldEJsb2IoKX1iPXhiKGFyZ3VtZW50cyk7Yz1sLkJsb2JCdWlsZGVyfHxsLldlYktpdEJsb2JCdWlsZGVyO2lmKG4oYykpe2Zvcih2YXIgYz1uZXcgYyxkPTA7ZDxiLmxlbmd0aDtkKyspYy5hcHBlbmQoYltkXSx2b2lkIDApO2I9Yy5nZXRCbG9iKHZvaWQgMCl9ZWxzZSBpZihuKGwuQmxvYikpYj1uZXcgQmxvYihiLHt9KTtlbHNlIHRocm93IEVycm9yKFwiVGhpcyBicm93c2VyIGRvZXNuJ3Qgc2VlbSB0byBzdXBwb3J0IGNyZWF0aW5nIEJsb2JzXCIpO3JldHVybiBifSwkZD1mdW5jdGlvbihhLGIsYyl7bihjKXx8KGM9YS5zaXplKTtyZXR1cm4gYS53ZWJraXRTbGljZT9hLndlYmtpdFNsaWNlKGIsYyk6YS5tb3pTbGljZT9hLm1velNsaWNlKGIsXG5jKTphLnNsaWNlP2NjJiYhRShcIjEzLjBcIil8fGRjJiYhRShcIjUzNy4xXCIpPygwPmImJihiKz1hLnNpemUpLDA+YiYmKGI9MCksMD5jJiYoYys9YS5zaXplKSxjPGImJihjPWIpLGEuc2xpY2UoYixjLWIpKTphLnNsaWNlKGIsYyk6bnVsbH07dmFyIE89ZnVuY3Rpb24oYSxiKXt5YSgpJiZhIGluc3RhbmNlb2YgQmxvYj8odGhpcy52PWEsYj1hLnNpemUsYT1hLnR5cGUpOihhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/KGI/dGhpcy52PW5ldyBVaW50OEFycmF5KGEpOih0aGlzLnY9bmV3IFVpbnQ4QXJyYXkoYS5ieXRlTGVuZ3RoKSx0aGlzLnYuc2V0KG5ldyBVaW50OEFycmF5KGEpKSksYj10aGlzLnYubGVuZ3RoKTooYj90aGlzLnY9YToodGhpcy52PW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSx0aGlzLnYuc2V0KGEpKSxiPWEubGVuZ3RoKSxhPVwiXCIpO3RoaXMuYT1iO3RoaXMuYj1hfTtPLnByb3RvdHlwZS50eXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07XG5PLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihhLGIpe2lmKHlhKCkmJnRoaXMudiBpbnN0YW5jZW9mIEJsb2IpcmV0dXJuIGE9JGQodGhpcy52LGEsYiksbnVsbD09PWE/bnVsbDpuZXcgTyhhKTthPW5ldyBVaW50OEFycmF5KHRoaXMudi5idWZmZXIsYSxiLWEpO3JldHVybiBuZXcgTyhhLCEwKX07XG52YXIgYWU9ZnVuY3Rpb24oYSl7dmFyIGI9W107QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYixhcmd1bWVudHMpO2lmKHlhKCkpcmV0dXJuIGI9cWIoYixmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIE8/YS52OmF9KSxuZXcgTyhaZC5hcHBseShudWxsLGIpKTt2YXIgYj1xYihiLGZ1bmN0aW9uKGEpe3JldHVybiB4YShhKT8kYShcInJhd1wiLGEpLmRhdGEuYnVmZmVyOmEudi5idWZmZXJ9KSxjPTA7b2IoYixmdW5jdGlvbihhKXtjKz1hLmJ5dGVMZW5ndGh9KTt2YXIgZD1uZXcgVWludDhBcnJheShjKSxlPTA7b2IoYixmdW5jdGlvbihhKXthPW5ldyBVaW50OEFycmF5KGEpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWRbZSsrXT1hW2JdfSk7cmV0dXJuIG5ldyBPKGQsITApfTt2YXIgYmU9ZnVuY3Rpb24oYSl7dGhpcy5iPUVjKGEpfTtiZS5wcm90b3R5cGUuYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2JlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt9O3ZhciBjZT1mdW5jdGlvbigpe3RoaXMuYT17fTt0aGlzLmI9TnVtYmVyLk1JTl9TQUZFX0lOVEVHRVJ9LGRlPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2RlbGV0ZSBlLmFbZF19dmFyIGQ9YS5iO2EuYisrO2EuYVtkXT1iO3ZhciBlPWE7Yi5hKCkudGhlbihjLGMpfSxlZT1mdW5jdGlvbihhKXtzYShhLmEsZnVuY3Rpb24oYSxjKXtjJiZjLmNhbmNlbCghMCl9KTthLmE9e319O3ZhciBmZT1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmE9YTt0aGlzLmc9bnVsbDtpZihudWxsIT09dGhpcy5hJiYoYT10aGlzLmEub3B0aW9ucyx5KGEpKSl7YT1hLnN0b3JhZ2VCdWNrZXR8fG51bGw7aWYobnVsbD09YSlhPW51bGw7ZWxzZXt2YXIgZT1udWxsO3RyeXtlPVNhKGEpfWNhdGNoKGYpe31pZihudWxsIT09ZSl7aWYoXCJcIiE9PWUucGF0aCl0aHJvdyBuZXcgdyhcImludmFsaWQtZGVmYXVsdC1idWNrZXRcIixcIkludmFsaWQgZGVmYXVsdCBidWNrZXQgJ1wiK2ErXCInLlwiKTthPWUuYnVja2V0fX10aGlzLmc9YX10aGlzLmw9Yjt0aGlzLmo9Yzt0aGlzLmk9ZDt0aGlzLmM9MTJFNDt0aGlzLmI9NkU0O3RoaXMuaD1uZXcgY2U7dGhpcy5mPSExfSxnZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWEuYSYmeShhLmEuSU5URVJOQUwpJiZ5KGEuYS5JTlRFUk5BTC5nZXRUb2tlbik/YS5hLklOVEVSTkFMLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4geShhKT9hLmFjY2Vzc1Rva2VuOlxubnVsbH0sZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pOkRjKG51bGwpfTtmZS5wcm90b3R5cGUuYnVja2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5mKXRocm93IHFhKCk7cmV0dXJuIHRoaXMuZ307dmFyIFI9ZnVuY3Rpb24oYSxiLGMpe2lmKGEuZilyZXR1cm4gbmV3IGJlKHFhKCkpO2I9YS5qKGIsYyxudWxsPT09YS5hKTtkZShhLmgsYik7cmV0dXJuIGJ9O3ZhciBoZT1mdW5jdGlvbihhLGIpe3JldHVybiBifSxTPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuYz1hO3RoaXMuYj1ifHxhO3RoaXMud3JpdGFibGU9ISFjO3RoaXMuYT1kfHxoZX0saWU9bnVsbCxqZT1mdW5jdGlvbigpe2lmKGllKXJldHVybiBpZTt2YXIgYT1bXTthLnB1c2gobmV3IFMoXCJidWNrZXRcIikpO2EucHVzaChuZXcgUyhcImdlbmVyYXRpb25cIikpO2EucHVzaChuZXcgUyhcIm1ldGFnZW5lcmF0aW9uXCIpKTthLnB1c2gobmV3IFMoXCJuYW1lXCIsXCJmdWxsUGF0aFwiLCEwKSk7dmFyIGI9bmV3IFMoXCJuYW1lXCIpO2IuYT1mdW5jdGlvbihhLGIpe3JldHVybiF4YShiKXx8Mj5iLmxlbmd0aD9iOkhiKGIpfTthLnB1c2goYik7Yj1uZXcgUyhcInNpemVcIik7Yi5hPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHkoYik/K2I6Yn07YS5wdXNoKGIpO2EucHVzaChuZXcgUyhcInRpbWVDcmVhdGVkXCIpKTthLnB1c2gobmV3IFMoXCJ1cGRhdGVkXCIpKTthLnB1c2gobmV3IFMoXCJtZDVIYXNoXCIsbnVsbCwhMCkpO1xuYS5wdXNoKG5ldyBTKFwiY2FjaGVDb250cm9sXCIsbnVsbCwhMCkpO2EucHVzaChuZXcgUyhcImNvbnRlbnREaXNwb3NpdGlvblwiLG51bGwsITApKTthLnB1c2gobmV3IFMoXCJjb250ZW50RW5jb2RpbmdcIixudWxsLCEwKSk7YS5wdXNoKG5ldyBTKFwiY29udGVudExhbmd1YWdlXCIsbnVsbCwhMCkpO2EucHVzaChuZXcgUyhcImNvbnRlbnRUeXBlXCIsbnVsbCwhMCkpO2EucHVzaChuZXcgUyhcIm1ldGFkYXRhXCIsXCJjdXN0b21NZXRhZGF0YVwiLCEwKSk7YS5wdXNoKG5ldyBTKFwiZG93bmxvYWRUb2tlbnNcIixcImRvd25sb2FkVVJMc1wiLCExLGZ1bmN0aW9uKGEsYil7aWYoISh4YShiKSYmMDxiLmxlbmd0aCkpcmV0dXJuW107dmFyIGM9ZW5jb2RlVVJJQ29tcG9uZW50O3JldHVybiBxYihiLnNwbGl0KFwiLFwiKSxmdW5jdGlvbihiKXt2YXIgZD1hLmZ1bGxQYXRoLGQ9XCJodHRwczovL2ZpcmViYXNlc3RvcmFnZS5nb29nbGVhcGlzLmNvbS92MFwiKyhcIi9iL1wiK2MoYS5idWNrZXQpK1wiL28vXCIrYyhkKSk7Yj1hYih7YWx0OlwibWVkaWFcIixcbnRva2VuOmJ9KTtyZXR1cm4gZCtifSl9KSk7cmV0dXJuIGllPWF9LGtlPWZ1bmN0aW9uKGEsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJyZWZcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIubChiLG5ldyBRYShhLmJ1Y2tldCxhLmZ1bGxQYXRoKSl9fSl9LGxlPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXt9LGQ9Yi5sZW5ndGgsZT0wO2U8ZDtlKyspe3ZhciBmPWJbZV07Zi53cml0YWJsZSYmKGNbZi5jXT1hW2YuYl0pfXJldHVybiBKU09OLnN0cmluZ2lmeShjKX0sbWU9ZnVuY3Rpb24oYSl7aWYoIWF8fFwib2JqZWN0XCIhPT10eXBlb2YgYSl0aHJvd1wiRXhwZWN0ZWQgTWV0YWRhdGEgb2JqZWN0LlwiO2Zvcih2YXIgYiBpbiBhKXt2YXIgYz1hW2JdO2lmKFwiY3VzdG9tTWV0YWRhdGFcIj09PWImJlwib2JqZWN0XCIhPT10eXBlb2YgYyl0aHJvd1wiRXhwZWN0ZWQgb2JqZWN0IGZvciAnY3VzdG9tTWV0YWRhdGEnIG1hcHBpbmcuXCI7fX07dmFyIFQ9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1iLmxlbmd0aCxlPWIubGVuZ3RoLGY9MDtmPGIubGVuZ3RoO2YrKylpZihiW2ZdLmIpe2Q9ZjticmVha31pZighKGQ8PWMubGVuZ3RoJiZjLmxlbmd0aDw9ZSkpdGhyb3cgZD09PWU/KGI9ZCxkPTE9PT1kP1wiYXJndW1lbnRcIjpcImFyZ3VtZW50c1wiKTooYj1cImJldHdlZW4gXCIrZCtcIiBhbmQgXCIrZSxkPVwiYXJndW1lbnRzXCIpLG5ldyB3KFwiaW52YWxpZC1hcmd1bWVudC1jb3VudFwiLFwiSW52YWxpZCBhcmd1bWVudCBjb3VudCBpbiBgXCIrYStcImA6IEV4cGVjdGVkIFwiK2IrXCIgXCIrZCtcIiwgcmVjZWl2ZWQgXCIrYy5sZW5ndGgrXCIuXCIpO2ZvcihmPTA7ZjxjLmxlbmd0aDtmKyspdHJ5e2JbZl0uYShjW2ZdKX1jYXRjaChnKXtpZihnIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgcGEoZixhLGcubWVzc2FnZSk7dGhyb3cgcGEoZixhLGcpO319LFU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3RoaXMuYT1mdW5jdGlvbihiKXtjLmImJiFuKGIpfHxhKGIpfTtcbnRoaXMuYj0hIWJ9LG5lPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2EoYyk7YihjKX19LG9lPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtpZighKFwic3RyaW5nXCI9PT10eXBlb2YgYXx8YSBpbnN0YW5jZW9mIFN0cmluZykpdGhyb3dcIkV4cGVjdGVkIHN0cmluZy5cIjt9dmFyIGQ7YT9kPW5lKGMsYSk6ZD1jO3JldHVybiBuZXcgVShkLGIpfSxwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVShmdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHlhKCkmJmEgaW5zdGFuY2VvZiBCbG9iKSl0aHJvd1wiRXhwZWN0ZWQgQmxvYiBvciBGaWxlLlwiO30pfSxxZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVShmdW5jdGlvbihhKXtpZighKChcIm51bWJlclwiPT09dHlwZW9mIGF8fGEgaW5zdGFuY2VvZiBOdW1iZXIpJiYwPD1hKSl0aHJvd1wiRXhwZWN0ZWQgYSBudW1iZXIgMCBvciBncmVhdGVyLlwiO30pfSxyZT1mdW5jdGlvbihhLFxuYil7cmV0dXJuIG5ldyBVKGZ1bmN0aW9uKGIpe2lmKCEobnVsbD09PWJ8fHkoYikmJmIgaW5zdGFuY2VvZiBPYmplY3QpKXRocm93XCJFeHBlY3RlZCBhbiBPYmplY3QuXCI7eShhKSYmYShiKX0sYil9LHNlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBVKGZ1bmN0aW9uKGEpe2lmKG51bGwhPT1hJiYhdChhKSl0aHJvd1wiRXhwZWN0ZWQgYSBGdW5jdGlvbi5cIjt9LCEwKX07dmFyIHRlPWZ1bmN0aW9uKGEpe2lmKCFhKXRocm93IG1hKCk7fSx1ZT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjLGQpe2E6e3ZhciBlO3RyeXtlPUpTT04ucGFyc2UoZCl9Y2F0Y2goaCl7Yz1udWxsO2JyZWFrIGF9Yz1lYShlKT9lOm51bGx9aWYobnVsbD09PWMpYz1udWxsO2Vsc2V7ZD17dHlwZTpcImZpbGVcIn07ZT1iLmxlbmd0aDtmb3IodmFyIGY9MDtmPGU7ZisrKXt2YXIgZz1iW2ZdO2RbZy5iXT1nLmEoZCxjW2cuY10pfWtlKGQsYSk7Yz1kfXRlKG51bGwhPT1jKTtyZXR1cm4gY319LHZlPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2I9NDAxPT09TihiKT9uZXcgdyhcInVuYXV0aGVudGljYXRlZFwiLFwiVXNlciBpcyBub3QgYXV0aGVudGljYXRlZCwgcGxlYXNlIGF1dGhlbnRpY2F0ZSB1c2luZyBGaXJlYmFzZSBBdXRoZW50aWNhdGlvbiBhbmQgdHJ5IGFnYWluLlwiKTo0MDI9PT1OKGIpP25ldyB3KFwicXVvdGEtZXhjZWVkZWRcIixcIlF1b3RhIGZvciBidWNrZXQgJ1wiK1xuYS5idWNrZXQrXCInIGV4Y2VlZGVkLCBwbGVhc2UgdmlldyBxdW90YSBvbiBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vcHJpY2luZy8uXCIpOjQwMz09PU4oYik/bmV3IHcoXCJ1bmF1dGhvcml6ZWRcIixcIlVzZXIgZG9lcyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyAnXCIrYS5wYXRoK1wiJy5cIik6YztiLnNlcnZlclJlc3BvbnNlPWMuc2VydmVyUmVzcG9uc2U7cmV0dXJuIGJ9fSx3ZT1mdW5jdGlvbihhKXt2YXIgYj12ZShhKTtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZT1iKGMsZCk7NDA0PT09TihjKSYmKGU9bmV3IHcoXCJvYmplY3Qtbm90LWZvdW5kXCIsXCJPYmplY3QgJ1wiK2EucGF0aCtcIicgZG9lcyBub3QgZXhpc3QuXCIpKTtlLnNlcnZlclJlc3BvbnNlPWQuc2VydmVyUmVzcG9uc2U7cmV0dXJuIGV9fSx4ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9UmEoYik7YT1uZXcgeChsYStcIi92MFwiK2QsXCJHRVRcIix1ZShhLGMpLGEuYyk7YS5hPXdlKGIpO3JldHVybiBhfSx5ZT1mdW5jdGlvbihhLFxuYil7dmFyIGM9UmEoYik7YT1uZXcgeChsYStcIi92MFwiK2MsXCJERUxFVEVcIixmdW5jdGlvbigpe30sYS5jKTthLmY9WzIwMCwyMDRdO2EuYT13ZShiKTtyZXR1cm4gYX0semU9ZnVuY3Rpb24oYSxiLGMpe2M9Yz90YShjKTp7fTtjLmZ1bGxQYXRoPWEucGF0aDtjLnNpemU9Yi5hO2MuY29udGVudFR5cGV8fChhPWImJmIudHlwZSgpfHxcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiLGMuY29udGVudFR5cGU9YSk7cmV0dXJuIGN9LEFlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9XCIvYi9cIitlbmNvZGVVUklDb21wb25lbnQoYi5idWNrZXQpK1wiL29cIixnPXtcIlgtR29vZy1VcGxvYWQtUHJvdG9jb2xcIjpcIm11bHRpcGFydFwifSxoO2g9XCJcIjtmb3IodmFyIG09MDsyPm07bSsrKWgrPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zbGljZSgyKTtnW1wiQ29udGVudC1UeXBlXCJdPVwibXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PVwiK2g7ZT16ZShiLGQsZSk7bT1sZShlLGMpO2Q9YWUoXCItLVwiK2grXCJcXHJcXG5Db250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcXHJcXG5cXHJcXG5cIitcbm0rXCJcXHJcXG4tLVwiK2grXCJcXHJcXG5Db250ZW50LVR5cGU6IFwiK2UuY29udGVudFR5cGUrXCJcXHJcXG5cXHJcXG5cIixkLFwiXFxyXFxuLS1cIitoK1wiLS1cIik7aWYobnVsbD09PWQpdGhyb3cgb2EoKTthPW5ldyB4KGxhK1wiL3YwXCIrZixcIlBPU1RcIix1ZShhLGMpLGEuYik7YS5iPXtuYW1lOmUuZnVsbFBhdGh9O2EuaGVhZGVycz1nO2EuYm9keT1kLnY7YS5hPXZlKGIpO3JldHVybiBhfSxCZT1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmE9YTt0aGlzLnRvdGFsPWI7dGhpcy5iPSEhYzt0aGlzLmM9ZHx8bnVsbH0sQ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYzt0cnl7Yz1UZChhLFwiWC1Hb29nLVVwbG9hZC1TdGF0dXNcIil9Y2F0Y2goZCl7dGUoITEpfXRlKHViKGJ8fFtcImFjdGl2ZVwiXSxjKSk7cmV0dXJuIGN9LERlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9XCIvYi9cIitlbmNvZGVVUklDb21wb25lbnQoYi5idWNrZXQpK1wiL29cIixnPXplKGIsZCxlKTtlPXtuYW1lOmcuZnVsbFBhdGh9O2Y9bGErXCIvdjBcIitmO2Q9e1wiWC1Hb29nLVVwbG9hZC1Qcm90b2NvbFwiOlwicmVzdW1hYmxlXCIsXG5cIlgtR29vZy1VcGxvYWQtQ29tbWFuZFwiOlwic3RhcnRcIixcIlgtR29vZy1VcGxvYWQtSGVhZGVyLUNvbnRlbnQtTGVuZ3RoXCI6ZC5hLFwiWC1Hb29nLVVwbG9hZC1IZWFkZXItQ29udGVudC1UeXBlXCI6Zy5jb250ZW50VHlwZSxcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwifTtjPWxlKGcsYyk7YT1uZXcgeChmLFwiUE9TVFwiLGZ1bmN0aW9uKGEpe0NlKGEpO3ZhciBiO3RyeXtiPVRkKGEsXCJYLUdvb2ctVXBsb2FkLVVSTFwiKX1jYXRjaChxKXt0ZSghMSl9dGUoeGEoYikpO3JldHVybiBifSxhLmIpO2EuYj1lO2EuaGVhZGVycz1kO2EuYm9keT1jO2EuYT12ZShiKTtyZXR1cm4gYX0sRWU9ZnVuY3Rpb24oYSxiLGMsZCl7YT1uZXcgeChjLFwiUE9TVFwiLGZ1bmN0aW9uKGEpe3ZhciBiPUNlKGEsW1wiYWN0aXZlXCIsXCJmaW5hbFwiXSksYzt0cnl7Yz1UZChhLFwiWC1Hb29nLVVwbG9hZC1TaXplLVJlY2VpdmVkXCIpfWNhdGNoKGgpe3RlKCExKX1hPWM7aXNGaW5pdGUoYSkmJlxuKGE9U3RyaW5nKGEpKTthPXIoYSk/L15cXHMqLT8weC9pLnRlc3QoYSk/cGFyc2VJbnQoYSwxNik6cGFyc2VJbnQoYSwxMCk6TmFOO3RlKCFpc05hTihhKSk7cmV0dXJuIG5ldyBCZShhLGQuYSxcImZpbmFsXCI9PT1iKX0sYS5iKTthLmhlYWRlcnM9e1wiWC1Hb29nLVVwbG9hZC1Db21tYW5kXCI6XCJxdWVyeVwifTthLmE9dmUoYik7YS5nPSExO3JldHVybiBhfSxGZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD1uZXcgQmUoMCwwKTtnPyhoLmE9Zy5hLGgudG90YWw9Zy50b3RhbCk6KGguYT0wLGgudG90YWw9ZC5hKTtpZihkLmEhPT1oLnRvdGFsKXRocm93IG5ldyB3KFwic2VydmVyLWZpbGUtd3Jvbmctc2l6ZVwiLFwiU2VydmVyIHJlY29yZGVkIGluY29ycmVjdCB1cGxvYWQgZmlsZSBzaXplLCBwbGVhc2UgcmV0cnkgdGhlIHVwbG9hZC5cIik7dmFyIG09Zz1oLnRvdGFsLWguYTswPGUmJihtPU1hdGgubWluKG0sZSkpO3ZhciBxPWguYTtlPXtcIlgtR29vZy1VcGxvYWQtQ29tbWFuZFwiOm09PT1cbmc/XCJ1cGxvYWQsIGZpbmFsaXplXCI6XCJ1cGxvYWRcIixcIlgtR29vZy1VcGxvYWQtT2Zmc2V0XCI6aC5hfTtnPWQuc2xpY2UocSxxK20pO2lmKG51bGw9PT1nKXRocm93IG9hKCk7Yz1uZXcgeChjLFwiUE9TVFwiLGZ1bmN0aW9uKGEsYyl7dmFyIGU9Q2UoYSxbXCJhY3RpdmVcIixcImZpbmFsXCJdKSxnPWguYSttLFE9ZC5hLHE7XCJmaW5hbFwiPT09ZT9xPXVlKGIsZikoYSxjKTpxPW51bGw7cmV0dXJuIG5ldyBCZShnLFEsXCJmaW5hbFwiPT09ZSxxKX0sYi5iKTtjLmhlYWRlcnM9ZTtjLmJvZHk9Zy52O2MuYz1udWxsO2MuYT12ZShhKTtjLmc9ITE7cmV0dXJuIGN9O3ZhciBXPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLkw9YTt0aGlzLmM9Yjt0aGlzLmo9Yzt0aGlzLmY9ZTt0aGlzLmg9Znx8bnVsbDt0aGlzLm09ZDt0aGlzLmw9MDt0aGlzLko9dGhpcy5zPSExO3RoaXMuRj1bXTt0aGlzLlo9MjYyMTQ0PHRoaXMuZi5hO3RoaXMuYj1cInJ1bm5pbmdcIjt0aGlzLmE9dGhpcy51PXRoaXMuZz1udWxsO3RoaXMuaT0xO3ZhciBnPXRoaXM7dGhpcy5WPWZ1bmN0aW9uKGEpe2cuYT1udWxsO2cuaT0xO1wic3RvcmFnZS9jYW5jZWxlZFwiPT09YS5jb2RlPyhnLnM9ITAsR2UoZykpOihnLmc9YSxWKGcsXCJlcnJvclwiKSl9O3RoaXMuWT1mdW5jdGlvbihhKXtnLmE9bnVsbDtcInN0b3JhZ2UvY2FuY2VsZWRcIj09PWEuY29kZT9HZShnKTooZy5nPWEsVihnLFwiZXJyb3JcIikpfTt0aGlzLkI9dGhpcy5vPW51bGw7dGhpcy5HPW5ldyBHKGZ1bmN0aW9uKGEsYil7Zy5vPWE7Zy5CPWI7SGUoZyl9KTt0aGlzLkcudGhlbihudWxsLGZ1bmN0aW9uKCl7fSl9LEhlPWZ1bmN0aW9uKGEpe1wicnVubmluZ1wiPT09XG5hLmImJm51bGw9PT1hLmEmJihhLlo/bnVsbD09PWEudT9JZShhKTphLnM/SmUoYSk6YS5KP0tlKGEpOkxlKGEpOk1lKGEpKX0sTmU9ZnVuY3Rpb24oYSxiKXtnZShhLmMpLnRoZW4oZnVuY3Rpb24oYyl7c3dpdGNoKGEuYil7Y2FzZSBcInJ1bm5pbmdcIjpiKGMpO2JyZWFrO2Nhc2UgXCJjYW5jZWxpbmdcIjpWKGEsXCJjYW5jZWxlZFwiKTticmVhaztjYXNlIFwicGF1c2luZ1wiOlYoYSxcInBhdXNlZFwiKX19KX0sSWU9ZnVuY3Rpb24oYSl7TmUoYSxmdW5jdGlvbihiKXt2YXIgYz1EZShhLmMsYS5qLGEubSxhLmYsYS5oKTthLmE9UihhLmMsYyxiKTthLmEuYSgpLnRoZW4oZnVuY3Rpb24oYil7YS5hPW51bGw7YS51PWI7YS5zPSExO0dlKGEpfSx0aGlzLlYpfSl9LEplPWZ1bmN0aW9uKGEpe3ZhciBiPWEudTtOZShhLGZ1bmN0aW9uKGMpe3ZhciBkPUVlKGEuYyxhLmosYixhLmYpO2EuYT1SKGEuYyxkLGMpO2EuYS5hKCkudGhlbihmdW5jdGlvbihiKXthLmE9bnVsbDtPZShhLGIuYSk7YS5zPSExO2IuYiYmXG4oYS5KPSEwKTtHZShhKX0sYS5WKX0pfSxMZT1mdW5jdGlvbihhKXt2YXIgYj0yNjIxNDQqYS5pLGM9bmV3IEJlKGEubCxhLmYuYSksZD1hLnU7TmUoYSxmdW5jdGlvbihlKXt2YXIgZjt0cnl7Zj1GZShhLmosYS5jLGQsYS5mLGIsYS5tLGMpfWNhdGNoKGcpe2EuZz1nO1YoYSxcImVycm9yXCIpO3JldHVybn1hLmE9UihhLmMsZixlKTthLmEuYSgpLnRoZW4oZnVuY3Rpb24oYil7MzM1NTQ0MzI+MjYyMTQ0KmEuaSYmKGEuaSo9Mik7YS5hPW51bGw7T2UoYSxiLmEpO2IuYj8oYS5oPWIuYyxWKGEsXCJzdWNjZXNzXCIpKTpHZShhKX0sYS5WKX0pfSxLZT1mdW5jdGlvbihhKXtOZShhLGZ1bmN0aW9uKGIpe3ZhciBjPXhlKGEuYyxhLmosYS5tKTthLmE9UihhLmMsYyxiKTthLmEuYSgpLnRoZW4oZnVuY3Rpb24oYil7YS5hPW51bGw7YS5oPWI7VihhLFwic3VjY2Vzc1wiKX0sYS5ZKX0pfSxNZT1mdW5jdGlvbihhKXtOZShhLGZ1bmN0aW9uKGIpe3ZhciBjPUFlKGEuYyxhLmosYS5tLGEuZixhLmgpO2EuYT1cblIoYS5jLGMsYik7YS5hLmEoKS50aGVuKGZ1bmN0aW9uKGIpe2EuYT1udWxsO2EuaD1iO09lKGEsYS5mLmEpO1YoYSxcInN1Y2Nlc3NcIil9LGEuVil9KX0sT2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmw7YS5sPWI7YS5sPmMmJlBlKGEpfSxWPWZ1bmN0aW9uKGEsYil7aWYoYS5iIT09Yilzd2l0Y2goYil7Y2FzZSBcImNhbmNlbGluZ1wiOmEuYj1iO251bGwhPT1hLmEmJmEuYS5jYW5jZWwoKTticmVhaztjYXNlIFwicGF1c2luZ1wiOmEuYj1iO251bGwhPT1hLmEmJmEuYS5jYW5jZWwoKTticmVhaztjYXNlIFwicnVubmluZ1wiOnZhciBjPVwicGF1c2VkXCI9PT1hLmI7YS5iPWI7YyYmKFBlKGEpLEhlKGEpKTticmVhaztjYXNlIFwicGF1c2VkXCI6YS5iPWI7UGUoYSk7YnJlYWs7Y2FzZSBcImNhbmNlbGVkXCI6YS5nPW5hKCk7YS5iPWI7UGUoYSk7YnJlYWs7Y2FzZSBcImVycm9yXCI6YS5iPWI7UGUoYSk7YnJlYWs7Y2FzZSBcInN1Y2Nlc3NcIjphLmI9YixQZShhKX19LEdlPWZ1bmN0aW9uKGEpe3N3aXRjaChhLmIpe2Nhc2UgXCJwYXVzaW5nXCI6VihhLFxuXCJwYXVzZWRcIik7YnJlYWs7Y2FzZSBcImNhbmNlbGluZ1wiOlYoYSxcImNhbmNlbGVkXCIpO2JyZWFrO2Nhc2UgXCJydW5uaW5nXCI6SGUoYSl9fTtXLnByb3RvdHlwZS5DPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBKHRoaXMubCx0aGlzLmYuYSx3YSh0aGlzLmIpLHRoaXMuaCx0aGlzLHRoaXMuTCl9O1xuVy5wcm90b3R5cGUuTz1mdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe3RyeXtnKGEpO3JldHVybn1jYXRjaChQKXt9dHJ5e2lmKGgoYSksIShuKGEubmV4dCl8fG4oYS5lcnJvcil8fG4oYS5jb21wbGV0ZSkpKXRocm93XCJcIjt9Y2F0Y2goUCl7dGhyb3dcIkV4cGVjdGVkIGEgZnVuY3Rpb24gb3IgYW4gT2JqZWN0IHdpdGggb25lIG9mIGBuZXh0YCwgYGVycm9yYCwgYGNvbXBsZXRlYCBwcm9wZXJ0aWVzLlwiO319ZnVuY3Rpb24gZihhKXtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe251bGwhPT1hJiZUKFwib25cIixhLGFyZ3VtZW50cyk7dmFyIGU9bmV3IFRhKGIsYyxkKTtRZShtLGUpO3JldHVybiBmdW5jdGlvbigpe3diKG0uRixlKX19fXZhciBnPXNlKCkuYSxoPXJlKG51bGwsITApLmE7VChcIm9uXCIsW29lKGZ1bmN0aW9uKCl7aWYoXCJzdGF0ZV9jaGFuZ2VkXCIhPT1hKXRocm93XCJFeHBlY3RlZCBvbmUgb2YgdGhlIGV2ZW50IHR5cGVzOiBbc3RhdGVfY2hhbmdlZF0uXCI7fSkscmUoZSwhMCksXG5zZSgpLHNlKCldLGFyZ3VtZW50cyk7dmFyIG09dGhpcyxxPVtyZShmdW5jdGlvbihhKXtpZihudWxsPT09YSl0aHJvd1wiRXhwZWN0ZWQgYSBmdW5jdGlvbiBvciBhbiBPYmplY3Qgd2l0aCBvbmUgb2YgYG5leHRgLCBgZXJyb3JgLCBgY29tcGxldGVgIHByb3BlcnRpZXMuXCI7ZShhKX0pLHNlKCksc2UoKV07cmV0dXJuIG4oYil8fG4oYyl8fG4oZCk/ZihudWxsKShiLGMsZCk6ZihxKX07Vy5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLkcudGhlbihhLGIpfTtcbnZhciBRZT1mdW5jdGlvbihhLGIpe2EuRi5wdXNoKGIpO1JlKGEsYil9LFBlPWZ1bmN0aW9uKGEpe1NlKGEpO3ZhciBiPXhiKGEuRik7b2IoYixmdW5jdGlvbihiKXtSZShhLGIpfSl9LFNlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPT1hLm8pe3ZhciBiPSEwO3N3aXRjaCh3YShhLmIpKXtjYXNlIFwic3VjY2Vzc1wiOlJjKGEuby5iaW5kKG51bGwsYS5DKCkpKSgpO2JyZWFrO2Nhc2UgXCJjYW5jZWxlZFwiOmNhc2UgXCJlcnJvclwiOlJjKGEuQi5iaW5kKG51bGwsYS5nKSkoKTticmVhaztkZWZhdWx0OmI9ITF9YiYmKGEubz1udWxsLGEuQj1udWxsKX19LFJlPWZ1bmN0aW9uKGEsYil7c3dpdGNoKHdhKGEuYikpe2Nhc2UgXCJydW5uaW5nXCI6Y2FzZSBcInBhdXNlZFwiOm51bGwhPT1iLm5leHQmJlJjKGIubmV4dC5iaW5kKGIsYS5DKCkpKSgpO2JyZWFrO2Nhc2UgXCJzdWNjZXNzXCI6bnVsbCE9PWIuYiYmUmMoYi5iLmJpbmQoYikpKCk7YnJlYWs7Y2FzZSBcImNhbmNlbGVkXCI6Y2FzZSBcImVycm9yXCI6bnVsbCE9PVxuYi5hJiZSYyhiLmEuYmluZChiLGEuZykpKCk7YnJlYWs7ZGVmYXVsdDpudWxsIT09Yi5hJiZSYyhiLmEuYmluZChiLGEuZykpKCl9fTtXLnByb3RvdHlwZS5SPWZ1bmN0aW9uKCl7VChcInJlc3VtZVwiLFtdLGFyZ3VtZW50cyk7dmFyIGE9XCJwYXVzZWRcIj09PXRoaXMuYnx8XCJwYXVzaW5nXCI9PT10aGlzLmI7YSYmVih0aGlzLFwicnVubmluZ1wiKTtyZXR1cm4gYX07Vy5wcm90b3R5cGUuUD1mdW5jdGlvbigpe1QoXCJwYXVzZVwiLFtdLGFyZ3VtZW50cyk7dmFyIGE9XCJydW5uaW5nXCI9PT10aGlzLmI7YSYmVih0aGlzLFwicGF1c2luZ1wiKTtyZXR1cm4gYX07Vy5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7VChcImNhbmNlbFwiLFtdLGFyZ3VtZW50cyk7dmFyIGE9XCJydW5uaW5nXCI9PT10aGlzLmJ8fFwicGF1c2luZ1wiPT09dGhpcy5iO2EmJlYodGhpcyxcImNhbmNlbGluZ1wiKTtyZXR1cm4gYX07dmFyIFg9ZnVuY3Rpb24oYSxiKXt0aGlzLmI9YTtpZihiKXRoaXMuYT1iIGluc3RhbmNlb2YgUWE/YjpTYShiKTtlbHNlIGlmKGE9YS5idWNrZXQoKSxudWxsIT09YSl0aGlzLmE9bmV3IFFhKGEsXCJcIik7ZWxzZSB0aHJvdyBuZXcgdyhcIm5vLWRlZmF1bHQtYnVja2V0XCIsXCJObyBkZWZhdWx0IGJ1Y2tldCBmb3VuZC4gRGlkIHlvdSBzZXQgdGhlICdzdG9yYWdlQnVja2V0JyBwcm9wZXJ0eSB3aGVuIGluaXRpYWxpemluZyB0aGUgYXBwP1wiKTt9O1gucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7VChcInRvU3RyaW5nXCIsW10sYXJndW1lbnRzKTtyZXR1cm5cImdzOi8vXCIrdGhpcy5hLmJ1Y2tldCtcIi9cIit0aGlzLmEucGF0aH07dmFyIFRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBYKGEsYil9O2s9WC5wcm90b3R5cGU7XG5rLmZhPWZ1bmN0aW9uKGEpe1QoXCJjaGlsZFwiLFtvZSgpXSxhcmd1bWVudHMpO3ZhciBiPUdiKHRoaXMuYS5wYXRoLGEpO3JldHVybiBUZSh0aGlzLmIsbmV3IFFhKHRoaXMuYS5idWNrZXQsYikpfTtrLkRhPWZ1bmN0aW9uKCl7dmFyIGE7YT10aGlzLmEucGF0aDtpZigwPT1hLmxlbmd0aClhPW51bGw7ZWxzZXt2YXIgYj1hLmxhc3RJbmRleE9mKFwiL1wiKTthPS0xPT09Yj9cIlwiOmEuc2xpY2UoMCxiKX1yZXR1cm4gbnVsbD09PWE/bnVsbDpUZSh0aGlzLmIsbmV3IFFhKHRoaXMuYS5idWNrZXQsYSkpfTtrLkZhPWZ1bmN0aW9uKCl7cmV0dXJuIFRlKHRoaXMuYixuZXcgUWEodGhpcy5hLmJ1Y2tldCxcIlwiKSl9O2subWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmJ1Y2tldH07ay55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucGF0aH07ay5DYT1mdW5jdGlvbigpe3JldHVybiBIYih0aGlzLmEucGF0aCl9O2suSGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLml9O1xuay5yYT1mdW5jdGlvbihhLGIpe1QoXCJwdXRcIixbcGUoKSxuZXcgVShtZSwhMCldLGFyZ3VtZW50cyk7VWUodGhpcyxcInB1dFwiKTtyZXR1cm4gbmV3IFcodGhpcyx0aGlzLmIsdGhpcy5hLGplKCksbmV3IE8oYSksYil9O2suc2E9ZnVuY3Rpb24oYSxiLGMpe1QoXCJwdXRTdHJpbmdcIixbb2UoKSxvZShWYSwhMCksbmV3IFUobWUsITApXSxhcmd1bWVudHMpO1VlKHRoaXMsXCJwdXRTdHJpbmdcIik7dmFyIGQ9JGEoeShiKT9iOlwicmF3XCIsYSksZT1jP3RhKGMpOnt9OyF5KGUuY29udGVudFR5cGUpJiZ5KGQuYSkmJihlLmNvbnRlbnRUeXBlPWQuYSk7cmV0dXJuIG5ldyBXKHRoaXMsdGhpcy5iLHRoaXMuYSxqZSgpLG5ldyBPKGQuZGF0YSwhMCksZSl9O1xuay5kZWxldGU9ZnVuY3Rpb24oKXtUKFwiZGVsZXRlXCIsW10sYXJndW1lbnRzKTtVZSh0aGlzLFwiZGVsZXRlXCIpO3ZhciBhPXRoaXM7cmV0dXJuIGdlKHRoaXMuYikudGhlbihmdW5jdGlvbihiKXt2YXIgYz15ZShhLmIsYS5hKTtyZXR1cm4gUihhLmIsYyxiKS5hKCl9KX07ay5nYT1mdW5jdGlvbigpe1QoXCJnZXRNZXRhZGF0YVwiLFtdLGFyZ3VtZW50cyk7VWUodGhpcyxcImdldE1ldGFkYXRhXCIpO3ZhciBhPXRoaXM7cmV0dXJuIGdlKHRoaXMuYikudGhlbihmdW5jdGlvbihiKXt2YXIgYz14ZShhLmIsYS5hLGplKCkpO3JldHVybiBSKGEuYixjLGIpLmEoKX0pfTtcbmsudGE9ZnVuY3Rpb24oYSl7VChcInVwZGF0ZU1ldGFkYXRhXCIsW25ldyBVKG1lLHZvaWQgMCldLGFyZ3VtZW50cyk7VWUodGhpcyxcInVwZGF0ZU1ldGFkYXRhXCIpO3ZhciBiPXRoaXM7cmV0dXJuIGdlKHRoaXMuYikudGhlbihmdW5jdGlvbihjKXt2YXIgZD1iLmIsZT1iLmEsZj1hLGc9amUoKSxoPVJhKGUpLGg9bGErXCIvdjBcIitoLGY9bGUoZixnKSxkPW5ldyB4KGgsXCJQQVRDSFwiLHVlKGQsZyksZC5jKTtkLmhlYWRlcnM9e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCJ9O2QuYm9keT1mO2QuYT13ZShlKTtyZXR1cm4gUihiLmIsZCxjKS5hKCl9KX07XG5rLnFhPWZ1bmN0aW9uKCl7VChcImdldERvd25sb2FkVVJMXCIsW10sYXJndW1lbnRzKTtVZSh0aGlzLFwiZ2V0RG93bmxvYWRVUkxcIik7cmV0dXJuIHRoaXMuZ2EoKS50aGVuKGZ1bmN0aW9uKGEpe2E9YS5kb3dubG9hZFVSTHNbMF07aWYoeShhKSlyZXR1cm4gYTt0aHJvdyBuZXcgdyhcIm5vLWRvd25sb2FkLXVybFwiLFwiVGhlIGdpdmVuIGZpbGUgZG9lcyBub3QgaGF2ZSBhbnkgZG93bmxvYWQgVVJMcy5cIik7fSl9O3ZhciBVZT1mdW5jdGlvbihhLGIpe2lmKFwiXCI9PT1hLmEucGF0aCl0aHJvdyBuZXcgdyhcImludmFsaWQtcm9vdC1vcGVyYXRpb25cIixcIlRoZSBvcGVyYXRpb24gJ1wiK2IrXCInIGNhbm5vdCBiZSBwZXJmb3JtZWQgb24gYSByb290IHJlZmVyZW5jZSwgY3JlYXRlIGEgbm9uLXJvb3QgcmVmZXJlbmNlIHVzaW5nIGNoaWxkLCBzdWNoIGFzIC5jaGlsZCgnZmlsZS5wbmcnKS5cIik7fTt2YXIgWT1mdW5jdGlvbihhKXt0aGlzLmE9bmV3IGZlKGEsZnVuY3Rpb24oYSxjKXtyZXR1cm4gbmV3IFgoYSxjKX0sWWQsdGhpcyk7dGhpcy5iPWE7dGhpcy5jPW5ldyBWZSh0aGlzKX07az1ZLnByb3RvdHlwZTtrLnVhPWZ1bmN0aW9uKGEpe1QoXCJyZWZcIixbb2UoZnVuY3Rpb24oYSl7aWYoL15bQS1aYS16XSs6XFwvXFwvLy50ZXN0KGEpKXRocm93XCJFeHBlY3RlZCBjaGlsZCBwYXRoIGJ1dCBnb3QgYSBVUkwsIHVzZSByZWZGcm9tVVJMIGluc3RlYWQuXCI7fSwhMCldLGFyZ3VtZW50cyk7dmFyIGI9bmV3IFgodGhpcy5hKTtyZXR1cm4gbihhKT9iLmZhKGEpOmJ9O1xuay52YT1mdW5jdGlvbihhKXtUKFwicmVmRnJvbVVSTFwiLFtvZShmdW5jdGlvbihhKXtpZighL15bQS1aYS16XSs6XFwvXFwvLy50ZXN0KGEpKXRocm93XCJFeHBlY3RlZCBmdWxsIFVSTCBidXQgZ290IGEgY2hpbGQgcGF0aCwgdXNlIHJlZiBpbnN0ZWFkLlwiO3RyeXtTYShhKX1jYXRjaChjKXt0aHJvd1wiRXhwZWN0ZWQgdmFsaWQgZnVsbCBVUkwgYnV0IGdvdCBhbiBpbnZhbGlkIG9uZS5cIjt9fSwhMSldLGFyZ3VtZW50cyk7cmV0dXJuIG5ldyBYKHRoaXMuYSxhKX07ay5BYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuYn07ay54YT1mdW5jdGlvbihhKXtUKFwic2V0TWF4VXBsb2FkUmV0cnlUaW1lXCIsW3FlKCldLGFyZ3VtZW50cyk7dGhpcy5hLmI9YX07ay56YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuY307ay53YT1mdW5jdGlvbihhKXtUKFwic2V0TWF4T3BlcmF0aW9uUmV0cnlUaW1lXCIsW3FlKCldLGFyZ3VtZW50cyk7dGhpcy5hLmM9YX07ay5sYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O1xuay5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O3ZhciBWZT1mdW5jdGlvbihhKXt0aGlzLmE9YX07VmUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYS5hO2EuZj0hMDthLmE9bnVsbDtlZShhLmgpfTt2YXIgWj1mdW5jdGlvbihhLGIsYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Z2V0OmN9KX07WC5wcm90b3R5cGUudG9TdHJpbmc9WC5wcm90b3R5cGUudG9TdHJpbmc7WC5wcm90b3R5cGUuY2hpbGQ9WC5wcm90b3R5cGUuZmE7WC5wcm90b3R5cGUucHV0PVgucHJvdG90eXBlLnJhO1gucHJvdG90eXBlLnB1dFN0cmluZz1YLnByb3RvdHlwZS5zYTtYLnByb3RvdHlwZVtcImRlbGV0ZVwiXT1YLnByb3RvdHlwZS5kZWxldGU7WC5wcm90b3R5cGUuZ2V0TWV0YWRhdGE9WC5wcm90b3R5cGUuZ2E7WC5wcm90b3R5cGUudXBkYXRlTWV0YWRhdGE9WC5wcm90b3R5cGUudGE7WC5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkw9WC5wcm90b3R5cGUucWE7WihYLnByb3RvdHlwZSxcInBhcmVudFwiLFgucHJvdG90eXBlLkRhKTtaKFgucHJvdG90eXBlLFwicm9vdFwiLFgucHJvdG90eXBlLkZhKTtaKFgucHJvdG90eXBlLFwiYnVja2V0XCIsWC5wcm90b3R5cGUubWEpO1xuWihYLnByb3RvdHlwZSxcImZ1bGxQYXRoXCIsWC5wcm90b3R5cGUueWEpO1ooWC5wcm90b3R5cGUsXCJuYW1lXCIsWC5wcm90b3R5cGUuQ2EpO1ooWC5wcm90b3R5cGUsXCJzdG9yYWdlXCIsWC5wcm90b3R5cGUuSGEpO1kucHJvdG90eXBlLnJlZj1ZLnByb3RvdHlwZS51YTtZLnByb3RvdHlwZS5yZWZGcm9tVVJMPVkucHJvdG90eXBlLnZhO1ooWS5wcm90b3R5cGUsXCJtYXhPcGVyYXRpb25SZXRyeVRpbWVcIixZLnByb3RvdHlwZS56YSk7WS5wcm90b3R5cGUuc2V0TWF4T3BlcmF0aW9uUmV0cnlUaW1lPVkucHJvdG90eXBlLndhO1ooWS5wcm90b3R5cGUsXCJtYXhVcGxvYWRSZXRyeVRpbWVcIixZLnByb3RvdHlwZS5BYSk7WS5wcm90b3R5cGUuc2V0TWF4VXBsb2FkUmV0cnlUaW1lPVkucHJvdG90eXBlLnhhO1ooWS5wcm90b3R5cGUsXCJhcHBcIixZLnByb3RvdHlwZS5sYSk7WihZLnByb3RvdHlwZSxcIklOVEVSTkFMXCIsWS5wcm90b3R5cGUua2EpO1ZlLnByb3RvdHlwZVtcImRlbGV0ZVwiXT1WZS5wcm90b3R5cGUuZGVsZXRlO1xuWS5wcm90b3R5cGUuY2FwaV89ZnVuY3Rpb24oYSl7bGE9YX07Vy5wcm90b3R5cGUub249Vy5wcm90b3R5cGUuTztXLnByb3RvdHlwZS5yZXN1bWU9Vy5wcm90b3R5cGUuUjtXLnByb3RvdHlwZS5wYXVzZT1XLnByb3RvdHlwZS5QO1cucHJvdG90eXBlLmNhbmNlbD1XLnByb3RvdHlwZS5jYW5jZWw7WihXLnByb3RvdHlwZSxcInNuYXBzaG90XCIsVy5wcm90b3R5cGUuQyk7WihBLnByb3RvdHlwZSxcImJ5dGVzVHJhbnNmZXJyZWRcIixBLnByb3RvdHlwZS5uYSk7WihBLnByb3RvdHlwZSxcInRvdGFsQnl0ZXNcIixBLnByb3RvdHlwZS5KYSk7WihBLnByb3RvdHlwZSxcInN0YXRlXCIsQS5wcm90b3R5cGUuR2EpO1ooQS5wcm90b3R5cGUsXCJtZXRhZGF0YVwiLEEucHJvdG90eXBlLkJhKTtaKEEucHJvdG90eXBlLFwiZG93bmxvYWRVUkxcIixBLnByb3RvdHlwZS5wYSk7WihBLnByb3RvdHlwZSxcInRhc2tcIixBLnByb3RvdHlwZS5JYSk7WihBLnByb3RvdHlwZSxcInJlZlwiLEEucHJvdG90eXBlLkVhKTtcbnVhLlNUQVRFX0NIQU5HRUQ9XCJzdGF0ZV9jaGFuZ2VkXCI7dmEuUlVOTklORz1cInJ1bm5pbmdcIjt2YS5QQVVTRUQ9XCJwYXVzZWRcIjt2YS5TVUNDRVNTPVwic3VjY2Vzc1wiO3ZhLkNBTkNFTEVEPVwiY2FuY2VsZWRcIjt2YS5FUlJPUj1cImVycm9yXCI7VWEuUkFXPVwicmF3XCI7VWEuQkFTRTY0PVwiYmFzZTY0XCI7VWEuQkFTRTY0VVJMPVwiYmFzZTY0dXJsXCI7VWEuREFUQV9VUkw9XCJkYXRhX3VybFwiO0cucHJvdG90eXBlW1wiY2F0Y2hcIl09Ry5wcm90b3R5cGUubDtHLnByb3RvdHlwZS50aGVuPUcucHJvdG90eXBlLnRoZW47XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBuZXcgWShhKX12YXIgYj17VGFza1N0YXRlOnZhLFRhc2tFdmVudDp1YSxTdHJpbmdGb3JtYXQ6VWEsU3RvcmFnZTpZLFJlZmVyZW5jZTpYfTtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGZpcmViYXNlKWZpcmViYXNlLklOVEVSTkFMLnJlZ2lzdGVyU2VydmljZShcInN0b3JhZ2VcIixhLGIpO2Vsc2UgdGhyb3cgRXJyb3IoXCJDYW5ub3QgaW5zdGFsbCBGaXJlYmFzZSBTdG9yYWdlIC0gYmUgc3VyZSB0byBsb2FkIGZpcmViYXNlLWFwcC5qcyBmaXJzdC5cIik7fSkoKTt9KSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmaXJlYmFzZS5zdG9yYWdlO1xuIl19
